/*! For license information please see DashboardPage.63a9c1d648180e457252.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"1uty":function(e,t,n){"use strict";function r(e){return e._erd}e.exports={initState:function(e){return e._erd={},r(e)},getState:r,cleanState:function(e){delete e._erd}}},"3ISj":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("p1x6"),l=n("bcUi"),c=n("kDLi"),s=n("aWce"),u=n("NXk7"),f=n("GkHB"),p=n("Csm0"),d=n("Y8YH");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){g(a,r,o,i,l,"next",e)}function l(e){g(a,r,o,i,l,"throw",e)}i(void 0)}))}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=function(e){var t=e.link,n=e.linkInfo,a=Object(r.useRef)(null),i=w(Object(r.useState)(0),2),l=i[0],s=i[1],u=E(e,l);return t.asDropdown?o.a.createElement(S,{link:t,key:"dashlinks-dropdown","aria-label":p.selectors.components.DashboardLinks.dropDown},o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{onClick:function(){return s(Date.now())},className:"gf-form-label gf-form-label--dashlink","data-placement":"bottom","data-toggle":"dropdown"},o.a.createElement(c.Icon,{name:"bars",style:{marginRight:"4px"}}),o.a.createElement("span",null,n.title)),o.a.createElement("ul",{className:"dropdown-menu ".concat(x(a.current)),role:"menu",ref:a},u.length>0&&u.map((function(e,n){return o.a.createElement("li",{key:"dashlinks-dropdown-item-".concat(e.id,"-").concat(n)},o.a.createElement("a",{href:e.url,target:t.targetBlank?"_blank":void 0,"aria-label":p.selectors.components.DashboardLinks.link},e.title))}))))):o.a.createElement(o.a.Fragment,null,u.length>0&&u.map((function(e,n){return o.a.createElement(S,{link:t,key:"dashlinks-list-item-".concat(e.id,"-").concat(n),"aria-label":p.selectors.components.DashboardLinks.container},o.a.createElement("a",{className:"gf-form-label gf-form-label--dashlink",href:e.url,target:t.targetBlank?"_blank":void 0,"aria-label":p.selectors.components.DashboardLinks.link},o.a.createElement(c.Icon,{name:"apps",style:{marginRight:"4px"}}),o.a.createElement("span",null,e.title)))})))},S=function(e){var t=e.link,n=e.children,r=O(e,["link","children"]);return o.a.createElement("div",v({},r,{className:"gf-form"}),t.tooltip&&o.a.createElement(c.Tooltip,{content:t.tooltip},n),!t.tooltip&&o.a.createElement(o.a.Fragment,null,n))},E=function(e,t){var n=e.link,r=e.dashboardId,o=n.tags,a=Object(d.a)((function(){return function(e){return P.apply(this,arguments)}(o)}),[o,t]);return a.value?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{getLinkSrv:f.b,sanitize:s.c,sanitizeUrl:s.d};return n.filter((function(t){return t.id!==e})).map((function(e){var n=e.id,o=r.sanitize(e.title),a=r.getLinkSrv().getLinkUrl(m({},t,{url:e.url}));return{id:n,title:o,url:r.sanitizeUrl(a)}}))}(r,n,a.value):[]};function P(){return(P=y(regeneratorRuntime.mark((function e(t){var n,r,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{getBackendSrv:u.c},r=100,e.next=4,n.getBackendSrv().search({tag:t,limit:r});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){if(!e)return"invisible";var t=e.parentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return 0===n.width?"invisible":t.left+n.width+10>window.innerWidth?"pull-left":"pull-right"}var D=n("UrM8"),C=n("Zcyb"),k=n("GQ3c");function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _=function(e){var t=e.dashboard,n=e.links;if(!n.length)return null;var a=T(Object(r.useReducer)((function(e){return e+1}),0),2)[1];return Object(C.a)((function(){return t.on(k.CoreEvents.timeRangeUpdated,a),function(){t.off(k.CoreEvents.timeRangeUpdated,a)}})),o.a.createElement(o.a.Fragment,null,n.map((function(e,n){var r=Object(f.b)().getAnchorInfo(e),a="".concat(e.title,"-$").concat(n);if("dashboards"===e.type)return o.a.createElement(j,{key:a,link:e,linkInfo:r,dashboardId:t.id});var i=o.a.createElement("a",{className:"gf-form-label gf-form-label--dashlink",href:Object(s.d)(r.href),target:e.targetBlank?"_blank":void 0,"aria-label":p.selectors.components.DashboardLinks.link},o.a.createElement(c.Icon,{name:D.a[e.icon],style:{marginRight:"4px"}}),o.a.createElement("span",null,Object(s.c)(r.title)));return o.a.createElement("div",{key:a,className:"gf-form","aria-label":p.selectors.components.DashboardLinks.container},e.tooltip?o.a.createElement(c.Tooltip,{content:r.tooltip},i):i)})))};function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N=c.LegacyForms.Switch,z=function(e){var t=e.annotations,n=e.onAnnotationChanged,a=R(Object(r.useState)([]),2),i=a[0],l=a[1];return Object(r.useEffect)((function(){l(t.filter((function(e){return!0!==e.hide})))}),[t]),0===i.length?null:o.a.createElement(o.a.Fragment,null,i.map((function(e){return o.a.createElement("div",{key:e.name,className:e.enable?"submenu-item":"submenu-item annotation-disabled"},o.a.createElement(N,{label:e.name,className:"gf-form",checked:e.enable,onChange:function(){return n(e)}}))})))},I=n("VBuW");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return U}));var W=function(e){function t(){var e,n;A(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=F(this,(e=H(t)).call.apply(e,[this].concat(o)))).onAnnotationStateChanged=function(e){for(var t=0;t<n.props.dashboard.annotations.list.length;t++){var r=n.props.dashboard.annotations.list[t];if(r.name===e.name){r.enable=!r.enable;break}}n.props.dashboard.startRefresh(),n.forceUpdate()},n.isSubMenuVisible=function(){return n.props.dashboard.links.length>0||(n.props.variables.filter((function(e){return e.hide!==l.a.hideVariable})).length>0||n.props.dashboard.annotations.list.filter((function(e){return!0!==e.hide})).length>0)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.dashboard,n=e.variables,r=e.links,a=e.annotations;return this.isSubMenuVisible()?o.a.createElement("div",{className:"submenu-controls"},o.a.createElement(I.a,{variables:n}),o.a.createElement(z,{annotations:a,onAnnotationChanged:this.onAnnotationStateChanged}),o.a.createElement("div",{className:"gf-form gf-form--grow"}),t&&o.a.createElement(_,{dashboard:t,links:r}),o.a.createElement("div",{className:"clearfix"})):null}}])&&L(n.prototype,r),a&&L(n,a),t}(r.PureComponent),U=Object(a.connect)((function(e){return{variables:Object(i.d)(e.templating.variables)}}))(W);U.displayName="SubMenu"},"5jx2":function(e,t,n){var r,o;window,e.exports=(r=n("q1tI"),o=n("i8i4"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===a)for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(7),o=r.default,a=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=a},function(e,t,n){"use strict";var r=n(6);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(2),c=n.n(l),s=n(3),u=n.n(s);function f(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function p(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function d(e){return"number"==typeof e&&!isNaN(e)}function h(e){return parseInt(e,10)}function m(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var b=["Moz","Webkit","O","ms"];function g(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<b.length;n++)if(g(e,b[n])in t)return b[n];return""}();function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="";function j(e,t){return w||(w=f(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return p(e[t])}))),!!p(e[w])&&e[w](t)}function S(e,t,n){var r=e;do{if(j(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function E(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function P(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function x(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=h(n.borderTopWidth))+h(n.borderBottomWidth)}function D(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=h(n.borderLeftWidth))+h(n.borderRightWidth)}function C(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=h(n.paddingTop))-h(n.paddingBottom)}function k(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=h(n.paddingLeft))-h(n.paddingRight)}function T(e,t,n){var r=e.x,o=e.y,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),l="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(i,", ").concat(l,")")+a}return a}function _(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}function R(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function N(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function z(e){return"both"===e.props.axis||"x"===e.props.axis}function I(e){return"both"===e.props.axis||"y"===e.props.axis}function M(e,t,n){var r="number"==typeof t?function(e,t){return e.targetTouches&&f(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&f(e.changedTouches,(function(e){return t===e.identifier}))}(e,t):null;if("number"==typeof t&&!r)return null;var o=F(n);return function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}}(r||e,n.props.offsetParent||o.offsetParent||o.ownerDocument.body,n.props.scale)}function A(e,t,n){var r=e.state,o=!d(r.lastX),a=F(e);return o?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function L(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function F(e){var t=c.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={start:"touchstart",move:"touchmove",stop:"touchend"},Y={start:"mousedown",move:"mousemove",stop:"mouseup"},Q=Y,J=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=U(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==H(o)&&"function"!=typeof o?q(r):o,V(q(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),V(q(n),"handleDragStart",(function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=c.a.findDOMNode(q(n));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!S(e.target,n.props.handle,t)||n.props.cancel&&S(e.target,n.props.cancel,t))){var o=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(e);n.setState({touchIdentifier:o});var a=M(e,o,q(n));if(null!=a){var i=a.x,l=a.y,s=A(q(n),i,l);n.props.onStart,!1!==n.props.onStart(e,s)&&(n.props.enableUserSelectHack&&_(r),n.setState({dragging:!0,lastX:i,lastY:l}),E(r,Q.move,n.handleDrag),E(r,Q.stop,n.handleDragStop))}}})),V(q(n),"handleDrag",(function(e){"touchmove"===e.type&&e.preventDefault();var t=M(e,n.state.touchIdentifier,q(n));if(null!=t){var r,o,a,i=t.x,l=t.y;if(Array.isArray(n.props.grid)){var c=i-n.state.lastX,s=l-n.state.lastY,u=B((r=n.props.grid,o=c,a=s,[Math.round(o/r[0])*r[0],Math.round(a/r[1])*r[1]]),2);if(c=u[0],s=u[1],!c&&!s)return;i=n.state.lastX+c,l=n.state.lastY+s}var f=A(q(n),i,l);if(!1!==n.props.onDrag(e,f))n.setState({lastX:i,lastY:l});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(p)}}})),V(q(n),"handleDragStop",(function(e){if(n.state.dragging){var t=M(e,n.state.touchIdentifier,q(n));if(null!=t){var r=t.x,o=t.y,a=A(q(n),r,o),i=c.a.findDOMNode(q(n));i&&n.props.enableUserSelectHack&&R(i.ownerDocument),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,a),i&&(P(i.ownerDocument,Q.move,n.handleDrag),P(i.ownerDocument,Q.stop,n.handleDragStop))}}})),V(q(n),"onMouseDown",(function(e){return Q=Y,n.handleDragStart(e)})),V(q(n),"onMouseUp",(function(e){return Q=Y,n.handleDragStop(e)})),V(q(n),"onTouchStart",(function(e){return Q=X,n.handleDragStart(e)})),V(q(n),"onTouchEnd",(function(e){return Q=X,n.handleDragStop(e)})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=c.a.findDOMNode(this);if(e){var t=e.ownerDocument;P(t,Y.move,this.handleDrag),P(t,X.move,this.handleDrag),P(t,Y.stop,this.handleDragStop),P(t,X.stop,this.handleDragStop),this.props.enableUserSelectHack&&R(t)}}},{key:"render",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),{style:N(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&W(n.prototype,r),t}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),e}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}V(J,"displayName","DraggableCore"),V(J,"propTypes",{allowAnyClick:i.a.bool,disabled:i.a.bool,enableUserSelectHack:i.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.a.arrayOf(i.a.number),handle:i.a.string,cancel:i.a.string,onStart:i.a.func,onDrag:i.a.func,onStop:i.a.func,onMouseDown:i.a.func,scale:i.a.number,className:m,style:m,transform:m}),V(J,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),n.d(t,"default",(function(){return le})),n.d(t,"DraggableCore",(function(){return J}));var le=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=te(t).call(this,e),n=!r||"object"!==Z(r)&&"function"!=typeof r?ne(this):r,ie(ne(n),"onDragStart",(function(e,t){if(!1===n.props.onStart(e,L(ne(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),ie(ne(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;var r=L(ne(n),t),o={x:r.x,y:r.y};if(n.props.bounds){var a=o.x,i=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=F(e);if("string"==typeof r){var a,i=o.ownerDocument,l=i.defaultView;if(!((a="parent"===r?o.parentNode:i.querySelector(r))instanceof l.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var c=l.getComputedStyle(o),s=l.getComputedStyle(a);r={left:-o.offsetLeft+h(s.paddingLeft)+h(c.marginLeft),top:-o.offsetTop+h(s.paddingTop)+h(c.marginTop),right:k(a)-D(o)-o.offsetLeft+h(s.paddingRight)-h(c.marginRight),bottom:C(a)-x(o)-o.offsetTop+h(s.paddingBottom)-h(c.marginBottom)}}return d(r.right)&&(t=Math.min(t,r.right)),d(r.bottom)&&(n=Math.min(n,r.bottom)),d(r.left)&&(t=Math.max(t,r.left)),d(r.top)&&(n=Math.max(n,r.top)),[t,n]}(ne(n),o.x,o.y),2),c=l[0],s=l[1];o.x=c,o.y=s,o.slackX=n.state.slackX+(a-o.x),o.slackY=n.state.slackY+(i-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)})),ie(ne(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,L(ne(n),t)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,a=o.x,i=o.y;r.x=a,r.y=i}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:ee({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,o.a.Component),oe(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:{x:n.x,y:n.y,prevPropsPosition:ee({},n)}}}]),oe(t,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&c.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,a=t.defaultClassName,i=t.defaultClassNameDragging,l=t.defaultClassNameDragged,c=t.position,s=t.positionOffset,f=(t.scale,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),p={},d=null,h=!Boolean(c)||this.state.dragging,m=c||r,b={x:z(this)&&h?this.state.x:m.x,y:I(this)&&h?this.state.y:m.y};this.state.isElementSVG?d=function(e,t){return T(e,t,"")}(b,s):p=function(e,t){var n=T(e,t,"px");return O({},g("transform",y),n)}(b,s);var v=u()(n.props.className||"",a,(ie(e={},i,this.state.dragging),ie(e,l,this.state.dragged),e));return o.a.createElement(J,$({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.a.cloneElement(o.a.Children.only(n),{className:v,style:ee({},n.props.style,{},p),transform:d}))}}]),t}();ie(le,"displayName","Draggable"),ie(le,"propTypes",ee({},J.propTypes,{axis:i.a.oneOf(["both","x","y","none"]),bounds:i.a.oneOfType([i.a.shape({left:i.a.number,right:i.a.number,top:i.a.number,bottom:i.a.number}),i.a.string,i.a.oneOf([!1])]),defaultClassName:i.a.string,defaultClassNameDragging:i.a.string,defaultClassNameDragged:i.a.string,defaultPosition:i.a.shape({x:i.a.number,y:i.a.number}),positionOffset:i.a.shape({x:i.a.oneOfType([i.a.number,i.a.string]),y:i.a.oneOfType([i.a.number,i.a.string])}),position:i.a.shape({x:i.a.number,y:i.a.number}),className:m,style:m,transform:m})),ie(le,"defaultProps",ee({},J.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))}]))},"6iOD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=s(n("17x9")),a=s(n("XaGS")),i=n("T0XP"),l=n("Qgwu"),c=s(n("fEyB"));function s(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){return Object.prototype.toString.call(e)};function P(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,o,s=v(u);function u(){var e;b(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(w(e=s.call.apply(s,[this].concat(n))),"state",e.generateInitialState()),S(w(e),"onLayoutChange",(function(t){e.props.onLayoutChange(t,m(m({},e.props.layouts),{},S({},e.state.breakpoint,t)))})),e}return t=u,o=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,a.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,o=e.cols,a=(0,l.getBreakpointFromWidth)(n,t),i=(0,l.getColsFromBreakpoint)(a,o),c=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,a,a,i,c),breakpoint:a,cols:i}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,a.default)(this.props.breakpoints,e.breakpoints)&&(0,a.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,r=t.cols,o=t.layouts,a=t.compactType,c=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),s=this.state.breakpoint,u=(0,l.getColsFromBreakpoint)(c,r),f=m({},o);if(s!==c||e.breakpoints!==n||e.cols!==r){s in f||(f[s]=(0,i.cloneLayout)(this.state.layout));var p=(0,l.findOrGenerateResponsiveLayout)(f,n,c,s,u,a);p=(0,i.synchronizeLayoutWithChildren)(p,this.props.children,u,a),f[c]=p,this.props.onLayoutChange(p,f),this.props.onBreakpointChange(c,u),this.setState({breakpoint:c,layout:p,cols:u})}var d=P(this.props.margin,c),h=P(this.props.containerPadding,c);this.props.onWidthChange(this.props.width,d,u,h)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,o=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,d(e,["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"]));return r.createElement(c.default,p({},o,{margin:P(t,this.state.breakpoint),containerPadding:P(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&g(t.prototype,n),o&&g(t,o),u}(r.Component);t.default=x,S(x,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(e,t){if("[object Object]"!==E(e[t]))throw new Error("Layout property must be an object. Received: "+E(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,i.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),S(x,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},margin:[10,10],containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},onBreakpointChange:i.noop,onLayoutChange:i.noop,onWidthChange:i.noop})},"7sSR":function(e,t,n){"use strict";var r=n("t3DW").forEach,o=n("W+U1"),a=n("Sa1T"),i=n("LO96"),l=n("UFhH"),c=n("q7TX"),s=n("GOnX"),u=n("wnTG"),f=n("1uty"),p=n("GNKm"),d=n("yUZ2");function h(e){return Array.isArray(e)||void 0!==e.length}function m(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function b(e){return e&&1===e.nodeType}function g(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=i(),y=l({idGenerator:n,stateHandler:f});t=y}var v=e.reporter;v||(v=c(!1===v));var O=g(e,"batchProcessor",u({reporter:v})),w={};w.callOnAdd=!!g(e,"callOnAdd",!0),w.debug=!!g(e,"debug",!1);var j,S=a(t),E=o({stateHandler:f}),P=g(e,"strategy","object"),x=g(e,"important",!1),D={reporter:v,batchProcessor:O,stateHandler:f,idHandler:t,important:x};if("scroll"===P&&(s.isLegacyOpera()?(v.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),P="object"):s.isIE(9)&&(v.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),P="object")),"scroll"===P)j=d(D);else{if("object"!==P)throw new Error("Invalid strategy name: "+P);j=p(D)}var C={};return{listenTo:function(e,n,o){function a(e){var t=S.get(e);r(t,(function(t){t(e)}))}function i(e,t,n){S.add(t,n),e&&n(t)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(b(n))n=[n];else{if(!h(n))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=m(n)}var l=0,c=g(e,"callOnAdd",w.callOnAdd),s=g(e,"onReady",(function(){})),u=g(e,"debug",w.debug);r(n,(function(e){f.getState(e)||(f.initState(e),t.set(e));var p=t.get(e);if(u&&v.log("Attaching listener to element",p,e),!E.isDetectable(e))return u&&v.log(p,"Not detectable."),E.isBusy(e)?(u&&v.log(p,"System busy making it detectable"),i(c,e,o),C[p]=C[p]||[],void C[p].push((function(){++l===n.length&&s()}))):(u&&v.log(p,"Making detectable..."),E.markBusy(e,!0),j.makeDetectable({debug:u,important:x},e,(function(e){if(u&&v.log(p,"onElementDetectable"),f.getState(e)){E.markAsDetectable(e),E.markBusy(e,!1),j.addListener(e,a),i(c,e,o);var t=f.getState(e);if(t&&t.startSize){var d=e.offsetWidth,h=e.offsetHeight;t.startSize.width===d&&t.startSize.height===h||a(e)}C[p]&&r(C[p],(function(e){e()}))}else u&&v.log(p,"Element uninstalled before being detectable.");delete C[p],++l===n.length&&s()})));u&&v.log(p,"Already detecable, adding listener."),i(c,e,o),l++})),l===n.length&&s()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(e){if(!e)return v.error("At least one element is required.");if(b(e))e=[e];else{if(!h(e))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=m(e)}r(e,(function(e){S.removeAllListeners(e),j.uninstall(e),f.cleanState(e)}))},initDocument:function(e){j.initDocument&&j.initDocument(e)}}}},ChGz:function(e,t,n){e.exports=n("fEyB").default,e.exports.utils=n("T0XP"),e.exports.Responsive=n("6iOD").default,e.exports.Responsive.utils=n("Qgwu"),e.exports.WidthProvider=n("NmA4").default},"E56+":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=l(n("17x9")),a=l(n("jqYm")),i=n("H4m+");function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d(p(t=e.call.apply(e,[this].concat(r))||this),"state",{width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height}),d(p(t),"onResize",(function(e,n){var r=n.size;t.props.onResize?(e.persist&&e.persist(),t.setState(r,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(r)})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},o.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),i=e.onResizeStop,l=e.draggableOpts,c=e.minConstraints,u=e.maxConstraints,p=e.lockAspectRatio,d=e.axis,h=(e.width,e.height,e.resizeHandles),m=e.style,b=e.transformScale,g=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"]);return r.createElement(a.default,{axis:d,draggableOpts:l,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:p,maxConstraints:u,minConstraints:c,onResizeStart:o,onResize:this.onResize,onResizeStop:i,resizeHandles:h,transformScale:b,width:this.state.width},r.createElement("div",s({},g,{style:f(f({},m),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},o}(r.Component);t.default=h,d(h,"propTypes",f(f({},i.resizableProps),{},{children:o.default.element}))},FFox:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a),l=n("kDLi"),c=n("Xmxp"),s=n("GQ3c"),u=n("kDDq"),f=n("gR9h");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=function(e){var t=e.repeat,n=e.title,a=e.onUpdate,i=e.onCancel,c=p(Object(r.useState)(t),2),s=c[0],u=c[1],d=Object(r.useCallback)((function(e){return u(e)}),[u]);return o.a.createElement(l.Form,{defaultValues:{title:n},onSubmit:function(e){a(e.title,s)}},(function(e){var t=e.register;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.Field,{label:"Title"},o.a.createElement(l.Input,{name:"title",ref:t,type:"text"})),o.a.createElement(l.Field,{label:"Repeat for"},o.a.createElement(f.a,{repeat:s,onChange:d})),o.a.createElement(l.HorizontalGroup,null,o.a.createElement(l.Button,{type:"submit"},"Update"),o.a.createElement(l.Button,{variant:"secondary",onClick:i},"Cancel")))}))};function h(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      label: RowOptionsModal;\n      width: 500px;\n    "]);return h=function(){return e},e}var m=function(e){var t=e.repeat,n=e.title,r=e.onDismiss,a=e.onUpdate,i=b();return o.a.createElement(l.Modal,{isOpen:!0,title:"Row Options",icon:"copy",onDismiss:r,className:i.modal},o.a.createElement(d,{repeat:t,title:n,onCancel:r,onUpdate:a}))},b=Object(l.stylesFactory)((function(){return{modal:Object(u.css)(h())}})),g=function(e){var t=e.repeat,n=e.title,r=e.onUpdate,a=function(e){return function(t,n){r(t,n),e()}};return o.a.createElement(l.ModalsController,null,(function(e){var r=e.showModal,i=e.hideModal;return o.a.createElement("a",{className:"pointer",onClick:function(){r(m,{title:n,repeat:t,onDismiss:i,onUpdate:a(i)})}},o.a.createElement(l.Icon,{name:"cog"}))}))};g.displayName="RowOptionsButton";var y=n("t8hP");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=w(this,j(t).call(this,e))).onVariableUpdated=function(){n.forceUpdate()},n.onToggle=function(){n.props.dashboard.toggleRow(n.props.panel),n.setState((function(e){return{collapsed:!e.collapsed}}))},n.onUpdate=function(e,t){n.props.panel.title=e,n.props.panel.repeat=t,n.props.panel.render(),n.props.dashboard.processRepeats(),n.forceUpdate()},n.onDelete=function(){c.b.emit(s.CoreEvents.showConfirmModal,{title:"Delete Row",text:"Are you sure you want to remove this row and all its panels?",altActionText:"Delete row only",icon:"trash-alt",onConfirm:function(){n.props.dashboard.removeRow(n.props.panel,!0)},onAltAction:function(){n.props.dashboard.removeRow(n.props.panel,!1)}})},n.state={collapsed:n.props.panel.collapsed},n.props.dashboard.on(s.CoreEvents.templateVariableValueUpdated,n.onVariableUpdated),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.props.dashboard.off(s.CoreEvents.templateVariableValueUpdated,this.onVariableUpdated)}},{key:"render",value:function(){var e=i()({"dashboard-row":!0,"dashboard-row--collapsed":this.state.collapsed}),t=Object(y.getTemplateSrv)().replace(this.props.panel.title,this.props.panel.scopedVars,"text"),n=this.props.panel.panels?this.props.panel.panels.length:0,r=1===n?"panel":"panels",a=!0===this.props.dashboard.meta.canEdit;return o.a.createElement("div",{className:e},o.a.createElement("a",{className:"dashboard-row__title pointer",onClick:this.onToggle},o.a.createElement(l.Icon,{name:this.state.collapsed?"angle-right":"angle-down"}),t,o.a.createElement("span",{className:"dashboard-row__panel_count"},"(",n," ",r,")")),a&&o.a.createElement("div",{className:"dashboard-row__actions"},o.a.createElement(g,{title:this.props.panel.title,repeat:this.props.panel.repeat,onUpdate:this.onUpdate}),o.a.createElement("a",{className:"pointer",onClick:this.onDelete},o.a.createElement(l.Icon,{name:"trash-alt"}))),!0===this.state.collapsed&&o.a.createElement("div",{className:"dashboard-row__toggle-target",onClick:this.onToggle}," "),a&&o.a.createElement("div",{className:"dashboard-row__drag grid-drag-handle"}))}}])&&O(n.prototype,r),a&&O(n,a),t}(o.a.Component);n.d(t,"a",(function(){return E}))},FdMb:function(e,t,n){"use strict";function r(e,t,n,r){var o,a=!1,i=0;function l(){o&&clearTimeout(o)}function c(){var c=this,s=Date.now()-i,u=arguments;function f(){i=Date.now(),n.apply(c,u)}function p(){o=void 0}a||(r&&!o&&f(),l(),void 0===r&&s>e?f():!0!==t&&(o=setTimeout(r?p:f,void 0===r?e-s:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),c.cancel=function(){l(),a=!0},c}function o(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}n.r(t),n.d(t,"throttle",(function(){return r})),n.d(t,"debounce",(function(){return o}))},GNKm:function(e,t,n){"use strict";var r=n("GOnX");e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function a(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function i(e){return o(e).object}return{makeDetectable:function(e,i,l){l||(l=i,i=e,e=null),(e=e||{}).debug,r.isIE(8)?l(i):function(i,l){var c=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),s=!1,u=window.getComputedStyle(i),f=i.offsetWidth,p=i.offsetHeight;function d(){function n(){if("static"===u.position){i.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,o){var a=r[o];"auto"!==a&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(a)&&(t.warn("An element that is positioned static has style."+o+"="+a+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+o+" will be set to 0. Element: ",n),n.style.setProperty(o,"0",e.important?"important":""))};n(t,i,u,"top"),n(t,i,u,"right"),n(t,i,u,"bottom"),n(t,i,u,"left")}}""!==u.position&&(n(),s=!0);var a=document.createElement("object");a.style.cssText=c,a.tabIndex=-1,a.type="text/html",a.setAttribute("aria-hidden","true"),a.onload=function(){s||n(),function e(t,n){if(!t.contentDocument){var r=o(t);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){l(i)}))},r.isIE()||(a.data="about:blank"),o(i)&&(i.appendChild(a),o(i).object=a,r.isIE()&&(a.data="about:blank"))}o(i).startSize={width:f,height:p},n?n.add(d):d()}(i,l)},addListener:function(e,t){function n(){t(e)}if(r.isIE(8))o(e).object={proxy:n},e.attachEvent("onresize",n);else{var a=i(e);if(!a)throw new Error("Element is not detectable by this strategy.");a.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(o(e)){var t=i(e);t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),o(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(e).checkForObjectDocumentTimeoutId),delete o(e).object)}}}}},GOnX:function(e,t,n){"use strict";var r=e.exports={};r.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},r.isLegacyOpera=function(){return!!window.opera}},Gytx:function(e,t){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var s=a[c];if(!l(s))return!1;var u=e[s],f=t[s];if(!1===(o=n?n.call(r,u,f,s):void 0)||void 0===o&&u!==f)return!1}return!0}},"H4m+":function(e,t,n){"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,o=(r=n("17x9"))&&r.__esModule?r:{default:r};n("Nznp");var a={axis:o.default.oneOf(["both","x","y","none"]),className:o.default.string,children:o.default.element.isRequired,draggableOpts:o.default.shape({allowAnyClick:o.default.bool,cancel:o.default.string,children:o.default.node,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:o.default.node,grid:o.default.arrayOf(o.default.number),handle:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number}),height:o.default.number.isRequired,handle:o.default.oneOfType([o.default.node,o.default.func]),handleSize:o.default.arrayOf(o.default.number),lockAspectRatio:o.default.bool,maxConstraints:o.default.arrayOf(o.default.number),minConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:o.default.number,width:o.default.number.isRequired};t.resizableProps=a},IZOP:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n("q1tI"),a=r(o),i=r(n("i8i4")),l=r(n("QLaP")),c=n("FdMb"),s=r(n("7sSR")),u=r(n("Gytx"));function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}var E={};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return E[e]||(E[e]=s({strategy:e})),E[e]}var x="react-sizeme: an error occurred whilst stopping to listen to node size changes",D={monitorWidth:!0,monitorHeight:!1,monitorPosition:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function C(e){return e.displayName||e.name||"Component"}var k=function(e){function t(){return f(this,t),S(this,v(t).apply(this,arguments))}return y(t,e),d(t,[{key:"render",value:function(){return o.Children.only(this.props.children)}}]),t}(o.Component);function T(e){var t=e.className,n=e.style,r={};return t||n?(t&&(r.className=t),n&&(r.style=n)):r.style={width:"100%",height:"100%"},a.createElement("div",r)}h(k,"displayName","SizeMeReferenceWrapper"),T.displayName="SizeMePlaceholder";var _=function(e){function t(t){var n=t.explicitRef,r=t.className,o=t.style,i=t.size,l=t.disablePlaceholder,c=(t.onSize,w(t,["explicitRef","className","style","size","disablePlaceholder","onSize"])),s=(null==i||null==i.width&&null==i.height&&null==i.position)&&!l,u={className:r,style:o};null!=i&&(u.size=i);var f=s?a.createElement(T,{className:r,style:o}):a.createElement(e,m({},u,c));return a.createElement(k,{ref:n},f)}return t.displayName="SizeMeRenderer(".concat(C(e),")"),t};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=e.monitorWidth,n=void 0===t?D.monitorWidth:t,r=e.monitorHeight,o=void 0===r?D.monitorHeight:r,s=e.monitorPosition,u=void 0===s?D.monitorPosition:s,p=e.refreshRate,b=void 0===p?D.refreshRate:p,O=e.refreshMode,w=void 0===O?D.refreshMode:O,E=e.noPlaceholder,k=void 0===E?D.noPlaceholder:E,T=e.resizeDetectorStrategy,N=void 0===T?D.resizeDetectorStrategy:T;l(n||o||u,'You have to monitor at least one of the width, height, or position when using "sizeMe"'),l(b>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),l("throttle"===w||"debounce"===w,'The refreshMode should have a value of "throttle" or "debounce"');var z="throttle"===w?c.throttle:c.debounce;return function(e){var t=_(e),r=function(e){function r(){var e,t;f(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return h(j(t=S(this,(e=v(r)).call.apply(e,[this].concat(i)))),"domEl",null),h(j(t),"state",{width:void 0,height:void 0,position:void 0}),h(j(t),"uninstall",(function(){if(t.domEl){try{t.detector.uninstall(t.domEl)}catch(e){console.warn(x)}t.domEl=null}})),h(j(t),"determineStrategy",(function(e){e.onSize?(t.callbackState||(t.callbackState=g({},t.state)),t.strategy="callback"):t.strategy="render"})),h(j(t),"strategisedSetState",(function(e){"callback"===t.strategy&&(t.callbackState=e,t.props.onSize(e)),t.setState(e)})),h(j(t),"strategisedGetState",(function(){return"callback"===t.strategy?t.callbackState:t.state})),h(j(t),"refCallback",(function(e){t.element=e})),h(j(t),"hasSizeChanged",(function(e,t){var r=e,a=t,i=r.position||{},l=a.position||{};return n&&r.width!==a.width||o&&r.height!==a.height||u&&(i.top!==l.top||i.left!==l.left||i.bottom!==l.bottom||i.right!==l.right)})),h(j(t),"checkIfSizeChanged",z(b,(function(e){var r=e.getBoundingClientRect(),a=r.width,i=r.height,l=r.right,c=r.left,s=r.top,f=r.bottom,p={width:n?a:null,height:o?i:null,position:u?{right:l,left:c,top:s,bottom:f}:null};t.hasSizeChanged(t.strategisedGetState(),p)&&t.strategisedSetState(p)}))),t}return y(r,e),d(r,[{key:"componentDidMount",value:function(){this.detector=P(N),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var e=this.element&&i.findDOMNode(this.element);e?this.domEl?(this.domEl.isSameNode&&!this.domEl.isSameNode(e)||this.domEl!==e)&&(this.uninstall(),this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):this.uninstall()}},{key:"render",value:function(){var e=R.enableSSRBehaviour||R.noPlaceholders||k||"callback"===this.strategy,n=g({},this.state);return a.createElement(t,m({explicitRef:this.refCallback,size:"callback"===this.strategy?null:n,disablePlaceholder:e},this.props))}}]),r}(a.Component);return h(r,"displayName","SizeMe(".concat(C(e),")")),r.WrappedComponent=e,r}}R.enableSSRBehaviour=!1,R.noPlaceholders=!1;var N=function(e){function t(e){var n;f(this,t),h(j(n=S(this,v(t).call(this,e))),"createComponent",(function(e){n.SizeAware=R(e)((function(e){return e.children}))})),h(j(n),"onSize",(function(e){return n.setState({size:e})}));e.children,e.render;var r=w(e,["children","render"]);return n.createComponent(r),n.state={size:{width:void 0,height:void 0}},n}return y(t,e),d(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=(t.children,t.render,w(t,["children","render"])),r=(e.children,e.render,w(e,["children","render"]));u(n,r)||this.createComponent(n)}},{key:"render",value:function(){var e=this.SizeAware,t=this.props.children||this.props.render;return a.createElement(e,{onSize:this.onSize},t({size:this.state.size}))}}]),t}(o.Component);h(N,"defaultProps",{children:void 0,render:void 0}),R.SizeMe=N,R.withSize=R,e.exports=R},LO96:function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},LvXN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n("q1tI")),o=p(n("i8i4")),a=p(n("17x9")),i=n("5jx2"),l=n("bNWW"),c=n("T0XP"),s=n("q78g"),u=n("TNBa"),f=p(n("TSYQ"));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,a,u=v(p);function p(){var e;b(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(w(e=u.call.apply(u,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),S(w(e),"currentNode",void 0),S(w(e),"onDragStart",(function(t,n){var r=n.node,o=e.props.onDragStart;if(o){var a={top:0,left:0},i=r.offsetParent;if(i){var l=i.getBoundingClientRect(),c=r.getBoundingClientRect(),u=c.left/e.props.transformScale,f=l.left/e.props.transformScale,p=c.top/e.props.transformScale,d=l.top/e.props.transformScale;a.left=u-f+i.scrollLeft,a.top=p-d+i.scrollTop,e.setState({dragging:a});var h=(0,s.calcXY)(e.getPositionParams(),a.top,a.left,e.props.w,e.props.h),m=h.x,b=h.y;return o.call(w(e),e.props.i,m,b,{e:t,node:r,newPosition:a})}}})),S(w(e),"onDrag",(function(t,n){var r=n.node,o=n.deltaX,a=n.deltaY,i=e.props,l=i.onDrag,c=i.transformScale;if(l){if(o/=c,a/=c,!e.state.dragging)throw new Error("onDrag called before onDragStart.");var u=e.state.dragging.top+a,f=e.state.dragging.left+o,p=e.props,d=p.isBounded,h=p.i,m=p.w,b=p.h,g=p.containerWidth,y=e.getPositionParams();if(d){var v=r.offsetParent;if(v){var O=e.props,j=O.margin,S=O.rowHeight,E=v.clientHeight-(0,s.calcGridItemWHPx)(b,S,j[1]);u=(0,s.clamp)(u,0,E);var P=(0,s.calcGridColWidth)(y),x=g-(0,s.calcGridItemWHPx)(m,P,j[0]);f=(0,s.clamp)(f,0,x)}}var D={top:u,left:f};e.setState({dragging:D});var C=(0,s.calcXY)(y,u,f,m,b),k=C.x,T=C.y;return l.call(w(e),h,k,T,{e:t,node:r,newPosition:D})}})),S(w(e),"onDragStop",(function(t,n){var r=n.node,o=e.props.onDragStop;if(o){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var a=e.props,i=a.w,l=a.h,c=a.i,u=e.state.dragging,f=u.left,p=u.top,d={top:p,left:f};e.setState({dragging:null});var h=(0,s.calcXY)(e.getPositionParams(),p,f,i,l),m=h.x,b=h.y;return o.call(w(e),c,m,b,{e:t,node:r,newPosition:d})}})),S(w(e),"onResizeStop",(function(t,n){e.onResizeHandler(t,n,"onResizeStop")})),S(w(e),"onResizeStart",(function(t,n){e.onResizeHandler(t,n,"onResizeStart")})),S(w(e),"onResize",(function(t,n){e.onResizeHandler(t,n,"onResize")})),e}return t=p,(n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,s.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,s.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,c.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=e.droppingPosition||{left:0,top:0},r=this.state.dragging;this.currentNode||(this.currentNode=o.default.findDOMNode(this));var a=r&&t.left!==n.left||t.top!==n.top;if(r){if(a){var i=t.left-r.left,l=t.top-r.top;this.onDrag(t.e,{node:this.currentNode,deltaX:i,deltaY:l})}}else this.onDragStart(t.e,{node:this.currentNode,deltaX:t.left,deltaY:t.top})}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,o=n.containerWidth;return n.useCSSTransforms?t=(0,c.setTransform)(e):(t=(0,c.setTopLeft)(e),r&&(t.left=(0,c.perc)(e.left/o),t.width=(0,c.perc)(e.width/o))),t}},{key:"mixinDraggable",value:function(e,t){return r.default.createElement(i.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale},e)}},{key:"mixinResizable",value:function(e,t,n){var o=this.props,a=o.cols,i=o.x,c=o.minW,u=o.minH,f=o.maxW,p=o.maxH,d=o.transformScale,h=o.resizeHandles,m=o.resizeHandle,b=this.getPositionParams(),g=(0,s.calcGridItemPosition)(b,0,0,a-i,0).width,y=(0,s.calcGridItemPosition)(b,0,0,c,u),v=(0,s.calcGridItemPosition)(b,0,0,f,p),O=[y.width,y.height],w=[Math.min(v.width,g),Math.min(v.height,1/0)];return r.default.createElement(l.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:O,maxConstraints:w,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:d,resizeHandles:h,handle:m},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,o=t.size,a=this.props[n];if(a){var i=this.props,l=i.cols,c=i.x,u=i.y,f=i.i,p=i.maxH,d=i.minH,h=this.props,m=h.minW,b=h.maxW,g=(0,s.calcWH)(this.getPositionParams(),o.width,o.height,c,u),y=g.w,v=g.h;m=Math.max(m,1),b=Math.min(b,l-c),y=(0,s.clamp)(y,m,b),v=(0,s.clamp)(v,d,p),this.setState({resizing:"onResizeStop"===n?null:o}),a.call(this,f,y,v,{e:e,node:r,size:o})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,o=e.w,a=e.h,i=e.isDraggable,l=e.isResizable,c=e.droppingPosition,u=e.useCSSTransforms,p=(0,s.calcGridItemPosition)(this.getPositionParams(),t,n,o,a,this.state),d=r.default.Children.only(this.props.children),h=r.default.cloneElement(d,{className:(0,f.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(c),cssTransforms:u}),style:m(m(m({},this.props.style),d.props.style),this.createStyle(p))});return h=this.mixinResizable(h,p,l),h=this.mixinDraggable(h,i)}}])&&g(t.prototype,n),a&&g(t,a),p}(r.default.Component);t.default=E,S(E,"propTypes",{children:a.default.element,cols:a.default.number.isRequired,containerWidth:a.default.number.isRequired,rowHeight:a.default.number.isRequired,margin:a.default.array.isRequired,maxRows:a.default.number.isRequired,containerPadding:a.default.array.isRequired,x:a.default.number.isRequired,y:a.default.number.isRequired,w:a.default.number.isRequired,h:a.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:a.default.string.isRequired,resizeHandles:u.resizeHandlesType,resizeHandle:u.resizeHandleType,onDragStop:a.default.func,onDragStart:a.default.func,onDrag:a.default.func,onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,isDraggable:a.default.bool.isRequired,isResizable:a.default.bool.isRequired,isBounded:a.default.bool.isRequired,static:a.default.bool,useCSSTransforms:a.default.bool.isRequired,transformScale:a.default.number,className:a.default.string,handle:a.default.string,cancel:a.default.string,droppingPosition:a.default.shape({e:a.default.object.isRequired,left:a.default.number.isRequired,top:a.default.number.isRequired})}),S(E,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},NmA4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,t);var n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(n);if(o){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return d(this,e)});function l(){var e;u(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(h(e=i.call.apply(i,[this].concat(n))),"state",{width:1280}),b(h(e),"mounted",!1),b(h(e),"onWindowResize",(function(){if(e.mounted){var t=a.default.findDOMNode(h(e));t instanceof HTMLElement&&e.setState({width:t.offsetWidth})}})),e}return function(e,t,n){t&&f(e.prototype,t);n&&f(e,n)}(l,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["measureBeforeMount"]);return n&&!this.mounted?r.createElement("div",{className:this.props.className,style:this.props.style}):r.createElement(e,s({},o,this.state))}}]),l}(r.Component),b(t,"defaultProps",{measureBeforeMount:!1}),b(t,"propTypes",{measureBeforeMount:o.default.bool}),n};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=i(n("17x9")),a=i(n("i8i4"));function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},Nznp:function(e,t,n){var r,o;window,e.exports=(r=n("q1tI"),o=n("i8i4"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){e.exports=n(11)()},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function o(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function a(e){return"number"==typeof e&&!isNaN(e)}function i(e){return parseInt(e,10)}function l(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l}))},function(e,t,n){"use strict";var r=n(1),o=["Moz","Webkit","O","ms"];function a(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<o.length;n++)if(a(e,o[n])in t)return o[n];return""}();function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"i",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return S})),n.d(t,"b",(function(){return E})),n.d(t,"n",(function(){return P})),n.d(t,"o",(function(){return x}));var s="";function u(e,t){return s||(s=Object(r.b)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return Object(r.d)(e[t])}))),!!Object(r.d)(e[s])&&e[s](t)}function f(e,t,n){var r=e;do{if(u(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function p(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function d(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function h(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=Object(r.c)(n.borderTopWidth))+Object(r.c)(n.borderBottomWidth)}function m(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=Object(r.c)(n.borderLeftWidth))+Object(r.c)(n.borderRightWidth)}function b(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=Object(r.c)(n.paddingTop))-Object(r.c)(n.paddingBottom)}function g(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=Object(r.c)(n.paddingLeft))-Object(r.c)(n.paddingRight)}function y(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function v(e,t){var n=w(e,t,"px");return c({},a("transform",i),n)}function O(e,t){return w(e,t,"")}function w(e,t,n){var r=e.x,o=e.y,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),l="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(i,", ").concat(l,")")+a}return a}function j(e,t){return e.targetTouches&&Object(r.b)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&Object(r.b)(e.changedTouches,(function(e){return t===e.identifier}))}function S(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function E(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}function P(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function x(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return d}));var r=n(1),o=n(6),a=n.n(o),i=n(2);function l(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"==typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var a=h(e);if("string"==typeof o){var l,c=a.ownerDocument,s=c.defaultView;if(!((l="parent"===o?a.parentNode:c.querySelector(o))instanceof s.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var u=s.getComputedStyle(a),f=s.getComputedStyle(l);o={left:-a.offsetLeft+Object(r.c)(f.paddingLeft)+Object(r.c)(u.marginLeft),top:-a.offsetTop+Object(r.c)(f.paddingTop)+Object(r.c)(u.marginTop),right:Object(i.h)(l)-Object(i.l)(a)-a.offsetLeft+Object(r.c)(f.paddingRight)-Object(r.c)(u.marginRight),bottom:Object(i.g)(l)-Object(i.k)(a)-a.offsetTop+Object(r.c)(f.paddingBottom)-Object(r.c)(u.marginBottom)}}return Object(r.e)(o.right)&&(t=Math.min(t,o.right)),Object(r.e)(o.bottom)&&(n=Math.min(n,o.bottom)),Object(r.e)(o.left)&&(t=Math.max(t,o.left)),Object(r.e)(o.top)&&(n=Math.max(n,o.top)),[t,n]}function c(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function s(e){return"both"===e.props.axis||"x"===e.props.axis}function u(e){return"both"===e.props.axis||"y"===e.props.axis}function f(e,t,n){var r="number"==typeof t?Object(i.e)(e,t):null;if("number"==typeof t&&!r)return null;var o=h(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return Object(i.j)(r||e,a)}function p(e,t,n){var o=e.state,a=!Object(r.e)(o.lastX),i=h(e);return a?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}}function d(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function h(e){var t=a.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n(5),o=n.n(r),a=n(0),i=n.n(a),l=n(6),c=n.n(l),s=n(2),u=n(3),f=n(1),p=n(4);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={start:"touchstart",move:"touchmove",stop:"touchend"},w={start:"mousedown",move:"mousemove",stop:"mouseup"},j=w,S=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=b(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==d(o)&&"function"!=typeof o?g(r):o,v(g(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),v(g(n),"handleDragStart",(function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=c.a.findDOMNode(g(n));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!Object(s.i)(e.target,n.props.handle,t)||n.props.cancel&&Object(s.i)(e.target,n.props.cancel,t))){var o=Object(s.f)(e);n.setState({touchIdentifier:o});var a=Object(u.f)(e,o,g(n));if(null!=a){var i=a.x,l=a.y,f=Object(u.c)(g(n),i,l);Object(p.a)("DraggableCore: handleDragStart: %j",f),Object(p.a)("calling",n.props.onStart),!1!==n.props.onStart(e,f)&&(n.props.enableUserSelectHack&&Object(s.b)(r),n.setState({dragging:!0,lastX:i,lastY:l}),Object(s.a)(r,j.move,n.handleDrag),Object(s.a)(r,j.stop,n.handleDragStop))}}})),v(g(n),"handleDrag",(function(e){"touchmove"===e.type&&e.preventDefault();var t=Object(u.f)(e,n.state.touchIdentifier,g(n));if(null!=t){var r=t.x,o=t.y;if(Array.isArray(n.props.grid)){var a=r-n.state.lastX,i=o-n.state.lastY,l=h(Object(u.g)(n.props.grid,a,i),2);if(a=l[0],i=l[1],!a&&!i)return;r=n.state.lastX+a,o=n.state.lastY+i}var c=Object(u.c)(g(n),r,o);if(Object(p.a)("DraggableCore: handleDrag: %j",c),!1!==n.props.onDrag(e,c))n.setState({lastX:r,lastY:o});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var s=document.createEvent("MouseEvents");s.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(s)}}})),v(g(n),"handleDragStop",(function(e){if(n.state.dragging){var t=Object(u.f)(e,n.state.touchIdentifier,g(n));if(null!=t){var r=t.x,o=t.y,a=Object(u.c)(g(n),r,o),i=c.a.findDOMNode(g(n));i&&n.props.enableUserSelectHack&&Object(s.n)(i.ownerDocument),Object(p.a)("DraggableCore: handleDragStop: %j",a),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,a),i&&(Object(p.a)("DraggableCore: Removing handlers"),Object(s.m)(i.ownerDocument,j.move,n.handleDrag),Object(s.m)(i.ownerDocument,j.stop,n.handleDragStop))}}})),v(g(n),"onMouseDown",(function(e){return j=w,n.handleDragStart(e)})),v(g(n),"onMouseUp",(function(e){return j=w,n.handleDragStop(e)})),v(g(n),"onTouchStart",(function(e){return j=O,n.handleDragStart(e)})),v(g(n),"onTouchEnd",(function(e){return j=O,n.handleDragStop(e)})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=c.a.findDOMNode(this);if(e){var t=e.ownerDocument;Object(s.m)(t,w.move,this.handleDrag),Object(s.m)(t,O.move,this.handleDrag),Object(s.m)(t,w.stop,this.handleDragStop),Object(s.m)(t,O.stop,this.handleDragStop),this.props.enableUserSelectHack&&Object(s.n)(t)}}},{key:"render",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),{style:Object(s.o)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&m(n.prototype,r),t}();v(S,"displayName","DraggableCore"),v(S,"propTypes",{allowAnyClick:i.a.bool,disabled:i.a.bool,enableUserSelectHack:i.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.a.arrayOf(i.a.number),handle:i.a.string,cancel:i.a.string,onStart:i.a.func,onDrag:i.a.func,onStop:i.a.func,onMouseDown:i.a.func,className:f.a,style:f.a,transform:f.a}),v(S,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}})},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===a)for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(10).default;e.exports=r,e.exports.default=r,e.exports.DraggableCore=n(7).default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(5),o=n.n(r),a=n(0),i=n.n(a),l=n(6),c=n.n(l),s=n(8),u=n.n(s),f=n(2),p=n(3),d=n(1),h=n(7),m=n(4);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=O(t).call(this,e),n=!r||"object"!==b(r)&&"function"!=typeof r?w(this):r,P(w(n),"onDragStart",(function(e,t){if(Object(m.a)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,Object(p.d)(w(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),P(w(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;Object(m.a)("Draggable: onDrag: %j",t);var r=Object(p.d)(w(n),t),o={x:r.x,y:r.y};if(n.props.bounds){var a=o.x,i=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(Object(p.e)(w(n),o.x,o.y),2),c=l[0],s=l[1];o.x=c,o.y=s,o.slackX=n.state.slackX+(a-o.x),o.slackY=n.state.slackY+(i-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)})),P(w(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,Object(p.d)(w(n),t)))return!1;Object(m.a)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,a=o.x,i=o.y;r.x=a,r.y=i}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:v({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o.a.Component),S(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:(Object(m.a)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:v({},n)})}}]),S(t,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&c.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,a=t.defaultClassName,i=t.defaultClassNameDragging,l=t.defaultClassNameDragged,c=t.position,s=t.positionOffset,d=(t.scale,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),m={},b=null,y=!Boolean(c)||this.state.dragging,O=c||r,w={x:Object(p.a)(this)&&y?this.state.x:O.x,y:Object(p.b)(this)&&y?this.state.y:O.y};this.state.isElementSVG?b=Object(f.d)(w,s):m=Object(f.c)(w,s);var j=u()(n.props.className||"",a,(P(e={},i,this.state.dragging),P(e,l,this.state.dragged),e));return o.a.createElement(h.default,g({},d,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.a.cloneElement(o.a.Children.only(n),{className:j,style:v({},n.props.style,{},m),transform:b}))}}]),t}();P(x,"displayName","Draggable"),P(x,"propTypes",v({},h.default.propTypes,{axis:i.a.oneOf(["both","x","y","none"]),bounds:i.a.oneOfType([i.a.shape({left:i.a.number,right:i.a.number,top:i.a.number,bottom:i.a.number}),i.a.string,i.a.oneOf([!1])]),defaultClassName:i.a.string,defaultClassNameDragging:i.a.string,defaultClassNameDragged:i.a.string,defaultPosition:i.a.shape({x:i.a.number,y:i.a.number}),positionOffset:i.a.shape({x:i.a.oneOfType([i.a.number,i.a.string]),y:i.a.oneOfType([i.a.number,i.a.string])}),position:i.a.shape({x:i.a.number,y:i.a.number}),className:d.a,style:d.a,transform:d.a})),P(x,"defaultProps",v({},h.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,n){"use strict";var r=n(12);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]))},QLaP:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,i,l){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,a,i,l],u=0;(c=new Error(t.replace(/%s/g,(function(){return s[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},Qgwu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakpointFromWidth=function(e,t){for(var n=o(e),r=n[0],a=1,i=n.length;a<i;a++){var l=n[a];t>e[l]&&(r=l)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,a,i,l){if(e[n])return(0,r.cloneLayout)(e[n]);for(var c=e[a],s=o(t),u=s.slice(s.indexOf(n)),f=0,p=u.length;f<p;f++){var d=u[f];if(e[d]){c=e[d];break}}return c=(0,r.cloneLayout)(c||[]),(0,r.compact)((0,r.correctBounds)(c,{cols:i}),l,i)},t.sortBreakpoints=o;var r=n("T0XP");function o(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},Sa1T:function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(r)},removeListener:function(e,t){for(var r=n(e),o=0,a=r.length;o<a;++o)if(r[o]===t){r.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},T0XP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=s,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=u(e[n]);return t},t.cloneLayoutItem=u,t.childrenEqual=function(e,t){return(0,r.default)(o.default.Children.map(e,(function(e){return e.key})),o.default.Children.map(t,(function(e){return e.key})))},t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.collides=p,t.compact=d,t.compactItem=b,t.correctBounds=g,t.getLayoutItem=y,t.getFirstCollision=v,t.getAllCollisions=O,t.getStatics=w,t.moveElement=j,t.moveElementAwayFromCollision=S,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,o=e.height,a="translate(".concat(n,"px,").concat(t,"px)");return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,o=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.sortLayoutItems=E,t.sortLayoutItemsByRowCol=P,t.sortLayoutItemsByColRow=x,t.synchronizeLayoutWithChildren=function(e,t,n,r){e=e||[];var a=[];return o.default.Children.forEach(t,(function(t,n){var r=y(e,String(t.key));if(r)a[n]=u(r);else{0;var o=t.props["data-grid"]||t.props._grid;a[n]=u(o?l(l({},o),{},{i:t.key}):{w:1,h:1,x:0,y:s(a),i:String(t.key)})}})),d(g(a,{cols:n}),r,n)},t.validateLayout=D,t.compactType=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))},t.noop=t.fastRGLPropsEqual=void 0;var r=a(n("XaGS")),o=a(n("q1tI"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t,n=0,r=0,o=e.length;r<o;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function u(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var f=n("b06y");function p(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function d(e,t,n){for(var r=w(e),o=E(e,t),a=Array(e.length),i=0,l=o.length;i<l;i++){var c=u(o[i]);c.static||(c=b(r,c,t,n,o),r.push(c)),a[e.indexOf(o[i])]=c,c.moved=!1}return a}t.fastRGLPropsEqual=f;var h={x:"w",y:"h"};function m(e,t,n,r){var o=h[r];t[r]+=1;for(var a=e.map((function(e){return e.i})).indexOf(t.i)+1;a<e.length;a++){var i=e[a];if(!i.static){if(i.y>t.y+t.h)break;p(t,i)&&m(e,i,n+t[o],r)}}t[r]=n}function b(e,t,n,r,o){var a,i="horizontal"===n;if("vertical"===n)for(t.y=Math.min(s(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(i)for(t.y=Math.min(s(e),t.y);t.x>0&&!v(e,t);)t.x--;for(;a=v(e,t);)i?m(o,t,a.x+a.w,"x"):m(o,t,a.y+a.h,"y"),i&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function g(e,t){for(var n=w(e),r=0,o=e.length;r<o;r++){var a=e[r];if(a.x+a.w>t.cols&&(a.x=t.cols-a.w),a.x<0&&(a.x=0,a.w=t.cols),a.static)for(;v(n,a);)a.y++;else n.push(a)}return e}function y(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(p(e[n],t))return e[n]}function O(e,t){return e.filter((function(e){return p(e,t)}))}function w(e){return e.filter((function(e){return e.static}))}function j(e,t,n,r,o,a,i,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;C("Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]"));var c=t.x,s=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var u=E(e,i);("vertical"===i&&"number"==typeof r?s>=r:"horizontal"===i&&"number"==typeof n&&c>=n)&&(u=u.reverse());var f=O(u,t);if(a&&f.length)return C("Collision prevented on ".concat(t.i,", reverting.")),t.x=c,t.y=s,t.moved=!1,e;for(var p=0,d=f.length;p<d;p++){var h=f[p];C("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(h.i," at [").concat(h.x,",").concat(h.y,"]")),h.moved||(e=h.static?S(e,h,t,o,i,l):S(e,t,h,o,i,l))}return e}function S(e,t,n,r,o,a){var i="horizontal"===o,l="horizontal"!==o,c=t.static;if(r){r=!1;var s={x:i?Math.max(t.x-n.w,0):n.x,y:l?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!v(e,s))return C("Doing reverse collision on ".concat(n.i," up to [").concat(s.x,",").concat(s.y,"].")),j(e,n,i?s.x:void 0,l?s.y:void 0,r,c,o,a)}return j(e,n,i?n.x+1:void 0,l?n.y+1:void 0,r,c,o,a)}function E(e,t){return"horizontal"===t?x(e):P(e)}function P(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function x(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,o=e.length;r<o;r++){for(var a=e[r],i=0;i<n.length;i++)if("number"!=typeof a[n[i]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[i]+" must be a number!");if(a.i&&"string"!=typeof a.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==a.static&&"boolean"!=typeof a.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function C(){}t.noop=function(){}},TGtm:function(e,t,n){"use strict";var r=n("Csm0"),o=n("q1tI"),a=n.n(o),i=n("Obii"),l=n("ZFWI"),c=n("kDLi"),s=n("kDDq");function u(){var e=p(["\n      text-align: right;\n    "]);return u=function(){return e},e}function f(){var e=p(["\n      padding-bottom: ",";\n    "]);return f=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=function(e){var t=e.timeZone,n=e.name,r=e.stats,o=Object(c.useTheme)(),s=h(o);return r&&r.length?a.a.createElement("div",{className:s.wrapper},a.a.createElement("div",{className:"section-heading"},n),a.a.createElement("table",{className:"filter-table width-30"},a.a.createElement("tbody",null,r.map((function(e,n){return a.a.createElement("tr",{key:"".concat(e.displayName,"-").concat(n)},a.a.createElement("td",null,e.displayName),a.a.createElement("td",{className:s.cell},function(e,t){var n=Object(i.getDisplayProcessor)({field:{type:i.FieldType.number,config:e},theme:l.a.theme,timeZone:t});return Object(i.formattedValueToString)(n(e.value))}(e,t)))}))))):null};var h=Object(c.stylesFactory)((function(e){return{wrapper:Object(s.css)(f(),e.spacing.md),cell:Object(s.css)(u())}}));n.d(t,"a",(function(){return m}));var m=function(e){var t,n=e.data,o=e.timeZone;if(!n.request)return null;var i=[],l=n.request.endTime?n.request.endTime-n.request.startTime:-1,c=(null===(t=n.timings)||void 0===t?void 0:t.dataProcessingTime)||-1,s=0,u=!0,f=!1,p=void 0;try{for(var h,m=n.series[Symbol.iterator]();!(u=(h=m.next()).done);u=!0){s+=h.value.length}}catch(e){f=!0,p=e}finally{try{u||null==m.return||m.return()}finally{if(f)throw p}}l>0&&i.push({displayName:"Total request time",value:l,unit:"ms"}),c>0&&i.push({displayName:"Data processing time",value:c,unit:"ms"}),i.push({displayName:"Number of queries",value:n.request.targets.length}),i.push({displayName:"Total number rows",value:s});var b=[],g=!0,y=!1,v=void 0;try{for(var O,w=n.series[Symbol.iterator]();!(g=(O=w.next()).done);g=!0){var j=O.value;j.meta&&j.meta.stats&&(b=b.concat(j.meta.stats))}}catch(e){y=!0,v=e}finally{try{g||null==w.return||w.return()}finally{if(y)throw v}}return a.a.createElement("div",{"aria-label":r.selectors.components.PanelInspector.Stats.content},a.a.createElement(d,{timeZone:o,name:"Stats",stats:i}),a.a.createElement(d,{timeZone:o,name:"Data source stats",stats:b}))}},TNBa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.resizeHandleType=t.resizeHandlesType=void 0;var r=a(n("17x9")),o=a(n("q1tI"));function a(e){return e&&e.__esModule?e:{default:e}}var i=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandlesType=i;var l=r.default.oneOfType([r.default.node,r.default.func]);t.resizeHandleType=l;var c={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n("T0XP").validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:i,resizeHandle:l,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){var n=e[t],r={};o.default.Children.forEach(n,(function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}))},innerRef:r.default.any};t.default=c},UFhH:function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return r.id=o,o}}}},UL9e:function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];if(null==r&&void 0!==n)return n;return r}},UlFs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Obii"),o=n("q1tI");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(e,t){var n=Object(o.useRef)(),i=a(Object(o.useState)(),2),l=i[0],c=i[1];return Object(o.useEffect)((function(){return n.current=e.getQueryRunner().getData(t).subscribe({next:function(e){return c(e)}}),function(){n.current&&n.current.unsubscribe()}}),[e,t.withFieldConfig,t.withTransforms]),{data:l,error:l&&l.error,isLoading:!l||l.state===r.LoadingState.Loading,hasSeries:!!l&&!!l.series}}},VBuW:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("bcUi"),i=n("Csm0"),l=n("Algx"),c=n("kDLi"),s=function(e){var t=Object(r.useMemo)((function(){return l.b.get(e.variable.type).picker}),[e.variable]);return e.variable?o.a.createElement("div",{className:"gf-form"},o.a.createElement(u,{variable:e.variable}),e.variable.hide!==a.a.hideVariable&&t&&o.a.createElement(t,{variable:e.variable})):o.a.createElement("div",null,"Couldn't load variable")};function u(e){var t=e.variable,n=Object(r.useMemo)((function(){return t.label||t.name}),[t]);return t.hide!==a.a.dontHide?null:t.description?o.a.createElement(c.Tooltip,{content:t.description,placement:"bottom"},o.a.createElement("label",{className:"gf-form-label gf-form-label--variable","aria-label":i.selectors.pages.Dashboard.SubMenu.submenuItemLabels(n)},n)):o.a.createElement("label",{className:"gf-form-label gf-form-label--variable","aria-label":i.selectors.pages.Dashboard.SubMenu.submenuItemLabels(n)},n)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return p}));var p=function(e){var t=e.variables,n=f(Object(r.useState)([]),2),l=n[0],c=n[1];return Object(r.useEffect)((function(){c(t.filter((function(e){return e.hide!==a.a.hideVariable})))}),[t]),0===l.length?null:o.a.createElement(o.a.Fragment,null,l.map((function(e){return o.a.createElement("div",{key:e.id,className:"submenu-item gf-form-inline","aria-label":i.selectors.pages.Dashboard.SubMenu.submenuItem},o.a.createElement(s,{variable:e}))})))}},VzO5:function(e,t,n){"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=i(i({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return o.default.cloneElement(e,t)};var r,o=(r=n("q1tI"))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"W+U1":function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},XaGS:function(e,t,n){(function(e,n){var r="[object Arguments]",o="[object Map]",a="[object Object]",i="[object Set]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s[r]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s[o]=s["[object Number]"]=s[a]=s["[object RegExp]"]=s[i]=s["[object String]"]=s["[object WeakMap]"]=!1;var u="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,p=u||f||Function("return this")(),d=t&&!t.nodeType&&t,h=d&&"object"==typeof n&&n&&!n.nodeType&&n,m=h&&h.exports===d,b=m&&u.process,g=function(){try{return b&&b.binding&&b.binding("util")}catch(e){}}(),y=g&&g.isTypedArray;function v(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,S,E,P=Array.prototype,x=Function.prototype,D=Object.prototype,C=p["__core-js_shared__"],k=x.toString,T=D.hasOwnProperty,_=(j=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",R=D.toString,N=RegExp("^"+k.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=m?p.Buffer:void 0,I=p.Symbol,M=p.Uint8Array,A=D.propertyIsEnumerable,L=P.splice,F=I?I.toStringTag:void 0,H=Object.getOwnPropertySymbols,B=z?z.isBuffer:void 0,W=(S=Object.keys,E=Object,function(e){return S(E(e))}),U=ge(p,"DataView"),q=ge(p,"Map"),G=ge(p,"Promise"),V=ge(p,"Set"),X=ge(p,"WeakMap"),Y=ge(Object,"create"),Q=we(U),J=we(q),Z=we(G),$=we(V),K=we(X),ee=I?I.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oe;++t<n;)this.add(e[t])}function ie(e){var t=this.__data__=new re(e);this.size=t.size}function le(e,t){var n=Ee(e),r=!n&&Se(e),o=!n&&!r&&Pe(e),a=!n&&!r&&!o&&Te(e),i=n||r||o||a,l=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=l.length;for(var s in e)!t&&!T.call(e,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Oe(s,c))||l.push(s);return l}function ce(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1}function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=T.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var o=R.call(e);r&&(t?e[F]=n:delete e[F]);return o}(e):function(e){return R.call(e)}(e)}function ue(e){return ke(e)&&se(e)==r}function fe(e,t,n,l,c){return e===t||(null==e||null==t||!ke(e)&&!ke(t)?e!=e&&t!=t:function(e,t,n,l,c,s){var u=Ee(e),f=Ee(t),p=u?"[object Array]":ve(e),d=f?"[object Array]":ve(t),h=(p=p==r?a:p)==a,m=(d=d==r?a:d)==a,b=p==d;if(b&&Pe(e)){if(!Pe(t))return!1;u=!0,h=!1}if(b&&!h)return s||(s=new ie),u||Te(e)?he(e,t,n,l,c,s):function(e,t,n,r,a,l,c){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new M(e),new M(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return je(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var s=O;case i:var u=1&r;if(s||(s=w),e.size!=t.size&&!u)return!1;var f=c.get(e);if(f)return f==t;r|=2,c.set(e,t);var p=he(s(e),s(t),r,a,l,c);return c.delete(e),p;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,p,n,l,c,s);if(!(1&n)){var g=h&&T.call(e,"__wrapped__"),y=m&&T.call(t,"__wrapped__");if(g||y){var v=g?e.value():e,j=y?t.value():t;return s||(s=new ie),c(v,j,n,l,s)}}if(!b)return!1;return s||(s=new ie),function(e,t,n,r,o,a){var i=1&n,l=me(e),c=l.length,s=me(t).length;if(c!=s&&!i)return!1;var u=c;for(;u--;){var f=l[u];if(!(i?f in t:T.call(t,f)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var d=!0;a.set(e,t),a.set(t,e);var h=i;for(;++u<c;){f=l[u];var m=e[f],b=t[f];if(r)var g=i?r(b,m,f,t,e,a):r(m,b,f,e,t,a);if(!(void 0===g?m===b||o(m,b,n,r,a):g)){d=!1;break}h||(h="constructor"==f)}if(d&&!h){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,n,l,c,s)}(e,t,n,l,fe,c))}function pe(e){return!(!Ce(e)||function(e){return!!_&&_ in e}(e))&&(xe(e)?N:l).test(we(e))}function de(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||D,t!==r)return W(e);var t,n,r,o=[];for(var a in Object(e))T.call(e,a)&&"constructor"!=a&&o.push(a);return o}function he(e,t,n,r,o,a){var i=1&n,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var s=a.get(e);if(s&&a.get(t))return s==t;var u=-1,f=!0,p=2&n?new ae:void 0;for(a.set(e,t),a.set(t,e);++u<l;){var d=e[u],h=t[u];if(r)var m=i?r(h,d,u,t,e,a):r(d,h,u,e,t,a);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!v(t,(function(e,t){if(i=t,!p.has(i)&&(d===e||o(d,e,n,r,a)))return p.push(t);var i}))){f=!1;break}}else if(d!==h&&!o(d,h,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function me(e){return function(e,t,n){var r=t(e);return Ee(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,_e,ye)}function be(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ge(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return pe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return T.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:T.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():L.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ce(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(q||re),string:new ne}},oe.prototype.delete=function(e){var t=be(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return be(this,e).get(e)},oe.prototype.has=function(e){return be(this,e).has(e)},oe.prototype.set=function(e,t){var n=be(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ae.prototype.add=ae.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ae.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.clear=function(){this.__data__=new re,this.size=0},ie.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ie.prototype.get=function(e){return this.__data__.get(e)},ie.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!q||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oe(r)}return n.set(e,t),this.size=n.size,this};var ye=H?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}(H(e),(function(t){return A.call(e,t)})))}:function(){return[]},ve=se;function Oe(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||c.test(e))&&e>-1&&e%1==0&&e<t}function we(e){if(null!=e){try{return k.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function je(e,t){return e===t||e!=e&&t!=t}(U&&"[object DataView]"!=ve(new U(new ArrayBuffer(1)))||q&&ve(new q)!=o||G&&"[object Promise]"!=ve(G.resolve())||V&&ve(new V)!=i||X&&"[object WeakMap]"!=ve(new X))&&(ve=function(e){var t=se(e),n=t==a?e.constructor:void 0,r=n?we(n):"";if(r)switch(r){case Q:return"[object DataView]";case J:return o;case Z:return"[object Promise]";case $:return i;case K:return"[object WeakMap]"}return t});var Se=ue(function(){return arguments}())?ue:function(e){return ke(e)&&T.call(e,"callee")&&!A.call(e,"callee")},Ee=Array.isArray;var Pe=B||function(){return!1};function xe(e){if(!Ce(e))return!1;var t=se(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function De(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ce(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ke(e){return null!=e&&"object"==typeof e}var Te=y?function(e){return function(t){return e(t)}}(y):function(e){return ke(e)&&De(e.length)&&!!s[se(e)]};function _e(e){return null!=(t=e)&&De(t.length)&&!xe(t)?le(e):de(e);var t}n.exports=function(e,t){return fe(e,t)}}).call(this,n("yLpj"),n("YuTi")(e))},Zcyb:function(e,t,n){"use strict";var r=n("q1tI");t.a=function(e){Object(r.useEffect)(e,[])}},b06y:function(e,t){e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},bNWW:function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n("jqYm").default,e.exports.ResizableBox=n("E56+").default},eIbz:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("LvDl"),i=n.n(a),l=n("kDLi"),c=n("Csm0"),s=n("/MKj"),u=n("ZFWI"),f=n("SMGL"),p=n("3SGO"),d=n("KyLG"),h=n("eXZ6"),m=n("kDDq"),b=n("Zss7"),g=n.n(b);function y(){var e=E(["\n      color: ",";\n    "]);return y=function(){return e},e}function v(){var e=E(["\n      cursor: pointer;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      margin-bottom: ",";\n      &:hover {\n        background: ",";\n      }\n    "]);return v=function(){return e},e}function O(){var e=E(["\n      position: absolute;\n      cursor: grab;\n      top: 0;\n      left: 0;\n      height: 26px;\n      padding: 0 ",";\n      width: 100%;\n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      transition: background-color 0.1s ease-in-out;\n      &:hover {\n        background: ",";\n      }\n    "]);return O=function(){return e},e}function w(){var e=E(["\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      height: 100%;\n      justify-content: center;\n    "]);return w=function(){return e},e}function j(){var e=E(["\n      overflow: hidden;\n      outline: 2px dotted transparent;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px black, 0 0 0px 4px #1f60c4;\n      animation: "," 2s ease infinite;\n    "]);return j=function(){return e},e}function S(){var e=E(["\n    0% {box-shadow: 0 0 0 2px ",", 0 0 0px 4px ",";}\n    50% {box-shadow: 0 0 0 2px ",", 0 0 0px 4px ",";}\n    100% {box-shadow: 0 0 0 2px ",", 0 0 0px 4px  ",";}\n  "]);return S=function(){return e},e}function E(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P={addPanel:d.a,updateLocation:p.d},x=Object(s.connect)(null,P)((function(e){var t=e.panel,n=e.dashboard,r=e.updateLocation,a=(e.addPanel,Object(l.useTheme)()),c=k(a);return o.a.createElement("div",{className:Object(m.cx)("panel-container",c.wrapper)},o.a.createElement(D,{onCancel:function(e){e.preventDefault(),n.removePanel(t)}}),o.a.createElement("div",{className:c.actionsWrapper},o.a.createElement(C,{onCreate:function(){var e=t.gridPos,o={type:"graph",title:"Panel Title",gridPos:{x:e.x,y:e.y,w:e.w,h:e.h}};n.addPanel(o),n.removePanel(t),r({query:{editPanel:o.id},partial:!0})},onPasteCopiedPanel:function(e){var r=t.gridPos,o={type:e.id,title:"Panel Title",gridPos:{x:r.x,y:r.y,w:e.defaults.gridPos.w,h:e.defaults.gridPos.h}};e.defaults&&(i.a.defaults(o,e.defaults),o.title=e.defaults.title,f.a.delete(h.g)),n.addPanel(o),n.removePanel(t)}}),o.a.createElement("div",null,o.a.createElement(l.HorizontalGroup,{justify:"center"},o.a.createElement(l.Button,{onClick:function(){n.addPanel({type:"row",title:"Row title",gridPos:{x:0,y:0}}),n.removePanel(t)},variant:"secondary",size:"sm"},"Convert to row")))))})),D=function(e){var t=e.onCancel,n=Object(l.useTheme)(),r=T(n);return o.a.createElement("div",{className:Object(m.cx)(r.handle,"grid-drag-handle")},o.a.createElement(l.IconButton,{name:"times",onClick:t,surface:"header",className:"add-panel-widget__close"}))},C=function(e){var t=e.onCreate,n=e.onPasteCopiedPanel,a=Object(r.useMemo)((function(){return function(){var e=i.a.chain(u.b.panels).filter({hideFromList:!1}).map((function(e){return e})).value(),t=[],n=f.a.get(h.g);if(n){var r=JSON.parse(n),o=i.a.find(e,{id:r.type});if(o){var a=i.a.cloneDeep(o);a.name=r.title,a.sort=-1,a.defaults=r,t.push(a)}}return i.a.sortBy(t,"sort")}()}),[]),s=Object(l.useTheme)(),p=_(s);return o.a.createElement("div",{className:p.wrapper},o.a.createElement(l.HorizontalGroup,null,o.a.createElement(l.Button,{icon:"plus",size:"md",onClick:t,"aria-label":c.selectors.pages.AddDashboard.addNewPanel},"Add new panel"),1===a.length&&o.a.createElement(l.Button,{variant:"secondary",size:"md",onClick:function(){return n(a[0])}},"Paste copied panel")))},k=Object(l.stylesFactory)((function(e){var t=Object(m.keyframes)(S(),e.colors.bodyBg,e.colors.formFocusOutline,e.colors.bodyBg,g()(e.colors.formFocusOutline).darken(20).toHexString(),e.colors.bodyBg,e.colors.formFocusOutline);return{wrapper:Object(m.css)(j(),t),actionsWrapper:Object(m.css)(w())}})),T=Object(l.stylesFactory)((function(e){return{handle:Object(m.css)(O(),e.spacing.xs,e.colors.bg2)}})),_=Object(l.stylesFactory)((function(e){return{wrapper:Object(m.css)(v(),e.spacing.lg,e.colors.bg2),icon:Object(m.css)(y(),e.colors.textWeak)}}));n.d(t,"a",(function(){return x}))},fEyB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("q1tI")),o=u(n("XaGS")),a=u(n("TSYQ")),i=n("T0XP"),l=n("q78g"),c=u(n("LvXN")),s=u(n("TNBa"));function u(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=!1;try{S=/firefox/i.test(navigator.userAgent)}catch(e){}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(f,e);var t,n,s,u=y(f);function f(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),j(O(n=u.call(this,e,t)),"state",{activeDrag:null,layout:(0,i.synchronizeLayoutWithChildren)(n.props.layout,n.props.children,n.props.cols,(0,i.compactType)(n.props)),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),j(O(n),"dragEnterCounter",0),j(O(n),"onDragOver",(function(e){if(S&&-1===e.nativeEvent.target.className.indexOf("react-grid-layout"))return e.preventDefault(),!1;var t=n.props,o=t.droppingItem,a=t.margin,i=t.cols,c=t.rowHeight,s=t.maxRows,u=t.width,f=t.containerPadding,p=n.state.layout,m=e.nativeEvent,b=m.layerX,g=m.layerY,y={left:b,top:g,e:e};if(n.state.droppingDOMNode){if(n.state.droppingPosition){var v=n.state.droppingPosition,O=v.left,w=v.top;(O!=b||w!=g)&&n.setState({droppingPosition:y})}}else{var j={cols:i,margin:a,maxRows:s,rowHeight:c,containerWidth:u,containerPadding:f||a},E=(0,l.calcXY)(j,g,b,o.w,o.h);n.setState({droppingDOMNode:r.default.createElement("div",{key:o.i}),droppingPosition:y,layout:[].concat(h(p),[d(d({},o),{},{x:E.x,y:E.y,static:!1,isDraggable:!0})])})}e.stopPropagation(),e.preventDefault()})),j(O(n),"removeDroppingPlaceholder",(function(){var e=n.props,t=e.droppingItem,r=e.cols,o=n.state.layout,a=(0,i.compact)(o.filter((function(e){return e.i!==t.i})),(0,i.compactType)(n.props),r);n.setState({layout:a,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),j(O(n),"onDragLeave",(function(){n.dragEnterCounter--,0===n.dragEnterCounter&&n.removeDroppingPlaceholder()})),j(O(n),"onDragEnter",(function(){n.dragEnterCounter++})),j(O(n),"onDrop",(function(e){var t=n.props.droppingItem,r=n.state.layout,o=r.find((function(e){return e.i===t.i}));n.dragEnterCounter=0,n.removeDroppingPlaceholder(),n.props.onDrop(r,o,e)})),(0,i.autoBindHandlers)(O(n),["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),n}return t=f,s=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,o.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,i.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,i.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,i.compactType)(e)),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,i.fastRGLPropsEqual)(this.props,e,o.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,i.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onDragStart",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state.layout,c=(0,i.getLayoutItem)(l,e);if(c)return this.setState({oldDragItem:(0,i.cloneLayoutItem)(c),oldLayout:this.state.layout}),this.props.onDragStart(l,c,c,null,o,a)}},{key:"onDrag",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state.oldDragItem,c=this.state.layout,s=this.props.cols,u=(0,i.getLayoutItem)(c,e);if(u){var f={w:u.w,h:u.h,x:u.x,y:u.y,placeholder:!0,i:e};c=(0,i.moveElement)(c,u,t,n,!0,this.props.preventCollision,(0,i.compactType)(this.props),s),this.props.onDrag(c,l,u,f,o,a),this.setState({layout:(0,i.compact)(c,(0,i.compactType)(this.props),s),activeDrag:f})}}},{key:"onDragStop",value:function(e,t,n,r){var o=r.e,a=r.node;if(this.state.activeDrag){var l=this.state.oldDragItem,c=this.state.layout,s=this.props,u=s.cols,f=s.preventCollision,p=(0,i.getLayoutItem)(c,e);if(p){c=(0,i.moveElement)(c,p,t,n,!0,f,(0,i.compactType)(this.props),u),this.props.onDragStop(c,l,p,null,o,a);var d=(0,i.compact)(c,(0,i.compactType)(this.props),u),h=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,h)}}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,o.default)(t,e)||this.props.onLayoutChange(e)}},{key:"onResizeStart",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state.layout,c=(0,i.getLayoutItem)(l,e);c&&(this.setState({oldResizeItem:(0,i.cloneLayoutItem)(c),oldLayout:this.state.layout}),this.props.onResizeStart(l,c,c,null,o,a))}},{key:"onResize",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state,c=l.layout,s=l.oldResizeItem,u=this.props,f=u.cols,p=u.preventCollision,h=(0,i.getLayoutItem)(c,e);if(h){var m;if(p){var b=(0,i.getAllCollisions)(c,d(d({},h),{},{w:t,h:n})).filter((function(e){return e.i!==h.i}));if(m=b.length>0){var g=1/0,y=1/0;b.forEach((function(e){e.x>h.x&&(g=Math.min(g,e.x)),e.y>h.y&&(y=Math.min(y,e.y))})),Number.isFinite(g)&&(h.w=g-h.x),Number.isFinite(y)&&(h.h=y-h.y)}}m||(h.w=t,h.h=n);var v={w:h.w,h:h.h,x:h.x,y:h.y,static:!0,i:e};this.props.onResize(c,s,h,v,o,a),this.setState({layout:(0,i.compact)(c,(0,i.compactType)(this.props),f),activeDrag:v})}}},{key:"onResizeStop",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state,c=l.layout,s=l.oldResizeItem,u=this.props.cols,f=(0,i.getLayoutItem)(c,e);this.props.onResizeStop(c,s,f,null,o,a);var p=(0,i.compact)(c,(0,i.compactType)(this.props),u),d=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,d)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,o=t.cols,a=t.margin,i=t.containerPadding,l=t.rowHeight,s=t.maxRows,u=t.useCSSTransforms,f=t.transformScale;return r.default.createElement(c.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:o,margin:a,containerPadding:i||a,maxRows:s,rowHeight:l,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:u,transformScale:f},r.default.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,i.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var o=this.props,a=o.width,l=o.cols,s=o.margin,u=o.containerPadding,f=o.rowHeight,p=o.maxRows,d=o.isDraggable,h=o.isResizable,m=o.isBounded,b=o.useCSSTransforms,g=o.transformScale,y=o.draggableCancel,v=o.draggableHandle,O=o.resizeHandles,w=o.resizeHandle,j=this.state,S=j.mounted,E=j.droppingPosition,P="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&d,x="boolean"==typeof n.isResizable?n.isResizable:!n.static&&h,D=n.resizeHandles||O,C=P&&m&&!1!==n.isBounded;return r.default.createElement(c.default,{containerWidth:a,cols:l,margin:s,containerPadding:u||s,maxRows:p,rowHeight:f,cancel:y,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:P,isResizable:x,isBounded:C,useCSSTransforms:b&&S,usePercentages:!S,transformScale:g,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?E:void 0,resizeHandles:D,resizeHandle:w},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.style,l=t.isDroppable,c=t.innerRef,s=(0,a.default)("react-grid-layout",n),u=d({height:this.containerHeight()},o);return r.default.createElement("div",{ref:c,className:s,style:u,onDrop:l?this.onDrop:i.noop,onDragLeave:l?this.onDragLeave:i.noop,onDragEnter:l?this.onDragEnter:i.noop,onDragOver:l?this.onDragOver:i.noop},r.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),l&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&b(t.prototype,n),s&&b(t,s),f}(r.default.Component);t.default=E,j(E,"displayName","ReactGridLayout"),j(E,"propTypes",s.default),j(E,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:i.noop,onDragStart:i.noop,onDrag:i.noop,onDragStop:i.noop,onResizeStart:i.noop,onResize:i.noop,onResizeStop:i.noop,onDrop:i.noop})},gR9h:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("kDLi"),l=n("p1x6"),c=function(e){var t=e.repeat,n=e.onChange,c=Object(a.useSelector)((function(e){return Object(l.g)(e)})),s=Object(r.useMemo)((function(){var e=c.map((function(e){return{label:e.name,value:e.name}}));return 0===e.length&&e.unshift({label:"No template variables found",value:null}),e.unshift({label:"Disable repeating",value:null}),e}),c),u=Object(r.useCallback)((function(e){return n(e.value)}),[n]);return o.a.createElement(i.Select,{value:t,onChange:u,options:s})}},jcCG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n.n(r),a=n("kDDq"),i=function(e){var t=e.logoUrl,n=e.title,r=e.description,i=e.labels,l=e.actions,c=e.onClick,s=e.ariaLabel,u=e.className,f=Object(a.cx)("add-data-source-item",u);return o.a.createElement("div",{className:f,onClick:c,"aria-label":s},t&&o.a.createElement("img",{className:"add-data-source-item-logo",src:t}),o.a.createElement("div",{className:"add-data-source-item-text-wrapper"},o.a.createElement("span",{className:"add-data-source-item-text"},n),r&&o.a.createElement("span",{className:"add-data-source-item-desc"},r),i&&o.a.createElement("div",{className:"add-data-source-item-badge"},i)),l&&o.a.createElement("div",{className:"add-data-source-item-actions"},l))}},jqYm:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n("q1tI"))&&r.__esModule?r:{default:r},a=n("Nznp"),i=n("VzO5"),l=n("H4m+");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(f(t=e.call.apply(e,[this].concat(r))||this),"state",void 0),p(f(t),"lastHandleRect",null),p(f(t),"slack",null),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentWillUnmount=function(){this.resetData()},l.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],o=n[1];if(!r&&!o)return[e,t];if(this.props.lockAspectRatio)if(t===this.props.height){var a=this.props.width/this.props.height;e=(t=e/a)*a}else{var i=this.props.height/this.props.width;t=(e=t/i)*i}var l=e,c=t,s=this.slack||[0,0],u=s[0],f=s[1];return e+=u,t+=f,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),this.slack=[u+(l-e),f+(c-t)],[e,t]},l.resizeHandler=function(e,t){var n=this;return function(r,o){var a=o.node,i=o.deltaX,l=o.deltaY;"onResizeStart"===e&&n.resetData();var c=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,s=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(c||s){var u=t[0],f=t[t.length-1],p=a.getBoundingClientRect();if(null!=n.lastHandleRect){if("w"===f)i+=p.left-n.lastHandleRect.left;if("n"===u)l+=p.top-n.lastHandleRect.top}n.lastHandleRect=p,"w"===f&&(i=-i),"n"===u&&(l=-l);var d=n.props.width+(c?i/n.props.transformScale:0),h=n.props.height+(s?l/n.props.transformScale:0),m=n.runConstraints(d,h);d=m[0],h=m[1];var b=d!==n.props.width||h!==n.props.height,g="function"==typeof n.props[e]?n.props[e]:null;g&&!("onResize"===e&&!b)&&("function"==typeof r.persist&&r.persist(),g(r,{node:a,size:{width:d,height:h},handle:t})),"onResizeStop"===e&&n.resetData()}}},l.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"==typeof t?t(e):t:o.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},l.render=function(){var e=this,t=this.props,n=t.children,r=t.className,l=t.draggableOpts,s=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),f=(t.transformScale,function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"]));return(0,i.cloneElement)(n,u(u({},f),{},{className:(r?r+" ":"")+"react-resizable",children:[].concat(n.props.children,s.map((function(t){return o.default.createElement(a.DraggableCore,c({},l,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))})))}))},r}(o.default.Component);t.default=d,p(d,"propTypes",l.resizableProps),p(d,"defaultProps",{handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1})},kt0J:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("UlFs"),l=n("t8hP"),c=n("kDLi"),s=n("q0ht"),u=n("kDDq"),f=n("Obii");function p(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      padding-left: ",";\n      margin: "," -"," -"," -",";\n    "]);return p=function(){return e},e}var d=function(e){var t=e.tab,n=e.tabs,r=e.onSelectTab,a=e.data,i=Object(c.useTheme)(),l=h(i);return o.a.createElement(o.a.Fragment,null,a&&o.a.createElement("div",{className:"muted"},function(e){var t=e.request;if(!t)return"";var n=t.targets.length,r=t.endTime?t.endTime-t.startTime:0,o=Object(f.formattedValueToString)(Object(f.getValueFormat)("ms")(r));return"".concat(n," queries with total query time of ").concat(o)}(a)),o.a.createElement(c.TabsBar,{className:l.tabsBar},n.map((function(e,n){return o.a.createElement(c.Tab,{key:"".concat(e.value,"-").concat(n),label:e.label,active:e.value===t,onChangeTab:function(){return r(e)}})}))))},h=Object(c.stylesFactory)((function(e){return{tabsBar:Object(u.css)(p(),e.spacing.md,e.spacing.lg,e.spacing.sm,e.spacing.lg,e.spacing.lg)}}));var m=n("jYz7"),b=n("Csm0"),g=n("ZFWI"),y=n("Iab2"),v=n("lcF4");function O(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin: 0;\n  margin-left: ",";\n  font-size: ",";\n  color: ",";\n"]);return O=function(){return e},e}var w=function(e){return Object(u.css)(O(),e.spacing.md,e.typography.size.sm,e.colors.textWeak)},j=function(e){var t=e.children,n=Object(c.useStyles)(w);return o.a.createElement("p",{className:n},t)};function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n              margin-bottom: 10px;\n            "]);return E=function(){return e},e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=T(this,_(t).call(this,e))).exportCsv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.props.panel,o=r.state.transformId,a=Object(f.toCSV)([e],t),i=new Blob([String.fromCharCode(65279),a],{type:"text/csv;charset=utf-8"}),l=o!==f.DataTransformerID.noop?"-as-"+o.toLocaleLowerCase():"",c="".concat(n.title,"-data").concat(l,"-").concat(Object(f.dateTimeFormat)(new Date),".csv");Object(y.saveAs)(i,c)},r.onDataFrameChange=function(e){r.setState({transformId:e.value===f.DataTransformerID.seriesToColumns?f.DataTransformerID.seriesToColumns:f.DataTransformerID.noop,dataFrameIndex:"number"==typeof e.value?e.value:0,selectedDataFrame:e.value})},r.state={selectedDataFrame:0,dataFrameIndex:0,transformId:f.DataTransformerID.noop,transformationOptions:(o=[{value:f.DataTransformerID.seriesToColumns,label:"Series joined by time",transformer:{id:f.DataTransformerID.seriesToColumns,options:{byField:"Time"}}}],o),transformedData:null!==(n=e.data)&&void 0!==n?n:[],downloadForExcel:!1},r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.data)if(this.props.options.withTransforms)this.setState({transformedData:this.props.data});else if(e.data===this.props.data&&t.transformId===this.state.transformId);else{var r=this.state.transformationOptions.find((function(e){return e.value===n.state.transformId}));if(r&&r.transformer.id!==f.DataTransformerID.noop){var o=this.state.selectedDataFrame,a=this.state.dataFrameIndex,i=Object(f.transformDataFrame)([r.transformer],this.props.data).subscribe((function(e){n.setState({transformedData:e,selectedDataFrame:o,dataFrameIndex:a},(function(){return i.unsubscribe()}))}));return}this.setState({transformedData:this.props.data})}else this.setState({transformedData:[]})}},{key:"getProcessedData",value:function(){var e=this.props.options,t=this.state.transformedData;return e.withFieldConfig?Object(f.applyFieldOverrides)({data:t,theme:g.a.theme,fieldConfig:this.props.panel.fieldConfig,replaceVariables:function(e){return e}}):Object(f.applyRawFieldOverrides)(t)}},{key:"getActiveString",value:function(){var e=this.state.selectedDataFrame,t=this.props,n=t.options,r=t.data;if(!r)return"";var o=[];return e===f.DataTransformerID.seriesToColumns?o.push("Series joined by time"):r.length>1&&o.push(Object(f.getFrameDisplayName)(r[e])),(n.withTransforms||n.withFieldConfig)&&(n.withTransforms&&o.push("Panel transforms"),n.withTransforms&&n.withFieldConfig,n.withFieldConfig&&o.push("Formatted data")),this.state.downloadForExcel&&o.push("Excel header"),o.join(", ")}},{key:"renderDataOptions",value:function(e){var t,n=this,r=this.props,a=r.options,i=r.onOptionsChange,l=r.panel,u=r.data,p=this.state,d=p.transformId,h=p.transformationOptions,m=p.selectedDataFrame,b=Object(s.a)(),g=l.getTransformations(),y=g&&g.length>0&&"join by time"!==d,O=!(null===(t=l.plugin)||void 0===t?void 0:t.fieldConfigRegistry.isEmpty()),w=y||O,S=e;m===f.DataTransformerID.seriesToColumns&&(S=u);var E=S.map((function(e,t){return{value:t,label:"".concat(Object(f.getFrameDisplayName)(e)," (").concat(t,")")}})),P=[].concat(C(h),C(E));return w?o.a.createElement(v.a,{id:"Data options",index:0,title:"Data options",headerElement:o.a.createElement(j,null,this.getActiveString()),isOpen:!1},o.a.createElement("div",{className:b.options},o.a.createElement(c.VerticalGroup,{spacing:"none"},u.length>1&&o.a.createElement(c.Field,{label:"Show data frame"},o.a.createElement(c.Select,{options:P,value:m,onChange:this.onDataFrameChange,width:30})),o.a.createElement(c.HorizontalGroup,null,y&&o.a.createElement(c.Field,{label:"Apply panel transformations",description:"Table data is displayed with transformations defined in the panel Transform tab."},o.a.createElement(c.Switch,{value:!!a.withTransforms,onChange:function(){return i(x({},a,{withTransforms:!a.withTransforms}))}})),O&&o.a.createElement(c.Field,{label:"Formatted data",description:"Table data is formatted with options defined in the Field and Override tabs."},o.a.createElement(c.Switch,{value:!!a.withFieldConfig,onChange:function(){return i(x({},a,{withFieldConfig:!a.withFieldConfig}))}})),o.a.createElement(c.Field,{label:"Download for Excel",description:"Adds header to CSV for use with Excel"},o.a.createElement(c.Switch,{value:this.state.downloadForExcel,onChange:function(){return n.setState({downloadForExcel:!n.state.downloadForExcel})}})))))):null}},{key:"render",value:function(){var e=this,t=this.props.isLoading,n=this.state.dataFrameIndex,r=Object(s.a)();if(t)return o.a.createElement("div",null,o.a.createElement(c.Spinner,{inline:!0})," Loading");var a=this.getProcessedData();if(!a||!a.length)return o.a.createElement("div",null,"No Data");var i=a[n]?n:0,l=a[i];return o.a.createElement("div",{className:r.dataTabContent,"aria-label":b.selectors.components.PanelInspector.Data.content},o.a.createElement("div",{className:r.actionsWrapper},o.a.createElement("div",{className:r.dataDisplayOptions},this.renderDataOptions(a)),o.a.createElement(c.Button,{variant:"primary",onClick:function(){return e.exportCsv(a[n],{useExcelHeader:e.state.downloadForExcel})},className:Object(u.css)(E())},"Download CSV")),o.a.createElement(c.Container,{grow:1},o.a.createElement(m.a,null,(function(e){var t=e.width,n=e.height;return 0===t?null:o.a.createElement("div",{style:{width:t,height:n}},o.a.createElement(c.Table,{width:t,height:n,data:l}))}))))}}])&&k(n.prototype,r),a&&k(n,a),t}(r.PureComponent);var z,I=function(e){var t,n=e.data,r=e.metadataDatasource;return r&&(null===(t=r.components)||void 0===t?void 0:t.MetadataInspector)?o.a.createElement(r.components.MetadataInspector,{datasource:r,data:n.series}):o.a.createElement("div",null,"No Metadata Inspector")},M=n("LvDl"),A=n("HJRA");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e.PanelJSON="panel",e.PanelData="data",e.DataStructure="structure"}(z||(z={}));var V=[{label:"Panel JSON",description:"The model saved in the dashboard JSON that configures how everything works.",value:z.PanelJSON},{label:"Panel data",description:"The raw model passed to the panel visualization",value:z.PanelData},{label:"DataFrame structure",description:"Response info without any values",value:z.DataStructure}],X=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=U(this,q(t).call(this,e))).onSelectChanged=function(e){var t=Y(n.getJSONObject(e.value));n.setState({text:t,show:e.value})},n.onTextChanged=function(e){n.setState({text:e})},n.onApplyPanelModel=function(){var e=n.props,t=e.panel,r=e.dashboard,o=e.onClose;try{if(r.meta.canEdit){var a=JSON.parse(n.state.text);t.restoreModel(a),t.refresh(),A.a.emit(f.AppEvents.alertSuccess,["Panel model updated"])}else A.a.emit(f.AppEvents.alertError,["Unable to apply"])}catch(e){console.error("Error applying updates",e),A.a.emit(f.AppEvents.alertError,["Invalid JSON text"])}o()},n.state={show:z.PanelJSON,text:Y(e.panel.getSaveModel())},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),n=t,(r=[{key:"getJSONObject",value:function(e){return e===z.PanelData?this.props.data:e===z.DataStructure?(null===(t=this.props.data)||void 0===t?void 0:t.series)?this.props.data.series.map((function(e){var t=e;return t.table,t.fields,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},B(t,["table","fields"]),{fields:e.fields.map((function(e){return Object(M.chain)(e).omit("values").omit("state").omit("display").value()}))})})):{note:"Missing Response Data"}:e===z.PanelJSON?this.props.panel.getSaveModel():{note:"Unknown Object: ".concat(e)};var t}},{key:"render",value:function(){var e=this,t=this.props.dashboard,n=this.state,r=n.show,a=n.text,i=V.find((function(e){return e.value===r})),l=r===z.PanelJSON,u=t.meta.canEdit,f=Object(s.a)();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:f.toolbar,"aria-label":b.selectors.components.PanelInspector.Json.content},o.a.createElement(c.Field,{label:"Select source",className:"flex-grow-1"},o.a.createElement(c.Select,{options:V,value:i,onChange:this.onSelectChanged})),l&&u&&o.a.createElement(c.Button,{className:f.toolbarItem,onClick:this.onApplyPanelModel},"Apply")),o.a.createElement("div",{className:f.content},o.a.createElement(m.a,{disableWidth:!0},(function(t){var n=t.height;return o.a.createElement(c.CodeEditor,{width:"100%",height:n,language:"json",showLineNumbers:!0,showMiniMap:(a&&a.length)>100,value:a||"",readOnly:!l,onBlur:e.onTextChanged})}))))}}])&&W(n.prototype,r),a&&W(n,a),t}(r.PureComponent);function Y(e){return JSON.stringify(e,null,2)}var Q=function(e){var t=e.error;return t?t.data?o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,t.data.message),o.a.createElement(c.JSONFormatter,{json:t,open:2})):o.a.createElement("div",null,t.message):null},J=n("TGtm"),Z=n("Xmxp"),$=n("ttS0"),K=n("sCrc"),ee=n("pugT"),te=n("NXk7"),ne=n("xAj+");function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        font-weight: ",";\n        color: ",";\n        margin-right: 8px;\n      "]);return oe=function(){return e},e}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=se(this,ue(t).call(this,e))).subs=new ee.a,n.onIssueNewQuery=function(){n.props.panel.refresh()},n.onPanelRefresh=function(){n.setState((function(e){return ie({},e,{dsQuery:{isLoading:!0,response:{}}})}))},n.setFormattedJson=function(e){n.formattedJson=e},n.getTextForClipboard=function(){return JSON.stringify(n.formattedJson,null,2)},n.onClipboardSuccess=function(){Z.b.emit(f.AppEvents.alertSuccess,["Content copied to clipboard"])},n.onToggleExpand=function(){n.setState((function(e){return ie({},e,{allNodesExpanded:!n.state.allNodesExpanded})}))},n.onToggleMocking=function(){n.setState((function(e){return ie({},e,{isMocking:!n.state.isMocking})}))},n.getNrOfOpenNodes=function(){return null===n.state.allNodesExpanded?3:n.state.allNodesExpanded?20:1},n.setMockedResponse=function(e){var t=e.target.value;n.setState((function(e){return ie({},e,{mockedResponse:t})}))},n.state={executedQueries:[],allNodesExpanded:null,isMocking:!1,mockedResponse:"",dsQuery:{isLoading:!1,response:{}}},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.panel;this.subs.add(te.b.getInspectorStream().subscribe({next:function(t){return e.onDataSourceResponse(t)}})),this.subs.add(t.events.subscribe(ne.RefreshEvent,this.onPanelRefresh)),this.updateQueryList()}},{key:"componentDidUpdate",value:function(e){this.props.data!==e.data&&this.updateQueryList()}},{key:"updateQueryList",value:function(){var e=this.props.data,t=[];if(null==e?void 0:e.length){var n=void 0;e.forEach((function(e,r){var o,a=null===(o=e.meta)||void 0===o?void 0:o.executedQueryString;if(a){var i,l=e.refId||"?";(null===(i=n)||void 0===i?void 0:i.refId)===l?(n.frames++,n.rows+=e.length):(n={refId:l,frames:0,rows:e.length,query:a},t.push(n))}}))}this.setState({executedQueries:t})}},{key:"componentWillUnmount",value:function(){this.subs.unsubscribe()}},{key:"onDataSourceResponse",value:function(e){var t;(null===(t=e.config)||void 0===t?void 0:t.hideFromInspector)||((e=ie({},e)).headers&&delete e.headers,e.config&&(e.request=e.config,delete e.config,delete e.request.transformRequest,delete e.request.transformResponse,delete e.request.paramSerializer,delete e.request.jsonpCallbackParam,delete e.request.headers,delete e.request.requestId,delete e.request.inspect,delete e.request.retry,delete e.request.timeout),e.data&&(e.response=e.data,delete e.config,delete e.data,delete e.status,delete e.statusText,delete e.ok,delete e.url,delete e.redirected,delete e.type,delete e.$$config),this.setState((function(t){return ie({},t,{dsQuery:{isLoading:!1,response:e}})})))}},{key:"renderExecutedQueries",value:function(e){if(!e.length)return null;var t={refId:Object(u.css)(oe(),l.config.theme.typography.weight.semibold,l.config.theme.colors.textBlue)};return o.a.createElement("div",null,e.map((function(e){return o.a.createElement("div",{key:e.refId},o.a.createElement("div",null,o.a.createElement("span",{className:t.refId},e.refId,":"),e.frames>1&&o.a.createElement("span",null,e.frames," frames, "),o.a.createElement("span",null,e.rows," rows")),o.a.createElement("pre",null,e.query))})))}},{key:"render",value:function(){var e=this.state,t=e.allNodesExpanded,n=e.executedQueries,r=this.state.dsQuery,a=r.response,i=r.isLoading,l=this.getNrOfOpenNodes(),u=Object(s.a)(),f=Object.keys(a).length>0;return Object(K.b)(this.props.panel.plugin)?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{"aria-label":b.selectors.components.PanelInspector.Query.content},o.a.createElement("h3",{className:"section-heading"},"Query inspector"),o.a.createElement("p",{className:"small muted"},"Query inspector allows you to view raw request and response. To collect this data Grafana needs to issue a new query. Hit refresh button below to trigger a new query.")),this.renderExecutedQueries(n),o.a.createElement("div",{className:u.toolbar},o.a.createElement(c.Button,{icon:"sync",onClick:this.onIssueNewQuery,"aria-label":b.selectors.components.PanelInspector.Query.refreshButton},"Refresh"),f&&t&&o.a.createElement(c.Button,{icon:"minus",variant:"secondary",className:u.toolbarItem,onClick:this.onToggleExpand},"Collapse all"),f&&!t&&o.a.createElement(c.Button,{icon:"plus",variant:"secondary",className:u.toolbarItem,onClick:this.onToggleExpand},"Expand all"),f&&o.a.createElement($.a,{text:this.getTextForClipboard,onSuccess:this.onClipboardSuccess,elType:"div",className:u.toolbarItem},o.a.createElement(c.Button,{icon:"copy",variant:"secondary"},"Copy to clipboard")),o.a.createElement("div",{className:"flex-grow-1"})),o.a.createElement("div",{className:u.contentQueryInspector},i&&o.a.createElement(c.LoadingPlaceholder,{text:"Loading query inspector..."}),!i&&f&&o.a.createElement(c.JSONFormatter,{json:a,open:l,onDidRender:this.setFormattedJson}),!i&&!f&&o.a.createElement("p",{className:"muted"},"No request & response collected yet. Hit refresh button"))):null}}])&&ce(n.prototype,r),a&&ce(n,a),t}(r.PureComponent),de=n("Cved");function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var me=function(e){var t=e.panel,n=e.plugin,a=e.dashboard,i=e.tabs,u=e.data,f=e.isDataLoading,p=e.dataOptions,h=e.metadataDatasource,m=e.defaultTab,b=e.onDataOptionsChange,g=e.onClose,y=he(Object(r.useState)(null!=m?m:de.a.Data),2),v=y[0],O=y[1];if(!n)return null;var w=Object(s.a)(),j=null==u?void 0:u.error,S=v;i.find((function(e){return e.value===v}))||(S=de.a.JSON);var E=Object(l.getTemplateSrv)().replace(t.title,t.scopedVars,"text");return o.a.createElement(c.Drawer,{title:"Inspect: ".concat(E||"Panel"),subtitle:o.a.createElement(d,{tabs:i,tab:S,data:u,onSelectTab:function(e){return O(e.value||de.a.Data)}}),width:"50%",onClose:g,expandable:!0},S===de.a.Data&&o.a.createElement(N,{panel:t,data:u&&u.series,isLoading:f,options:p,onOptionsChange:b}),o.a.createElement(c.CustomScrollbar,{autoHeightMin:"100%"},o.a.createElement(c.TabContent,{className:w.tabContent},u&&S===de.a.Meta&&o.a.createElement(I,{data:u,metadataDatasource:h}),S===de.a.JSON&&o.a.createElement(X,{panel:t,dashboard:a,data:u,onClose:g}),S===de.a.Error&&o.a.createElement(Q,{error:j}),u&&S===de.a.Stats&&o.a.createElement(J.a,{data:u,timeZone:a.getTimezone()}),u&&S===de.a.Query&&o.a.createElement(pe,{panel:t,data:u.series}))))},be=n("aBYM"),ge=n.n(be);function ye(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ye(a,r,o,i,l,"next",e)}function l(e){ye(a,r,o,i,l,"throw",e)}i(void 0)}))}}var Oe=n("3SGO");function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return je}));var je=Object(a.connect)((function(e,t){var n=e.dashboard.panels[t.panel.id];return n?{plugin:n.plugin}:{plugin:null}}))((function(e){var t=e.panel,n=e.dashboard,c=e.defaultTab,s=e.plugin;if(!s)return null;var u=Object(a.useDispatch)(),f=we(Object(r.useState)({withTransforms:!1,withFieldConfig:!0}),2),p=f[0],d=f[1],h=Object(i.a)(t,p),m=h.data,b=h.isLoading,g=h.error,y=function(e){return ge()(ve(regeneratorRuntime.mark((function t(){var n,r,o,a,i,c,s,u,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(null==e||null===(n=e.request)||void 0===n?void 0:n.targets)||[],!(e&&e.series&&r.length)){t.next=32;break}o=!0,a=!1,i=void 0,t.prev=5,c=e.series[Symbol.iterator]();case 7:if(o=(s=c.next()).done){t.next=18;break}if(!(u=s.value).meta||!u.meta.custom){t.next=15;break}return t.next=12,Object(l.getDataSourceSrv)().get(r[0].datasource);case 12:if(!(p=t.sent)||!(null===(f=p.components)||void 0===f?void 0:f.MetadataInspector)){t.next=15;break}return t.abrupt("return",p);case 15:o=!0,t.next=7;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(5),a=!0,i=t.t0;case 24:t.prev=24,t.prev=25,o||null==c.return||c.return();case 27:if(t.prev=27,!a){t.next=30;break}throw i;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt("return",void 0);case 33:case"end":return t.stop()}}),t,null,[[5,20,24,32],[25,,27,31]])}))),[e]).value}(m),v=function(e,t,n,o){return Object(r.useMemo)((function(){var r=[];return Object(K.b)(e)&&(r.push({label:"Data",value:de.a.Data}),r.push({label:"Stats",value:de.a.Stats})),o&&r.push({label:"Meta Data",value:de.a.Meta}),r.push({label:"JSON",value:de.a.JSON}),n&&n.message&&r.push({label:"Error",value:de.a.Error}),t.meta.canEdit&&Object(K.b)(e)&&r.push({label:"Query",value:de.a.Query}),r}),[e,o,t,n])}(s,n,g,y),O=Object(r.useCallback)((function(){u(Object(Oe.d)({query:{inspect:null,inspectTab:null},partial:!0}))}),[Oe.d]);return o.a.createElement(me,{dashboard:n,panel:t,plugin:s,defaultTab:c,tabs:v,data:m,isDataLoading:b,dataOptions:p,onDataOptionsChange:d,metadataDatasource:y,onClose:O})}))},lEZL:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("jYz7"),l=n("kDDq"),c=n("pugT"),s=n("Csm0"),u=n("kDLi"),f=n("ZFWI"),p=n("HJRA"),d=n("sCrc"),h=n("t8hP"),m=n("2nhE"),b=n("QQVG"),g=n("3ulR");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                  direction: ltr;\n                "]);return v=function(){return e},e}function O(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,l,"next",e)}function l(e){O(a,r,o,i,l,"throw",e)}i(void 0)}))}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){var e,n;j(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=E(this,(e=P(t)).call.apply(e,[this].concat(o)))).state={stateHistoryItems:[]},n.clearHistory=w(regeneratorRuntime.mark((function e(){var t,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.dashboard,o=t.panelId,a=t.onRefresh,e.next=3,Object(h.getBackendSrv)().post("/api/annotations/mass-delete",{dashboardId:r.id,panelId:o});case 3:n.setState({stateHistoryItems:[]}),a();case 5:case"end":return e.stop()}}),e)}))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dashboard,r=t.panelId;Object(h.getBackendSrv)().get("/api/annotations?dashboardId=".concat(n.id,"&panelId=").concat(r,"&limit=50&type=alert"),{},"state-history-".concat(n.id,"-").concat(r)).then((function(t){var r=t.map((function(e){return{stateModel:g.a.getStateDisplayModel(e.newState),time:n.formatDate(e.time,"MMM D, YYYY HH:mm:ss"),info:g.a.getAlertAnnotationInfo(e)}}));e.setState({stateHistoryItems:r})}))}},{key:"render",value:function(){var e=this.state.stateHistoryItems;return o.a.createElement("div",null,e.length>0&&o.a.createElement("div",{className:"p-b-1"},o.a.createElement("span",{className:"muted"},"Last 50 state changes"),o.a.createElement(u.ConfirmButton,{onConfirm:this.clearHistory,confirmVariant:"destructive",confirmText:"Clear"},o.a.createElement(u.Button,{className:Object(l.css)(v()),variant:"destructive",icon:"trash-alt"},"Clear history"))),o.a.createElement("ol",{className:"alert-rule-list"},e.length>0?e.map((function(e,t){return o.a.createElement("li",{className:"alert-rule-item",key:"".concat(e.time,"-").concat(t)},o.a.createElement("div",{className:"alert-rule-item__icon ".concat(e.stateModel.stateClass)},o.a.createElement(u.Icon,{name:e.stateModel.iconClass,size:"xl"})),o.a.createElement("div",{className:"alert-rule-item__body"},o.a.createElement("div",{className:"alert-rule-item__header"},o.a.createElement("p",{className:"alert-rule-item__name"},e.alertName),o.a.createElement("div",{className:"alert-rule-item__text"},o.a.createElement("span",{className:"".concat(e.stateModel.stateClass)},e.stateModel.text))),e.info),o.a.createElement("div",{className:"alert-rule-item__time"},e.time))})):o.a.createElement("i",null,"No state changes recorded")))}}])&&S(n.prototype,r),a&&S(n,a),t}(r.PureComponent),C=(n("eK0o"),n("Xmxp")),k=n("ttS0"),T=n("Obii");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(){var e,n;M(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=L(this,(e=F(t)).call.apply(e,[this].concat(a)))).state={isLoading:!1,allNodesExpanded:null,testRuleResponse:{}},n.setFormattedJson=function(e){n.formattedJson=e},n.getTextForClipboard=function(){return JSON.stringify(n.formattedJson,null,2)},n.onClipboardSuccess=function(){C.b.emit(T.AppEvents.alertSuccess,["Content copied to clipboard"])},n.onToggleExpand=function(){n.setState((function(e){return z({},e,{allNodesExpanded:!n.state.allNodesExpanded})}))},n.getNrOfOpenNodes=function(){return null===n.state.allNodesExpanded?3:n.state.allNodesExpanded?20:1},n.renderExpandCollapse=function(){var e=n.state.allNodesExpanded,t=o.a.createElement(o.a.Fragment,null,o.a.createElement(u.Icon,{name:"minus-circle"})," Collapse All"),r=o.a.createElement(o.a.Fragment,null,o.a.createElement(u.Icon,{name:"plus-circle"})," Expand All");return e?t:r},n}var n,r,a,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.testRule()}},{key:"testRule",value:(i=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.dashboard,r=t.panel,(o=n.getSaveModelClone()).panels=o.panels.map((function(e){return e.id===r.editSourceId?r.getSaveModel():e})),a={dashboard:o,panelId:r.id},this.setState({isLoading:!0}),e.next=7,Object(h.getBackendSrv)().post("/api/alerts/test",a);case 7:i=e.sent,this.setState({isLoading:!1,testRuleResponse:i});case 9:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){R(o,n,r,a,l,"next",e)}function l(e){R(o,n,r,a,l,"throw",e)}a(void 0)}))},function(){return l.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.testRuleResponse;if(!0===e.isLoading)return o.a.createElement(u.LoadingPlaceholder,{text:"Evaluating rule"});var n=this.getNrOfOpenNodes();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"pull-right"},o.a.createElement("button",{className:"btn btn-transparent btn-p-x-0 m-r-1",onClick:this.onToggleExpand},this.renderExpandCollapse()),o.a.createElement(k.a,{className:"btn btn-transparent btn-p-x-0",text:this.getTextForClipboard,onSuccess:this.onClipboardSuccess},o.a.createElement(u.Icon,{name:"copy"})," Copy to Clipboard")),o.a.createElement(u.JSONFormatter,{json:t,open:n,onDidRender:this.setFormattedJson}))}}])&&A(n.prototype,r),a&&A(n,a),t}(r.PureComponent),W=n("GQ3c"),U=n("bfds"),q=n("eLz+"),G=n("3SGO"),V=function(e){var t=e.message,n=e.dispatch,i=n||Object(a.useDispatch)(),l=Object(r.useCallback)((function(){i(Object(G.d)({query:{tab:q.b.Query},partial:!0}))}),[i]);return o.a.createElement(U.c,{justify:"center",style:{marginTop:"100px"}},o.a.createElement(u.VerticalGroup,{spacing:"md"},o.a.createElement("h2",null,t),o.a.createElement("div",null,o.a.createElement(u.Button,{size:"md",variant:"secondary",icon:"arrow-left",onClick:l},"Go back to Queries"))))};function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re,oe=function(e){function t(){var e,n;$(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=ee(this,(e=te(t)).call.apply(e,[this].concat(a)))).state={validationMessage:"",showStateHistory:!1,showDeleteConfirmation:!1,showTestRule:!1},n.onAngularPanelUpdated=function(){n.forceUpdate()},n.onAddAlert=function(){n.panelCtrl._enableAlert(),n.component.digest(),n.forceUpdate()},n.onToggleModal=function(e){var t=n.state[e];n.setState(J({},n.state,Z({},e,!t)))},n.renderTestRule=function(){if(!n.state.showTestRule)return null;var e=n.props,t=e.panel,r=e.dashboard,a=function(){return n.onToggleModal("showTestRule")};return o.a.createElement(u.Modal,{isOpen:!0,icon:"bug",title:"Testing rule",onDismiss:a,onClickBackdrop:a},o.a.createElement(B,{panel:t,dashboard:r}))},n.renderDeleteConfirmation=function(){if(!n.state.showDeleteConfirmation)return null;var e=n.props.panel,t=function(){return n.onToggleModal("showDeleteConfirmation")};return o.a.createElement(u.ConfirmModal,{isOpen:!0,icon:"trash-alt",title:"Delete",body:o.a.createElement("div",null,"Are you sure you want to delete this alert rule?",o.a.createElement("br",null),o.a.createElement("small",null,"You need to save dashboard for the delete to take effect.")),confirmText:"Delete Alert",onDismiss:t,onConfirm:function(){delete e.alert,e.thresholds=[],n.panelCtrl.alertState=null,n.panelCtrl.render(),n.component.digest(),t()}})},n.renderStateHistory=function(){var e;if(!n.state.showStateHistory)return null;var t=n.props,r=t.panel,a=t.dashboard,i=function(){return n.onToggleModal("showStateHistory")};return o.a.createElement(u.Modal,{isOpen:!0,icon:"history",title:"State history",onDismiss:i,onClickBackdrop:i},o.a.createElement(D,{dashboard:a,panelId:null!==(e=r.editSourceId)&&void 0!==e?e:r.id,onRefresh:function(){return n.panelCtrl.refresh()}}))},n}var n,r,a,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.loadAlertTab()}},{key:"componentDidUpdate",value:function(e){this.loadAlertTab()}},{key:"componentWillUnmount",value:function(){this.component&&this.component.destroy()}},{key:"loadAlertTab",value:(i=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,l,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.panel,r=t.angularPanelComponent,this.element&&r&&!this.component){e.next=3;break}return e.abrupt("return");case 3:if((o=r.getScope()).$$childHead){e.next=7;break}return setTimeout((function(){c.forceUpdate()})),e.abrupt("return");case 7:return this.panelCtrl=o.$$childHead.ctrl,a=Object(h.getAngularLoader)(),i={ctrl:this.panelCtrl},this.component=a.load(this.element,i,"<alert-tab />"),e.next=14,Object(m.a)(n.transformations,n.targets,Object(h.getDataSourceSrv)(),n.datasource);case 14:(l=e.sent)&&this.setState({validationMessage:l});case 16:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){Y(o,n,r,a,l,"next",e)}function l(e){Y(o,n,r,a,l,"throw",e)}a(void 0)}))},function(){return l.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.panel,n=t.alert,r=t.transformations,a=this.state.validationMessage,i=r&&r.length>0;if(!n&&a)return o.a.createElement(V,{message:a});var l={title:"Panel has no alert rule defined",buttonIcon:"bell",onClick:this.onAddAlert,buttonTitle:"Create Alert"};return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.CustomScrollbar,{autoHeightMin:"100%"},o.a.createElement(u.Container,{padding:"md"},o.a.createElement("div",{"aria-label":s.selectors.components.AlertTab.content},n&&i&&o.a.createElement(u.Alert,{severity:W.AppNotificationSeverity.Error,title:"Transformations are not supported in alert queries"}),o.a.createElement("div",{ref:function(t){return e.element=t}}),n&&o.a.createElement(u.HorizontalGroup,null,o.a.createElement(u.Button,{onClick:function(){return e.onToggleModal("showStateHistory")},variant:"secondary"},"State history"),o.a.createElement(u.Button,{onClick:function(){return e.onToggleModal("showTestRule")},variant:"secondary"},"Test rule"),o.a.createElement(u.Button,{onClick:function(){return e.onToggleModal("showDeleteConfirmation")},variant:"destructive"},"Delete")),!n&&!a&&o.a.createElement(b.a,l)))),this.renderTestRule(),this.renderDeleteConfirmation(),this.renderStateHistory())}}])&&K(n.prototype,r),a&&K(n,a),t}(r.PureComponent),ae=Object(a.connect)((function(e,t){return{angularPanelComponent:e.dashboard.panels[t.panel.id].angularComponent}}),{})(oe),ie=n("jcCG");function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=(le(re={},T.DocsId.Transformations,"https://grafana.com/docs/grafana/latest/panels/transformations"),le(re,T.DocsId.FieldConfig,"https://grafana.com/docs/grafana/latest/panels/field-configuration-options/"),le(re,T.DocsId.FieldConfigOverrides,"https://grafana.com/docs/grafana/latest/panels/field-configuration-options/#override-a-field"),re),se=function(e){return ce[e]},ue=n("ngQI"),fe=n("psW0");function pe(){var e=je(["\n      flex-grow: 1;\n      height: 100%;\n      overflow: hidden;\n      padding: ",";\n    "]);return pe=function(){return e},e}function de(){var e=je(["\n      margin-top: ",";\n      padding: 0 "," "," ",";\n      border: 1px solid ",";\n      background: ",";\n      border-radius: ",";\n      width: 100%;\n      min-height: 300px;\n      display: flex;\n      flex-direction: column;\n      align-self: stretch;\n    "]);return de=function(){return e},e}function he(){var e=je(["\n      padding: "," ",";\n      font-family: ",";\n      font-size: ",";\n      color: ",";\n      border-bottom: 1px solid ",";\n      flex-grow: 0;\n      flex-shrink: 1;\n    "]);return he=function(){return e},e}function me(){var e=je(["\n      width: 48px;\n      min-height: 300px;\n      display: flex;\n      align-items: center;\n      align-self: stretch;\n      justify-content: center;\n      margin: 0 ",";\n      color: ",";\n    "]);return me=function(){return e},e}function be(){var e=je(["\n      display: flex;\n      flex-direction: row;\n    "]);return be=function(){return e},e}function ge(){var e=je([""]);return ge=function(){return e},e}function ye(){var e=je(["\n      background: transparent;\n      border: none;\n      box-shadow: none;\n      cursor: pointer;\n      color: ",";\n      margin-left: ",";\n      &:hover {\n        color: ",";\n      }\n    "]);return ye=function(){return e},e}function ve(){var e=je(["\n      display: flex;\n    "]);return ve=function(){return e},e}function Oe(){var e=je(["\n      font-weight: ",";\n      color: ",";\n    "]);return Oe=function(){return e},e}function we(){var e=je(["\n      display: flex;\n      padding: 4px 8px 4px 8px;\n      position: relative;\n      height: 35px;\n      border-radius: 4px 4px 0 0;\n      flex-wrap: nowrap;\n      justify-content: space-between;\n      align-items: center;\n    "]);return we=function(){return e},e}function je(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var De=function(e){var t=e.debugMode,n=e.index,a=e.data,i=e.uiConfig,l=e.configs,c=e.onChange,f=Object(u.useStyles)(Ce),p=xe(Object(r.useState)([]),2),d=p[0],h=p[1],m=xe(Object(r.useState)([]),2),b=m[0],g=m[1],y=Object(r.useMemo)((function(){return l[n]}),[l,n]);Object(r.useEffect)((function(){var e=l.slice(0,n).map((function(e){return e.transformation})),t=l.slice(n,n+1).map((function(e){return e.transformation})),r=Object(T.transformDataFrame)(e,a).subscribe(h),o=Object(T.transformDataFrame)(e,a).pipe(Object(fe.b)((function(e){return Object(T.transformDataFrame)(t,e)}))).subscribe(g);return function(){r.unsubscribe(),o.unsubscribe()}}),[n,a,l]);var v=Object(r.useMemo)((function(){return o.a.createElement(i.editor,{options:Ee({},i.transformation.defaultOptions,{},y.transformation.options),input:d,onChange:function(e){c(n,{id:y.transformation.id,options:e})}})}),[i.editor,i.transformation.defaultOptions,y.transformation.id,y.transformation.options,d,c]);return o.a.createElement("div",{className:f.editor,"aria-label":s.selectors.components.TransformTab.transformationEditor(i.name)},v,t&&o.a.createElement("div",{className:f.debugWrapper,"aria-label":s.selectors.components.TransformTab.transformationEditorDebugger(i.name)},o.a.createElement("div",{className:f.debug},o.a.createElement("div",{className:f.debugTitle},"Transformation input data"),o.a.createElement("div",{className:f.debugJson},o.a.createElement(u.JSONFormatter,{json:d}))),o.a.createElement("div",{className:f.debugSeparator},o.a.createElement(u.Icon,{name:"arrow-right"})),o.a.createElement("div",{className:f.debug},o.a.createElement("div",{className:f.debugTitle},"Transformation output data"),o.a.createElement("div",{className:f.debugJson},b&&o.a.createElement(u.JSONFormatter,{json:b})))))},Ce=function(e){var t=e.isLight?e.palette.gray85:e.palette.gray15;return{title:Object(l.css)(we()),name:Object(l.css)(Oe(),e.typography.weight.semibold,e.colors.textBlue),iconRow:Object(l.css)(ve()),icon:Object(l.css)(ye(),e.colors.textWeak,e.spacing.sm,e.colors.text),editor:Object(l.css)(ge()),debugWrapper:Object(l.css)(be()),debugSeparator:Object(l.css)(me(),e.spacing.xs,e.colors.textBlue),debugTitle:Object(l.css)(he(),e.spacing.sm,e.spacing.xxs,e.typography.fontFamily.monospace,e.typography.size.sm,e.colors.text,t),debug:Object(l.css)(de(),e.spacing.sm,e.spacing.sm,e.spacing.sm,e.spacing.sm,t,e.isLight?e.palette.white:e.palette.gray05,e.border.radius.sm),debugJson:Object(l.css)(pe(),e.spacing.xs)}},ke=n("lcF4"),Te=n("s51j");function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Re=function(e){var t=e.onRemove,n=e.index,a=e.id,i=e.data,l=e.configs,c=e.uiConfig,s=e.onChange,f=_e(Object(r.useState)(!1),2),p=f[0],d=f[1];return o.a.createElement(ke.a,{id:a,index:n,title:c.name,draggable:!0,actions:function(e){var r=e.isOpen;return o.a.createElement(u.HorizontalGroup,{align:"center",width:"auto"},o.a.createElement(Te.a,{title:"Debug",disabled:!r,icon:"bug",onClick:function(){d(!p)}}),o.a.createElement(Te.a,{title:"Remove",icon:"trash-alt",onClick:function(){return t(n)}}))}},o.a.createElement(De,{debugMode:p,index:n,data:i,configs:l,uiConfig:c,onChange:s}))},Ne=function(e){var t=e.data,n=e.onChange,r=e.onRemove,a=e.configs;return o.a.createElement(o.a.Fragment,null,a.map((function(e,i){var l=T.standardTransformersRegistry.getIfExists(e.transformation.id);return l?o.a.createElement(Re,{index:i,id:"".concat(e.id),key:"".concat(e.id),data:t,configs:a,uiConfig:l,onRemove:r,onChange:n}):null})))};function ze(){var e=He(["\n      background: ",";\n      width: 100%;\n      border: none;\n      padding: ",";\n\n      // hack because these cards use classes from a very different card for some reason\n      .add-data-source-item-text {\n        font-size: ",";\n      }\n\n      &:hover {\n        background: ",";\n        box-shadow: none;\n        border: none;\n      }\n    "]);return ze=function(){return e},e}function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(){var e=He(["\n              margin-bottom: ",";\n            "]);return Me=function(){return e},e}function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fe(){var e=He(["\n          max-width: 66%;\n        "]);return Fe=function(){return e},e}function He(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Be(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ue(this,qe(t).call(this,e))).getTransformationNextId=function(e){var t=0,r=n.state.transformations.filter((function(t){return t.id.startsWith(e)})).map((function(e){return e.id}));return 0!==r.length&&(t=Math.max.apply(Math,Be(r.map((function(e){return parseInt(e.match(/\d+/)[0],10)}))))+1),"".concat(e,"-").concat(t)},n.onTransformationAdd=function(e){var t=n.state.transformations,r=n.getTransformationNextId(e.value);n.onChange([].concat(Be(t),[{id:r,transformation:{id:e.value,options:{}}}]))},n.onTransformationChange=function(e,t){var r=n.state.transformations,o=Array.from(r);o[e].transformation=t,n.onChange(o)},n.onTransformationRemove=function(e){var t=n.state.transformations,r=Array.from(t);r.splice(e,1),n.onChange(r)},n.renderTransformationSelector=function(){var e=T.standardTransformersRegistry.list().map((function(e){return{value:e.transformation.id,label:e.name,description:e.description}}));return o.a.createElement("div",{className:Object(l.css)(Fe())},o.a.createElement(u.ValuePicker,{size:"md",variant:"secondary",label:"Add transformation",options:e,onChange:n.onTransformationAdd,isFullWidth:!1}))},n.onDragEnd=function(e){var t=n.state.transformations;if(e&&e.destination){var r=e.source.index,o=e.destination.index;if(r!==o){var a=Array.from(t),i=Le(a.splice(r,1),1)[0];a.splice(o,0,i),n.onChange(a)}}},n.renderTransformationEditors=function(){var e=n.state,t=e.data,r=e.transformations;return o.a.createElement(ue.a,{onDragEnd:n.onDragEnd},o.a.createElement(ue.c,{droppableId:"transformations-list",direction:"vertical"},(function(e){return o.a.createElement("div",Ae({ref:e.innerRef},e.droppableProps),o.a.createElement(Ne,{configs:r,data:t,onRemove:n.onTransformationRemove,onChange:n.onTransformationChange}),e.placeholder)})))};var r=e.panel.transformations||[],a=n.buildTransformationIds(r);return n.state={transformations:r.map((function(e,t){return{transformation:e,id:a[t]}})),data:[]},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,e),n=t,(r=[{key:"buildTransformationIds",value:function(e){for(var t={},n=[],r=0;r<e.length;r++){var o=e[r];void 0===t[o.id]?t[o.id]=0:t[o.id]+=1,n.push("".concat(e[r].id,"-").concat(t[e[r].id]))}return n}},{key:"componentDidMount",value:function(){var e=this;this.subscription=this.props.panel.getQueryRunner().getData({withTransforms:!1,withFieldConfig:!1}).subscribe({next:function(t){return e.setState({data:t.series})}})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"onChange",value:function(e){this.setState({transformations:e}),this.props.panel.setTransformations(e.map((function(e){return e.transformation})))}},{key:"renderNoAddedTransformsState",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.Container,{grow:1},o.a.createElement(u.DismissableFeatureInfoBox,{title:"Transformations",className:Object(l.css)(Me(),this.props.theme.spacing.lg),persistenceId:"transformationsFeaturesInfoBox",url:se(T.DocsId.Transformations)},o.a.createElement("p",null,"Transformations allow you to join, calculate, re-order, hide and rename your query results before being visualized. ",o.a.createElement("br",null),"Many transforms are not suitable if you're using the Graph visualization as it currently only supports time series. ",o.a.createElement("br",null),"It can help to switch to Table visualization to understand what a transformation is doing. ",o.a.createElement("br",null)))),o.a.createElement(u.VerticalGroup,null,T.standardTransformersRegistry.list().map((function(t){return o.a.createElement(Xe,{key:t.name,title:t.name,description:t.description,actions:o.a.createElement(u.Button,null,"Select"),ariaLabel:s.selectors.components.TransformTab.newTransform(t.name),onClick:function(){e.onTransformationAdd({value:t.id})}})}))))}},{key:"render",value:function(){var e=this.props.panel.alert,t=this.state.transformations.length>0;return!t&&e?o.a.createElement(V,{message:"Transformations can't be used on a panel with existing alerts"}):o.a.createElement(u.CustomScrollbar,{autoHeightMin:"100%"},o.a.createElement(u.Container,{padding:"md"},o.a.createElement("div",{"aria-label":s.selectors.components.TransformTab.content},t&&e?o.a.createElement(u.Alert,{severity:W.AppNotificationSeverity.Error,title:"Transformations can't be used on a panel with alerts"}):null,!t&&this.renderNoAddedTransformsState(),t&&this.renderTransformationEditors(),t&&this.renderTransformationSelector())))}}])&&We(n.prototype,r),a&&We(n,a),t}(o.a.PureComponent),Xe=function(e){var t=Object(u.useTheme)(),n=Ye(t);return o.a.createElement(ie.a,Ae({},e,{className:n.card}))},Ye=Object(u.stylesFactory)((function(e){return{card:Object(l.css)(ze(),e.colors.bg2,e.spacing.sm,e.typography.size.md,e.colors.bg3)}})),Qe=Object(u.withTheme)(Ve),Je=n("xAj+"),Ze=n("9tWQ");function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=et(this,tt(t).call(this,e))).onRunQueries=function(){n.props.panel.refresh()},n.onOpenQueryInspector=function(){Object(h.getLocationSrv)().update({query:{inspect:n.props.panel.id,inspectTab:"query"},partial:!0})},n.onOptionsChange=function(e){var t,r,o,a=n.props.panel,i=e.dataSource.default?null:e.dataSource.name,l=i!==a.datasource;a.datasource=i,a.targets=e.queries,a.timeFrom=null===(t=e.timeRange)||void 0===t?void 0:t.from,a.timeShift=null===(r=e.timeRange)||void 0===r?void 0:r.shift,a.hideTimeOverride=null===(o=e.timeRange)||void 0===o?void 0:o.hide,a.interval=e.minInterval,a.maxDataPoints=e.maxDataPoints,l&&setTimeout(n.onRunQueries,10),n.setState({options:e})},n.state={options:n.buildQueryOptions(e)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,e),n=t,(r=[{key:"buildQueryOptions",value:function(e){var t=e.panel;return{dataSource:{name:t.datasource},queries:t.targets,maxDataPoints:t.maxDataPoints,minInterval:t.interval,timeRange:{from:t.timeFrom,shift:t.timeShift,hide:t.hideTimeOverride}}}},{key:"render",value:function(){var e=this.props.panel,t=this.state.options;return o.a.createElement(Ze.a,{options:t,queryRunner:e.getQueryRunner(),onRunQueries:this.onRunQueries,onOpenQueryInspector:this.onOpenQueryInspector,onOptionsChange:this.onOptionsChange})}}])&&Ke(n.prototype,r),a&&Ke(n,a),t}(r.PureComponent);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(){var e=ct(["\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      min-height: 0;\n      background: ",";\n      border-right: 1px solid ",";\n\n      .toolbar {\n        background: transparent;\n      }\n    "]);return at=function(){return e},e}function it(){var e=ct(["\n      padding-left: ",";\n    "]);return it=function(){return e},e}function lt(){var e=ct(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    "]);return lt=function(){return e},e}function ct(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(e){function t(){var e,n;st(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=ft(this,(e=pt(t)).call.apply(e,[this].concat(o)))).eventSubs=new c.a,n.triggerForceUpdate=function(){n.forceUpdate()},n.getCounter=function(e){var t,r=n.props.panel;switch(e.id){case q.b.Query:return r.targets.length;case q.b.Alert:return r.alert?1:0;case q.b.Transform:return(null!==(t=r.getTransformations())&&void 0!==t?t:[]).length}return null},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.panel.events;this.eventSubs.add(e.subscribe(Je.PanelQueriesChangedEvent,this.triggerForceUpdate)),this.eventSubs.add(e.subscribe(Je.PanelTransformationsChangedEvent,this.triggerForceUpdate))}},{key:"componentWillUnmount",value:function(){this.eventSubs.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.props,n=t.dashboard,r=t.onChangeTab,a=t.tabs,i=t.panel,l=mt(),c=a.find((function(e){return e.active}));return 0===a.length?null:o.a.createElement("div",{className:l.wrapper},o.a.createElement(u.TabsBar,{className:l.tabBar},a.map((function(t){return o.a.createElement(u.Tab,{key:t.id,label:t.text,active:t.active,onChangeTab:function(){return r(t)},icon:t.icon,counter:e.getCounter(t)})}))),o.a.createElement(u.TabContent,{className:l.tabContent},c.id===q.b.Query&&o.a.createElement(rt,{panel:i}),c.id===q.b.Alert&&o.a.createElement(ae,{panel:i,dashboard:n}),c.id===q.b.Transform&&o.a.createElement(Qe,{panel:i})))}}])&&ut(n.prototype,r),a&&ut(n,a),t}(r.PureComponent),mt=Object(u.stylesFactory)((function(){var e=f.a.theme;return{wrapper:Object(l.css)(lt()),tabBar:Object(l.css)(it(),e.spacing.md),tabContent:Object(l.css)(at(),e.colors.panelBg,e.colors.pageHeaderBorder)}})),bt=n("maUf"),gt=n("dRu9"),yt=n("LvDl"),vt=n.n(yt),Ot=n("tEy8"),wt=n("EnUn");function jt(){var e=Tt(["\n          position: relative;\n          padding-right: 0;\n          &:before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 8px;\n            width: 1px;\n            height: 100%;\n            background: ",";\n          }\n        "]);return jt=function(){return e},e}function St(){var e=Tt(["\n        padding: "," "," "," ",";\n      "]);return St=function(){return e},e}function Et(){var e=Tt(["\n          padding-left: 0;\n          padding-right: 0;\n          padding-top: 0;\n        "]);return Et=function(){return e},e}function Pt(){var e=Tt(["\n        display: flex;\n        cursor: pointer;\n        align-items: baseline;\n        padding: "," "," "," ",";\n        color: ",";\n        font-weight: ",";\n\n        &:hover {\n          color: ",";\n\n          .editor-options-group-toggle {\n            color: ",";\n          }\n        }\n      "]);return Pt=function(){return e},e}function xt(){var e=Tt(["\n      flex-grow: 1;\n      overflow: hidden;\n    "]);return xt=function(){return e},e}function Dt(){var e=Tt(["\n      color: ",";\n      margin-right: ",";\n    "]);return Dt=function(){return e},e}function Ct(){var e=Tt(["\n          margin-bottom: ","px;\n        "]);return Ct=function(){return e},e}function kt(){var e=Tt(["\n          border-bottom: 1px solid ",";\n        "]);return kt=function(){return e},e}function Tt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Nt=function(e){var t=e.id,n=e.title,r=e.children,a=e.defaultToClosed,i=e.renderTitle,l=e.className,c=e.nested,s=void 0!==c&&c,u=e.persistMe,f=void 0===u||u,p=e.onToggle;return f?o.a.createElement(zt,{id:t,defaultToClosed:a,className:l,nested:s,renderTitle:i,persistMe:f,title:n,onToggle:p},r):o.a.createElement(It,{id:t,defaultToClosed:a,className:l,nested:s,renderTitle:i,title:n,onToggle:p},r)},zt=Object(r.memo)((function(e){var t=Rt(Object(wt.a)(At(e.id),{defaultToClosed:e.defaultToClosed}),2),n=t[0],a=t[1],i=Object(r.useCallback)((function(t){a({defaultToClosed:!t}),e.onToggle&&e.onToggle(t)}),[a,e.onToggle]);return o.a.createElement(It,_t({},e,{defaultToClosed:n.defaultToClosed,onToggle:i}))})),It=function(e){var t=e.id,n=e.title,a=e.children,i=e.defaultToClosed,c=e.renderTitle,f=e.className,p=e.nested,d=void 0!==p&&p,h=e.onToggle,m=Rt(Object(r.useState)(!i),2),b=m[0],g=m[1],y=Object(u.useTheme)(),v=Mt(y,b,d);return Object(r.useEffect)((function(){h&&h(b)}),[b]),o.a.createElement("div",{className:Object(l.cx)(v.box,f,"options-group")},o.a.createElement("div",{className:v.header,onClick:function(){return g(!b)},"aria-label":s.selectors.components.OptionsGroup.toggle(t)},o.a.createElement("div",{className:Object(l.cx)(v.toggle,"editor-options-group-toggle")},o.a.createElement(u.Icon,{name:b?"angle-down":"angle-right"})),o.a.createElement("div",{className:v.title},c?c(b):n)),b&&o.a.createElement("div",{className:v.body},vt.a.isFunction(a)?a(g):a))},Mt=Object(u.stylesFactory)((function(e,t,n){return{box:Object(l.cx)(!n&&Object(l.css)(kt(),e.colors.pageHeaderBorder),n&&t&&Object(l.css)(Ct(),2*e.spacing.formSpacingBase)),toggle:Object(l.css)(Dt(),e.colors.textWeak,e.spacing.sm),title:Object(l.css)(xt()),header:Object(l.cx)(Object(l.css)(Pt(),e.spacing.sm,e.spacing.md,e.spacing.sm,e.spacing.sm,t?e.colors.text:e.colors.formLabel,e.typography.weight.semibold,e.colors.text,e.colors.text),n&&Object(l.css)(Et())),body:Object(l.cx)(Object(l.css)(St(),e.spacing.sm,e.spacing.md,e.spacing.sm,e.spacing.xl),n&&Object(l.css)(jt(),e.colors.pageHeaderBorder))}})),At=function(e){return"".concat(Ot.a,".optionGroup[").concat(e,"]")};function Lt(){var e=Ht(["\n      label: collapsibleOverrideEditor;\n      & + .dynamicConfigValueEditor--nonCollapsible {\n        margin-top: ","px;\n      }\n    "]);return Lt=function(){return e},e}function Ft(){var e=Ht(["\n          padding-left: 0;\n          padding-right: 0;\n        "]);return Ft=function(){return e},e}function Ht(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Bt=function(e){var t,n=e.property,r=e.context,a=e.registry,i=e.onChange,c=e.onRemove,s=e.isCollapsible,f=e.isSystemOverride,p=Object(u.useTheme)(),d=Wt(p),h=null==a?void 0:a.getIfExists(n.id);if(!h)return null;var m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var r,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.a.createElement(u.HorizontalGroup,{justify:"space-between"},o.a.createElement(u.Label,{category:null===(r=h.category)||void 0===r?void 0:r.filter((function(e){return void 0!==e})),description:e?h.description:void 0},h.name,!a&&t&&h.getItemsCount&&o.a.createElement(u.Counter,{value:h.getItemsCount(n.value)})),!f&&o.a.createElement("div",null,o.a.createElement(u.IconButton,{name:"times",onClick:c})))}};return t=s?o.a.createElement(Nt,{id:h.name,renderTitle:m(!1,!0),className:Object(l.css)(Ft()),nested:!0,defaultToClosed:void 0!==n.value},o.a.createElement(h.override,{value:n.value,onChange:function(e){i(e)},item:h,context:r})):o.a.createElement("div",null,o.a.createElement(u.Field,{label:m()(),description:h.description},o.a.createElement(h.override,{value:n.value,onChange:function(e){i(e)},item:h,context:r}))),o.a.createElement("div",{className:Object(l.cx)(s&&d.collapsibleOverrideEditor,!s&&"dynamicConfigValueEditor--nonCollapsible")},t)},Wt=Object(u.stylesFactory)((function(e){return{collapsibleOverrideEditor:Object(l.css)(Lt(),e.spacing.formSpacingBase)}})),Ut=n("GkHB");function qt(){var e=Qt(["\n      margin-bottom: 0;\n    "]);return qt=function(){return e},e}function Gt(){var e=Qt(["\n      overflow: hidden;\n      padding-right: ",";\n    "]);return Gt=function(){return e},e}function Vt(){var e=Qt(["\n      font-size: ",";\n      color: ",";\n      font-weight: ",";\n    "]);return Vt=function(){return e},e}function Xt(){var e=Qt(["\n      margin-top: ","px;\n    "]);return Xt=function(){return e},e}function Yt(){var e=Qt(["\n      padding: ",";\n    "]);return Yt=function(){return e},e}function Qt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Jt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Zt=[T.FieldConfigProperty.Thresholds,T.FieldConfigProperty.Links,T.FieldConfigProperty.Mappings],$t=function(e){var t=e.name,n=e.data,a=e.override,i=e.onChange,l=e.onRemove,c=e.registry,s=u.fieldMatchersUI.get(a.matcher.id),f=Object(u.useStyles)(Kt),p=a.properties.map((function(e){return c.getIfExists(e.id)})).filter((function(e){return!!e})),d=o.a.createElement(u.Label,null,s.name),h=Object(r.useCallback)((function(e){a.matcher.options=e,i(a)}),[a,i]),m=Object(r.useCallback)((function(e,t){a.properties[e].value=t,i(a)}),[a,i]),b=Object(r.useCallback)((function(e){a.properties.splice(e,1),i(a)}),[a,i]),g=Object(r.useCallback)((function(e){var t={id:e,value:c.get(e).defaultValue};a.properties?a.properties.push(t):a.properties=[t],i(a)}),[a,i]),y=c.list().filter((function(e){return!e.hideFromOverrides})).map((function(e){var t=e.name;return e.category&&e.category.length>1&&(t=[].concat(Jt(e.category.slice(1)),[e.name]).join(" > ")),{label:t,value:e.id,description:e.description}})),v=Object(T.isSystemOverride)(a);return o.a.createElement(Nt,{renderTitle:function(e){var n=p.map((function(e){return null==e?void 0:e.name})).join(", "),r=s.optionsToLabel(a.matcher.options);return o.a.createElement("div",null,o.a.createElement(u.HorizontalGroup,{justify:"space-between"},o.a.createElement("div",null,t),o.a.createElement(u.IconButton,{name:"trash-alt",onClick:l})),!e&&o.a.createElement("div",{className:f.overrideDetails},o.a.createElement("div",{className:f.options,title:r},s.name," ",o.a.createElement(u.Icon,{name:"angle-right"})," ",r),o.a.createElement("div",{className:f.options,title:n},"Properties overridden ",o.a.createElement(u.Icon,{name:"angle-right"}),n)))},id:t,key:t},o.a.createElement(u.Field,{label:d},o.a.createElement(s.component,{matcher:s.matcher,data:n,options:a.matcher.options,onChange:function(e){return h(e)}})),o.a.createElement(o.a.Fragment,null,a.properties.map((function(e,t){if(!c.getIfExists(e.id))return null;var r=Array.isArray(e.value)||Zt.includes(e.id);return o.a.createElement(Bt,{key:"".concat(e.id,"/").concat(t),isCollapsible:r,isSystemOverride:v,onChange:function(e){return m(t,e)},onRemove:function(){return b(t)},property:e,registry:c,context:{data:n,getSuggestions:function(e){return Object(Ut.a)(n,e)}}})})),!v&&a.matcher.options&&o.a.createElement("div",{className:f.propertyPickerWrapper},o.a.createElement(u.ValuePicker,{label:"Add override property",variant:"secondary",icon:"plus",options:y,onChange:function(e){g(e.value)},isFullWidth:!1}))))},Kt=function(e){return{matcherUi:Object(l.css)(Yt(),e.spacing.sm),propertyPickerWrapper:Object(l.css)(Xt(),2*e.spacing.formSpacingBase),overrideDetails:Object(l.css)(Vt(),e.typography.size.sm,e.colors.textWeak,e.typography.weight.regular),options:Object(l.css)(Gt(),e.spacing.xl),unknownLabel:Object(l.css)(qt())}};function en(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n            margin: ",";\n          "]);return en=function(){return e},e}function tn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var an=function(e){var t=Object(u.useTheme)(),n=e.config;return o.a.createElement("div",{"aria-label":s.selectors.components.OverridesConfigEditor.content},0===n.overrides.length&&o.a.createElement(u.FeatureInfoBox,{title:"Overrides",url:se(T.DocsId.FieldConfigOverrides),className:Object(l.css)(en(),t.spacing.md)},"Field override rules give you a fine grained control over how your data is displayed."),function(){var t=e.config,n=e.data,r=e.plugin.fieldConfigRegistry;return 0===t.overrides.length?null:o.a.createElement("div",null,t.overrides.map((function(t,a){return o.a.createElement($t,{name:"Override ".concat(a+1),key:"".concat(t.matcher.id,"/").concat(a),data:n,override:t,onChange:function(t){return function(t,n){var r=e.config,o=Object(yt.cloneDeep)(r.overrides);o[t]=n,e.onChange(rn({},r,{overrides:o}))}(a,t)},onRemove:function(){return function(t){var n=e.config,r=Object(yt.cloneDeep)(n.overrides);r.splice(t,1),e.onChange(rn({},n,{overrides:r}))}(a)},registry:r})})))}(),o.a.createElement(u.Container,{padding:"md"},o.a.createElement(u.ValuePicker,{icon:"plus",label:"Add an override for",variant:"secondary",options:u.fieldMatchersUI.list().filter((function(e){return!e.excludeFromPicker})).map((function(e){return{label:e.name,value:e.id,description:e.description}})),onChange:function(t){return function(t){var n=e.onChange,r=e.config;n(rn({},r,{overrides:[].concat(tn(r.overrides),[{matcher:{id:t.value},properties:[]}])}))}(t)},isFullWidth:!1})))},ln=function(e){var t=e.data,n=e.onChange,a=e.config,i=e.plugin,l=Object(r.useCallback)((function(e,t,r){n(Object(d.c)(a,e,t,r))}),[a,n]),c=Object(r.useCallback)((function(e,n){var r,i;if(e.isCustom&&e.showIf&&!e.showIf(a.defaults.custom,t))return null;if(e.hideFromDefaults)return null;var c=a.defaults,f=e.isCustom?c.custom?Object(yt.get)(c.custom,e.path):void 0:Object(yt.get)(c,e.path),p=o.a.createElement(u.Label,{description:e.description,category:null===(r=e.category)||void 0===r?void 0:r.slice(1)},e.name);return 1===n&&(null===(i=e.category)||void 0===i?void 0:i[0])===e.name&&(p=void 0),o.a.createElement(u.Field,{label:p,key:"".concat(e.id,"/").concat(e.isCustom),"aria-label":s.selectors.components.PanelEditor.FieldOptions.propertyEditor(e.isCustom?"Custom":"Default")},o.a.createElement(e.editor,{item:e,value:f,onChange:function(t){return l(e.path,t,e.isCustom)},context:{data:t,getSuggestions:function(e){return Object(Ut.a)(t,e)}}}))}),[a]),f="".concat(i.meta.name," options"),p=Object(yt.groupBy)(i.fieldConfigRegistry.list(),(function(e){return e.category&&e.category[0]?e.category[0]:f}));return o.a.createElement("div",{"aria-label":s.selectors.components.FieldConfigEditor.content},Object.keys(p).map((function(e,t){var n=p[e],r=function(e,t){var n=0,r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var c=i.value,s=c.isCustom?t.defaults.custom?t.defaults.custom[c.path]:void 0:t.defaults[c.path];c.getItemsCount&&c.getItemsCount(s)>0&&(n+=c.getItemsCount(s))}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return 0===n?void 0:n}(n,a);if(function(e){var t=e.filter((function(e){return e.hideFromDefaults})).length;return e.length-t>0}(n))return o.a.createElement(Nt,{renderTitle:function(t){return o.a.createElement(o.a.Fragment,null,e," ",!t&&r&&o.a.createElement(u.Counter,{value:r}))},id:"".concat(e,"/").concat(t),key:"".concat(e,"/").concat(t)},n.map((function(e){return c(e,n.length)})))})))};var cn=n("bt/X"),sn=n.n(cn);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pn=function(e){var t=e.plugin,n=e.options,a=e.onChange,i=e.data,l=e.eventBus,c=e.replaceVariables,s=Object(r.useMemo)((function(){return sn()(t.optionEditors.list(),(function(e){return e.category&&e.category[0]?e.category[0]:"Display"}))}),[t]),f=function(e,t){var r=Object(yt.set)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),e,t);a(r)},p={data:i||[],replaceVariables:c,options:n,eventBus:l,getSuggestions:function(e){return Object(Ut.d)(t,i)}};return o.a.createElement(o.a.Fragment,null,Object.keys(s).map((function(e,t){var r=s[e].map((function(e,t){var r;if(e.showIf&&!e.showIf(n,i))return null;var a=o.a.createElement(u.Label,{description:e.description,category:null===(r=e.category)||void 0===r?void 0:r.slice(1)},e.name);return o.a.createElement(u.Field,{label:a,key:"".concat(e.id,"/").concat(t)},o.a.createElement(e.editor,{value:Object(yt.get)(n,e.path),onChange:function(t){return f(e.path,t)},item:e,context:p}))})).filter((function(e){return null!==e}));return r.length>0?o.a.createElement(Nt,{title:e,defaultToClosed:!0,id:"".concat(e,"/").concat(t),key:"".concat(e,"/").concat(t)},o.a.createElement("div",null,r)):null})))},dn=n("J4KJ"),hn=n("SMGL");function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var On=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gn(this,yn(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.loadAngularOptions()}},{key:"componentDidUpdate",value:function(e){this.props.plugin!==e.plugin&&this.cleanUpAngularOptions(),this.loadAngularOptions()}},{key:"componentWillUnmount",value:function(){this.cleanUpAngularOptions()}},{key:"cleanUpAngularOptions",value:function(){this.angularOptions&&(this.angularOptions.destroy(),this.angularOptions=null)}},{key:"loadAngularOptions",value:function(){var e=this,t=this.props,n=t.panel,r=t.angularPanelComponent,o=t.changePanelPlugin;if(this.element&&r&&!this.angularOptions){var a=r.getScope();if(a.$$childHead){var i=a.$$childHead.ctrl;i.initEditMode(),i.onPluginTypeChange=function(e){o(n,e.id)};for(var l,c,s="",u=0;u<i.editorTabs.length;u++){var f=i.editorTabs[u];f.isOpen=(l=f.title,c=0===u,hn.a.getBool("panel-edit-section-".concat(l),c)),s+='\n      <div class="panel-options-group" ng-cloak>        \n        <div class="panel-options-group__header" ng-click="toggleOptionGroup('.concat(u,')" aria-label="').concat(f.title,' section">\n          <div class="panel-options-group__icon">\n            <icon name="ctrl.editorTabs[').concat(u,"].isOpen ? 'angle-down' : 'angle-right'\"></icon>\n          </div>\n          <div class=\"panel-options-group__title\">").concat(f.title,'</div>\n        </div>\n        <div class="panel-options-group__body" ng-if="ctrl.editorTabs[').concat(u,'].isOpen">\n          <panel-editor-tab editor-tab="ctrl.editorTabs[').concat(u,']" ctrl="ctrl"></panel-editor-tab>\n        </div>\n      </div>\n      ')}var p=Object(h.getAngularLoader)(),d={ctrl:i,toggleOptionGroup:function(e){var t=i.editorTabs[e];t.isOpen=!t.isOpen,function(e,t){hn.a.set("panel-edit-section-".concat(e),t?"true":"false")}(t.title,t.isOpen)}};this.angularOptions=p.load(this.element,d,s)}else setTimeout((function(){e.forceUpdate()}))}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{ref:function(t){return e.element=t}})}}])&&bn(n.prototype,r),a&&bn(n,a),t}(r.PureComponent),wn={changePanelPlugin:dn.b},jn=Object(a.connect)((function(e,t){return{angularPanelComponent:e.dashboard.panels[t.panel.id].angularComponent}}),wn)(On),Sn=n("R7n3");function En(){var e=Nn(["\n      position: absolute;\n      background: ",";\n      bottom: ",";\n      right: ",";\n      z-index: 1;\n    "]);return En=function(){return e},e}function Pn(){var e=Nn(["\n      height: 55px;\n    "]);return Pn=function(){return e},e}function xn(){var e=Nn(["\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n      font-size: ",";\n      text-align: center;\n      height: 23px;\n      font-weight: ",";\n      padding: 0 10px;\n      width: 100%;\n    "]);return xn=function(){return e},e}function Dn(){var e=Nn(["\n      opacity: 0.2;\n      filter: grayscale(1);\n      cursor: default;\n      pointer-events: none;\n      &:hover {\n        border: 1px solid ",";\n      }\n    "]);return Dn=function(){return e},e}function Cn(){var e=Nn(["\n      label: currentVisualizationItem;\n      > div:first-child {\n        ",";\n      }\n    "]);return Cn=function(){return e},e}function kn(){var e=Nn(["\n      position: relative;\n      z-index: 1;\n      width: 100%;\n    "]);return kn=function(){return e},e}function Tn(){var e=Nn(["\n      flex-shrink: 0;\n      flex-direction: column;\n      text-align: center;\n      cursor: pointer;\n      display: flex;\n      margin-right: 10px;\n      align-items: center;\n      justify-content: center;\n      padding-bottom: 6px;\n      height: 100px;\n      width: 100%;\n      position: relative;\n\n      &:hover {\n        > div:first-child {\n          transform: scale(1.05);\n          border-color: ",";\n        }\n      }\n    "]);return Tn=function(){return e},e}function _n(){var e=Nn(["\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: ",";\n      border: 1px solid ",";\n      border-radius: 3px;\n      transform: scale(1);\n      transform-origin: center;\n      transition: all 0.1s ease-in;\n      z-index: 0;\n    "]);return _n=function(){return e},e}function Rn(){var e=Nn(["\n      position: relative;\n    "]);return Rn=function(){return e},e}function Nn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var In=function(e){var t,n=e.isCurrent,r=e.plugin,a=e.onClick,i=e.disabled,c=Object(u.useTheme)(),f=Mn(c),p=Object(l.cx)((zn(t={},f.item,!0),zn(t,f.disabled,i||r.state===T.PluginState.deprecated),zn(t,f.current,n),t));return o.a.createElement("div",{className:f.wrapper,"aria-label":s.selectors.components.PluginVisualization.item(r.name)},o.a.createElement("div",{className:p,onClick:i?function(){}:a,title:n?"Click again to close this section":r.name},o.a.createElement("div",{className:f.bg}),o.a.createElement("div",{className:f.itemContent},o.a.createElement("div",{className:f.name,title:r.name},r.name),o.a.createElement("img",{className:f.img,src:r.info.logos.small}))),o.a.createElement("div",{className:Object(l.cx)(f.badge,i&&f.disabled)},o.a.createElement(Ln,{plugin:r})))};In.displayName="VizTypePickerPlugin";var Mn=Object(u.stylesFactory)((function(e){return{wrapper:Object(l.css)(Rn()),bg:Object(l.css)(_n(),e.colors.bg2,e.colors.border2),item:Object(l.css)(Tn(),e.colors.formFocusOutline),itemContent:Object(l.css)(kn()),current:Object(l.css)(Cn(),u.styleMixins.focusCss(e)),disabled:Object(l.css)(Dn(),e.colors.border2),name:Object(l.css)(xn(),e.typography.size.sm,e.typography.weight.semibold),img:Object(l.css)(Pn()),badge:Object(l.css)(En(),e.colors.bg1,e.spacing.xs,e.spacing.xs)}})),An=In,Ln=function(e){var t=e.plugin,n=function(e){switch(e.state){case T.PluginState.deprecated:return{text:"Deprecated",color:"red",tooltip:"".concat(e.name," panel is deprecated")};case T.PluginState.alpha:return{text:"Alpha",color:"blue",tooltip:"".concat(e.name," panel is experimental")};case T.PluginState.beta:return{text:"Beta",color:"blue",tooltip:"".concat(e.name," panel is in beta")};default:return null}}(t);return Object(Sn.b)(t.signature)?o.a.createElement(Sn.a,{status:t.signature}):n?o.a.createElement(u.Badge,{color:n.color,text:n.text,icon:n.icon,tooltip:n.tooltip}):null};function Fn(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      max-width: 100%;\n      display: grid;\n      grid-gap: ",";\n      grid-template-columns: repeat(auto-fit, minmax(116px, 1fr));\n    "]);return Fn=function(){return e},e}function Hn(){var e=f.b.panels;return Object.keys(e).filter((function(t){return!1===e[t].hideFromList})).map((function(t){return e[t]})).sort((function(e,t){return e.sort-t.sort}))}function Bn(e,t,n){if(!t.length)return e.filter((function(e){return e.state!==T.PluginState.deprecated||n.id===e.id}));var r=t.toLowerCase(),o=[],a=[],i=!0,l=!1,c=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var f=s.value;if(f.state!==T.PluginState.deprecated||n.id===f.id){var p=f.name.toLowerCase().indexOf(r);0===p?o.push(f):p>0&&a.push(f)}}}catch(e){l=!0,c=e}finally{try{i||null==u.return||u.return()}finally{if(l)throw c}}return o.concat(a)}Ln.displayName="PanelPluginBadge";var Wn=function(e){var t=e.searchQuery,n=e.onTypeChange,a=e.current,i=Object(u.useTheme)(),l=Un(i),c=Object(r.useMemo)((function(){return Hn()}),[]),s=Object(r.useCallback)((function(){return Bn(c,t,a)}),[t]),f=s(),p=f.length>0,d=f.concat(c.filter((function(e){return-1===f.indexOf(e)})));return o.a.createElement("div",{className:l.grid},p?d.map((function(e,r){return e.state===T.PluginState.deprecated?null:function(e,r){var i=e.id===a.id,l=s().indexOf(e)>-1;return o.a.createElement(An,{disabled:!l&&!!t,key:e.id,isCurrent:i,plugin:e,onClick:function(){return n(e)}})}(e)})):o.a.createElement(u.EmptySearchResult,null,"Could not find anything matching your query"))};Wn.displayName="VizTypePicker";var Un=Object(u.stylesFactory)((function(e){return{grid:Object(l.css)(Fn(),e.spacing.md)}})),qn=n("DR0N");function Gn(){var e=Yn(["\n      color: ",";\n      cursor: pointer;\n    "]);return Gn=function(){return e},e}function Vn(){var e=Yn(["\n      display: flex;\n      flex-direction: column;\n    "]);return Vn=function(){return e},e}function Xn(){var e=Yn(["\n      color: ",";\n    "]);return Xn=function(){return e},e}function Yn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Jn=o.a.forwardRef((function(e,t){var n=e.panel,a=e.plugin,i=e.changePanelPlugin,l=e.onToggleOptionGroup,c=Qn(Object(r.useState)(""),2),s=c[0],f=c[1],p=Object(u.useTheme)(),d=Zn(p);if(!a)return null;var h=function(e){e.id===a.meta.id?l(!1):i(n,e.id)},m=Object(r.useCallback)((function(e){if("Enter"===e.key){var t=e.currentTarget.value,n=Bn(Hn(),t,a.meta);n&&n.length&&h(n[0])}}),[h]),b=""!==s?o.a.createElement("span",{className:d.searchClear,onClick:function(){return f("")}},o.a.createElement(u.Icon,{name:"times"}),"Clear filter"):null;return o.a.createElement("div",{className:d.wrapper},o.a.createElement(qn.a,null,o.a.createElement(u.Input,{value:s,onChange:function(e){return f(e.currentTarget.value)},onKeyPress:m,prefix:o.a.createElement(u.Icon,{name:"filter",className:d.icon}),suffix:b,placeholder:"Filter visualizations",ref:t})),o.a.createElement(Wn,{current:a.meta,onTypeChange:h,searchQuery:s,onClose:function(){}}))}));Jn.displayName="VisualizationTabUnconnected";var Zn=Object(u.stylesFactory)((function(e){return{icon:Object(l.css)(Xn(),e.palette.gray33),wrapper:Object(l.css)(Vn()),searchClear:Object(l.css)(Gn(),e.palette.gray60)}})),$n={changePanelPlugin:dn.b},Kn=Object(a.connect)((function(e,t){return{plugin:e.plugins.panels[t.panel.type]}}),$n,void 0,{forwardRef:!0})(Jn),er=n("gR9h"),tr=function(e){var t=e.panel,n=e.plugin,a=e.data,i=e.dashboard,l=e.onPanelConfigChange,c=e.onPanelOptionsChanged,s=Object(r.useRef)(null),f=Object(r.useMemo)((function(){return Object(Ut.c)()}),[]),p=Object(r.useCallback)((function(e){return l("repeat",e)}),[l]),d=[],h=t&&t.links?t.links.length:0,m=[2,3,4,6,8,12].map((function(e){return{label:e.toString(),value:e}}));return d.push(o.a.createElement(Nt,{title:"Settings",id:"Panel settings",key:"Panel settings"},o.a.createElement(u.Field,{label:"Panel title"},o.a.createElement(u.Input,{defaultValue:t.title,onBlur:function(e){return l("title",e.currentTarget.value)}})),o.a.createElement(u.Field,{label:"Description",description:"Panel description supports markdown and links."},o.a.createElement(u.TextArea,{defaultValue:t.description,onBlur:function(e){return l("description",e.currentTarget.value)}})),o.a.createElement(u.Field,{label:"Transparent",description:"Display panel without a background."},o.a.createElement(u.Switch,{value:t.transparent,onChange:function(e){return l("transparent",e.currentTarget.checked)}})))),d.push(o.a.createElement(Nt,{title:"Visualization",id:"Panel type",key:"Panel type",defaultToClosed:!0,onToggle:function(e){e&&s.current&&s.current.focus()}},(function(e){return o.a.createElement(Kn,{panel:t,ref:s,onToggleOptionGroup:e})}))),n.editor&&t&&!n.optionEditors&&d.push(o.a.createElement(Nt,{title:"Options",id:"legacy react editor",key:"legacy react editor"},o.a.createElement(n.editor,{data:a,options:t.getOptions(),onOptionsChange:c}))),n.optionEditors&&t&&d.push(o.a.createElement(pn,{key:"panel options",options:t.getOptions(),onChange:c,replaceVariables:t.replaceVariables,plugin:n,data:null==a?void 0:a.series,eventBus:i.events})),n.angularPanelCtrl&&d.push(o.a.createElement(jn,{panel:t,dashboard:i,plugin:n,key:"angular panel options"})),d.push(o.a.createElement(Nt,{renderTitle:function(e){return o.a.createElement(o.a.Fragment,null,"Links ",!e&&h>0&&o.a.createElement(u.Counter,{value:h}))},id:"panel links",key:"panel links",defaultToClosed:!0},o.a.createElement(u.DataLinksInlineEditor,{links:t.links,onChange:function(e){return l("links",e)},suggestions:f,data:[]}))),d.push(o.a.createElement(Nt,{title:"Repeat options",id:"panel repeats",key:"panel repeats",defaultToClosed:!0},o.a.createElement(u.Field,{label:"Repeat by variable",description:"Repeat this panel for each value in the selected variable. This is not visible while in edit mode. You need to go back to dashboard and then update the variable or reload the dashboard."},o.a.createElement(er.a,{repeat:t.repeat,onChange:p})),t.repeat&&o.a.createElement(u.Field,{label:"Repeat direction"},o.a.createElement(u.RadioButtonGroup,{options:[{label:"Horizontal",value:"h"},{label:"Vertical",value:"v"}],value:t.repeatDirection||"h",onChange:function(e){return l("repeatDirection",e)}})),t.repeat&&"h"===t.repeatDirection&&o.a.createElement(u.Field,{label:"Max per row"},o.a.createElement(u.Select,{options:m,value:t.maxPerRow,onChange:function(e){return l("maxPerRow",e.value)}})))),o.a.createElement(o.a.Fragment,null,d)},nr=n("BqU0"),rr=n("UlFs");function or(){var e=dr(["\n      label: legacy-options;\n      .panel-options-grid {\n        display: flex;\n        flex-direction: column;\n      }\n      .panel-options-group {\n        margin-bottom: 0;\n      }\n      .panel-options-group__body {\n        padding: "," 0;\n      }\n\n      .section {\n        display: block;\n        margin: "," 0;\n\n        &:first-child {\n          margin-top: 0;\n        }\n      }\n    "]);return or=function(){return e},e}function ar(){var e=dr([""]);return ar=function(){return e},e}function ir(){var e=dr(["\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      min-height: 0;\n      background: ",";\n      border-left: 1px solid ",";\n    "]);return ir=function(){return e},e}function lr(){var e=dr(["\n      cursor: pointer;\n    "]);return lr=function(){return e},e}function cr(){var e=dr(["\n      color: ",";\n      flex-grow: 1;\n    "]);return cr=function(){return e},e}function sr(){var e=dr(["\n      display: flex;\n      flex-grow: 1;\n      flex-direction: row-reverse;\n    "]);return sr=function(){return e},e}function ur(){var e=dr(["\n      padding-right: ",";\n    "]);return ur=function(){return e},e}function fr(){var e=dr(["\n      height: 100%;\n      width: 100%;\n    "]);return fr=function(){return e},e}function pr(){var e=dr(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      padding-top: ",";\n    "]);return pr=function(){return e},e}function dr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var yr=function(e){var t=e.plugin,n=e.panel,a=e.width,i=e.onFieldConfigsChange,l=e.onPanelOptionsChanged,c=e.onPanelConfigChange,f=e.onClose,p=e.dashboard,d=Object(u.useTheme)(),h=wr(d),m=gr(Object(r.useState)("options"),2),b=m[0],g=m[1],y=gr(Object(r.useState)(!1),2),v=y[0],O=y[1],w=Object(rr.a)(n,{withTransforms:!0,withFieldConfig:!1}),j=w.data,S=w.hasSeries,E=Object(r.useCallback)((function(e){var t=n.getFieldConfig();return t&&S?o.a.createElement(ln,{config:t,plugin:e,onChange:i,data:j.series}):null}),[j,t,n,i]),P=Object(r.useCallback)((function(e){var t=n.getFieldConfig();return t&&S?o.a.createElement(an,{config:t,plugin:e,onChange:i,data:j.series}):null}),[j,t,n,i]),x="options"===b||t.meta.skipDataQuery;return o.a.createElement("div",{className:h.panelOptionsPane,"aria-label":s.selectors.components.PanelEditor.OptionsPane.content},t&&o.a.createElement("div",{className:h.wrapper},o.a.createElement(u.TabsBar,{className:h.tabsBar},o.a.createElement(vr,{width:a,plugin:t,isSearching:v,styles:h,activeTab:b,onClose:f,setSearchMode:O,setActiveTab:g,panel:n})),o.a.createElement(u.TabContent,{className:h.tabContent},o.a.createElement(u.CustomScrollbar,{autoHeightMin:"100%"},x?o.a.createElement(tr,{panel:n,plugin:t,dashboard:p,data:j,onPanelConfigChange:c,onPanelOptionsChanged:l}):o.a.createElement(o.a.Fragment,null,"defaults"===b&&E(t),"overrides"===b&&P(t))))))},vr=function(e){var t=e.width,n=e.plugin,r=e.isSearching,a=e.activeTab,i=e.onClose,l=e.setSearchMode,c=e.setActiveTab,f=e.styles,p=e.panel,d=0===p.getFieldConfig().overrides.length?void 0:p.getFieldConfig().overrides.length;if(r){var h={transition:"width 50ms ease-in-out",width:"50%",display:"flex"},m={entered:{width:"100%"}};return o.a.createElement(gt.a,{in:!0,timeout:0,appear:!0},(function(e){return o.a.createElement("div",{className:f.searchWrapper},o.a.createElement("div",{style:mr({},h,{},m[e])},o.a.createElement(u.Input,{className:f.searchInput,type:"text",prefix:o.a.createElement(u.Icon,{name:"search"}),ref:function(e){return e&&e.focus()},placeholder:"Search all options",suffix:o.a.createElement(u.Icon,{name:"times",onClick:function(){return l(!1)},className:f.searchRemoveIcon})})))}))}var b=Or,g=b.find((function(e){return e.value===a}));return n.fieldConfigRegistry.isEmpty()&&(b=[g=Or[0]]),o.a.createElement(o.a.Fragment,null,t<352?o.a.createElement("div",{className:"flex-grow-1","aria-label":s.selectors.components.PanelEditor.OptionsPane.select},o.a.createElement(u.Select,{options:b,value:g,onChange:function(e){c(e.value)}})):o.a.createElement(o.a.Fragment,null,b.map((function(e){return o.a.createElement(u.Tab,{key:e.value,label:e.label,counter:"overrides"===e.value?d:void 0,active:g.value===e.value,onChangeTab:function(){return c(e.value)},title:e.tooltip,"aria-label":s.selectors.components.PanelEditor.OptionsPane.tab(e.label)})})),o.a.createElement("div",{className:"flex-grow-1"})),o.a.createElement("div",{className:f.tabsButton},o.a.createElement(nr.a,{icon:"angle-right",tooltip:"Close options pane",classSuffix:"close-options",onClick:i,iconSize:"lg"})))},Or=[{label:"Panel",value:"options",tooltip:"Configure panel display options"},{label:"Field",value:"defaults",tooltip:"Configure field options"},{label:"Overrides",value:"overrides",tooltip:"Configure field option overrides"}],wr=Object(u.stylesFactory)((function(e){return{wrapper:Object(l.css)(pr(),e.spacing.md),panelOptionsPane:Object(l.css)(fr()),tabsBar:Object(l.css)(ur(),e.spacing.sm),searchWrapper:Object(l.css)(sr()),searchInput:Object(l.css)(cr(),e.colors.textWeak),searchRemoveIcon:Object(l.css)(lr()),tabContent:Object(l.css)(ir(),e.colors.bodyBg,e.colors.pageHeaderBorder),tabsButton:Object(l.css)(ar()),legacyOptions:Object(l.css)(or(),e.spacing.md,e.spacing.md)}})),jr=n("VBuW"),Sr=n("3NGh"),Er=n("HJgf"),Pr=n("/fyT"),xr=n("KODV"),Dr=n("Yuww"),Cr=n("KyLG");function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _r=n("Gqk0"),Rr=n("13X4"),Nr=n("Wwog"),zr=Object(Nr.a)((function(e,t){var n,r=[];if(!t)return r;var o=q.b.Visualize;return t.meta.skipDataQuery?[]:(t.meta.skipDataQuery||(o=q.b.Query,r.push({id:q.b.Query,text:"Query",icon:"database",active:!1}),r.push({id:q.b.Transform,text:"Transform",icon:"process",active:!1})),Object(f.c)().alertingEnabled&&"graph"===t.meta.id&&r.push({id:q.b.Alert,text:"Alert",icon:"bell",active:!1}),(null!==(n=r.find((function(t){return t.id===(e.query.tab||o)})))&&void 0!==n?n:r[0]).active=!0,r)}));var Ir=n("p1x6");function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(){var e=Xr(["\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    "]);return Ar=function(){return e},e}function Lr(){var e=Xr(["\n      padding-left: ",";\n    "]);return Lr=function(){return e},e}function Fr(){var e=Xr(["\n      display: flex;\n      padding: "," 0 "," ",";\n      justify-content: space-between;\n      flex-wrap: wrap;\n    "]);return Fr=function(){return e},e}function Hr(){var e=Xr(["\n      height: 100%;\n      width: 100%;\n    "]);return Hr=function(){return e},e}function Br(){var e=Xr(["\n      flex: 1 1 0;\n      min-height: 0;\n      width: 100%;\n      padding-left: ",";\n    "]);return Br=function(){return e},e}function Wr(){var e=Xr(["\n      label: variablesWrapper;\n      display: flex;\n      flex-grow: 1;\n      flex-wrap: wrap;\n    "]);return Wr=function(){return e},e}function Ur(){var e=Xr(["\n      padding-bottom: ",";\n    "]);return Ur=function(){return e},e}function qr(){var e=Xr(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n      padding-right: ",";\n    "]);return qr=function(){return e},e}function Gr(){var e=Xr(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n      position: relative;\n    "]);return Gr=function(){return e},e}function Vr(){var e=Xr(["\n      width: 100%;\n      height: 100%;\n      position: fixed;\n      z-index: ",";\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: ",";\n      display: flex;\n      flex-direction: column;\n    "]);return Vr=function(){return e},e}function Xr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e,t){return(to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return ro}));var no={updateLocation:Rr.b,initPanelEditor:function(e,t){return function(n){var r=t.initEditPanel(e);n(Object(Ot.f)({panel:r,sourcePanel:e}))}},panelEditorCleanUp:function(){return function(e,t){var n=t().dashboard.getModel(),r=t().panelEditor,o=r.getPanel,a=r.getSourcePanel;if(!r.shouldDiscardChanges){var i=o(),l=i.getSaveModel(),c=a(),s=c.type!==i.type;l.id=c.id,c.restoreModel(l),c.plugin=i.plugin,s&&e(Object(Cr.l)({panelId:c.id,plugin:i.plugin})),setTimeout((function(){c.getQueryRunner().useLastResultFrom(i.getQueryRunner())}),20)}n&&n.exitPanelEditor(),e(Object(Cr.c)()),e(Object(Ot.b)())}},setDiscardChanges:Ot.d,updatePanelEditorUIState:function(e){return function(t,n){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n().panelEditor.ui,{},e);t(Object(Ot.e)(r));try{hn.a.setObject(Ot.a,r)}catch(e){console.error(e)}}},updateTimeZoneForSession:_r.b},ro=Object(a.connect)((function(e){var t=e.panelEditor.getPanel(),n=function(e,t){var n;return t&&null!==(n=e.panels[t])&&void 0!==n?n:{}}(e.dashboard,t.id).plugin;return{location:e.location,plugin:n,panel:t,initDone:e.panelEditor.initDone,tabs:zr(e.location,n),uiState:e.panelEditor.ui,variables:Object(Ir.g)(e)}}),no)(function(e){function t(){var e,n;Zr(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Kr(this,(e=eo(t)).call.apply(e,[this].concat(a)))).triggerForceUpdate=function(){n.forceUpdate()},n.onPanelExit=function(){n.props.updateLocation({query:{editPanel:null,tab:null},partial:!0})},n.onDiscard=function(){n.props.setDiscardChanges(!0),n.props.updateLocation({query:{editPanel:null,tab:null},partial:!0})},n.onOpenDashboardSettings=function(){n.props.updateLocation({query:{editview:"settings"},partial:!0})},n.onSaveDashboard=function(){p.a.emit(W.CoreEvents.showModalReact,{component:xr.a,props:{dashboard:n.props.dashboard}})},n.onChangeTab=function(e){n.props.updateLocation({query:{tab:e.id},partial:!0})},n.onFieldConfigChange=function(e){n.props.panel.updateFieldConfig(Qr({},e))},n.onPanelOptionsChanged=function(e){n.props.panel.updateOptions(e)},n.onPanelConfigChanged=function(e,t){n.props.panel[e]=t,n.props.panel.render(),n.forceUpdate()},n.onDisplayModeChange=function(e){(0,n.props.updatePanelEditorUIState)({mode:e})},n.onTogglePanelOptions=function(){var e=n.props,t=e.uiState;(0,e.updatePanelEditorUIState)({isPanelOptionsVisible:!t.isPanelOptionsVisible})},n.renderPanel=function(e){var t=n.props,r=t.dashboard,a=t.panel,c=t.tabs,s=t.uiState;return o.a.createElement("div",{className:Object(l.cx)(e.mainPaneWrapper,0===c.length&&e.mainPaneWrapperNoTabs),key:"panel"},n.renderPanelToolbar(e),o.a.createElement("div",{className:e.panelWrapper},o.a.createElement(i.a,null,(function(t){var n=t.width,i=t.height;return n<3||i<3?null:o.a.createElement("div",{className:e.centeringContainer,style:{width:n,height:i}},o.a.createElement("div",{style:Object(d.a)(s.mode,n,i,a)},o.a.createElement(Dr.a,{dashboard:r,panel:a,isEditing:!0,isViewing:!1,isInView:!0})))}))))},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.initPanelEditor(this.props.sourcePanel,this.props.dashboard)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.panel;e.initDone&&!this.eventSubs&&(this.eventSubs=new c.a,this.eventSubs.add(t.events.subscribe(Je.PanelOptionsChangedEvent,this.triggerForceUpdate)))}},{key:"componentWillUnmount",value:function(){var e;this.props.panelEditorCleanUp(),null===(e=this.eventSubs)||void 0===e||e.unsubscribe()}},{key:"renderPanelAndEditor",value:function(e){var t=this.props,n=t.panel,r=t.dashboard,a=t.tabs;return a.length>0?[this.renderPanel(e),o.a.createElement("div",{className:e.tabsWrapper,"aria-label":s.selectors.components.PanelEditor.DataPane.content,key:"panel-editor-tabs"},o.a.createElement(ht,{panel:n,dashboard:r,tabs:a,onChangeTab:this.onChangeTab}))]:this.renderPanel(e)}},{key:"renderTemplateVariables",value:function(e){var t=this.props.variables;return t.length?o.a.createElement("div",{className:e.variablesWrapper},o.a.createElement(jr.a,{variables:t})):null}},{key:"renderPanelToolbar",value:function(e){var t=this.props,n=t.dashboard,r=t.location,a=t.uiState,i=t.variables,l=t.updateTimeZoneForSession;return o.a.createElement("div",{className:e.panelToolbar},o.a.createElement(u.HorizontalGroup,{justify:i.length>0?"space-between":"flex-end",align:"flex-start"},this.renderTemplateVariables(e),o.a.createElement(u.HorizontalGroup,null,o.a.createElement(u.RadioButtonGroup,{value:a.mode,options:q.c,onChange:this.onDisplayModeChange}),o.a.createElement(bt.a,{dashboard:n,location:r,onChangeTimeZone:l}),!a.isPanelOptionsVisible&&o.a.createElement(nr.a,{onClick:this.onTogglePanelOptions,tooltip:"Open options pane",classSuffix:"close-options"},o.a.createElement(u.Icon,{name:"angle-left"})," ",o.a.createElement("span",{style:{paddingLeft:"6px"}},"Show options")))))}},{key:"renderEditorActions",value:function(){return[o.a.createElement(u.Button,{icon:"cog",onClick:this.onOpenDashboardSettings,variant:"secondary",title:"Open dashboard settings",key:"settings"}),o.a.createElement(u.Button,{onClick:this.onDiscard,variant:"secondary",title:"Undo all changes",key:"discard"},"Discard"),o.a.createElement(u.Button,{onClick:this.onSaveDashboard,variant:"secondary",title:"Apply changes and save dashboard",key:"save"},"Save"),o.a.createElement(u.Button,{onClick:this.onPanelExit,title:"Apply changes and go back to dashboard",key:"apply"},"Apply")]}},{key:"renderOptionsPane",value:function(){var e=this.props,t=e.plugin,n=e.dashboard,r=e.panel,a=e.uiState,i=a.rightPaneSize<=1?a.rightPaneSize*window.innerWidth:a.rightPaneSize;return t?o.a.createElement(yr,{plugin:t,dashboard:n,panel:r,width:i,onClose:this.onTogglePanelOptions,onFieldConfigsChange:this.onFieldConfigChange,onPanelOptionsChanged:this.onPanelOptionsChanged,onPanelConfigChange:this.onPanelConfigChanged}):o.a.createElement("div",null)}},{key:"render",value:function(){var e=this.props,t=e.dashboard,n=e.initDone,r=e.updatePanelEditorUIState,a=e.uiState,i=oo(f.b.theme,this.props);return n?o.a.createElement("div",{className:i.wrapper,"aria-label":s.selectors.components.PanelEditor.General.content},o.a.createElement(Er.a,{title:"".concat(t.title," / Edit Panel"),titlePrefix:o.a.createElement(Sr.a,{onClick:this.onPanelExit,surface:"panel"}),actions:this.renderEditorActions()}),o.a.createElement("div",{className:i.verticalSplitPanesWrapper},o.a.createElement(Pr.a,{leftPaneComponents:this.renderPanelAndEditor(i),rightPaneComponents:this.renderOptionsPane(),uiState:a,updateUiState:r,rightPaneVisible:a.isPanelOptionsVisible}))):null}}])&&$r(n.prototype,r),a&&$r(n,a),t}(r.PureComponent)),oo=Object(u.stylesFactory)((function(e,t){var n=t.uiState,r=e.spacing.md;return{wrapper:Object(l.css)(Vr(),e.zIndex.sidemenu,e.colors.dashboardBg),verticalSplitPanesWrapper:Object(l.css)(Gr()),mainPaneWrapper:Object(l.css)(qr(),n.isPanelOptionsVisible?0:r),mainPaneWrapperNoTabs:Object(l.css)(Ur(),r),variablesWrapper:Object(l.css)(Wr()),panelWrapper:Object(l.css)(Br(),r),tabsWrapper:Object(l.css)(Hr()),panelToolbar:Object(l.css)(Fr(),r,r,r),toolbarLeft:Object(l.css)(Lr(),e.spacing.sm),centeringContainer:Object(l.css)(Ar())}}))},lIMf:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"DashboardPage",(function(){return R})),n.d(t,"mapStateToProps",(function(){return N}));var r=n("+2Rf"),o=n.n(r),a=n("q1tI"),i=n.n(a),l=n("0cfB"),c=n("/MKj"),s=n("UvM7"),u=n("v4Fa"),f=n("ibPz"),p=n("nU/Z"),d=n("hfOi"),h=n("2t1j"),m=n("lEZL"),b=n("kDLi"),g=n("8M//"),y=n("3SGO"),v=n("GQ3c"),O=n("kt0J"),w=n("3ISj"),j=n("J4KJ"),S=n("50r9"),E=n("HH2e");function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){var e,n;D(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=k(this,(e=T(t)).call.apply(e,[this].concat(o)))).state={editPanel:null,viewPanel:null,showLoadingState:!1,scrollTop:0,rememberScrollTop:0},n.setScrollTop=function(e){var t=e.target;n.setState({scrollTop:t.scrollTop,updateScrollTop:void 0})},n.onAddPanel=function(){var e=n.props.dashboard;e&&(e.panels.length>0&&"add-panel"===e.panels[0].type||(e.addPanel({type:"add-panel",gridPos:{x:0,y:0,w:12,h:8},title:"Panel Title"}),n.setState({updateScrollTop:0})))},n.cancelVariables=function(){n.props.updateLocation({path:"/"})},n}var n,r,a,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:(l=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.initDashboard({$injector:this.props.$injector,$scope:this.props.$scope,urlSlug:this.props.urlSlug,urlUid:this.props.urlUid,urlType:this.props.urlType,urlFolderId:this.props.urlFolderId,routeInfo:this.props.routeInfo,fixUrl:!0});case 1:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=l.apply(e,t);function a(e){x(o,n,r,a,i,"next",e)}function i(e){x(o,n,r,a,i,"throw",e)}a(void 0)}))},function(){return c.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.cleanUpDashboardAndVariables(),this.setPanelFullscreenClass(!1)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.dashboard,o=n.urlEditPanelId,a=n.urlViewPanelId,i=n.urlUid,l=this.state,c=l.editPanel,u=l.viewPanel;r&&(e.dashboard||(document.title=r.title+" - "+f.a.AppTitle),e.urlUid===i&&(!c&&o&&(E.a.setEditingState(!0),this.getPanelByIdFromUrlParam(o,(function(e){r.canEditPanel(e)?t.setState({editPanel:e}):t.props.notifyApp(Object(s.a)("Permission to edit panel denied"))}))),c&&!o&&(E.a.setEditingState(!1),this.setState({editPanel:null})),!u&&a&&this.getPanelByIdFromUrlParam(a,(function(e){t.setPanelFullscreenClass(!0),r.initViewPanel(e),t.setState({viewPanel:e,rememberScrollTop:t.state.scrollTop,updateScrollTop:0})})),u&&!a&&(this.setPanelFullscreenClass(!1),r.exitViewPanel(u),this.setState({viewPanel:null,updateScrollTop:this.state.rememberScrollTop},this.triggerPanelsRendering.bind(this)))))}},{key:"getPanelByIdFromUrlParam",value:function(e,t){var n=this.props.dashboard,r=parseInt(e,10);n.expandParentRowFor(r);var o=n.getPanelById(r);if(!o)return this.props.notifyApp(Object(s.a)("Panel with id ".concat(e," not found"))),void this.props.updateLocation({query:{editPanel:null,viewPanel:null},partial:!0});t(o)}},{key:"triggerPanelsRendering",value:function(){try{this.props.dashboard.render()}catch(e){console.error(e),this.props.notifyApp(Object(s.a)("Panel rendering error",e))}}},{key:"setPanelFullscreenClass",value:function(e){o()("body").toggleClass("panel-in-fullscreen",e)}},{key:"renderSlowInitState",value:function(){return i.a.createElement("div",{className:"dashboard-loading"},i.a.createElement("div",{className:"dashboard-loading__text"},i.a.createElement(b.VerticalGroup,{spacing:"md"},i.a.createElement(b.HorizontalGroup,{align:"center",justify:"center",spacing:"xs"},i.a.createElement(b.Spinner,{inline:!0})," ",this.props.initPhase)," ",i.a.createElement(b.HorizontalGroup,{align:"center",justify:"center"},i.a.createElement(b.Button,{variant:"secondary",size:"md",icon:"repeat",onClick:this.cancelVariables},"Cancel loading dashboard")))))}},{key:"renderInitFailedState",value:function(){var e=this.props.initError;return e?i.a.createElement("div",{className:"dashboard-loading"},i.a.createElement(b.Alert,{severity:v.AppNotificationSeverity.Error,title:e.message},Object(u.a)(e.error))):null}},{key:"getInspectPanel",value:function(){var e=this.props,t=e.dashboard,n=e.inspectPanelId;if(!t||!n)return null;var r=t.getPanelById(parseInt(n,10));return r||null}},{key:"render",value:function(){var e=this.props,t=e.dashboard,n=e.editview,r=e.$injector,o=e.isInitSlow,a=e.initError,l=e.inspectTab,c=e.isPanelEditorOpen,s=e.updateLocation,u=this.state,f=u.editPanel,g=u.viewPanel,y=u.scrollTop,v=u.updateScrollTop;if(!t)return o?this.renderSlowInitState():null;var j=25*Math.round(y/25),S=this.getInspectPanel();return i.a.createElement("div",{className:"dashboard-container"},i.a.createElement(d.a,{dashboard:t,isFullscreen:!!g,$injector:r,onAddPanel:this.onAddPanel}),i.a.createElement("div",{className:"dashboard-scroll"},i.a.createElement(b.CustomScrollbar,{autoHeightMin:"100%",setScrollTop:this.setScrollTop,scrollTop:v,hideHorizontalTrack:!0,updateAfterMountMs:500,className:"custom-scrollbar--page"},i.a.createElement("div",{className:"dashboard-content"},a&&this.renderInitFailedState(),!f&&i.a.createElement(w.a,{dashboard:t,annotations:t.annotations.list,links:t.links}),i.a.createElement(p.a,{dashboard:t,viewPanel:g,editPanel:f,scrollTop:j,isPanelEditorOpen:c})))),S&&i.a.createElement(O.a,{dashboard:t,panel:S,defaultTab:l}),f&&i.a.createElement(m.a,{dashboard:t,sourcePanel:f}),n&&i.a.createElement(h.a,{dashboard:t,updateLocation:s,editview:n}))}}])&&C(n.prototype,r),a&&C(n,a),t}(a.PureComponent),N=function(e){return{urlUid:e.location.routeParams.uid,urlSlug:e.location.routeParams.slug,urlType:e.location.routeParams.type,editview:e.location.query.editview,urlPanelId:e.location.query.panelId,urlFolderId:e.location.query.folderId,urlEditPanelId:e.location.query.editPanel,urlViewPanelId:e.location.query.viewPanel,inspectPanelId:e.location.query.inspect,initPhase:e.dashboard.initPhase,isInitSlow:e.dashboard.isInitSlow,initError:e.dashboard.initError,dashboard:e.dashboard.getModel(),inspectTab:e.location.query.inspectTab,isPanelEditorOpen:e.panelEditor.isOpen}},z={initDashboard:g.a,cleanUpDashboardAndVariables:j.c,notifyApp:y.b,updateLocation:y.d,cancelVariables:S.a};t.default=Object(l.hot)(e)(Object(c.connect)(N,z)(R))}.call(this,n("3UD+")(e))},"nU/Z":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var r=n("q1tI"),o=n.n(r),a=n("0cfB"),i=n("ChGz"),l=n.n(i),c=n("TSYQ"),s=n.n(c),u=n("IZOP"),f=n.n(u),p=n("eIbz"),d=n("FFox"),h=n("eXZ6"),m=n("Yuww"),b=n("pugT"),g=n("xAj+");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=1200,P=!1;var x=f()({monitorWidth:!0})((function(e){var t=e.size,n=e.layout,r=e.onLayoutChange,a=e.children,i=e.onDragStop,c=e.onResize,s=e.onResizeStop,u=e.className,f=e.isResizable,p=e.isDraggable,d=e.viewPanel,m=t.width>0?t.width:E;m!==E&&(P?P=!1:!d&&Math.abs(m-E)>8&&(E=m));var b=!(m<=769)&&p;return o.a.createElement(l.a,{width:E,className:u,isDraggable:b,isResizable:f,containerPadding:[0,0],useCSSTransforms:!1,margin:[h.e,h.e],cols:h.f,rowHeight:h.d,draggableHandle:".grid-drag-handle",layout:n,onResize:c,onResizeStop:s,onDragStop:i,onLayoutChange:r},a)})),D=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=w(this,(e=j(t)).call.apply(e,[this].concat(o)))).panelMap={},n.panelRef={},n.eventSubs=new b.a,n.onLayoutChange=function(e){var t=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var l=a.value;n.panelMap[l.i].updateGridPos(l)}}catch(e){r=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}n.props.dashboard.sortPanelsByGridPos(),n.forceUpdate()},n.triggerForceUpdate=function(){n.forceUpdate()},n.updateGridPos=function(e,t){n.panelMap[e.i].updateGridPos(e),n.onLayoutChange(t)},n.onResize=function(e,t,r){n.panelMap[r.i].updateGridPos(r)},n.onResizeStop=function(e,t,r){n.updateGridPos(r,e)},n.onDragStop=function(e,t,r){n.updateGridPos(r,e)},n.isInView=function(e){if(e.isViewing||e.isEditing)return!0;var t=n.panelRef[e.id.toString()];if(!t)return!1;var r=t.offsetTop,o=r+(e.gridPos.h*h.d+40),a=n.props.scrollTop;return!(a>o+250)&&(!(r>a+(isNaN(window.innerHeight)?window.clientHeight:window.innerHeight)+250)&&!n.props.dashboard.otherPanelInFullscreen(e))},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.dashboard;this.eventSubs.add(e.events.subscribe(g.DashboardPanelsChangedEvent,this.triggerForceUpdate))}},{key:"componentWillUnmount",value:function(){this.eventSubs.unsubscribe()}},{key:"buildLayout",value:function(){var e=[];this.panelMap={};var t=!0,n=!1,r=void 0;try{for(var o,a=this.props.dashboard.panels[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,l=i.id.toString();if(this.panelMap[l]=i,i.gridPos){var c={i:l,x:i.gridPos.x,y:i.gridPos.y,w:i.gridPos.w,h:i.gridPos.h};"row"===i.type&&(c.w=h.f,c.h=1,c.isResizable=!1,c.isDraggable=i.collapsed),e.push(c)}else console.log("panel without gridpos")}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"renderPanels",value:function(){var e=this,t=[],n=!0,r=!1,a=void 0;try{for(var i,l=function(){var n=i.value,r=s()({"react-grid-item--fullscreen":n.isViewing}),a=n.id.toString();n.isInView=e.isInView(n),t.push(o.a.createElement("div",{key:a,className:r,id:"panel-"+a,ref:function(t){return t&&(e.panelRef[a]=t)}},e.renderPanel(n)))},c=this.props.dashboard.panels[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)l()}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t}},{key:"renderPanel",value:function(e){return"row"===e.type?o.a.createElement(d.a,{panel:e,dashboard:this.props.dashboard}):"add-panel"===e.type?o.a.createElement(p.a,{panel:e,dashboard:this.props.dashboard}):o.a.createElement(m.a,{panel:e,dashboard:this.props.dashboard,isEditing:e.isEditing,isViewing:e.isViewing,isInView:e.isInView})}},{key:"render",value:function(){var e=this.props,t=e.dashboard,n=e.viewPanel;return o.a.createElement(x,{className:s()({layout:!0}),layout:this.buildLayout(),isResizable:t.meta.canEdit,isDraggable:t.meta.canEdit,onLayoutChange:this.onLayoutChange,onDragStop:this.onDragStop,onResize:this.onResize,onResizeStop:this.onResizeStop,viewPanel:n},this.renderPanels())}}])&&O(n.prototype,r),a&&O(n,a),t}(r.PureComponent);Object(a.hot)(e)(D)}).call(this,n("3UD+")(e))},q0ht:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("kDDq"),o=n("ZFWI"),a=n("kDLi");function i(){var e=w(["\n      display: flex;\n      > * {\n        margin-right: ",";\n      }\n    "]);return i=function(){return e},e}function l(){var e=w(["\n      flex-grow: 1;\n      min-width: 300px;\n      margin-right: ",";\n    "]);return l=function(){return e},e}function c(){var e=w(["\n      padding-top: ",";\n    "]);return c=function(){return e},e}function s(){var e=w(["\n      display: flex;\n      flex-grow: 1;\n\n      max-width: 85%;\n      @media (max-width: 1345px) {\n        max-width: 75%;\n      }\n    "]);return s=function(){return e},e}function u(){var e=w(["\n      display: flex;\n    "]);return u=function(){return e},e}function f(){var e=w(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n    "]);return f=function(){return e},e}function p(){var e=w(["\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    "]);return p=function(){return e},e}function d(){var e=w(["\n      flex-grow: 2;\n    "]);return d=function(){return e},e}function h(){var e=w(["\n      overflow: scroll;\n    "]);return h=function(){return e},e}function m(){var e=w(["\n      font-family: monospace;\n      height: 100%;\n      flex-grow: 1;\n    "]);return m=function(){return e},e}function b(){var e=w(["\n      flex-grow: 1;\n      padding: "," 0;\n    "]);return b=function(){return e},e}function g(){var e=w(["\n      flex-grow: 1;\n      padding-bottom: 16px;\n    "]);return g=function(){return e},e}function y(){var e=w(["\n      margin-left: ",";\n    "]);return y=function(){return e},e}function v(){var e=w(["\n      display: flex;\n      width: 100%;\n      flex-grow: 0;\n      align-items: center;\n      justify-content: flex-end;\n      margin-bottom: ",";\n    "]);return v=function(){return e},e}function O(){var e=w(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n      flex: 1 1 0;\n    "]);return O=function(){return e},e}function w(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=Object(a.stylesFactory)((function(){return{wrap:Object(r.css)(O()),toolbar:Object(r.css)(v(),o.a.theme.spacing.sm),toolbarItem:Object(r.css)(y(),o.a.theme.spacing.md),content:Object(r.css)(g()),contentQueryInspector:Object(r.css)(b(),o.a.theme.spacing.md),editor:Object(r.css)(m()),viewer:Object(r.css)(h()),dataFrameSelect:Object(r.css)(d()),tabContent:Object(r.css)(p()),dataTabContent:Object(r.css)(f()),actionsWrapper:Object(r.css)(u()),leftActions:Object(r.css)(s()),options:Object(r.css)(c(),o.a.theme.spacing.sm),dataDisplayOptions:Object(r.css)(l(),o.a.theme.spacing.sm),selects:Object(r.css)(i(),o.a.theme.spacing.sm)}}))},q78g:function(e,t,n){"use strict";function r(e){var t=e.margin,n=e.containerPadding,r=e.containerWidth,o=e.cols;return(r-t[0]*(o-1)-2*n[0])/o}function o(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function a(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=r,t.calcGridItemWHPx=o,t.calcGridItemPosition=function(e,t,n,a,i,l){var c=e.margin,s=e.containerPadding,u=e.rowHeight,f=r(e),p={};l&&l.resizing?(p.width=Math.round(l.resizing.width),p.height=Math.round(l.resizing.height)):(p.width=o(a,f,c[0]),p.height=o(i,u,c[1]));l&&l.dragging?(p.top=Math.round(l.dragging.top),p.left=Math.round(l.dragging.left)):(p.top=Math.round((u+c[1])*n+s[1]),p.left=Math.round((f+c[0])*t+s[0]));return p},t.calcXY=function(e,t,n,o,i){var l=e.margin,c=e.cols,s=e.rowHeight,u=e.maxRows,f=r(e),p=Math.round((n-l[0])/(f+l[0])),d=Math.round((t-l[1])/(s+l[1]));return p=a(p,0,c-o),d=a(d,0,u-i),{x:p,y:d}},t.calcWH=function(e,t,n,o,i){var l=e.margin,c=e.maxRows,s=e.cols,u=e.rowHeight,f=r(e),p=Math.round((t+l[0])/(f+l[0])),d=Math.round((n+l[1])/(u+l[1]));return p=a(p,0,s-o),d=a(d,0,c-i),{w:p,h:d}},t.clamp=a},q7TX:function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},sCrc:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return f}));var r=n("LvDl"),o=n("eLz+"),a=n("eXZ6");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r){if(e===o.a.Fill)return{width:t,height:n};var i=(window.innerWidth-4*a.e)/a.f*r.gridPos.w,l=a.d*r.gridPos.h,c=Math.min(t/i,n/l);return e===o.a.Exact&&i<=t&&l<=n?{width:i,height:l}:{width:i*c,height:l*c}}function u(e){return!1===(null==e?void 0:e.meta.skipDataQuery)}var f=function(e,t,n,o){var a=l({},e.defaults),i=null==n||"";return o?a.custom?a.custom=i?Object(r.omit)(a.custom,t):Object(r.set)(l({},a.custom),t,n):i||(a.custom=Object(r.set)(l({},a.custom),t,n)):a=i?Object(r.omit)(a,t):Object(r.set)(l({},a),t,n),l({},e,{defaults:a})}},t3DW:function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},wnTG:function(e,t,n){"use strict";var r=n("UL9e");function o(){var e={},t=0,n=0,r=0;return{add:function(o,a){a||(a=o,o=0),o>n?n=o:o<r&&(r=o),e[o]||(e[o]=[]),e[o].push(a),t++},process:function(){for(var t=r;t<=n;t++)for(var o=e[t],a=0;a<o.length;a++){(0,o[a])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),a=r.getOption(e,"auto",!0);a&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var i,l=o(),c=!1;function s(){for(c=!0;l.size();){var e=l;l=o(),e.process()}c=!1}function u(){var e;e=s,i=setTimeout(e,0)}return{add:function(e,t){!c&&a&&n&&0===l.size()&&u(),l.add(e,t)},force:function(e){c||(void 0===e&&(e=n),i&&(clearTimeout(i),i=null),e?u():s())}}}},yUZ2:function(e,t,n){"use strict";var r=n("t3DW").forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,a=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var i=function(){var e=document.createElement("div");e.style.cssText=c(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=c(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,r=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:r}}();function l(e){!function(e,t,n){if(!e.getElementById(t)){var r=n+"_animation",o=n+"_animation_active",a="/* Created by the element-resize-detector library. */\n";a+="."+n+" > div::-webkit-scrollbar { "+c(["display: none"])+" }\n\n",a+="."+o+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",a+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,r){r=r||function(t){e.head.appendChild(t)};var o=e.createElement("style");o.innerHTML=n,o.id=t,r(o)}(a+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style","erd_scroll_detection_container")}function c(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function s(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function u(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function f(e){return o(e).container.childNodes[0].childNodes[0].childNodes[0]}function p(e){return o(e).container.childNodes[0].childNodes[0].childNodes[1]}return l(window.document),{makeDetectable:function(e,l,u){function d(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(a.get(l),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function h(e){var t=o(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function m(){var e=window.getComputedStyle(l),t={};return t.position=e.position,t.width=l.offsetWidth,t.height=l.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function b(){if(d("storeStyle invoked."),o(l)){var e=m();o(l).style=e}else d("Aborting because element has been uninstalled")}function g(e,t,n){o(e).lastWidth=t,o(e).lastHeight=n}function y(){return 2*i.width+1}function v(){return 2*i.height+1}function O(e){return e+10+y()}function w(e){return e+10+v()}function j(e,t,n){var r=f(e),o=p(e),a=O(t),i=w(n),l=function(e){return 2*e+y()}(t),c=function(e){return 2*e+v()}(n);r.scrollLeft=a,r.scrollTop=i,o.scrollLeft=l,o.scrollTop=c}function S(){var e=o(l).container;if(!e){(e=document.createElement("div")).className="erd_scroll_detection_container",e.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(l).container=e,function(e){e.className+=" erd_scroll_detection_container_animation_active"}(e),l.appendChild(e);var t=function(){o(l).onRendered&&o(l).onRendered()};s(e,"animationstart",t),o(l).onAnimationStart=t}return e}function E(){if(d("Injecting elements"),o(l)){!function(){var n=o(l).style;if("static"===n.position){l.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){var o=n[r];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(t,l,n,"top"),r(t,l,n,"right"),r(t,l,n,"bottom"),r(t,l,n,"left")}}();var n=o(l).container;n||(n=S());var r,a,u,f,p=i.width,h=i.height,m=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),b=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(r=(r=-(1+p))?r+"px":"0"),"top: "+(a=(a=-(1+h))?a+"px":"0"),"right: "+(f=(f=-p)?f+"px":"0"),"bottom: "+(u=(u=-h)?u+"px":"0")])),g=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=c(["position: absolute","left: 0","top: 0"]),O=c(["position: absolute","width: 200%","height: 200%"]),w=document.createElement("div"),j=document.createElement("div"),E=document.createElement("div"),P=document.createElement("div"),x=document.createElement("div"),D=document.createElement("div");w.dir="ltr",w.style.cssText=m,w.className="erd_scroll_detection_container",j.className="erd_scroll_detection_container",j.style.cssText=b,E.style.cssText=g,P.style.cssText=v,x.style.cssText=y,D.style.cssText=O,E.appendChild(P),x.appendChild(D),j.appendChild(E),j.appendChild(x),w.appendChild(j),n.appendChild(w),s(E,"scroll",C),s(x,"scroll",k),o(l).onExpandScroll=C,o(l).onShrinkScroll=k}else d("Aborting because element has been uninstalled");function C(){o(l).onExpand&&o(l).onExpand()}function k(){o(l).onShrink&&o(l).onShrink()}}function P(){function i(t,n,r){var o=function(e){return f(e).childNodes[0]}(t),a=O(n),i=w(r);o.style.setProperty("width",a+"px",e.important?"important":""),o.style.setProperty("height",i+"px",e.important?"important":"")}function c(r){var c=l.offsetWidth,u=l.offsetHeight,f=c!==o(l).lastWidth||u!==o(l).lastHeight;d("Storing current size",c,u),g(l,c,u),n.add(0,(function(){if(f)if(o(l))if(s()){if(e.debug){var n=l.offsetWidth,r=l.offsetHeight;n===c&&r===u||t.warn(a.get(l),"Scroll: Size changed before updating detector elements.")}i(l,c,u)}else d("Aborting because element container has not been initialized");else d("Aborting because element has been uninstalled")})),n.add(1,(function(){o(l)?s()?j(l,c,u):d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")})),f&&r&&n.add(2,(function(){o(l)?s()?r():d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")}))}function s(){return!!o(l).container}function u(){d("notifyListenersIfNeeded invoked");var e=o(l);return void 0===o(l).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(o(l).listeners,(function(e){e(l)})))}function m(){d("Scroll detected."),h(l)?d("Scroll event fired while unrendered. Ignoring..."):c(u)}if(d("registerListenersAndPositionElements invoked."),o(l)){o(l).onRendered=function(){if(d("startanimation triggered."),h(l))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var e=f(l),t=p(l);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(d("Scrollbars out of sync. Updating detector elements..."),c(u))}},o(l).onExpand=m,o(l).onShrink=m;var b=o(l).style;i(l,b.width,b.height)}else d("Aborting because element has been uninstalled")}function x(){if(d("finalizeDomMutation invoked."),o(l)){var e=o(l).style;g(l,e.width,e.height),j(l,e.width,e.height)}else d("Aborting because element has been uninstalled")}function D(){u(l)}function C(){var e;d("Installing..."),o(l).listeners=[],e=m(),o(l).startSize={width:e.width,height:e.height},d("Element start size",o(l).startSize),n.add(0,b),n.add(1,E),n.add(2,P),n.add(3,x),n.add(4,D)}u||(u=l,l=e,e=null),e=e||{},d("Making detectable..."),!function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===window.getComputedStyle(e)}(l)?C():(d("Element is detached"),S(),d("Waiting until element is attached..."),o(l).onRendered=function(){d("Element is now attached"),C()})},addListener:function(e,t){if(!o(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(e).listeners.push(t)},uninstall:function(e){var t=o(e);t&&(t.onExpandScroll&&u(f(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&u(p(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&u(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:l}}}}]);
//# sourceMappingURL=DashboardPage.63a9c1d648180e457252.js.map