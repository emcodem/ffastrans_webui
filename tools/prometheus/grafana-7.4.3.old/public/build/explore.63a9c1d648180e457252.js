(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"+A2i":function(e,t){function n(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}e.exports=n,e.exports.on=n,e.exports.off=function(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}},"+QRC":function(e,t,n){"use strict";var r=n("E9nw"),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,i,c,s,l,u=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),c=document.createRange(),s=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=o[t.format]||o.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),c.selectNodeContents(l),s.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(c):s.removeAllRanges()),l&&document.body.removeChild(l),i()}return u}},"+VKv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m35 7.5c0 1.9-1 3.4-2.5 4.3v7.3l-10 5v4.1c1.5 0.9 2.5 2.4 2.5 4.3 0 2.7-2.3 5-5 5s-5-2.3-5-5c0-1.9 1-3.4 2.5-4.3v-4.1l-10-5v-7.3c-1.5-0.9-2.5-2.4-2.5-4.3 0-2.7 2.3-5 5-5s5 2.3 5 5c0 1.9-1 3.4-2.5 4.3v4.1l7.5 3.8 7.5-3.8v-4.1c-1.5-0.9-2.5-2.4-2.5-4.3 0-2.7 2.3-5 5-5s5 2.3 5 5z m-25-2.5c-1.4 0-2.5 1.1-2.5 2.5s1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5-1.1-2.5-2.5-2.5z m10 30c1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5z m10-25c1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5z"})))},e.exports=t.default},"/8gG":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("QNYp"),i=n("kDLi"),c=n("kDDq"),s=n("TSYQ"),l=n.n(s);function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      display: inline-block;\n      background: ",";\n      width: 1px;\n      height: 0.9em;\n      margin: 0 8px;\n      vertical-align: middle;\n    "]);return u=function(){return e},e}var f={Popover:function(){return null},Tooltip:function(){return null},Icon:function(){return null},Dropdown:function(){return null},Menu:function(){return null},MenuItem:function(){return null},Button:function(e){var t=e.onClick,n=e.children,r=e.className;return o.a.createElement(i.Button,{variant:"secondary",onClick:t,className:r},n)},Divider:function(e){var t=e.className,n=p(Object(i.useTheme)());return o.a.createElement("div",{style:{},className:l()(n.Divider,t)})},Input:function(e){return o.a.createElement(i.Input,e)},InputGroup:function(e){var t=e.children,n=e.className,r=e.style;return o.a.createElement("span",{className:n,style:r},t)}},p=Object(i.stylesFactory)((function(e){return{Divider:Object(c.css)(u(),e.isDark?"#242424":"#e8e8e8")}}));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e,t){return e.filter((function(e){return e.hasChildren})).length===t.size}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(e,t,n){return function(r){var o=t.get(r);if(o){var a;a="tags"===e?o.toggleTags():"process"===e?o.toggleProcess():"warnings"===e?o.toggleWarnings():"references"===e?o.toggleReferences():"stackTraces"===e?o.toggleStackTraces():o.toggleLogs();var i=new Map(t);i.set(r,a),n(i)}}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=n("Obii"),x=n("t8hP"),S=n("WnbS");function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k=["cluster","hostname","namespace","pod"];function C(e,t){var n=(null==t?void 0:t.length)?t:k,r=[].concat(T(e.process.tags),T(e.tags)).reduce((function(e,t){return n.includes(t.key)&&e.push("".concat(t.key,'="').concat(t.value,'"')),e}),[]);return"{".concat(r.join(", "),"}")}function I(e){var t=Object(E.dateTime)(e.startTime/1e3-36e5),n=(e.startTime+e.duration)/1e3,r=Object(E.dateTime)(n+5e3);return{from:t,to:r,raw:{from:t.utc().format("YYYYMMDDTHHmmss"),to:r.utc().format("YYYYMMDDTHHmmss")}}}var P=n("/MKj");function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e){var t,n,c;if(!(null===(t=e.trace)||void 0===t?void 0:t.traceID))return null;var s=function(){var e=v(Object(r.useState)(new Set),2),t=e[0],n=e[1],o=Object(r.useCallback)((function(e){if(0!==t.size){var r=-1,o=!0,a=e.reduce((function(e,t){return t.depth<=r&&(o=!0),o&&e.has(t.spanID)&&(e.delete(t.spanID),o=!1,r=t.depth),e}),new Set(t));n(a)}}),[t]),a=Object(r.useCallback)((function(e){if(!y(e,t)){var r,o=e.reduce((function(e,t){return r&&t.depth<=r.depth?(e.add(r.spanID),t.hasChildren&&(r=t)):t.hasChildren&&!e.has(t.spanID)&&(r=t),e}),new Set(t));r&&o.add(r.spanID),n(o)}}),[t]),i=Object(r.useCallback)((function(){n(new Set)}),[]),c=Object(r.useCallback)((function(e){if(!y(e,t)){var r=e.reduce((function(e,t){return t.hasChildren&&e.add(t.spanID),e}),new Set);n(r)}}),[t]),s=Object(r.useCallback)((function(e){var r=new Set(t);t.has(e)?r.delete(e):r.add(e),n(r)}),[t]);return{childrenHiddenIDs:t,expandOne:o,collapseOne:a,expandAll:i,collapseAll:c,childrenToggle:s}}(),l=s.expandOne,u=s.collapseOne,p=s.childrenToggle,d=s.collapseAll,m=s.childrenHiddenIDs,T=s.expandAll,k=function(){var e=O(Object(r.useState)(new Map),2),t=e[0],n=e[1],o=Object(r.useCallback)((function(e){var r=new Map(t);r.has(e)?r.delete(e):r.set(e,new a.DetailState),n(r)}),[t]),i=Object(r.useCallback)((function(e,r){var o=t.get(e);if(o){var a=o.toggleLogItem(r),i=new Map(t);return i.set(e,a),n(i)}}),[t]);return{detailStates:t,toggleDetail:o,detailLogItemToggle:i,detailLogsToggle:Object(r.useCallback)(w("logs",t,n),[t]),detailWarningsToggle:Object(r.useCallback)(w("warnings",t,n),[t]),detailStackTracesToggle:Object(r.useCallback)(w("stackTraces",t,n),[t]),detailReferencesToggle:Object(r.useCallback)(w("references",t,n),[t]),detailProcessToggle:Object(r.useCallback)(w("process",t,n),[t]),detailTagsToggle:Object(r.useCallback)(w("tags",t,n),[t])}}(),_=k.detailStates,R=k.toggleDetail,L=k.detailLogItemToggle,N=k.detailLogsToggle,M=k.detailProcessToggle,z=k.detailReferencesToggle,A=k.detailTagsToggle,B=k.detailWarningsToggle,H=k.detailStackTracesToggle,F=function(){var e=j(Object(r.useState)(new Set),2),t=e[0],n=e[1];return{hoverIndentGuideIds:t,addHoverIndentGuideId:Object(r.useCallback)((function(e){n((function(t){var n=new Set(t);return n.add(e),n}))}),[]),removeHoverIndentGuideId:Object(r.useCallback)((function(e){n((function(t){var n=new Set(t);return n.delete(e),n}))}),[])}}(),V=F.removeHoverIndentGuideId,q=F.addHoverIndentGuideId,W=F.hoverIndentGuideIds,G=function(){var e=b(Object(r.useState)({time:{current:[0,1]}}),2),t=e[0],n=e[1],o=Object(r.useCallback)((function(e){n((function(t){var n=h({},t.time,{},e);return h({},t,{time:n})}))}),[]);return{viewRange:t,updateViewRangeTime:Object(r.useCallback)((function(e,t){var r={current:[e,t]};n((function(e){return h({},e,{time:r})}))}),[]),updateNextViewRangeTime:o}}(),U=G.viewRange,Q=G.updateViewRangeTime,Z=G.updateNextViewRangeTime,K=D(Object(r.useState)(.25),2),Y=K[0],X=K[1],J=D(Object(r.useState)(!1),2),$=J[0],ee=J[1],te=Object(r.useMemo)((function(){return Object(a.transformTraceData)(e.trace)}),[e.trace]),ne=function(e){var t=g(Object(r.useState)(""),2),n=t[0],o=t[1],i=Object(r.useMemo)((function(){return n&&e?Object(a.filterSpans)(n,e):void 0}),[n,e]);return{search:n,setSearch:o,spanFindMatches:i}}(null==te?void 0:te.spans),re=ne.search,oe=ne.setSearch,ae=ne.spanFindMatches,ie=Object(P.useSelector)((function(e){var t;return null===(t=e.explore.left.datasourceInstance)||void 0===t?void 0:t.name})),ce=null===(n=null===(c=Object(S.a)().getInstanceSettings(ie))||void 0===c?void 0:c.jsonData)||void 0===n?void 0:n.tracesToLogs,se=Object(i.useTheme)(),le=Object(r.useMemo)((function(){return{type:se.isDark?a.ThemeType.Dark:a.ThemeType.Light,servicesColorPalette:i.colors,components:{TraceName:{fontSize:se.typography.size.lg}}}}),[se]),ue=Object(r.useMemo)((function(){return{childrenHiddenIDs:m,detailStates:_,hoverIndentGuideIds:W,shouldScrollToFirstUiFindMatch:!1,spanNameColumnWidth:Y,traceID:null==te?void 0:te.traceID}}),[m,_,W,Y,null==te?void 0:te.traceID]),fe=Object(r.useMemo)((function(){return function(e,t){if(null==t?void 0:t.datasourceUid){var n=Object(S.a)().getInstanceSettings(t.datasourceUid);if(n)return function(r){var a={title:n.name,url:"",internal:{datasourceUid:n.uid,datasourceName:n.name,query:{expr:C(r,t.tags),refId:""}}},c=Object(E.mapInternalLinkToExplore)({link:a,internalLink:a.internal,scopedVars:{},range:I(r),field:{},onClickFn:e,replaceVariables:Object(x.getTemplateSrv)().replace.bind(Object(x.getTemplateSrv)())});return{href:c.href,onClick:c.onClick,content:o.a.createElement(i.Icon,{name:"gf-logs",title:"Explore the logs for this in split view"})}}}}(e.splitOpenFn,ce)}),[e.splitOpenFn,ce]),pe=document.getElementsByClassName("scroll-canvas")[0];return te?o.a.createElement(a.ThemeProvider,{value:le},o.a.createElement(a.UIElementsContext.Provider,{value:f},o.a.createElement(a.TracePageHeader,{canCollapse:!1,clearSearch:Object(r.useCallback)((function(){}),[]),focusUiFindMatches:Object(r.useCallback)((function(){}),[]),hideMap:!1,hideSummary:!1,nextResult:Object(r.useCallback)((function(){}),[]),onSlimViewClicked:Object(r.useCallback)((function(){return ee(!$)}),[]),onTraceGraphViewClicked:Object(r.useCallback)((function(){}),[]),prevResult:Object(r.useCallback)((function(){}),[]),resultCount:0,slimView:$,textFilter:null,trace:te,traceGraphView:!1,updateNextViewRangeTime:Z,updateViewRangeTime:Q,viewRange:U,searchValue:re,onSearchValueChange:oe,hideSearchButtons:!0}),o.a.createElement(a.TraceTimelineViewer,{registerAccessors:Object(r.useCallback)((function(){}),[]),scrollToFirstVisibleSpan:Object(r.useCallback)((function(){}),[]),findMatchesIDs:ae,trace:te,traceTimeline:ue,updateNextViewRangeTime:Z,updateViewRangeTime:Q,viewRange:U,focusSpan:Object(r.useCallback)((function(){}),[]),createLinkToExternalSpan:Object(r.useCallback)((function(){return""}),[]),setSpanNameColumnWidth:X,collapseAll:d,collapseOne:u,expandAll:T,expandOne:l,childrenToggle:p,clearShouldScrollToFirstUiFindMatch:Object(r.useCallback)((function(){}),[]),detailLogItemToggle:L,detailLogsToggle:N,detailWarningsToggle:B,detailStackTracesToggle:H,detailReferencesToggle:z,detailProcessToggle:M,detailTagsToggle:A,detailToggle:R,setTrace:Object(r.useCallback)((function(e,t){}),[]),addHoverIndentGuideId:q,removeHoverIndentGuideId:V,linksGetter:Object(r.useCallback)((function(e,t,n){return[]}),[]),uiFind:re,createSpanLink:fe,scrollElement:pe}))):null}n.d(t,"a",(function(){return _}))},"/aea":function(e,t,n){"use strict";function r(e,t){if(!t)return null;var n=[],r=[];e.split(/\s+/).filter(Boolean).forEach((function(e){"-"===e[0]?r.push(e.substr(1).toLowerCase()):n.push(e.toLowerCase())}));var o=function(e,t){return e.some((function(e){return t.toLowerCase().includes(e)}))},a=function(e){return!!e&&e.some((function(e){return!o(r,e.key)&&(o(n,e.key)||o(n,e.value.toString()))}))};return new Set(t.filter((function(e){return o(n,e.operationName)||o(n,e.process.serviceName)||a(e.tags)||e.logs.some((function(e){return a(e.fields)}))||a(e.process.tags)||n.some((function(t){return t===e.spanID}))})).map((function(e){return e.spanID})))}n.d(t,"a",(function(){return r}))},"03AE":function(e,t,n){"use strict";e.exports=function(e){e=e||{};var t,n=!1;for(t in this.sequenceLevels)e[t]?n=!0:this.sequenceLevels[t]=0;n||(this.nextExpectedAction=!1)}},"0H9l":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("kDLi"),i=n("dRu9");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t={transition:"opacity ".concat(e.duration,"ms linear"),opacity:0},n={exited:{opacity:0,display:"none"},entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0}};return o.a.createElement(i.a,{in:e.in,timeout:e.duration,unmountOnExit:e.unmountOnExit||!1,onExited:e.onExited},(function(r){return o.a.createElement("div",{style:s({},t,{},n[r])},e.children)}))};n.d(t,"a",(function(){return f}));var f=function(e){var t=e.queryError,n=!!t,r=n?100:10,i=t?t.message:null;return o.a.createElement(u,{in:n,duration:r},o.a.createElement("div",{className:"alert-container"},o.a.createElement("div",{className:"alert-error alert"},o.a.createElement("div",{className:"alert-icon"},o.a.createElement(a.Icon,{name:"exclamation-triangle"})),o.a.createElement("div",{className:"alert-body"},o.a.createElement("div",{className:"alert-title"},i)))))}},"0WXz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m35 20l-15 15v-8.7h-15v-12.5h15v-8.8z"})))},e.exports=t.default},"1LK5":function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},"1aZc":function(e,t,n){"use strict";e.exports={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}},"2AKD":function(e,t,n){"use strict";n("UvYX"),n("BO54")},"2XSw":function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){this.directMap[e+":"+n]=t;var a,i=(e=e.replace(/\s+/g," ")).split(" ");i.length>1?this.bindSequence(e,i,t,n):(a=this.getKeyInfo(e,n),this.callbacks[a.key]=this.callbacks[a.key]||[],this.getMatches(a.key,a.modifiers,{type:a.action},r,e,o),this.callbacks[a.key][r?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:r,level:o,combo:e}))}},"3r5/":function(e,t,n){"use strict";e.exports=function(e,t){return this.bind(e,(function(){}),t)}},"4Z0I":function(e,t,n){"use strict";e.exports=function(){var e=n("+A2i"),t=this.element;this.eventHandler=n("lI8u").bind(this),e(t,"keypress",this.eventHandler),e(t,"keydown",this.eventHandler),e(t,"keyup",this.eventHandler)}},"4kj3":function(e,t,n){"use strict";function r(e){return e?function(t){return'style="'+(n=e["."+t],r="",n&&Object.keys(n).forEach((function(e){r+=e+":"+n[e]+";"})),r+'"');var n,r}:function(e){return'class="'+e+'"'}}function o(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}e.exports=function(e,t){var n="",a=r(t),i=function(e,t,r,o){if(!e.length)return t+" "+r;var a=t+"\n";return n+="    ",e.forEach((function(t,r){a+=n+o(t)+(r<e.length-1?",":"")+"\n"})),n=n.slice(0,-"    ".length),a+n+r};return"<div "+a("json-markup")+">"+function e(t){if(void 0===t)return"";switch(function(e){return null===e?"null":Array.isArray(e)?"array":"string"==typeof e&&/^https?:/.test(e)?"link":"object"==typeof e&&"function"==typeof e.toISOString?"date":typeof e}(t)){case"boolean":return"<span "+a("json-markup-bool")+">"+t+"</span>";case"number":return"<span "+a("json-markup-number")+">"+t+"</span>";case"date":return'<span class="json-markup-string">"'+o(t.toISOString())+'"</span>';case"null":return"<span "+a("json-markup-null")+">null</span>";case"string":return"<span "+a("json-markup-string")+'>"'+o(t.replace(/\n/g,"\n"+n))+'"</span>';case"link":return"<span "+a("json-markup-string")+'>"<a href="'+o(t)+'">'+o(t)+'</a>"</span>';case"array":return i(t,"[","]",e);case"object":var r=Object.keys(t).filter((function(e){return void 0!==t[e]}));return i(r,"{","}",(function(n){return"<span "+a("json-markup-key")+'>"'+n+'":</span> '+e(t[n])}))}return""}(e)+"</div>"}},"50T7":function(e,t,n){"use strict";n("xpaS");var r=n("IBZi");n.d(t,"EUpdateTypes",(function(){return r.a}));var o=n("9dug");n.d(t,"default",(function(){return o.a}))},"582L":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a),c=n("snuD"),s=n.n(c),l=n("kDDq"),u=n("XZY6");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      label: NewWindowIconLarge;\n      font-size: 1.5em;\n    "]);return d=function(){return e},e}var h=Object(u.d)((function(){return{NewWindowIconLarge:Object(l.css)(d())}}));function m(e){var t,n,r,a=e.isLarge,c=e.className,l=p(e,["isLarge","className"]),u=h(),d=i()((t={},n=u.NewWindowIconLarge,r=a,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),c);return o.a.createElement(s.a,f({className:d},l))}m.defaultProps={isLarge:!1}},"5BoW":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("G4qV"),o=n("QJHg"),a=Object(r.a)((function(e){return e.logsResult&&e.logsResult.rows}),(function(e){return e.hiddenLogLevels}),(function(e){return e.dedupStrategy}),(function(e,t,n){if(!e||!e.length)return e;var r=Object(o.c)(e,new Set(t));return Object(o.b)(r,n)}))},"5sUZ":function(e,t,n){"use strict";e.exports=function(e,t){var n=this.constructor;return this.options=Object.assign({storeInstancesGlobally:!0},t||{}),this.callbacks={},this.directMap={},this.sequenceLevels={},this.resetTimer=null,this.ignoreNextKeyup=!1,this.ignoreNextKeypress=!1,this.nextExpectedAction=!1,this.element=e,this.addEvents(),this.options.storeInstancesGlobally&&n.instances.push(this),this},e.exports.prototype.bind=n("zL40"),e.exports.prototype.bindMultiple=n("Z8xD"),e.exports.prototype.unbind=n("3r5/"),e.exports.prototype.trigger=n("IGUK"),e.exports.prototype.reset=n("9V4m"),e.exports.prototype.stopCallback=n("9vlb"),e.exports.prototype.handleKey=n("hrSM"),e.exports.prototype.addEvents=n("4Z0I"),e.exports.prototype.bindSingle=n("2XSw"),e.exports.prototype.getKeyInfo=n("pdZY"),e.exports.prototype.pickBestAction=n("zQGu"),e.exports.prototype.getReverseMap=n("H5sb"),e.exports.prototype.getMatches=n("Tfl2"),e.exports.prototype.resetSequences=n("03AE"),e.exports.prototype.fireCallback=n("Dita"),e.exports.prototype.bindSequence=n("kX/o"),e.exports.prototype.resetSequenceTimer=n("9TO8"),e.exports.prototype.detach=n("Wopw"),e.exports.instances=[],e.exports.reset=n("V280"),e.exports.REVERSE_MAP=null},"5uNx":function(e,t,n){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},"6Pa6":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("w9yp"),i=n("SMGL"),c=n("kDLi"),s=n("kDDq"),l=n("Obii"),u=n("Xmxp"),f=n("GQ3c");function p(){var e=v(["\n          margin-bottom: ",";\n        "]);return p=function(){return e},e}function d(){var e=v(["\n          font-weight: ",";\n        "]);return d=function(){return e},e}function h(){var e=v(["\n      margin-left: ",";\n    "]);return h=function(){return e},e}function m(){var e=v(["\n      display: flex;\n      align-items: center;\n    "]);return m=function(){return e},e}function b(){var e=v(["\n      max-width: 200px;\n    "]);return b=function(){return e},e}function g(){var e=v(["\n      padding-left: ",";\n      font-size: ",";\n      .space-between {\n        margin-bottom: ",";\n      }\n    "]);return g=function(){return e},e}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=Object(c.stylesFactory)((function(e){return{container:Object(s.css)(g(),e.spacing.sm,e.typography.size.sm,e.spacing.lg),input:Object(s.css)(b()),switch:Object(s.css)(m()),label:Object(s.css)(h(),e.spacing.md)}})),O=[{value:2,label:"2 days"},{value:5,label:"5 days"},{value:7,label:"1 week"},{value:14,label:"2 weeks"}];function w(e){var t=e.retentionPeriod,n=e.starredTabAsFirstTab,r=e.activeDatasourceOnly,a=e.onChangeRetentionPeriod,i=e.toggleStarredTabAsFirstTab,h=e.toggleactiveDatasourceOnly,m=e.deleteRichHistory,b=Object(c.useTheme)(),g=y(b),v=O.find((function(e){return e.value===t}));return o.a.createElement("div",{className:g.container},o.a.createElement(c.Field,{label:"History time span",description:"Select the period of time for which Grafana will save your query history",className:"space-between"},o.a.createElement("div",{className:g.input},o.a.createElement(c.Select,{value:v,options:O,onChange:a}))),o.a.createElement(c.Field,{label:"Default active tab",description:" ",className:"space-between"},o.a.createElement("div",{className:g.switch},o.a.createElement(c.Switch,{value:n,onChange:i}),o.a.createElement("div",{className:g.label},"Change the default active tab from “Query history” to “Starred”"))),o.a.createElement(c.Field,{label:"Data source behaviour",description:" ",className:"space-between"},o.a.createElement("div",{className:g.switch},o.a.createElement(c.Switch,{value:r,onChange:h}),o.a.createElement("div",{className:g.label},"Only show queries for data source currently active in Explore"))),o.a.createElement("div",{className:Object(s.css)(d(),b.typography.weight.bold)},"Clear query history"),o.a.createElement("div",{className:Object(s.css)(p(),b.spacing.sm)},"Delete all of your query history, permanently."),o.a.createElement(c.Button,{variant:"destructive",onClick:function(){u.b.emit(f.CoreEvents.showConfirmModal,{title:"Delete",text:"Are you sure you want to permanently delete your query history?",yesText:"Delete",icon:"trash-alt",onConfirm:function(){m(),u.b.emit(l.AppEvents.alertSuccess,["Query history deleted"])}})}},"Clear query history"))}var j=n("LvDl"),E=n("vGfD"),x=n("EKT6");function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function T(){var e=A(["\n      font-size: ",";\n      font-weight: ",";\n      margin-left: ",";\n    "]);return T=function(){return e},e}function k(){var e=A(["\n      height: 60px;\n      margin-top: ",";\n      display: flex;\n      justify-content: center;\n      font-weight: ",";\n      font-size: ",";\n      a {\n        font-weight: ",";\n        margin-left: ",";\n      }\n    "]);return k=function(){return e},e}function C(){var e=A(["\n      font-size: ",";\n      margin: "," "," "," ",";\n    "]);return C=function(){return e},e}function I(){var e=A(["\n      display: flex;\n      align-items: flex-start;\n      justify-content: flex-start;\n      margin-top: ",";\n      h4 {\n        margin: 0 10px 0 0;\n      }\n    "]);return I=function(){return e},e}function P(){var e=A(["\n      width: 170px;\n    "]);return P=function(){return e},e}function D(){var e=A(["\n      width: 100%;\n      margin-bottom: ",";\n      .gf-form-select-box__multi-value {\n        background-color: ",";\n        padding: "," "," "," ",";\n        border-radius: ",";\n      }\n    "]);return D=function(){return e},e}function _(){var e=A(["\n      margin-bottom: ",";\n    "]);return _=function(){return e},e}function R(){var e=A(["\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n    "]);return R=function(){return e},e}function L(){var e=A(["\n      position: fixed;\n    "]);return L=function(){return e},e}function N(){var e=A(["\n      width: 129px;\n      margin-right: ",";\n      .slider {\n        bottom: 10px;\n        height: ",";\n        width: 129px;\n        padding: "," 0;\n      }\n    "]);return N=function(){return e},e}function M(){var e=A(["\n      width: calc(",");\n    "]);return M=function(){return e},e}function z(){var e=A(["\n      display: flex;\n      .label-slider {\n        font-size: ",";\n        &:last-of-type {\n          margin-top: ",";\n        }\n        &:first-of-type {\n          font-weight: ",";\n          margin-bottom: ",";\n        }\n      }\n    "]);return z=function(){return e},e}function A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B=Object(c.stylesFactory)((function(e,t){var n=e.isLight?e.palette.gray5:e.palette.dark4,r="".concat(t-180,"px");return{container:Object(s.css)(z(),e.typography.size.sm,e.spacing.lg,e.typography.weight.semibold,e.spacing.md),containerContent:Object(s.css)(M(),"100% - 134px"),containerSlider:Object(s.css)(N(),e.spacing.sm,r,e.spacing.sm),slider:Object(s.css)(L()),selectors:Object(s.css)(R()),filterInput:Object(s.css)(_(),e.spacing.sm),multiselect:Object(s.css)(D(),e.spacing.sm,n,e.spacing.xxs,e.spacing.xs,e.spacing.xxs,e.spacing.sm,e.border.radius.sm),sort:Object(s.css)(P()),sessionName:Object(s.css)(I(),e.spacing.lg),heading:Object(s.css)(C(),e.typography.heading.h4,e.spacing.md,e.spacing.xxs,e.spacing.sm,e.spacing.xxs),footer:Object(s.css)(k(),e.spacing.lg,e.typography.weight.light,e.typography.size.sm,e.typography.weight.semibold,e.spacing.xxs),queries:Object(s.css)(T(),e.typography.size.sm,e.typography.weight.regular,e.spacing.xs)}}));function H(e){var t=e.datasourceFilters,n=e.onSelectDatasourceFilters,i=e.queries,s=e.onChangeSortOrder,l=e.sortOrder,u=e.activeDatasourceOnly,f=e.retentionPeriod,p=e.exploreId,d=e.height,h=S(Object(r.useState)([0,f]),2),m=h[0],b=h[1],g=S(Object(r.useState)([]),2),v=g[0],y=g[1],O=S(Object(r.useState)(""),2),w=O[0],T=O[1],k=Object(c.useTheme)(),C=B(k,d),I=Object(j.uniqBy)(i,"datasourceName").map((function(e){return e.datasourceName})),P=Object(a.d)(I),D=Object(r.useCallback)(Object(j.debounce)((function(e){y(Object(a.i)(i,l,null==t?void 0:t.map((function(e){return e.value})),e,m))}),300),[m,i,l,t]);Object(r.useEffect)((function(){y(Object(a.i)(i,l,null==t?void 0:t.map((function(e){return e.value})),w,m))}),[m,i,l,t]);var _=Object(a.l)(v,l);return o.a.createElement("div",{className:C.container},o.a.createElement("div",{className:C.containerSlider},o.a.createElement("div",{className:C.slider},o.a.createElement("div",{className:"label-slider"},"Filter history"),o.a.createElement("div",{className:"label-slider"},Object(a.k)(m[0])),o.a.createElement("div",{className:"slider"},o.a.createElement(c.RangeSlider,{tooltipAlwaysVisible:!1,min:0,max:f,value:m,orientation:"vertical",formatTooltipResult:a.k,reverse:!0,onAfterChange:b})),o.a.createElement("div",{className:"label-slider"},Object(a.k)(m[1])))),o.a.createElement("div",{className:C.containerContent},o.a.createElement("div",{className:C.selectors},!u&&o.a.createElement("div",{"aria-label":"Filter datasources",className:C.multiselect},o.a.createElement(c.Select,{isMulti:!0,options:P,value:t,placeholder:"Filter queries for data sources(s)",onChange:n})),o.a.createElement("div",{className:C.filterInput},o.a.createElement(x.a,{labelClassName:"gf-form--has-input-icon gf-form--grow",inputClassName:"gf-form-input",placeholder:"Search queries",value:w,onChange:function(e){T(e),D(e)}})),o.a.createElement("div",{"aria-label":"Sort queries",className:C.sort},o.a.createElement(c.Select,{value:oe.filter((function(e){return e.value===l})),options:oe,placeholder:"Sort queries by",onChange:function(e){return s(e.value)}}))),Object.keys(_).map((function(e){return o.a.createElement("div",{key:e},o.a.createElement("div",{className:C.heading},e," ",o.a.createElement("span",{className:C.queries},_[e].length," queries")),_[e].map((function(e){var t=P.findIndex((function(t){return t.label===e.datasourceName}));return o.a.createElement(E.a,{query:e,key:e.ts,exploreId:p,dsImg:P[t].imgUrl,isRemoved:P[t].isRemoved})})))})),o.a.createElement("div",{className:C.footer},"The history is local to your browser and is not shared with others.")))}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function V(){var e=K(["\n      height: 60px;\n      margin-top: ",";\n      display: flex;\n      justify-content: center;\n      font-weight: ",";\n      font-size: ",";\n      a {\n        font-weight: ",";\n        margin-left: ",";\n      }\n    "]);return V=function(){return e},e}function q(){var e=K(["\n      width: 170px;\n    "]);return q=function(){return e},e}function W(){var e=K(["\n      margin-bottom: ",";\n    "]);return W=function(){return e},e}function G(){var e=K(["\n      width: 100%;\n      margin-bottom: ",";\n      .gf-form-select-box__multi-value {\n        background-color: ",";\n        padding: "," "," "," ",";\n        border-radius: ",";\n      }\n    "]);return G=function(){return e},e}function U(){var e=K(["\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n    "]);return U=function(){return e},e}function Q(){var e=K(["\n      width: 100%;\n    "]);return Q=function(){return e},e}function Z(){var e=K(["\n      display: flex;\n    "]);return Z=function(){return e},e}function K(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y,X=Object(c.stylesFactory)((function(e){var t=e.isLight?e.palette.gray5:e.palette.dark4;return{container:Object(s.css)(Z()),containerContent:Object(s.css)(Q()),selectors:Object(s.css)(U()),multiselect:Object(s.css)(G(),e.spacing.sm,t,e.spacing.xxs,e.spacing.xs,e.spacing.xxs,e.spacing.sm,e.border.radius.sm),filterInput:Object(s.css)(W(),e.spacing.sm),sort:Object(s.css)(q()),footer:Object(s.css)(V(),e.spacing.lg,e.typography.weight.light,e.typography.size.sm,e.typography.weight.semibold,e.spacing.xxs)}}));function J(e){var t=e.datasourceFilters,n=e.onSelectDatasourceFilters,i=e.queries,s=e.onChangeSortOrder,l=e.sortOrder,u=e.activeDatasourceOnly,f=e.exploreId,p=F(Object(r.useState)([]),2),d=p[0],h=p[1],m=F(Object(r.useState)(""),2),b=m[0],g=m[1],v=Object(c.useTheme)(),y=X(v),O=Object(j.uniqBy)(i,"datasourceName").map((function(e){return e.datasourceName})),w=Object(a.d)(O),S=i.filter((function(e){return!0===e.starred})),T=Object(r.useCallback)(Object(j.debounce)((function(e){h(Object(a.i)(S,l,null==t?void 0:t.map((function(e){return e.value})),e))}),300),[i,l,t]);return Object(r.useEffect)((function(){h(Object(a.i)(S,l,null==t?void 0:t.map((function(e){return e.value})),b))}),[i,l,t]),o.a.createElement("div",{className:y.container},o.a.createElement("div",{className:y.containerContent},o.a.createElement("div",{className:y.selectors},!u&&o.a.createElement("div",{"aria-label":"Filter datasources",className:y.multiselect},o.a.createElement(c.Select,{isMulti:!0,options:w,value:t,placeholder:"Filter queries for specific data sources(s)",onChange:n})),o.a.createElement("div",{className:y.filterInput},o.a.createElement(x.a,{labelClassName:"gf-form--has-input-icon gf-form--grow",inputClassName:"gf-form-input",placeholder:"Search queries",value:b,onChange:function(e){g(e),T(e)}})),o.a.createElement("div",{"aria-label":"Sort queries",className:y.sort},o.a.createElement(c.Select,{options:oe,value:oe.filter((function(e){return e.value===l})),placeholder:"Sort queries by",onChange:function(e){return s(e.value)}}))),d.map((function(e){var t=w.findIndex((function(t){return t.label===e.datasourceName}));return o.a.createElement(E.a,{query:e,key:e.ts,exploreId:f,dsImg:w[t].imgUrl,isRemoved:w[t].isRemoved})})),o.a.createElement("div",{className:y.footer},"The history is local to your browser and is not shared with others.")))}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"b",(function(){return Y})),n.d(t,"c",(function(){return oe})),n.d(t,"a",(function(){return ie})),function(e){e.RichHistory="Query history",e.Starred="Starred",e.Settings="Settings"}(Y||(Y={}));var oe=[{label:"Newest first",value:a.b.Descending},{label:"Oldest first",value:a.b.Ascending},{label:"Data source A-Z",value:a.b.DatasourceAZ},{label:"Data source Z-A",value:a.b.DatasourceZA}],ae=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=te(this,ne(t).call(this,e))).onChangeRetentionPeriod=function(e){n.setState({retentionPeriod:e.value}),i.a.set(a.a.retentionPeriod,e.value)},n.toggleStarredTabAsFirstTab=function(){var e=!n.state.starredTabAsFirstTab;n.setState({starredTabAsFirstTab:e}),i.a.set(a.a.starredTabAsFirstTab,e)},n.toggleActiveDatasourceOnly=function(){var e=!n.state.activeDatasourceOnly;n.setState({activeDatasourceOnly:e}),i.a.set(a.a.activeDatasourceOnly,e)},n.onSelectDatasourceFilters=function(e){try{i.a.setObject(a.a.datasourceFilters,e)}catch(e){console.error(e)}n.setState({datasourceFilters:e})},n.onChangeSortOrder=function(e){return n.setState({sortOrder:e})},n.state={sortOrder:a.b.Descending,datasourceFilters:i.a.getObject(a.a.datasourceFilters,null),retentionPeriod:i.a.getObject(a.a.retentionPeriod,7),starredTabAsFirstTab:i.a.getBool(a.a.starredTabAsFirstTab,!1),activeDatasourceOnly:i.a.getBool(a.a.activeDatasourceOnly,!0)},n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,e),n=t,(r=[{key:"updateFilters",value:function(){this.state.activeDatasourceOnly&&this.props.activeDatasourceInstance?this.onSelectDatasourceFilters([{label:this.props.activeDatasourceInstance,value:this.props.activeDatasourceInstance}]):this.onSelectDatasourceFilters(this.state.datasourceFilters)}},{key:"componentDidMount",value:function(){this.updateFilters()}},{key:"componentDidUpdate",value:function(e,t){this.props.activeDatasourceInstance===e.activeDatasourceInstance&&this.state.activeDatasourceOnly===t.activeDatasourceOnly||this.updateFilters()}},{key:"render",value:function(){var e=this.state,t=e.datasourceFilters,n=e.sortOrder,r=e.activeDatasourceOnly,a=e.retentionPeriod,i=this.props,s=i.richHistory,l=i.height,u=i.exploreId,f=i.deleteRichHistory,p=i.onClose,d=i.firstTab,h=[{label:"Query history",value:Y.RichHistory,content:o.a.createElement(H,{queries:s,sortOrder:n,datasourceFilters:t,activeDatasourceOnly:r,retentionPeriod:a,onChangeSortOrder:this.onChangeSortOrder,onSelectDatasourceFilters:this.onSelectDatasourceFilters,exploreId:u,height:l}),icon:"history"},{label:"Starred",value:Y.Starred,content:o.a.createElement(J,{queries:s,sortOrder:n,datasourceFilters:t,activeDatasourceOnly:r,onChangeSortOrder:this.onChangeSortOrder,onSelectDatasourceFilters:this.onSelectDatasourceFilters,exploreId:u}),icon:"star"},{label:"Settings",value:Y.Settings,content:o.a.createElement(w,{retentionPeriod:this.state.retentionPeriod,starredTabAsFirstTab:this.state.starredTabAsFirstTab,activeDatasourceOnly:this.state.activeDatasourceOnly,onChangeRetentionPeriod:this.onChangeRetentionPeriod,toggleStarredTabAsFirstTab:this.toggleStarredTabAsFirstTab,toggleactiveDatasourceOnly:this.toggleActiveDatasourceOnly,deleteRichHistory:f}),icon:"sliders-v-alt"}];return o.a.createElement(c.TabbedContainer,{tabs:h,onClose:p,defaultTab:d,closeIconTooltip:"Close query history"})}}])&&ee(n.prototype,r),s&&ee(n,s),t}(r.PureComponent),ie=Object(c.withTheme)(ae)},"6dfA":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("kDLi"),o=n("kDDq"),a=n("q1tI"),i=n.n(a);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    margin-top: ",";\n  "]);return s=function(){return e},e}var l=Object(r.stylesFactory)((function(e){return{infoBox:Object(o.css)(s(),e.spacing.xs)}})),u=function(e){var t=e.children,n=c(Object(a.useState)(!1),2),s=n[0],u=n[1],f=Object(r.useTheme)(),p=l(f);return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"gf-form-label query-keyword pointer",onClick:function(e){return u(!s)}},"Help",i.a.createElement(r.Icon,{name:s?"angle-down":"angle-right"})),s&&i.a.createElement(r.InfoBox,{className:Object(o.cx)(p.infoBox)},t))}},"75pU":function(e,t){function n(e,t,n,r){var o,a=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),i=t.get(a);return void 0===i&&(i=e.call(this,r),t.set(a,i)),i}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),a=t.get(o);return void 0===a&&(a=e.apply(this,r),t.set(o,a)),a}function o(e,t,n,r,o){return n.bind(t,e,r,o)}function a(e,t){return o(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function i(){return JSON.stringify(arguments)}function c(){this.cache=Object.create(null)}c.prototype.has=function(e){return e in this.cache},c.prototype.get=function(e){return this.cache[e]},c.prototype.set=function(e,t){this.cache[e]=t};var s={create:function(){return new c}};e.exports=function(e,t){var n=t&&t.cache?t.cache:s,r=t&&t.serializer?t.serializer:i;return(t&&t.strategy?t.strategy:a)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return o(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return o(e,this,n,t.cache.create(),t.serializer)}}},"7tbW":function(e,t,n){var r=n("LGYb");e.exports=function(e){return e&&e.length?r(e):[]}},"7vSn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m23.3 20l-13.1-13.6c-0.3-0.3-0.3-0.9 0-1.2l2.4-2.4c0.3-0.3 0.9-0.4 1.2-0.1l16 16.7c0.1 0.1 0.2 0.4 0.2 0.6s-0.1 0.5-0.2 0.6l-16 16.7c-0.3 0.3-0.9 0.3-1.2 0l-2.4-2.5c-0.3-0.3-0.3-0.9 0-1.2z"})))},e.exports=t.default},"8Vg1":function(e,t,n){"use strict";(function(e){var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a),c=n("/MKj"),s=n("0cfB"),l=n("kDLi"),u=n("PbtU"),f=n("p+Sq"),p=n("3SGO"),d=n("KyLG");function h(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var m=l.LegacyForms.ButtonSelect;var b={updateLocation:p.d,setDashboardQueriesToUpdateOnLoad:d.m};t.a=Object(s.hot)(e)(Object(c.connect)((function(e,t){var n=t.exploreId,r=e.explore,o=e.explore.split,a=r[n];return{exploreId:n,datasourceInstance:a.datasourceInstance,queries:a.queries,originPanelId:a.originPanelId,splitted:o}}),b)((function(e){var t=e.originPanelId,n=e.updateLocation,r=e.setDashboardQueriesToUpdateOnLoad,a=e.queries,c=e.splitted,s=t&&Number.isInteger(t);if(c||!s)return null;var p=i()("btn","navbar-button",{"btn--radius-right-0":s,"navbar-button navbar-button--border-right-0":s}),d=function(e){return e.map((function(e){return delete e.context,delete e.key,e}))},b=function(){var e,o=(e=regeneratorRuntime.mark((function e(){var o,i,c,s,l,p,h,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=m.length>0&&void 0!==m[0]?m[0]:{},i=o.withChanges,c=void 0!==i&&i,s=Object(f.a)(),l=s.getCurrent(),p=u.a.slugifyForUrl(l.title),c&&r({panelId:t,queries:d(a)}),h={},c||l.panelInEdit?h.editPanel=t:l.panelInView&&(h.viewPanel=t),n({path:"/d/".concat(l.uid,"/:").concat(p),query:h});case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,c,"next",e)}function c(e){h(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}();return o.a.createElement("div",{className:"explore-toolbar-content-item"},o.a.createElement(l.Tooltip,{content:"Return to panel",placement:"bottom"},o.a.createElement("button",{"data-testid":"returnButton",title:"Return to panel",className:p,onClick:function(){return b()}},o.a.createElement(l.Icon,{name:"arrow-left"}))),o.a.createElement("div",{"data-testid":"returnButtonWithChanges"},o.a.createElement(m,{className:"navbar-button--attached btn--radius-left-0$",options:[{label:"Return to panel with changes",value:""}],onChange:function(){return b({withChanges:!0})},maxMenuHeight:380})))})))}).call(this,n("3UD+")(e))},"9BUi":function(e,t,n){"use strict";(function(e){var r=n("q1tI"),o=n.n(r),a=n("sEfC"),i=n.n(a),c=n("OFL0"),s=n.n(c),l=n("0cfB"),u=n("/MKj"),f=n("y2tl"),p=n("kYjj"),d=n("Obii"),h=n("Csm0"),m=n("CJUB"),b=n("0H9l"),g=n("VVW4"),v=n("6dfA");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(){},I=function(e){function t(){var e,n;E(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=S(this,(e=T(t)).call.apply(e,[this].concat(a)))).state={textEditModeEnabled:!1},n.onRunQuery=function(){var e=n.props.exploreId;n.props.runQueries(e)},n.onChange=function(e,t){var r=n.props,o=r.datasourceInstance,a=r.exploreId,i=r.index;n.props.changeQuery(a,e,i,t),e&&!t&&o.getHighlighterExpression&&0===i&&n.updateLogsHighlights(e)},n.onClickToggleDisabled=function(){var e=n.props,t=e.exploreId,r=e.index,o=e.query,a=w({},o,{hide:!o.hide});n.props.changeQuery(t,a,r,!0)},n.onClickRemoveButton=function(){var e=n.props,t=e.exploreId,r=e.index;n.props.removeQueryRowAction({exploreId:t,index:r}),n.props.runQueries(t)},n.onClickToggleEditorMode=function(){n.setState({textEditModeEnabled:!n.state.textEditModeEnabled})},n.setReactQueryEditor=function(){var e,t,r,o,a=n.props.datasourceInstance;if(null===(e=a.components)||void 0===e?void 0:e.ExploreMetricsQueryField)o=a.components.ExploreMetricsQueryField;else if(null===(t=a.components)||void 0===t?void 0:t.ExploreLogsQueryField)o=a.components.ExploreLogsQueryField;else if(null===(r=a.components)||void 0===r?void 0:r.ExploreQueryField)o=a.components.ExploreQueryField;else{var i;o=null===(i=a.components)||void 0===i?void 0:i.QueryEditor}return o},n.renderQueryEditor=function(){var e,t,r=n.props,a=r.datasourceInstance,i=r.history,c=r.query,s=r.exploreEvents,l=r.range,u=r.queryResponse,p=r.exploreId,d=u.error&&u.error.refId===c.refId?[u.error]:[],h=n.setReactQueryEditor();t=h?o.a.createElement(h,{datasource:a,query:c,history:i,onRunQuery:n.onRunQuery,onBlur:C,onChange:n.onChange,data:u,range:l,exploreId:p}):o.a.createElement(f.a,{error:d,datasource:a,onQueryChange:n.onChange,onExecuteQuery:n.onRunQuery,initialQuery:c,exploreEvents:s,range:l,textEditModeEnabled:n.state.textEditModeEnabled});var m=null===(e=a.components)||void 0===e?void 0:e.QueryEditorHelp;return o.a.createElement(o.a.Fragment,null,t,m&&o.a.createElement(v.a,null,o.a.createElement(m,{onClickExample:function(e){return n.onChange(e)},datasource:a})))},n.updateLogsHighlights=i()((function(e){var t=n.props.datasourceInstance;if(t.getHighlighterExpression){var r=n.props.exploreId,o=t.getHighlighterExpression(e);n.props.highlightLogsExpressionAction({exploreId:r,expressions:o})}}),500),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.datasourceInstance,n=e.query,r=e.queryResponse,a=e.latency,i=s()(t,"components.QueryCtrl.prototype.toggleEditorMode"),c=r.state===d.LoadingState.NotStarted,l=r.error&&r.error.refId===n.refId?[r.error]:[];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"query-row","aria-label":h.selectors.components.QueryEditorRows.rows},o.a.createElement("div",{className:"query-row-field flex-shrink-1"},this.renderQueryEditor()),o.a.createElement(p.a,{canToggleEditorModes:i,isDisabled:n.hide,isNotStarted:c,latency:a,onClickToggleEditorMode:this.onClickToggleEditorMode,onClickToggleDisabled:this.onClickToggleDisabled,onClickRemoveButton:this.onClickRemoveButton})),l.length>0&&o.a.createElement(b.a,{queryError:l[0]}))}}])&&x(n.prototype,r),a&&x(n,a),t}(r.PureComponent);var P={changeQuery:g.c,highlightLogsExpressionAction:m.c,modifyQueries:g.f,removeQueryRowAction:g.h,runQueries:g.i};t.a=Object(l.hot)(e)(Object(u.connect)((function(e,t){var n=t.exploreId,r=t.index,o=e.explore[n],a=o.datasourceInstance,i=o.history,c=o.queries,s=o.range,l=o.absoluteRange,u=o.queryResponse,f=o.latency;return{datasourceInstance:a,history:i,query:c[r],range:s,absoluteRange:l,queryResponse:u,latency:f}}),P)(I))}).call(this,n("3UD+")(e))},"9TO8":function(e,t,n){"use strict";e.exports=function(){var e=this;clearTimeout(e.resetTimer),e.resetTimer=setTimeout((function(){e.resetSequences()}),1e3)}},"9V4m":function(e,t,n){"use strict";e.exports=function(){return this.callbacks={},this.directMap={},this}},"9dug":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("mwIZ"),o=n.n(r),a=n("IBZi");function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=this,r=t.getBounds,c=t.tag,s=t.resetBoundsOnResize,l=void 0===s||s,u=i(t,["getBounds","tag","resetBoundsOnResize"]);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resetBounds=function(){n._bounds=void 0},this._handleMinorMouseEvent=function(e){var t=e.button,r=e.clientX,o=e.type;if(!n._isDragging&&0===t){var i,c=null;if("mouseenter"===o)c=a.a.MouseEnter,i=n._onMouseEnter;else if("mouseleave"===o)c=a.a.MouseLeave,i=n._onMouseLeave;else{if("mousemove"!==o)throw new Error("invalid event type: ".concat(o));c=a.a.MouseMove,i=n._onMouseMove}if(i){var s=n._getPosition(r);i({event:e,type:c,value:s.value,x:s.x,manager:n,tag:n.tag})}}},this._handleDragEvent=function(e){var t,r=e.button,i=e.clientX,c=e.type,s=null;if("mousedown"===c){if(n._isDragging||0!==r)return;window.addEventListener("mousemove",n._handleDragEvent),window.addEventListener("mouseup",n._handleDragEvent);var l=o()(document,"body.style");l&&(l.userSelect="none"),n._isDragging=!0,s=a.a.DragStart,t=n._onDragStart}else if("mousemove"===c){if(!n._isDragging)return;s=a.a.DragMove,t=n._onDragMove}else{if("mouseup"!==c)throw new Error("invalid event type: ".concat(c));if(!n._isDragging)return;n._stopDragging(),s=a.a.DragEnd,t=n._onDragEnd}if(t){var u=n._getPosition(i);t({event:e,type:s,value:u.value,x:u.x,manager:n,tag:n.tag})}},this.handleMouseDown=this._handleDragEvent,this.handleMouseEnter=this._handleMinorMouseEvent,this.handleMouseMove=this._handleMinorMouseEvent,this.handleMouseLeave=this._handleMinorMouseEvent,this.getBounds=r,this.tag=c,this._isDragging=!1,this._bounds=void 0,this._resetBoundsOnResize=Boolean(l),this._resetBoundsOnResize&&window.addEventListener("resize",this.resetBounds),this._onMouseEnter=u.onMouseEnter,this._onMouseLeave=u.onMouseLeave,this._onMouseMove=u.onMouseMove,this._onDragStart=u.onDragStart,this._onDragMove=u.onDragMove,this._onDragEnd=u.onDragEnd}var t,n,r;return t=e,(n=[{key:"_getBounds",value:function(){return this._bounds||(this._bounds=this.getBounds(this.tag)),this._bounds}},{key:"_getPosition",value:function(e){var t=this._getBounds(),n=t.clientXLeft,r=t.maxValue,o=t.minValue,a=t.width,i=e-n,c=i/a;return null!=o&&c<o?(c=o,i=o*a):null!=r&&c>r&&(c=r,i=r*a),{value:c,x:i}}},{key:"_stopDragging",value:function(){window.removeEventListener("mousemove",this._handleDragEvent),window.removeEventListener("mouseup",this._handleDragEvent);var e=o()(document,"body.style");e&&(e.userSelect=null),this._isDragging=!1}},{key:"isDragging",value:function(){return this._isDragging}},{key:"dispose",value:function(){this._isDragging&&this._stopDragging(),this._resetBoundsOnResize&&window.removeEventListener("resize",this.resetBounds),this._bounds=void 0,this._onMouseEnter=void 0,this._onMouseLeave=void 0,this._onMouseMove=void 0,this._onDragStart=void 0,this._onDragMove=void 0,this._onDragEnd=void 0}}])&&c(t.prototype,n),r&&c(t,r),e}()},"9vlb":function(e,t,n){"use strict";e.exports=function(e,t){if((" "+t.className+" ").indexOf(" combokeys ")>-1)return!1;var n=t.tagName.toLowerCase();return"input"===n||"select"===n||"textarea"===n||t.isContentEditable}},AjF4:function(e,t,n){"use strict";var r=n("mwIZ"),o=n.n(r),a=n("uISq"),i=n.n(a),c=n("w2pd"),s=i()(Object.defineProperty({archiveEnabled:!1,dependencies:{dagMaxNumServices:c.a,menuEnabled:!0},linkPatterns:[],menu:[{label:"About Jaeger",items:[{label:"GitHub",url:"https://github.com/uber/jaeger"},{label:"Docs",url:"http://jaeger.readthedocs.io/en/latest/"},{label:"Twitter",url:"https://twitter.com/JaegerTracing"},{label:"Discussion Group",url:"https://groups.google.com/forum/#!forum/jaeger-tracing"},{label:"Gitter.im",url:"https://gitter.im/jaegertracing/Lobby"},{label:"Blog",url:"https://medium.com/jaegertracing/"}]}],search:{maxLookback:{label:"2 Days",value:"2d"},maxLimit:1500},tracking:{gaID:null,trackErrors:!0}},"__mergeFields",{value:["dependencies","search","tracking"]}));function l(e){return o()(s,e)}n.d(t,"a",(function(){return l}))},B3JP:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("kDDq"),i=n("TSYQ"),c=n.n(i),s=n("kDLi"),l=n("XZY6");function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      align-items: center;\n      display: flex;\n      flex: none;\n      justify-content: center;\n      margin-right: 0.5rem;\n    "]);return u=function(){return e},e}var f=Object(l.d)((function(){return{TimelineCollapser:Object(a.css)(u())}}));function p(e){var t=e.onExpandAll,n=e.onExpandOne,r=e.onCollapseAll,a=e.onCollapseOne,i=f();return o.a.createElement("div",{className:i.TimelineCollapser,"data-test-id":"TimelineCollapser"},o.a.createElement(s.IconButton,{tooltip:"Expand +1",size:"xl",tooltipPlacement:"top",name:"angle-down",onClick:n}),o.a.createElement(s.IconButton,{tooltip:"Collapse +1",size:"xl",tooltipPlacement:"top",name:"angle-right",onClick:a}),o.a.createElement(s.IconButton,{tooltip:"Expand All",size:"xl",tooltipPlacement:"top",name:"angle-double-down",onClick:t}),o.a.createElement(s.IconButton,{tooltip:"Collapse All",size:"xl",tooltipPlacement:"top",name:"angle-double-right",onClick:r}))}var d=n("50T7");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(){var e=k(["\n      &::before,\n      &::after {\n        border-right: 1px solid rgba(136, 0, 136, 0.5);\n      }\n    "]);return y=function(){return e},e}function O(){var e=k(["\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      &::before,\n      &::after {\n        border-right: 1px solid #ccc;\n        content: ' ';\n        height: 9px;\n        position: absolute;\n        right: 9px;\n        top: 25px;\n      }\n      &::after {\n        right: 5px;\n      }\n    "]);return O=function(){return e},e}function w(){var e=k(["\n      border-left: 1px solid #999;\n      border-right: 2px solid #808;\n    "]);return w=function(){return e},e}function j(){var e=k(["\n      border-left: 2px solid #808;\n      border-right: 1px solid #999;\n    "]);return j=function(){return e},e}function E(){var e=k(["\n      background: rgba(136, 0, 136, 0.05);\n      width: unset;\n      &::before {\n        left: -2000px;\n        right: -2000px;\n      }\n    "]);return E=function(){return e},e}function x(){var e=k(["\n      border-left: 2px solid transparent;\n      cursor: col-resize;\n      height: 5000px;\n      margin-left: -1px;\n      position: absolute;\n      top: 0;\n      width: 1px;\n      z-index: 10;\n      &:hover {\n        border-left: 2px solid rgba(0, 0, 0, 0.3);\n      }\n      &::before {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: -8px;\n        right: 0;\n        content: ' ';\n      }\n    "]);return x=function(){return e},e}function S(){var e=k(["\n      bottom: 0;\n      position: absolute;\n      top: 0;\n    "]);return S=function(){return e},e}function T(){var e=k(["\n      left: 0;\n      position: absolute;\n      right: 0;\n      top: 0;\n    "]);return T=function(){return e},e}function k(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C=Object(l.d)((function(){return{TimelineColumnResizer:Object(a.css)(T()),wrapper:Object(a.css)(S()),dragger:Object(a.css)(x()),draggerDragging:Object(a.css)(E()),draggerDraggingLeft:Object(a.css)(j()),draggerDraggingRight:Object(a.css)(w()),gripIcon:Object(a.css)(O()),gripIconDragging:Object(a.css)(y())}})),I=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=b(this,g(t).call(this,e)))._setRootElm=function(e){n._rootElm=e},n._getDraggingBounds=function(){if(!n._rootElm)throw new Error("invalid state");var e=n._rootElm.getBoundingClientRect(),t=e.left,r=e.width,o=n.props,a=o.min;return{clientXLeft:t,width:r,maxValue:o.max,minValue:a}},n._handleDragUpdate=function(e){var t=e.value;n.setState({dragPosition:t})},n._handleDragEnd=function(e){var t=e.manager,r=e.value;t.resetBounds(),n.setState({dragPosition:null}),n.props.onChange(r)},n._dragManager=new d.default({getBounds:n._getDraggingBounds,onDragEnd:n._handleDragEnd,onDragMove:n._handleDragUpdate,onDragStart:n._handleDragUpdate}),n._rootElm=void 0,n.state={dragPosition:null},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(o=[{key:"componentWillUnmount",value:function(){this._dragManager.dispose()}},{key:"render",value:function(){var e,t=this.props,n=t.position,o=t.columnResizeHandleHeight,a=this.state.dragPosition,i={left:"".concat(100*n,"%")},s=!1,l=!1,u=C();this._dragManager.isDragging()&&this._rootElm&&null!=a?(s=a<n,l=a>n,"".concat(100*a,"%"),e={left:"".concat(100*Math.min(n,a),"%"),right:"calc(".concat(100*(1-Math.max(n,a)),"% - 1px)")}):e=i,e.height=o;var f=s||l;return r.createElement("div",{className:u.TimelineColumnResizer,ref:this._setRootElm,"data-test-id":"TimelineColumnResizer"},r.createElement("div",{className:c()(u.gripIcon,f&&u.gripIconDragging),style:i,"data-test-id":"TimelineColumnResizer--gripIcon"}),r.createElement("div",{"aria-hidden":!0,className:c()(u.dragger,f&&u.draggerDragging,l&&u.draggerDraggingRight,s&&u.draggerDraggingLeft),onMouseDown:this._dragManager.handleMouseDown,style:e,"data-test-id":"TimelineColumnResizer--dragger"}))}}])&&m(n.prototype,o),a&&m(n,a),t}(r.PureComponent);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(){var e=G(["\n      label: TimelineViewingLayerFullOverlay;\n      bottom: 0;\n      cursor: col-resize;\n      left: 0;\n      position: fixed;\n      right: 0;\n      top: 0;\n      user-select: none;\n    "]);return z=function(){return e},e}function A(){var e=G(["\n      label: TimelineViewingLayerDraggedReframeDrag;\n      background-color: rgba(255, 68, 68, 0.2);\n      border-color: #f44;\n    "]);return A=function(){return e},e}function B(){var e=G(["\n      label: TimelineViewingLayerDraggedShiftDrag;\n      background-color: rgba(68, 68, 255, 0.2);\n      border-color: #44f;\n    "]);return B=function(){return e},e}function H(){var e=G(["\n      label: TimelineViewingLayerDraggedDraggingRight;\n      border-right: 1px solid;\n    "]);return H=function(){return e},e}function F(){var e=G(["\n      label: TimelineViewingLayerDraggedDraggingLeft;\n      border-left: 1px solid;\n    "]);return F=function(){return e},e}function V(){var e=G(["\n      label: TimelineViewingLayerDragged;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n    "]);return V=function(){return e},e}function q(){var e=G(["\n      label: TimelineViewingLayerCursorGuide;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      width: 1px;\n      background-color: red;\n    "]);return q=function(){return e},e}function W(){var e=G(["\n      label: TimelineViewingLayer;\n      bottom: 0;\n      cursor: vertical-text;\n      left: 0;\n      position: absolute;\n      right: 0;\n      top: 0;\n    "]);return W=function(){return e},e}function G(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var U=Object(l.d)((function(){return{TimelineViewingLayer:Object(a.css)(W()),TimelineViewingLayerCursorGuide:Object(a.css)(q()),TimelineViewingLayerDragged:Object(a.css)(V()),TimelineViewingLayerDraggedDraggingLeft:Object(a.css)(F()),TimelineViewingLayerDraggedDraggingRight:Object(a.css)(H()),TimelineViewingLayerDraggedShiftDrag:Object(a.css)(B()),TimelineViewingLayerDraggedReframeDrag:Object(a.css)(A()),TimelineViewingLayerFullOverlay:Object(a.css)(z())}}));function Q(e,t,n){return e+n*(t-e)}function Z(e,t,n){return(n-e)/(t-e)}function K(e,t,n,o,i){var c,s=function(e,t){var n=M(e<t?[e,t]:[t,e],2),r=n[0],o=n[1];return r>=1||o<=0?{isOutOfView:!0}:(r<0&&(r=0),o>1&&(o=1),{isDraggingLeft:e>t,left:"".concat(100*r,"%"),width:"".concat(100*(o-r),"%")})}(Z(e,t,n),Z(e,t,o));if(function(e){return Reflect.has(e,"isOutOfView")}(s))return null;var l=s.isDraggingLeft,u=s.left,f=s.width,p=U(),d=Object(a.cx)((N(c={},p.TimelineViewingLayerDraggedDraggingRight,!l),N(c,p.TimelineViewingLayerDraggedReframeDrag,!i),N(c,p.TimelineViewingLayerDraggedShiftDrag,i),c));return r.createElement("div",{className:Object(a.cx)(p.TimelineViewingLayerDragged,p.TimelineViewingLayerDraggedDraggingLeft,d),style:{left:u,width:f},"data-test-id":"Dragged"})}var Y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,R(t).call(this,e)))._setRoot=function(e){n._root=e},n._getDraggingBounds=function(){if(!n._root)throw new Error("invalid state");var e=n._root.getBoundingClientRect();return{clientXLeft:e.left,width:e.width}},n._handleReframeMouseMove=function(e){var t=e.value,r=M(n.props.viewRangeTime.current,2),o=Q(r[0],r[1],t);n.props.updateNextViewRangeTime({cursor:o})},n._handleReframeMouseLeave=function(){n.props.updateNextViewRangeTime({cursor:void 0})},n._handleReframeDragUpdate=function(e){var t=e.value,r=n.props.viewRangeTime,o=r.current,a=r.reframe,i=M(o,2),c=Q(i[0],i[1],t),s={reframe:{anchor:a?a.anchor:c,shift:c}};n.props.updateNextViewRangeTime(s)},n._handleReframeDragEnd=function(e){var t=e.manager,r=e.value,o=n.props.viewRangeTime,a=o.current,i=o.reframe,c=M(a,2),s=Q(c[0],c[1],r),l=i?i.anchor:s,u=M(s<l?[s,l]:[l,s],2),f=u[0],p=u[1];t.resetBounds(),n.props.updateViewRangeTime(f,p,"timeline-header")},n._draggerReframe=new d.default({getBounds:n._getDraggingBounds,onDragEnd:n._handleReframeDragEnd,onDragMove:n._handleReframeDragUpdate,onDragStart:n._handleReframeDragUpdate,onMouseLeave:n._handleReframeMouseLeave,onMouseMove:n._handleReframeMouseMove}),n._root=void 0,n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(o=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.boundsInvalidator!==e.boundsInvalidator&&this._draggerReframe.resetBounds()}},{key:"componentWillUnmount",value:function(){this._draggerReframe.dispose()}},{key:"render",value:function(){var e,t=this.props.viewRangeTime,n=t.current,o=t.cursor,a=t.reframe,i=t.shiftEnd,c=t.shiftStart,s=M(n,2),l=s[0],u=s[1];null==a&&null==i&&null==c&&null!=o&&o>=l&&o<=u&&(e="".concat(100*Z(l,u,o),"%"));var f=U();return r.createElement("div",{"aria-hidden":!0,className:f.TimelineViewingLayer,ref:this._setRoot,onMouseDown:this._draggerReframe.handleMouseDown,onMouseLeave:this._draggerReframe.handleMouseLeave,onMouseMove:this._draggerReframe.handleMouseMove,"data-test-id":"TimelineViewingLayer"},null!=e&&r.createElement("div",{className:f.TimelineViewingLayerCursorGuide,style:{left:e},"data-test-id":"TimelineViewingLayer--cursorGuide"}),null!=a&&K(l,u,a.anchor,a.shift,!1),null!=i&&K(l,u,u,i,!0),null!=c&&K(l,u,l,c,!0))}}])&&D(n.prototype,o),a&&D(n,a),t}(r.PureComponent),X=n("kxiF");function J(e){var t=e.min,n=e.max,r=e.viewStart,o=e.viewEnd,a=n-t,i=t+r*a,c=n-(1-o)*a-i;return function(e,t){return{start:(e-i)/c,end:(t-i)/c}}}function $(e,t,n){return!(!Array.isArray(n.tags)||!n.tags.length)&&n.tags.some((function(n){return n.key===e&&n.value===t}))}var ee=$.bind(null,"span.kind","client"),te=$.bind(null,"span.kind","server"),ne=$.bind(null,"error",!0),re=$.bind(null,"error","true"),oe=function(e){return ne(e)||re(e)};function ae(){var e=le(["\n      label: TicksTickLabelEndAnchor;\n      left: initial;\n      right: 0.25rem;\n    "]);return ae=function(){return e},e}function ie(){var e=le(["\n      label: TicksTickLabel;\n      left: 0.25rem;\n      position: absolute;\n    "]);return ie=function(){return e},e}function ce(){var e=le(["\n      label: TicksTick;\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background: ",";\n      &:last-child {\n        width: 0;\n      }\n    "]);return ce=function(){return e},e}function se(){var e=le(["\n      label: Ticks;\n      pointer-events: none;\n    "]);return se=function(){return e},e}function le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ue=Object(l.d)((function(e){return{Ticks:Object(a.css)(se()),TicksTick:Object(a.css)(ce(),Object(l.c)(e,"#d8d8d8")),TicksTickLabel:Object(a.css)(ie()),TicksTickLabelEndAnchor:Object(a.css)(ae())}}));function fe(e){var t,n=e.endTime,o=e.numTicks,a=e.showLabels,i=e.startTime;if(a){t=[];for(var s=(n||0)-(i||0),u=0;u<o;u++){var f=(i||0)+u/(o-1)*s;t.push(Object(X.c)(f))}}for(var p,d,h,m=ue(Object(l.g)()),b=[],g=0;g<o;g++){var v=g/(o-1);b.push(r.createElement("div",{key:v,className:m.TicksTick,style:{left:"".concat(100*v,"%")}},t&&r.createElement("span",{className:c()(m.TicksTickLabel,(p={},d=m.TicksTickLabelEndAnchor,h=v>=1,d in p?Object.defineProperty(p,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):p[d]=h,p))},t[g])))}return r.createElement("div",{className:m.Ticks},b)}fe.defaultProps={endTime:null,showLabels:null,startTime:null};var pe=n("xIog");function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ge(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      display: flex;\n      flex: 0 1 auto;\n      flex-direction: row;\n    "]);return ge=function(){return e},e}var ve=Object(l.d)((function(){return{flexRow:Object(a.css)(ge())}}));function ye(e){var t=e.children,n=e.className,o=void 0===n?"":n,a=be(e,["children","className"]),i=ve();return r.createElement("div",me({className:c()(i.flexRow,o)},a),t)}function Oe(e){var t=e.children,n=e.className,o=void 0===n?"":n,a=e.width,i=e.style,s=be(e,["children","className","width","style"]),l="".concat(100*a,"%"),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i,{flexBasis:l,maxWidth:l});return r.createElement("div",me({className:c()(pe.o,o),style:u},s),t)}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function je(){var e=Se(["\n      label: TimelineHeaderWrapper;\n      align-items: center;\n    "]);return je=function(){return e},e}function Ee(){var e=Se(["\n      label: TimelineHeaderRowTitle;\n      flex: 1;\n      overflow: hidden;\n      margin: 0;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    "]);return Ee=function(){return e},e}function xe(){var e=Se(["\n      label: TimelineHeaderRow;\n      background: ",";\n      border-bottom: 1px solid ",";\n      height: 38px;\n      line-height: 38px;\n      width: 100%;\n      z-index: 4;\n      position: relative;\n    "]);return xe=function(){return e},e}function Se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}ye.defaultProps={className:""},Oe.defaultProps={className:"",style:{}},ye.Cell=Oe;var Te=Object(l.d)((function(e){return{TimelineHeaderRow:Object(a.css)(xe(),Object(l.c)(e,"#ececec"),Object(l.c)(e,"#ccc")),TimelineHeaderRowTitle:Object(a.css)(Ee()),TimelineHeaderWrapper:Object(a.css)(je())}}));function ke(e){var t=e.duration,n=e.nameColumnWidth,o=e.numTicks,a=e.onCollapseAll,i=e.onCollapseOne,s=e.onColummWidthChange,u=e.onExpandAll,f=e.onExpandOne,d=e.updateViewRangeTime,h=e.updateNextViewRangeTime,m=e.viewRangeTime,b=e.columnResizeHandleHeight,g=we(m.current,2),v=g[0],y=g[1],O=Te(Object(l.g)());return r.createElement(ye,{className:O.TimelineHeaderRow,"data-test-id":"TimelineHeaderRow"},r.createElement(ye.Cell,{className:c()(pe.e,pe.n,O.TimelineHeaderWrapper),width:n},r.createElement("h4",{className:O.TimelineHeaderRowTitle},"Service & Operation"),r.createElement(p,{onCollapseAll:a,onExpandAll:u,onCollapseOne:i,onExpandOne:f})),r.createElement(ye.Cell,{width:1-n},r.createElement(Y,{boundsInvalidator:n,updateNextViewRangeTime:h,updateViewRangeTime:d,viewRangeTime:m}),r.createElement(fe,{numTicks:o,startTime:v*t,endTime:y*t,showLabels:!0})),r.createElement(I,{columnResizeHandleHeight:b,position:n,onChange:s,min:.2,max:.85}))}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ys=[],this.heights=[],this.bufferLen=t,this.dataLen=-1,this.lastI=-1}var t,n,r;return t=e,(n=[{key:"profileData",value:function(e){e!==this.dataLen&&(this.dataLen=e,this.ys.length=e,this.heights.length=e,this.lastI>=e&&(this.lastI=e-1))}},{key:"calcHeights",value:function(e,t,n){null!=n&&(this.lastI=n);var r=e+this.bufferLen;if(!(r<=this.lastI)){r>=this.heights.length&&(r=this.heights.length-1);var o=this.lastI;for(-1===this.lastI&&(o=0,this.ys[0]=0);o<=r;){var a=this.heights[o]=t(o);this.ys[o+1]=this.ys[o]+a,o++}this.lastI=r}}},{key:"calcYs",value:function(e,t){for(;(null==this.ys[this.lastI]||e>this.ys[this.lastI])&&this.lastI<this.dataLen-1;)this.calcHeights(this.lastI,t)}},{key:"confirmHeight",value:function(e,t){var n=e;if(n>this.lastI)this.calcHeights(n,t);else{var r=t(n);if(r!==this.heights[n]){var o=r-this.heights[n];for(this.heights[n]=r;++n<=this.lastI;)this.ys[n]+=o;null!=this.ys[this.lastI+1]&&(this.ys[this.lastI+1]+=o)}}}},{key:"findFloorIndex",value:function(e,t){this.calcYs(e,t);var n,r=0,o=this.lastI;if(this.ys.length<2||e<this.ys[1])return 0;if(e>this.ys[o])return o;for(;r<o;)if(n=r+.5*(o-r)|0,e>this.ys[n]){if(e<=this.ys[n+1])return n;r=n}else{if(!(e<this.ys[n]))return n;if(e>=this.ys[n-1])return n-1;o=n}throw new Error("unable to find floor index for y=".concat(e))}},{key:"getRowPosition",value:function(e,t){return this.confirmHeight(e,t),{height:this.heights[e],y:this.ys[e]}}},{key:"getEstimatedHeight",value:function(){var e=this.ys[this.lastI]+this.heights[this.lastI];return this.lastI>=this.dataLen-1?0|e:e/(this.lastI+1)*this.heights.length|0}}])&&Ce(t.prototype,n),r&&Ce(t,r),e}();function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_e(this,Re(t).call(this,e))).getViewHeight=function(){return n._viewHeight},n.getBottomVisibleIndex=function(){var e=n._scrollTop+n._viewHeight;return n._yPositions.findFloorIndex(e,n._getHeight)},n.getTopVisibleIndex=function(){return n._yPositions.findFloorIndex(n._scrollTop,n._getHeight)},n.getRowPosition=function(e){return n._yPositions.getRowPosition(e,n._getHeight)},n._onScroll=function(){n._isScrolledOrResized||(n._isScrolledOrResized=!0,window.requestAnimationFrame(n._positionList))},n._positionList=function(){if(n._isScrolledOrResized=!1,n._wrapperElm){n._calcViewIndexes();var e=n.props.viewBufferMin>n._startIndex?0:n._startIndex-n.props.viewBufferMin,t=n.props.viewBufferMin<n.props.dataLength-n._endIndex?n._endIndex+n.props.viewBufferMin:n.props.dataLength-1;(e<n._startIndexDrawn||t>n._endIndexDrawn)&&n.forceUpdate()}},n._initWrapper=function(e){n.props.windowScroller&&(n._wrapperElm=e,e&&(n._viewHeight=e.clientHeight))},n._initItemHolder=function(e){n._itemHolderElm=e,n._scanItemHeights()},n._scanItemHeights=function(){var e=n.props.getIndexFromKey;if(n._itemHolderElm){for(var t=null,r=null,o=!1,a=n._itemHolderElm.childNodes,i=a.length,c=0;c<i;c++){var s=a[c],l=s.getAttribute("data-item-key");if(l){var u=(s.firstElementChild||s).clientHeight;u!==n._knownHeights.get(l)&&(n._knownHeights.set(l,u),o?r=l:(o=!0,t=r=l))}else console.warn("itemKey not found")}if(null!=t&&null!=r){var f=e(t),p=r===t?f:e(r);n._yPositions.calcHeights(p,n._getHeight,f),n.forceUpdate()}}},n._getHeight=function(e){var t=n.props.getKeyFromIndex(e),r=n._knownHeights.get(t);return null!=r&&r==r?r:n.props.itemHeightGetter(e,t)},n._yPositions=new Ie(200),n._knownHeights=new Map,n._startIndexDrawn=Math.pow(2,20),n._endIndexDrawn=-Math.pow(2,20),n._startIndex=0,n._endIndex=0,n._viewHeight=-1,n._scrollTop=-1,n._isScrolledOrResized=!1,n._htmlTopOffset=-1,n._windowScrollListenerAdded=!1,n._htmlElm=document.documentElement,n._wrapperElm=void 0,n._itemHolderElm=void 0,n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){if(this.props.windowScroller){if(this._wrapperElm){var e=this._wrapperElm.getBoundingClientRect().top;this._htmlTopOffset=e+this._htmlElm.scrollTop}window.addEventListener("scroll",this._onScroll),this._windowScrollListenerAdded=!0}else{var t;this._wrapperElm=this.props.scrollElement,null===(t=this._wrapperElm)||void 0===t||t.addEventListener("scroll",this._onScroll)}}},{key:"componentDidUpdate",value:function(){this._itemHolderElm&&this._scanItemHeights()}},{key:"componentWillUnmount",value:function(){var e;this._windowScrollListenerAdded?window.removeEventListener("scroll",this._onScroll):null===(e=this._wrapperElm)||void 0===e||e.removeEventListener("scroll",this._onScroll)}},{key:"_isViewChanged",value:function(){if(!this._wrapperElm)return!1;var e=this.props.windowScroller,t=e?this._htmlElm.clientHeight:this._wrapperElm.clientHeight,n=e?this._htmlElm.scrollTop:this._wrapperElm.scrollTop;return t!==this._viewHeight||n!==this._scrollTop}},{key:"_calcViewIndexes",value:function(){if(this.props.windowScroller)this._viewHeight=window.innerHeight-this._htmlTopOffset,this._scrollTop=window.scrollY;else{if(!this._wrapperElm)return this._viewHeight=-1,this._startIndex=0,void(this._endIndex=0);this._viewHeight=this._wrapperElm.clientHeight,this._scrollTop=this._wrapperElm.scrollTop}var e=this._scrollTop,t=this._scrollTop+this._viewHeight;this._startIndex=this._yPositions.findFloorIndex(e,this._getHeight),this._endIndex=this._yPositions.findFloorIndex(t,this._getHeight)}},{key:"render",value:function(){var e,t,n=this.props,o=n.dataLength,a=n.getKeyFromIndex,i=n.initialDraw,c=void 0===i?100:i,s=n.itemRenderer,l=n.viewBuffer,u=n.viewBufferMin,f=this._getHeight,p=[];if(this._yPositions.profileData(o),this._wrapperElm){this._isViewChanged()&&this._calcViewIndexes();var d=u>this._startIndex?0:this._startIndex-u,h=u<o-this._endIndex?this._endIndex+u:o-1;d<this._startIndexDrawn||h>this._endIndexDrawn?(e=l>this._startIndex?0:this._startIndex-l,(t=this._endIndex+l)>=o&&(t=o-1)):(e=this._startIndexDrawn,t=this._endIndexDrawn>o-1?o-1:this._endIndexDrawn)}else e=0,t=(c<o?c:o)-1;this._yPositions.calcHeights(t,f,e||-1),this._startIndexDrawn=e,this._endIndexDrawn=t,p.length=t-e+1;for(var m=e;m<=t;m++){var b=this._yPositions.getRowPosition(m,f),g=b.y,v={height:b.height,top:g,position:"absolute"},y=a(m),O={"data-item-key":y};p.push(s(y,v,m,O))}var w={style:{position:"relative"},ref:this._initWrapper};this.props.windowScroller||(w.onScroll=this._onScroll,w.style.height="100%",w.style.overflowY="auto");var j={position:"relative",height:this._yPositions.getEstimatedHeight()};return r.createElement("div",w,r.createElement("div",{style:j},r.createElement("div",{style:{position:"absolute",top:0,margin:0,padding:0},className:this.props.itemsWrapperClassName,ref:this._initItemHolder},p)))}}])&&De(n.prototype,o),a&&De(n,a),t}(r.Component);Ne.defaultProps={initialDraw:100,itemsWrapperClassName:"",windowScroller:!1};var Me=n("cKlj"),ze=n.n(Me),Ae=n("0WXz"),Be=n.n(Ae),He=n("+VKv"),Fe=n.n(He),Ve=n("CONf"),qe=n.n(Ve),We=n("582L"),Ge=n("PK6U"),Ue=o.a.createContext(void 0);Ue.displayName="ExternalLinkContext";var Qe=Ue;function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ye(e){var t=e.reference,n=e.children,r=e.className,a=e.focusSpan,i=Ke(e,["reference","children","className","focusSpan"]);return delete i.onClick,t.span?o.a.createElement("a",Ze({role:"button",onClick:function(){return a(t.spanID)},className:r},i),n):o.a.createElement(Qe.Consumer,null,(function(e){if(!e)throw new Error("ExternalLinkContext does not have a value, you probably forgot to setup it's provider");return o.a.createElement("a",Ze({href:e(t.traceID,t.spanID),target:"_blank",rel:"noopener noreferrer",className:r},i),n)}))}function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(){var e=ct(["\n      max-width: none;\n    "]);return rt=function(){return e},e}function ot(){var e=ct(["\n      margin: 0.2em 0 0;\n    "]);return ot=function(){return e},e}function at(){var e=ct(["\n      display: flex;\n      justify-content: space-between;\n    "]);return at=function(){return e},e}function it(){var e=ct(["\n      padding: 0 5px;\n      color: #000;\n      & ~ & {\n        margin-left: 5px;\n      }\n    "]);return it=function(){return e},e}function ct(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var st=Object(l.d)((function(){return{MultiParent:Object(a.css)(it()),TraceRefLink:Object(a.css)(at()),NewWindowIcon:Object(a.css)(ot()),tooltip:Object(a.css)(rt())}})),lt=function(e){function t(){var e,n;Je(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=et(this,(e=tt(t)).call.apply(e,[this].concat(a)))).referencesList=function(e){var t=st();return o.a.createElement(Ge.g,null,e.map((function(e){var r=e.span,a=e.spanID;return o.a.createElement(Ge.h,{key:"".concat(a)},o.a.createElement(Ye,{reference:e,focusSpan:n.props.focusSpan,className:t.TraceRefLink},r?"".concat(r.process.serviceName,":").concat(r.operationName," - ").concat(e.spanID):"(another trace) - ".concat(e.spanID),!r&&o.a.createElement(We.a,{className:t.NewWindowIcon})))})))},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.references,n=e.children,r=e.tooltipText,a=e.focusSpan,i=st(),c={arrowPointAtCenter:!0,mouseLeaveDelay:.5,placement:"bottom",title:r,overlayClassName:i.tooltip};if(t.length>1)return o.a.createElement(Ge.j,c,o.a.createElement(Ge.c,{overlay:this.referencesList(t),placement:"bottomRight",trigger:["click"]},o.a.createElement("a",{className:i.MultiParent},n)));var s=t[0];return o.a.createElement(Ge.j,c,o.a.createElement(Ye,{reference:s,focusSpan:a,className:i.MultiParent},n))}}])&&$e(n.prototype,r),a&&$e(n,a),t}(o.a.PureComponent),ut=n("mwIZ"),ft=n.n(ut),pt=n("7vSn"),dt=n.n(pt),ht=n("VYNe"),mt=n.n(ht),bt=n("J2m7"),gt=n.n(bt);function vt(e){return ft()(gt()(e.references,(function(e){var t=e.span,n=e.refType;return t&&t.spanID&&("CHILD_OF"===n||"FOLLOWS_FROM"===n)})),"span")}function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(){var e=Dt(["\n      label: iconWrapper;\n      position: absolute;\n      right: 0.25rem;\n    "]);return Tt=function(){return e},e}function kt(){var e=Dt(["\n      label: indentGuideActive;\n      border-color: ",";\n      &::before {\n        background-color: transparent;\n      }\n    "]);return kt=function(){return e},e}function Ct(){var e=Dt(["\n      label: indentGuide;\n      /* The size of the indentGuide is based off of the iconWrapper */\n      padding-right: calc(0.5rem + 12px);\n      height: 100%;\n      border-left: 3px solid transparent;\n      display: inline-flex;\n      &::before {\n        content: '';\n        padding-left: 1px;\n        background-color: ",";\n      }\n    "]);return Ct=function(){return e},e}function It(){var e=Dt(["\n      label: SpanTreeOffsetParent;\n      &:hover {\n        background-color: ",";\n        cursor: pointer;\n      }\n    "]);return It=function(){return e},e}function Pt(){var e=Dt(["\n      label: SpanTreeOffset;\n      color: ",";\n      position: relative;\n    "]);return Pt=function(){return e},e}function Dt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _t=Object(l.d)((function(e){return{SpanTreeOffset:Object(a.css)(Pt(),Object(l.c)(e,"#000")),SpanTreeOffsetParent:Object(a.css)(It(),Object(l.c)(e,"#e8e8e8")),indentGuide:Object(a.css)(Ct(),Object(l.c)(e,"lightgrey")),indentGuideActive:Object(a.css)(kt(),Object(l.c)(e,"darkgrey")),iconWrapper:Object(a.css)(Tt())}})),Rt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Et(this,xt(t).call(this,e))).handleMouseLeave=function(e,t){e.relatedTarget instanceof HTMLSpanElement&&ft()(e,"relatedTarget.dataset.ancestorId")===t||n.props.removeHoverIndentGuideId(t)},n.handleMouseEnter=function(e,t){e.relatedTarget instanceof HTMLSpanElement&&ft()(e,"relatedTarget.dataset.ancestorId")===t||n.props.addHoverIndentGuideId(t)},n.ancestorIds=function(e){var t=[];if(!e)return t;for(var n=vt(e);n;)t.push(n.spanID),n=vt(n);return t}(e.span),n.ancestorIds.push("root"),n.ancestorIds.reverse(),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.childrenVisible,r=t.onClick,a=t.showChildrenIcon,i=t.span,s=t.theme,l=i.hasChildren,u=i.spanID,f=l?{onClick:r,role:"switch","aria-checked":n}:null,p=a&&l&&(n?o.a.createElement(mt.a,null):o.a.createElement(dt.a,null)),d=_t(s);return o.a.createElement("span",Ot({className:c()(d.SpanTreeOffset,wt({},d.SpanTreeOffsetParent,l))},f),this.ancestorIds.map((function(t){return o.a.createElement("span",{key:t,className:c()(d.indentGuide,wt({},d.indentGuideActive,e.props.hoverIndentGuideIds.has(t))),"data-ancestor-id":t,"data-test-id":"SpanTreeOffset--indentGuide",onMouseEnter:function(n){return e.handleMouseEnter(n,t)},onMouseLeave:function(n){return e.handleMouseLeave(n,t)}})})),p&&o.a.createElement("span",{className:d.iconWrapper,onMouseEnter:function(t){return e.handleMouseEnter(t,u)},onMouseLeave:function(t){return e.handleMouseLeave(t,u)},"data-test-id":"icon-wrapper"},p))}}])&&jt(n.prototype,r),a&&jt(n,a),t}(o.a.PureComponent);Rt.displayName="UnthemedSpanTreeOffset",Rt.defaultProps={childrenVisible:!1,showChildrenIcon:!0};var Lt=Object(l.h)(Rt),Nt=n("bt/X"),Mt=n.n(Nt),zt=n("MnCE"),At=n("xweI"),Bt=n.n(At),Ht=n("ia7v"),Ft=n.n(Ht),Vt=n("4kj3"),qt=n.n(Vt),Wt=n("+QRC"),Gt=n.n(Wt);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      background-color: transparent;\n      border: none;\n      color: inherit;\n      height: 100%;\n      overflow: hidden;\n      padding: 0px;\n      &:focus {\n        background-color: rgba(255, 255, 255, 0.25);\n        color: inherit;\n      }\n    "]);return Jt=function(){return e},e}var $t=Object(l.d)((function(){return{CopyIcon:Object(a.css)(Jt())}})),en=function(e){function t(){var e,n;Qt(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Kt(this,(e=Yt(t)).call.apply(e,[this].concat(o)))).state={hasCopied:!1},n.handleClick=function(){n.setState({hasCopied:!0}),Gt()(n.props.copyText)},n.handleTooltipVisibilityChange=function(e){!e&&n.state.hasCopied&&n.setState({hasCopied:!1})},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=$t();return r.createElement(Ge.j,{arrowPointAtCenter:!0,mouseLeaveDelay:.5,onVisibleChange:this.handleTooltipVisibilityChange,placement:this.props.placement,title:this.state.hasCopied?"Copied":this.props.tooltipTitle},r.createElement(Ge.a,{className:c()(e.CopyIcon,this.props.className),htmlType:"button",icon:this.props.icon,onClick:this.handleClick}))}}])&&Zt(n.prototype,o),a&&Zt(n,a),t}(r.PureComponent);function tn(){var e=ln(["\n      label: linkIcon;\n      vertical-align: middle;\n      font-weight: bold;\n    "]);return tn=function(){return e},e}function nn(){var e=ln(["\n      label: copyColumn;\n      text-align: right;\n    "]);return nn=function(){return e},e}function rn(){var e=ln(["\n      label: keyColumn;\n      color: ",";\n      white-space: pre;\n      width: 125px;\n    "]);return rn=function(){return e},e}function on(){var e=ln(["\n      label: row;\n      & > td {\n        padding: 0.25rem 0.5rem;\n        padding: 0.25rem 0.5rem;\n        vertical-align: top;\n      }\n      &:nth-child(2n) > td {\n        background: ",";\n      }\n      &:not(:hover) ."," {\n        display: none;\n      }\n    "]);return on=function(){return e},e}function an(){var e=ln(["\n      label: body;\n      vertical-align: baseline;\n    "]);return an=function(){return e},e}function cn(){var e=ln(["\n      label: KeyValueTable;\n      background: ",";\n      border: 1px solid ",";\n      margin-bottom: 0.7em;\n      max-height: 450px;\n      overflow: auto;\n    "]);return cn=function(){return e},e}function sn(){var e=ln(["\n    label: copyIcon;\n  "]);return sn=function(){return e},e}function ln(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}en.defaultProps={className:void 0,icon:"copy",placement:"left"};var un=Object(l.d)((function(e){var t=Object(a.css)(sn());return{KeyValueTable:Object(a.css)(cn(),Object(l.c)(e,"#fff"),Object(l.c)(e,"#ddd")),body:Object(a.css)(an()),row:Object(a.css)(on(),Object(l.c)(e,"#f5f5f5"),t),keyColumn:Object(a.css)(rn(),Object(l.c)(e,"#888")),copyColumn:Object(a.css)(nn()),linkIcon:Object(a.css)(tn()),copyIcon:t}})),fn=/^(\[|\{)/;function pn(e){if("string"==typeof e&&fn.test(e))try{return JSON.parse(e)}catch(e){}return e}var dn=function(e){var t=un(Object(l.g)());return r.createElement("a",{href:e.href,title:e.title,target:"_blank",rel:"noopener noreferrer"},e.children," ",r.createElement(Ge.d,{className:t.linkIcon,type:"export"}))};dn.defaultProps={title:""};var hn=function(e){return r.createElement(Ge.g,null,e.map((function(e,t){var n=e.text,o=e.url;return r.createElement(Ge.h,{key:"".concat(o,"-").concat(t)},r.createElement(dn,{href:o},n))})))};function mn(e){var t=e.data,n=e.linksGetter,o=un(Object(l.g)());return r.createElement("div",{className:c()(o.KeyValueTable),"data-test-id":"KeyValueTable"},r.createElement("table",{className:pe.d},r.createElement("tbody",{className:o.body},t.map((function(e,a){var i,c={__html:qt()(pn(e.value))},s=r.createElement("div",{className:pe.g,dangerouslySetInnerHTML:c}),l=n?n(t,a):null;return i=l&&1===l.length?r.createElement("div",null,r.createElement(dn,{href:l[0].url,title:l[0].text},s)):l&&l.length>1?r.createElement("div",null,r.createElement(Ge.c,{overlay:hn(l),placement:"bottomRight",trigger:["click"]},r.createElement("a",null,s," ",r.createElement(Ge.d,{className:o.linkIcon,type:"profile"})))):s,r.createElement("tr",{className:o.row,key:"".concat(e.key,"-").concat(a)},r.createElement("td",{className:o.keyColumn,"data-test-id":"KeyValueTable--keyColumn"},e.key),r.createElement("td",null,i),r.createElement("td",{className:o.copyColumn},r.createElement(en,{className:o.copyIcon,copyText:JSON.stringify(e,null,2),tooltipTitle:"Copy JSON"})))})))))}function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(){var e=Tn(["\n      label: summaryDelim;\n      color: ",";\n      padding: 0 0.2em;\n    "]);return vn=function(){return e},e}function yn(){var e=Tn(["\n      label: summaryLabel;\n      color: ",";\n    "]);return yn=function(){return e},e}function On(){var e=Tn(["\n      label: summaryItem;\n      display: inline;\n      margin-left: 0.7em;\n      padding-right: 0.5rem;\n      border-right: 1px solid ",";\n      &:last-child {\n        padding-right: 0;\n        border-right: none;\n      }\n    "]);return On=function(){return e},e}function wn(){var e=Tn(["\n      label: summary;\n      display: inline;\n      list-style: none;\n      padding: 0;\n    "]);return wn=function(){return e},e}function jn(){var e=Tn(["\n      label: emptyIcon;\n      color: ",";\n    "]);return jn=function(){return e},e}function En(){var e=Tn(["\n      label: headerHighContrast;\n      &:hover {\n        background: ",";\n      }\n    "]);return En=function(){return e},e}function xn(){var e=Tn(["\n      label: headerEmpty;\n      background: none;\n      cursor: initial;\n    "]);return xn=function(){return e},e}function Sn(){var e=Tn(["\n      label: header;\n      cursor: pointer;\n      overflow: hidden;\n      padding: 0.25em 0.1em;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      &:hover {\n        background: ",";\n      }\n    "]);return Sn=function(){return e},e}function Tn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kn=Object(l.d)((function(e){return{header:Object(a.css)(Sn(),Object(l.c)(e,"#e8e8e8")),headerEmpty:Object(a.css)(xn()),headerHighContrast:Object(a.css)(En(),Object(l.c)(e,"#ddd")),emptyIcon:Object(a.css)(jn(),Object(l.c)(e,"#aaa")),summary:Object(a.css)(wn()),summaryItem:Object(a.css)(On(),Object(l.c)(e,"#ddd")),summaryLabel:Object(a.css)(yn(),Object(l.c)(e,"#777")),summaryDelim:Object(a.css)(vn(),Object(l.c)(e,"#bbb"))}}));function Cn(e){var t=e.data,n=kn(Object(l.g)());return Array.isArray(t)&&t.length?r.createElement("ul",{className:n.summary},t.map((function(e,t){return r.createElement("li",{className:n.summaryItem,key:"".concat(e.key,"-").concat(t)},r.createElement("span",{className:n.summaryLabel},e.key),r.createElement("span",{className:n.summaryDelim},"="),String(e.value))}))):null}function In(e){var t,n=e.className,o=e.data,a=e.highContrast,i=e.interactive,s=e.isOpen,u=e.label,f=e.linksGetter,p=e.onToggle,d=!Array.isArray(o)||!o.length,h=kn(Object(l.g)()),m=c()(pe.a,gn({},h.emptyIcon,d)),b=null,g=null;return i&&(b=s?r.createElement(mt.a,{className:m}):r.createElement(Ft.a,{className:m}),g={"aria-checked":s,onClick:d?null:p,role:"switch"}),r.createElement("div",{className:c()(n,pe.b)},r.createElement("div",bn({className:c()(h.header,(t={},gn(t,h.headerEmpty,d),gn(t,h.headerHighContrast,a&&!d),t))},g,{"data-test-id":"AccordianKeyValues--header"}),b,r.createElement("strong",{"data-test":"label"},u,s||":"),!s&&r.createElement(Cn,{data:o})),s&&r.createElement(mn,{data:o,linksGetter:f}))}function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dn(){var e=Nn(["\n      label: AccordianLogsFooter;\n      color: ",";\n    "]);return Dn=function(){return e},e}function _n(){var e=Nn(["\n      label: AccordianLogsContent;\n      background: ",";\n      border-top: 1px solid ",";\n      padding: 0.5rem 0.5rem 0.25rem 0.5rem;\n    "]);return _n=function(){return e},e}function Rn(){var e=Nn(["\n      label: AccordianLogsHeader;\n      background: ",";\n      color: inherit;\n      display: block;\n      padding: 0.25rem 0.5rem;\n      &:hover {\n        background: ",";\n      }\n    "]);return Rn=function(){return e},e}function Ln(){var e=Nn(["\n      label: AccordianLogs;\n      border: 1px solid ",";\n      position: relative;\n      margin-bottom: 0.25rem;\n    "]);return Ln=function(){return e},e}function Nn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Cn.defaultProps={data:null},In.defaultProps={className:null,highContrast:!1,interactive:!0,onToggle:null};var Mn=Object(l.d)((function(e){return{AccordianLogs:Object(a.css)(Ln(),Object(l.c)(e,"#d8d8d8")),AccordianLogsHeader:Object(a.css)(Rn(),Object(l.c)(e,"#e4e4e4"),Object(l.c)(e,"#dadada")),AccordianLogsContent:Object(a.css)(_n(),Object(l.c)(e,"#f0f0f0"),Object(l.c)(e,"#d8d8d8")),AccordianLogsFooter:Object(a.css)(Dn(),Object(l.c)(e,"#999"))}}));function zn(e){var t=e.interactive,n=e.isOpen,o=e.linksGetter,a=e.logs,i=e.openedItems,c=e.onItemToggle,s=e.onToggle,u=e.timestamp,f=null,p="span",d=null;t&&(f=n?r.createElement(mt.a,{className:pe.a}):r.createElement(Ft.a,{className:"u-align-icon"}),p="a",d={"aria-checked":n,onClick:s,role:"switch"});var h=Mn(Object(l.g)());return r.createElement("div",{className:h.AccordianLogs},r.createElement(p,Pn({className:h.AccordianLogsHeader},d),f," ",r.createElement("strong",null,"Logs")," (",a.length,")"),n&&r.createElement("div",{className:h.AccordianLogsContent},Bt()(a,"timestamp").map((function(e,n){return r.createElement(In,{key:"".concat(e.timestamp,"-").concat(n),className:n<a.length-1?pe.k:null,data:e.fields||[],highContrast:!0,interactive:t,isOpen:!!i&&i.has(e),label:"".concat(Object(X.c)(e.timestamp-u)),linksGetter:o,onToggle:t&&c?function(){return c(e)}:null})})),r.createElement("small",{className:h.AccordianLogsFooter},"Log timestamps are relative to the start time of the full trace.")))}function An(){var e=Wn(["\n      label: logHint;\n      pointer-events: none;\n      // TODO won't work with different UI elements injected\n      & .ant-popover-inner-content {\n        padding: 0.25rem;\n      }\n    "]);return An=function(){return e},e}function Bn(){var e=Wn(["\n      label: logMarker;\n      background-color: rgba(0, 0, 0, 0.5);\n      cursor: pointer;\n      height: 60%;\n      min-width: 1px;\n      position: absolute;\n      top: 20%;\n      &:hover {\n        background-color: #000;\n      }\n      &::before,\n      &::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        border: 1px solid transparent;\n      }\n      &::after {\n        left: 0;\n      }\n    "]);return Bn=function(){return e},e}function Hn(){var e=Wn(["\n      label: label;\n      color: #aaa;\n      font-size: 12px;\n      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n      line-height: 1em;\n      white-space: nowrap;\n      padding: 0 0.5em;\n      position: absolute;\n    "]);return Hn=function(){return e},e}function Fn(){var e=Wn(["\n      label: rpc;\n      position: absolute;\n      top: 35%;\n      bottom: 35%;\n      z-index: 1;\n    "]);return Fn=function(){return e},e}function Vn(){var e=Wn(["\n      label: bar;\n      border-radius: 3px;\n      min-width: 2px;\n      position: absolute;\n      height: 36%;\n      top: 32%;\n    "]);return Vn=function(){return e},e}function qn(){var e=Wn(["\n      label: wrapper;\n      bottom: 0;\n      left: 0;\n      position: absolute;\n      right: 0;\n      top: 0;\n      overflow: hidden;\n      z-index: 0;\n    "]);return qn=function(){return e},e}function Wn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}zn.defaultProps={interactive:!0,linksGetter:void 0,onItemToggle:void 0,onToggle:void 0,openedItems:void 0};var Gn=Object(l.d)((function(){return{wrapper:Object(a.css)(qn()),bar:Object(a.css)(Vn()),rpc:Object(a.css)(Fn()),label:Object(a.css)(Hn()),logMarker:Object(a.css)(Bn()),logHint:Object(a.css)(An())}}));function Un(e){return"".concat((100*e).toFixed(1),"%")}var Qn=Object(zt.a)(Object(zt.d)("label","setLabel",(function(e){return e.shortLabel})),Object(zt.c)((function(e){var t=e.setLabel,n=e.shortLabel,r=e.longLabel;return{setLongLabel:function(){return t(r)},setShortLabel:function(){return t(n)}}})),Object(zt.b)(["label","rpc","viewStart","viewEnd"]))((function(e){var t=e.viewEnd,n=e.viewStart,r=e.getViewedBounds,a=e.color,i=e.label,s=e.onClick,l=e.setLongLabel,u=e.setShortLabel,f=e.rpc,p=e.traceStartTime,d=e.span,h=e.className,m=e.labelClassName,b=Mt()(d.logs,(function(e){var t=r(e.timestamp,e.timestamp).start;return Un(Math.round(500*t)/500)})),g=Gn();return o.a.createElement("div",{className:c()(g.wrapper,h),onClick:s,onMouseOut:u,onMouseOver:l,"aria-hidden":!0,"data-test-id":"SpanBar--wrapper"},o.a.createElement("div",{"aria-label":i,className:g.bar,style:{background:a,left:Un(n),width:Un(t-n)}},o.a.createElement("div",{className:c()(g.label,m),"data-test-id":"SpanBar--label"},i)),o.a.createElement("div",null,Object.keys(b).map((function(e){return o.a.createElement(Ge.i,{key:e,arrowPointAtCenter:!0,overlayClassName:g.logHint,placement:"topLeft",content:o.a.createElement(zn,{interactive:!1,isOpen:!0,logs:b[e],timestamp:p})},o.a.createElement("div",{className:g.logMarker,style:{left:e}}))}))),f&&o.a.createElement("div",{className:g.rpc,style:{background:f.color,left:Un(f.viewStart),width:Un(f.viewEnd-f.viewStart)}}))}));function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(){var e=xr(["\n      label: labelLeft;\n      right: 100%;\n    "]);return tr=function(){return e},e}function nr(){var e=xr(["\n      label: labelRight;\n      left: 100%;\n    "]);return nr=function(){return e},e}function rr(){var e=xr(["\n      label: rpcColorMarker;\n      border-radius: 6.5px;\n      display: inline-block;\n      font-size: 0.85em;\n      height: 1em;\n      margin-right: 0.25rem;\n      padding: 1px;\n      width: 1em;\n      vertical-align: middle;\n    "]);return rr=function(){return e},e}function or(){var e=xr(["\n      label: errorIcon;\n      border-radius: 6.5px;\n      color: ",";\n      font-size: 0.85em;\n      margin-right: 0.25rem;\n      padding: 1px;\n    "]);return or=function(){return e},e}function ar(){var e=xr(["\n      label: svcNameChildrenCollapsed;\n      font-weight: bold;\n      font-style: italic;\n    "]);return ar=function(){return e},e}function ir(){var e=xr(["\n      label: svcName;\n      padding: 0 0.25rem 0 0.5rem;\n      font-size: 1.05em;\n    "]);return ir=function(){return e},e}function cr(){var e=xr(["\n      label: nameDetailExpanded;\n      &::before {\n        bottom: 0;\n      }\n    "]);return cr=function(){return e},e}function sr(){var e=xr(["\n      label: name;\n      color: ",";\n      cursor: pointer;\n      flex: 1 1 auto;\n      outline: none;\n      overflow: hidden;\n      padding-left: 4px;\n      padding-right: 0.25em;\n      position: relative;\n      text-overflow: ellipsis;\n      &::before {\n        content: ' ';\n        position: absolute;\n        top: 4px;\n        bottom: 4px;\n        left: 0;\n        border-left: 4px solid;\n        border-left-color: inherit;\n      }\n\n      /* This is so the hit area of the span-name extends the rest of the width of the span-name column */\n      &::after {\n        background: transparent;\n        bottom: 0;\n        content: ' ';\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: 1000px;\n      }\n      &:focus {\n        text-decoration: none;\n      }\n      &:hover > ."," {\n        color: ",";\n      }\n    "]);return sr=function(){return e},e}function lr(){var e=xr(["\n      label: rowExpandedAndMatchingFilter;\n      &:hover ."," {\n        background: ",";\n      }\n    "]);return lr=function(){return e},e}function ur(){var e=xr(["\n      label: rowMatchingFilter;\n      background-color: ",";\n      &:hover ."," {\n        background: linear-gradient(\n          90deg,\n          ",",\n          "," 75%,\n          ","\n        );\n      }\n      &:hover ."," {\n        background-color: ",";\n        outline: 1px solid ",";\n      }\n    "]);return ur=function(){return e},e}function fr(){var e=xr(["\n      label: rowExpanded;\n      & ."," {\n        opacity: 1;\n      }\n      & ."," {\n        color: ",";\n      }\n      & .",", &:hover ."," {\n        background: ",";\n        box-shadow: 0 1px 0 ",";\n      }\n      & ."," {\n        background: ",";\n      }\n      &:hover ."," {\n        background: ",";\n      }\n    "]);return fr=function(){return e},e}function pr(){var e=xr(["\n      label: rowClippingRight;\n      & .","::before {\n        content: ' ';\n        height: 100%;\n        position: absolute;\n        width: 6px;\n        background-image: linear-gradient(\n          to left,\n          ",",\n          ","\n        );\n        right: 0%;\n        z-index: 1;\n      }\n    "]);return pr=function(){return e},e}function dr(){var e=xr(["\n      label: rowClippingLeft;\n      & .","::before {\n        content: ' ';\n        height: 100%;\n        position: absolute;\n        width: 6px;\n        background-image: linear-gradient(\n          to right,\n          ",",\n          ","\n        );\n        left: 100%;\n        z-index: -1;\n      }\n    "]);return dr=function(){return e},e}function hr(){var e=xr(["\n      label: row;\n      &:hover ."," {\n        opacity: 1;\n      }\n      &:hover ."," {\n        color: ",";\n      }\n      &:hover ."," {\n        background: #f8f8f8;\n        background: linear-gradient(\n          90deg,\n          ",",\n          "," 75%,\n          ","\n        );\n      }\n      &:hover ."," {\n        background-color: ",";\n        outline: 1px solid ",";\n      }\n    "]);return hr=function(){return e},e}function mr(){var e=xr(["\n    label: nameColumn;\n    position: relative;\n    white-space: nowrap;\n    z-index: 1;\n    &:hover {\n      z-index: 1;\n    }\n  "]);return mr=function(){return e},e}function br(){var e=xr(["\n    label: viewExpandedAndMatchingFilter;\n    background: ",";\n    outline: 1px solid ",";\n  "]);return br=function(){return e},e}function gr(){var e=xr(["\n    label: viewExpanded;\n    background: ",";\n    outline: 1px solid ",";\n  "]);return gr=function(){return e},e}function vr(){var e=xr(["\n    label: view;\n    position: relative;\n  "]);return vr=function(){return e},e}function yr(){var e=xr(["\n    label: endpointName;\n    color: ",";\n  "]);return yr=function(){return e},e}function Or(){var e=xr(["\n    label: nameWrapperMatchingFilter;\n    background-color: ",";\n  "]);return Or=function(){return e},e}function wr(){var e=xr(["\n    label: nameWrapper;\n    background: ",";\n    line-height: 27px;\n    overflow: hidden;\n    display: flex;\n    &:hover {\n      border-right: 1px solid ",";\n      float: left;\n      min-width: calc(100% + 1px);\n      overflow: visible;\n    }\n  "]);return wr=function(){return e},e}function jr(){var e=xr(["\n    label: spanBarLabel;\n  "]);return jr=function(){return e},e}function Er(){var e=xr(["\n    label: spanBar;\n  "]);return Er=function(){return e},e}function xr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Sr=Object(l.d)((function(e){var t=Object(a.css)(Er()),n=Object(a.css)(jr()),r=Object(a.css)(wr(),Object(l.c)(e,"#f8f8f8"),Object(l.c)(e,"#bbb")),o=Object(a.css)(Or(),Object(l.c)(e,"#fffce4")),i=Object(a.css)(yr(),Object(l.c)(e,"#808080")),c=Object(a.css)(vr()),s=Object(a.css)(gr(),Object(l.c)(e,"#f8f8f8"),Object(l.c)(e,"#ddd")),u=Object(a.css)(br(),Object(l.c)(e,"#fff3d7"),Object(l.c)(e,"#ddd")),f=Object(a.css)(mr());return{spanBar:t,spanBarLabel:n,nameWrapper:r,nameWrapperMatchingFilter:o,nameColumn:f,endpointName:i,view:c,viewExpanded:s,viewExpandedAndMatchingFilter:u,row:Object(a.css)(hr(),t,n,Object(l.c)(e,"#000"),r,Object(l.c)(e,"#fafafa"),Object(l.c)(e,"#f8f8f8"),Object(l.c)(e,"#eee"),c,Object(l.c)(e,"#f5f5f5"),Object(l.c)(e,"#ddd")),rowClippingLeft:Object(a.css)(dr(),f,Object(l.c)(e,"rgba(25, 25, 25, 0.25)"),Object(l.c)(e,"rgba(32, 32, 32, 0)")),rowClippingRight:Object(a.css)(pr(),c,Object(l.c)(e,"rgba(25, 25, 25, 0.25)"),Object(l.c)(e,"rgba(25, 25, 25, 0.25)")),rowExpanded:Object(a.css)(fr(),t,n,Object(l.c)(e,"#000"),r,r,Object(l.c)(e,"#f0f0f0"),Object(l.c)(e,"#ddd"),o,Object(l.c)(e,"#fff3d7"),c,Object(l.c)(e,"#eee")),rowMatchingFilter:Object(a.css)(ur(),Object(l.c)(e,"#fffce4"),r,Object(l.c)(e,"#fff5e1"),Object(l.c)(e,"#fff5e1"),Object(l.c)(e,"#ffe6c9"),c,Object(l.c)(e,"#fff3d7"),Object(l.c)(e,"#ddd")),rowExpandedAndMatchingFilter:Object(a.css)(lr(),c,Object(l.c)(e,"#ffeccf")),name:Object(a.css)(sr(),Object(l.c)(e,"#000"),i,Object(l.c)(e,"#000")),nameDetailExpanded:Object(a.css)(cr()),svcName:Object(a.css)(ir()),svcNameChildrenCollapsed:Object(a.css)(ar()),errorIcon:Object(a.css)(or(),Object(l.c)(e,"#fff")),rpcColorMarker:Object(a.css)(rr()),labelRight:Object(a.css)(nr()),labelLeft:Object(a.css)(tr())}})),Tr=function(e){function t(){var e,n;Yn(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Jn(this,(e=$n(t)).call.apply(e,[this].concat(o))))._detailToggle=function(){n.props.onDetailToggled(n.props.span.spanID)},n._childrenToggle=function(){n.props.onChildrenToggled(n.props.span.spanID)},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e,t,n,o,a,i=this.props,s=i.className,u=i.color,f=i.columnDivision,p=i.isChildrenExpanded,d=i.isDetailExpanded,h=i.isMatchingFilter,m=i.numTicks,b=i.rpc,g=i.showErrorIcon,v=i.getViewedBounds,y=i.traceStartTime,O=i.span,w=i.focusSpan,j=i.hoverIndentGuideIds,E=i.addHoverIndentGuideId,x=i.removeHoverIndentGuideId,S=i.clippingLeft,T=i.clippingRight,k=i.theme,C=i.createSpanLink,I=O.duration,P=O.hasChildren,D=O.operationName,_=O.process.serviceName,R=Object(X.c)(I),L=v(O.startTime,O.startTime+O.duration),N=L.start,M=L.end,z=Sr(k),A="".concat(_,"::").concat(D);return N>1-M?(n="".concat(A," | ").concat(R),o=z.labelLeft):(n="".concat(R," | ").concat(A),o=z.labelRight),r.createElement(ye,{className:c()(z.row,(e={},Kn(e,z.rowExpanded,d),Kn(e,z.rowMatchingFilter,h),Kn(e,z.rowExpandedAndMatchingFilter,h&&d),Kn(e,z.rowClippingLeft,S),Kn(e,z.rowClippingRight,T),e),s)},r.createElement(ye.Cell,{className:z.nameColumn,width:f},r.createElement("div",{className:c()(z.nameWrapper,Kn({},z.nameWrapperMatchingFilter,h))},r.createElement(Lt,{childrenVisible:p,span:O,onClick:P?this._childrenToggle:void 0,hoverIndentGuideIds:j,addHoverIndentGuideId:E,removeHoverIndentGuideId:x}),r.createElement("a",{className:c()(z.name,Kn({},z.nameDetailExpanded,d)),"aria-checked":d,onClick:this._detailToggle,role:"switch",style:{borderColor:u},tabIndex:0},r.createElement("span",{className:c()(z.svcName,Kn({},z.svcNameChildrenCollapsed,P&&!p))},g&&r.createElement(ze.a,{style:{backgroundColor:O.errorIconColor?Object(l.c)(k,O.errorIconColor):Object(l.c)(k,"#db2828")},className:z.errorIcon}),_," ",b&&r.createElement("span",null,r.createElement(Be.a,null)," ",r.createElement("i",{className:z.rpcColorMarker,style:{background:b.color}}),b.serviceName)),r.createElement("small",{className:z.endpointName},b?b.operationName:D)),C&&(a=C(O),r.createElement("a",{href:a.href,target:"_blank",style:{marginRight:"5px"},rel:"noopener noreferrer",onClick:a.onClick?function(e){e.ctrlKey||e.metaKey||e.shiftKey||!a.onClick||(e.preventDefault(),a.onClick(e))}:void 0},a.content)),O.references&&O.references.length>1&&r.createElement(lt,{references:O.references,tooltipText:"Contains multiple references",focusSpan:w},r.createElement(Fe.a,null)),O.subsidiarilyReferencedBy&&O.subsidiarilyReferencedBy.length>0&&r.createElement(lt,{references:O.subsidiarilyReferencedBy,tooltipText:"This span is referenced by ".concat(1===O.subsidiarilyReferencedBy.length?"another span":"multiple other spans"),focusSpan:w},r.createElement(qe.a,null)))),r.createElement(ye.Cell,{className:c()(z.view,(t={},Kn(t,z.viewExpanded,d),Kn(t,z.viewExpandedAndMatchingFilter,h&&d),t)),"data-test-id":"span-view",style:{cursor:"pointer"},width:1-f,onClick:this._detailToggle},r.createElement(fe,{numTicks:m}),r.createElement(Qn,{rpc:b,viewStart:N,viewEnd:M,getViewedBounds:v,color:u,shortLabel:R,longLabel:n,traceStartTime:y,span:O,labelClassName:"".concat(z.spanBarLabel," ").concat(o),className:z.spanBar})))}}])&&Xn(n.prototype,o),a&&Xn(n,a),t}(r.PureComponent);Tr.displayName="UnthemedSpanBarRow",Tr.defaultProps={className:"",rpc:null};var kr=Object(l.h)(Tr);function Cr(){var e=Dr(["\n      padding: 0.25rem 0.5rem;\n      vertical-align: top;\n      &:nth-child(2n) {\n        background: #f5f5f5;\n      }\n    "]);return Cr=function(){return e},e}function Ir(){var e=Dr(["\n      width: 100%;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n    "]);return Ir=function(){return e},e}function Pr(){var e=Dr(["\n      max-height: 450px;\n      overflow: auto;\n    "]);return Pr=function(){return e},e}function Dr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _r=Object(l.d)((function(){return{TextList:Object(a.css)(Pr()),List:Object(a.css)(Ir()),item:Object(a.css)(Cr())}}));function Rr(e){var t=e.data,n=_r();return r.createElement("div",{className:c()(n.TextList),"data-test-id":"TextList"},r.createElement("ul",{className:n.List},t.map((function(e,t){return r.createElement("li",{className:n.item,key:"".concat(t)},e)}))))}function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nr(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      cursor: pointer;\n      overflow: hidden;\n      padding: 0.25em 0.1em;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      &:hover {\n        background: ",";\n      }\n    "]);return Nr=function(){return e},e}var Mr=Object(l.d)((function(e){return{header:Object(a.css)(Nr(),Object(l.c)(e,"#e8e8e8"))}}));function zr(e){var t=e.data;return r.createElement(Rr,{data:t})}function Ar(e){var t,n,o,a=e.className,i=e.data,s=e.headerClassName,u=e.interactive,f=e.isOpen,p=e.label,d=e.onToggle,h=e.TextComponent,m=void 0===h?zr:h,b=!Array.isArray(i)||!i.length,g=kn(Object(l.g)()),v=c()(pe.a,(t={},n=g.emptyIcon,o=b,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),y=null,O=null;u&&(y=f?r.createElement(mt.a,{className:v}):r.createElement(Ft.a,{className:v}),O={"aria-checked":f,onClick:b?null:d,role:"switch"});var w=Mr(Object(l.g)());return r.createElement("div",{className:a||""},r.createElement("div",Lr({className:c()(w.header,s)},O,{"data-test-id":"AccordianText--header"}),y,r.createElement("strong",null,p)," (",i.length,")"),f&&r.createElement(m,{data:i}))}Ar.defaultProps={className:null,highContrast:!1,interactive:!0,onToggle:null};var Br=n("HamY");function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t){return!t||"object"!==Hr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ur(){var e=Jr(["\n      margin: 0 5px 0 5px;\n      &::before {\n        color: #bbb;\n        content: attr(data-label);\n      }\n    "]);return Ur=function(){return e},e}function Qr(){var e=Jr(["\n      letter-spacing: 0.25px;\n      margin: 0.5em 0 0;\n    "]);return Qr=function(){return e},e}function Zr(){var e=Jr(["\n      &:nth-child(2n) {\n        background: #f5f5f5;\n      }\n    "]);return Zr=function(){return e},e}function Kr(){var e=Jr(["\n      padding: 0.25rem 0.5rem;\n      display: flex;\n      width: 100%;\n      justify-content: space-between;\n    "]);return Kr=function(){return e},e}function Yr(){var e=Jr(["\n      width: 100%;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      background: #fff;\n    "]);return Yr=function(){return e},e}function Xr(){var e=Jr(["\n      background: #fff;\n      border: 1px solid #ddd;\n      margin-bottom: 0.7em;\n      max-height: 450px;\n      overflow: auto;\n    "]);return Xr=function(){return e},e}function Jr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $r=Object(l.d)((function(){return{ReferencesList:Object(a.css)(Xr()),list:Object(a.css)(Yr()),itemContent:Object(a.css)(Kr()),item:Object(a.css)(Zr()),debugInfo:Object(a.css)(Qr()),debugLabel:Object(a.css)(Ur())}}));function eo(e){var t=e.data,n=e.focusSpan,o=$r();return r.createElement("div",{className:c()(o.ReferencesList)},r.createElement("ul",{className:o.list},t.map((function(e){return r.createElement("li",{className:o.item,key:"".concat(e.spanID)},r.createElement(Ye,{reference:e,focusSpan:n},r.createElement("span",{className:o.itemContent},e.span?r.createElement("span",null,r.createElement("span",{className:"span-svc-name"},e.span.process.serviceName),r.createElement("small",{className:"endpoint-name"},e.span.operationName)):r.createElement("span",{className:"span-svc-name"},"< span in another trace >"),r.createElement("small",{className:o.debugInfo},r.createElement("span",{className:o.debugLabel,"data-label":"Reference Type:"},e.refType),r.createElement("span",{className:o.debugLabel,"data-label":"SpanID:"},e.spanID)))))}))))}var to=function(e){function t(){return Fr(this,t),qr(this,Wr(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.interactive,o=e.isOpen,a=e.onToggle,i=e.focusSpan,c=!Array.isArray(t)||!t.length,s=pe.a,l=null,u=null;return n&&(l=o?r.createElement(mt.a,{className:s}):r.createElement(Ft.a,{className:s}),u={"aria-checked":o,onClick:c?null:a,role:"switch"}),r.createElement("div",null,r.createElement("div",u,l,r.createElement("strong",null,r.createElement("span",null,"References"))," ","(",t.length,")"),o&&r.createElement(eo,{data:t,focusSpan:i}))}}])&&Vr(n.prototype,o),a&&Vr(n,a),t}(r.PureComponent);function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ao(){var e=bo(["\n      word-break: break-all;\n      white-space: pre;\n    "]);return ao=function(){return e},e}function io(){var e=bo(["\n      label: AccordianWarningsLabel;\n      color: ",";\n    "]);return io=function(){return e},e}function co(){var e=bo(["\n      label: AccordianWarningsHeaderOpen;\n      border-bottom: 1px solid ",";\n    "]);return co=function(){return e},e}function so(){var e=bo(["\n      label: AccordianWarningsHeader;\n      background: ",";\n      padding: 0.25rem 0.5rem;\n      &:hover {\n        background: ",";\n      }\n    "]);return so=function(){return e},e}function lo(){var e=bo(["\n      label: AccordianWarnings;\n      background: ",";\n      border: 1px solid ",";\n      margin-bottom: 0.25rem;\n    "]);return lo=function(){return e},e}function uo(){var e=bo(["\n      label: debugValue;\n      background-color: inherit;\n      border: none;\n      color: ",";\n      cursor: pointer;\n      &:hover {\n        color: ",";\n      }\n    "]);return uo=function(){return e},e}function fo(){var e=bo(["\n      label: debugLabel;\n      &::before {\n        color: ",";\n        content: attr(data-label);\n      }\n    "]);return fo=function(){return e},e}function po(){var e=bo(["\n      label: debugInfo;\n      display: block;\n      letter-spacing: 0.25px;\n      margin: 0.5em 0 -0.75em;\n      text-align: right;\n    "]);return po=function(){return e},e}function ho(){var e=bo(["\n      label: dividerVertical;\n      display: block;\n      height: 1px;\n      width: 100%;\n      margin: 24px 0;\n      clear: both;\n      vertical-align: middle;\n      position: relative;\n      top: -0.06em;\n    "]);return ho=function(){return e},e}function mo(){var e=bo(["\n      label: divider;\n      background: ",";\n    "]);return mo=function(){return e},e}function bo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}to.defaultProps={highContrast:!1,interactive:!0,onToggle:null};var go=Object(l.d)((function(e){return{divider:Object(a.css)(mo(),Object(l.c)(e,"#ddd")),dividerVertical:Object(a.css)(ho()),debugInfo:Object(a.css)(po()),debugLabel:Object(a.css)(fo(),Object(l.c)(e,"#bbb")),debugValue:Object(a.css)(uo(),Object(l.c)(e,"#888"),Object(l.c)(e,"#333")),AccordianWarnings:Object(a.css)(lo(),Object(l.c)(e,"#fafafa"),Object(l.c)(e,"#e4e4e4")),AccordianWarningsHeader:Object(a.css)(so(),Object(l.c)(e,"#fff7e6"),Object(l.c)(e,"#ffe7ba")),AccordianWarningsHeaderOpen:Object(a.css)(co(),Object(l.c)(e,"#e8e8e8")),AccordianWarningsLabel:Object(a.css)(io(),Object(l.c)(e,"#d36c08")),Textarea:Object(a.css)(ao())}}));function vo(e){var t=e.detailState,n=e.linksGetter,r=e.logItemToggle,a=e.logsToggle,i=e.processToggle,u=e.span,f=e.tagsToggle,p=e.traceStartTime,d=e.warningsToggle,h=e.stackTracesToggle,m=e.referencesToggle,b=e.focusSpan,g=e.createSpanLink,v=t.isTagsOpen,y=t.isProcessOpen,O=t.logs,w=t.isWarningsOpen,j=t.isReferencesOpen,E=t.isStackTracesOpen,x=u.operationName,S=u.process,T=u.duration,k=u.relativeStartTime,C=u.spanID,I=u.logs,P=u.tags,D=u.warnings,_=u.references,R=u.stackTraces,L=[{key:"svc",label:"Service:",value:S.serviceName},{key:"duration",label:"Duration:",value:Object(X.c)(T)},{key:"start",label:"Start Time:",value:Object(X.c)(k)}],N="".concat(window.location.origin).concat(window.location.pathname,"?uiFind=").concat(C),M=go(Object(l.g)()),z=null==g?void 0:g(u);return o.a.createElement("div",null,o.a.createElement("div",{className:c()(pe.e,pe.h,pe.k)},o.a.createElement("h2",{className:c()(pe.f,pe.j)},x),o.a.createElement(Br.a,{className:pe.p,dividerClassName:M.divider,items:L})),z?o.a.createElement(s.DataLinkButton,{link:ro({},z,{title:"Logs for this span"}),buttonProps:{icon:"gf-logs"}}):null,o.a.createElement(Ge.b,{className:c()(M.divider,M.dividerVertical,pe.l)}),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(In,{data:P,label:"Tags",linksGetter:n,isOpen:v,onToggle:function(){return f(C)}}),S.tags&&o.a.createElement(In,{className:pe.k,data:S.tags,label:"Process",linksGetter:n,isOpen:y,onToggle:function(){return i(C)}})),I&&I.length>0&&o.a.createElement(zn,{linksGetter:n,logs:I,isOpen:O.isOpen,openedItems:O.openedItems,onToggle:function(){return a(C)},onItemToggle:function(e){return r(C,e)},timestamp:p}),D&&D.length>0&&o.a.createElement(Ar,{className:M.AccordianWarnings,headerClassName:M.AccordianWarningsHeader,label:o.a.createElement("span",{className:M.AccordianWarningsLabel},"Warnings"),data:D,isOpen:w,onToggle:function(){return d(C)}}),R&&R.length&&o.a.createElement(Ar,{label:"Stack trace",data:R,isOpen:E,TextComponent:function(e){var t,n,r;(null===(t=e.data)||void 0===t?void 0:t.length)>1?n=e.data.map((function(e,t){return"StackTrace ".concat(t+1,":\n").concat(e)})).join("\n"):n=null===(r=e.data)||void 0===r?void 0:r[0];return o.a.createElement(s.TextArea,{className:M.Textarea,style:{cursor:"unset"},readOnly:!0,cols:10,rows:10,value:n})},onToggle:function(){return h(C)}}),_&&_.length>1&&o.a.createElement(to,{data:_,isOpen:j,onToggle:function(){return m(C)},focusSpan:b}),o.a.createElement("small",{className:M.debugInfo},o.a.createElement("span",{className:M.debugLabel,"data-label":"SpanID:"})," ",C,o.a.createElement(en,{copyText:N,icon:"link",placement:"topRight",tooltipTitle:"Copy deep link to this span"}))))}function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jo(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function So(){var e=ko(["\n      background: ",";\n      border: 1px solid ",";\n      border-top: 3px solid;\n      padding: 0.75rem;\n    "]);return So=function(){return e},e}function To(){var e=ko(["\n      cursor: pointer;\n      height: 100%;\n      overflow: hidden;\n      position: absolute;\n      width: 100%;\n      &::before {\n        border-left: 4px solid;\n        pointer-events: none;\n        width: 1000px;\n      }\n      &::after {\n        border-right: 1000px solid;\n        border-color: inherit;\n        cursor: pointer;\n        opacity: 0.2;\n      }\n\n      /* border-color inherit must come AFTER other border declarations for accent */\n      &::before,\n      &::after {\n        border-color: inherit;\n        content: ' ';\n        position: absolute;\n        height: 100%;\n      }\n\n      &:hover::after {\n        opacity: 0.35;\n      }\n    "]);return To=function(){return e},e}function ko(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Co=Object(l.d)((function(e){return{expandedAccent:Object(a.css)(To()),infoWrapper:Object(a.css)(So(),Object(l.c)(e,"#f5f5f5"),Object(l.c)(e,"#d3d3d3"))}})),Io=function(e){function t(){var e,n;Oo(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=jo(this,(e=Eo(t)).call.apply(e,[this].concat(o))))._detailToggle=function(){n.props.onDetailToggled(n.props.span.spanID)},n._linksGetter=function(e,t){var r=n.props;return(0,r.linksGetter)(r.span,e,t)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.columnDivision,r=e.detailState,a=e.logItemToggle,i=e.logsToggle,c=e.processToggle,s=e.referencesToggle,l=e.warningsToggle,u=e.stackTracesToggle,f=e.span,p=e.tagsToggle,d=e.traceStartTime,h=e.focusSpan,m=e.hoverIndentGuideIds,b=e.addHoverIndentGuideId,g=e.removeHoverIndentGuideId,v=e.theme,y=e.createSpanLink,O=Co(v);return o.a.createElement(ye,null,o.a.createElement(ye.Cell,{width:n},o.a.createElement(Lt,{span:f,showChildrenIcon:!1,hoverIndentGuideIds:m,addHoverIndentGuideId:b,removeHoverIndentGuideId:g}),o.a.createElement("span",null,o.a.createElement("span",{className:O.expandedAccent,"aria-checked":"true",onClick:this._detailToggle,role:"switch",style:{borderColor:t},"data-test-id":"detail-row-expanded-accent"}))),o.a.createElement(ye.Cell,{width:1-n},o.a.createElement("div",{className:O.infoWrapper,style:{borderTopColor:t}},o.a.createElement(vo,{detailState:r,linksGetter:this._linksGetter,logItemToggle:a,logsToggle:i,processToggle:c,referencesToggle:s,warningsToggle:l,stackTracesToggle:u,span:f,tagsToggle:p,traceStartTime:d,focusSpan:h,createSpanLink:y}))))}}])&&wo(n.prototype,r),a&&wo(n,a),t}(o.a.PureComponent),Po=Object(l.h)(Io),Do=n("SScd");function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){No(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t){return!t||"object"!==_o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vo(){var e=Wo(["\n      width: 100%;\n    "]);return Vo=function(){return e},e}function qo(){var e=Wo(["\n      width: 100%;\n    "]);return qo=function(){return e},e}function Wo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Go=Object(l.d)((function(){return{rowsWrapper:Object(a.css)(qo()),row:Object(a.css)(Vo())}})),Uo=28,Qo=161,Zo=197;function Ko(e,t,n){if(!e)return[];for(var r=null,o=[],a=0;a<e.length;a++){var i=e[a],c=i.spanID,s=i.depth,l=!1;null!=r&&(s>=r?l=!0:r=null),l||(t.has(c)&&(r=s+1),o.push({span:i,isDetail:!1,spanIndex:a}),n.has(c)&&o.push({span:i,isDetail:!0,spanIndex:a}))}return o}function Yo(e){var t=Fo(e,2);return{left:t[0]>0,right:t[1]<1}}var Xo,Jo=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ao(this,Bo(t).call(this,e))).getViewRange=function(){return n.props.currentViewRangeTime},n.getSearchedSpanIDs=function(){return n.props.findMatchesIDs},n.getCollapsedChildren=function(){return n.props.childrenHiddenIDs},n.mapRowIndexToSpanIndex=function(e){return n.rowStates[e].spanIndex},n.mapSpanIndexToRowIndex=function(e){for(var t=n.rowStates.length,r=0;r<t;r++){if(n.rowStates[r].spanIndex===e)return r}throw new Error("unable to find row for span index: ".concat(e))},n.setListView=function(e){var t=n.listView!==e;n.listView=e,e&&t&&n.props.registerAccessors(n.getAccessors())},n.getKeyFromIndex=function(e){var t=n.rowStates[e],r=t.isDetail,o=t.span;return"".concat(o.spanID,"--").concat(r?"detail":"bar")},n.getIndexFromKey=function(e){for(var t=e.split("--"),r=t[0],o="detail"===t[1],a=n.rowStates.length,i=0;i<a;i++){var c=n.rowStates[i],s=c.span,l=c.isDetail;if(s.spanID===r&&l===o)return i}return-1},n.getRowHeight=function(e){var t=n.rowStates[e],r=t.span;return t.isDetail?Array.isArray(r.logs)&&r.logs.length?Zo:Qo:Uo},n.renderRow=function(e,t,r,o){var a=n.rowStates[r],i=a.isDetail,c=a.span,s=a.spanIndex;return i?n.renderSpanDetailRow(c,e,t,o):n.renderSpanBarRow(c,s,e,t,o)};var r=e.currentViewRangeTime,o=e.childrenHiddenIDs,a=e.detailStates,i=e.setTrace,c=e.trace,s=e.uiFind;n.clipping=Yo(r);var l=Fo(r,2),u=l[0],f=l[1];return n.getViewedBounds=J({min:c.startTime,max:c.endTime,viewStart:u,viewEnd:f}),n.rowStates=Ko(c.spans,o,a),i(c,s),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(t,e),n=t,(o=[{key:"shouldComponentUpdate",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n+=1)if(e[t[n]]!==this.props[t[n]]){if("shouldScrollToFirstUiFindMatch"!==t[n])return!0;if(e[t[n]])return!0}return!1}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.props,n=t.childrenHiddenIDs,r=t.detailStates,o=t.registerAccessors,a=t.trace,i=t.currentViewRangeTime,c=e.currentViewRangeTime,s=e.childrenHiddenIDs,l=e.detailStates,u=e.registerAccessors,f=e.setTrace,p=e.trace,d=e.uiFind;if(a!==p&&f(p,d),a===p&&n===s&&r===l||(this.rowStates=p?Ko(p.spans,s,l):[]),i!==c||a!==p&&p){this.clipping=Yo(c);var h=Fo(c,2),m=h[0],b=h[1];this.getViewedBounds=J({min:p.startTime,max:p.endTime,viewStart:m,viewEnd:b})}this.listView&&o!==u&&u(this.getAccessors())}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.shouldScrollToFirstUiFindMatch,n=e.clearShouldScrollToFirstUiFindMatch,r=e.scrollToFirstVisibleSpan;t&&(r(),n())}},{key:"getAccessors",value:function(){var e=this.listView;if(!e)throw new Error("ListView unavailable");return{getViewRange:this.getViewRange,getSearchedSpanIDs:this.getSearchedSpanIDs,getCollapsedChildren:this.getCollapsedChildren,getViewHeight:e.getViewHeight,getBottomRowIndexVisible:e.getBottomVisibleIndex,getTopRowIndexVisible:e.getTopVisibleIndex,getRowPosition:e.getRowPosition,mapRowIndexToSpanIndex:this.mapRowIndexToSpanIndex,mapSpanIndexToRowIndex:this.mapSpanIndexToRowIndex}}},{key:"renderSpanBarRow",value:function(e,t,n,o,a){var i=e.spanID,c=e.process.serviceName,s=this.props,l=s.childrenHiddenIDs,u=s.childrenToggle,f=s.detailStates,p=s.detailToggle,d=s.findMatchesIDs,h=s.spanNameColumnWidth,m=s.trace,b=s.focusSpan,g=s.hoverIndentGuideIds,v=s.addHoverIndentGuideId,y=s.removeHoverIndentGuideId,O=s.theme,w=s.createSpanLink;if(!m)return null;var j=Object(Do.a)(c,O),E=l.has(i),x=f.has(i),S=!!d&&d.has(i),T=oe(e)||E&&function(e,t){for(var n=e[t].depth,r=t+1;r<e.length&&e[r].depth>n;r++)if(oe(e[r]))return!0;return!1}(m.spans,t),k=null;if(E){var C=function(e){if(e.length<=1||!ee(e[0]))return!1;for(var t=e[0].depth+1,n=1;n<e.length&&e[n].depth===t;){if(te(e[n]))return e[n];n++}return null}(m.spans.slice(t));if(C){var I=this.getViewedBounds(C.startTime,C.startTime+C.duration);k={color:Object(Do.a)(C.process.serviceName,O),operationName:C.operationName,serviceName:C.process.serviceName,viewEnd:I.end,viewStart:I.start}}}var P=Go();return r.createElement("div",Mo({className:P.row,key:n,style:o},a),r.createElement(kr,{clippingLeft:this.clipping.left,clippingRight:this.clipping.right,color:j,columnDivision:h,isChildrenExpanded:!E,isDetailExpanded:x,isMatchingFilter:S,numTicks:5,onDetailToggled:p,onChildrenToggled:u,rpc:k,showErrorIcon:T,getViewedBounds:this.getViewedBounds,traceStartTime:m.startTime,span:e,focusSpan:b,hoverIndentGuideIds:g,addHoverIndentGuideId:v,removeHoverIndentGuideId:y,createSpanLink:w}))}},{key:"renderSpanDetailRow",value:function(e,t,n,o){var a=e.spanID,i=e.process.serviceName,c=this.props,s=c.detailLogItemToggle,l=c.detailLogsToggle,u=c.detailProcessToggle,f=c.detailReferencesToggle,p=c.detailWarningsToggle,d=c.detailStackTracesToggle,h=c.detailStates,m=c.detailTagsToggle,b=c.detailToggle,g=c.spanNameColumnWidth,v=c.trace,y=c.focusSpan,O=c.hoverIndentGuideIds,w=c.addHoverIndentGuideId,j=c.removeHoverIndentGuideId,E=c.linksGetter,x=c.theme,S=c.createSpanLink,T=h.get(a);if(!v||!T)return null;var k=Object(Do.a)(i,x),C=Go();return r.createElement("div",Mo({className:C.row,key:t,style:Lo({},n,{zIndex:1})},o),r.createElement(Po,{color:k,columnDivision:g,onDetailToggled:b,detailState:T,linksGetter:E,logItemToggle:s,logsToggle:l,processToggle:u,referencesToggle:f,warningsToggle:p,stackTracesToggle:d,span:e,tagsToggle:m,traceStartTime:v.startTime,focusSpan:y,hoverIndentGuideIds:O,addHoverIndentGuideId:w,removeHoverIndentGuideId:j,createSpanLink:S}))}},{key:"render",value:function(){var e=Go(),t=this.props.scrollElement;return r.createElement("div",null,r.createElement(Ne,{ref:this.setListView,dataLength:this.rowStates.length,itemHeightGetter:this.getRowHeight,itemRenderer:this.renderRow,viewBuffer:50,viewBufferMin:50,itemsWrapperClassName:e.rowsWrapper,getKeyFromIndex:this.getKeyFromIndex,getIndexFromKey:this.getIndexFromKey,windowScroller:!1,scrollElement:t}))}}])&&zo(n.prototype,o),a&&zo(n,a),t}(r.Component),$o=Object(l.h)(Jo),ea=n("5sUZ"),ta=n.n(ea),na={scrollPageDown:{binding:"s",label:"Scroll down"},scrollPageUp:{binding:"w",label:"Scroll up"},scrollToNextVisibleSpan:{binding:"f",label:"Scroll to the next visible span"},scrollToPrevVisibleSpan:{binding:"b",label:"Scroll to the previous visible span"},panLeft:{binding:["a","left"],label:"Pan left"},panLeftFast:{binding:["shift+a","shift+left"],label:"Pan left — Large"},panRight:{binding:["d","right"],label:"Pan right"},panRightFast:{binding:["shift+d","shift+right"],label:"Pan right — Large"},zoomIn:{binding:"up",label:"Zoom in"},zoomInFast:{binding:"shift+up",label:"Zoom in — Large"},zoomOut:{binding:"down",label:"Zoom out"},zoomOutFast:{binding:"shift+down",label:"Zoom out — Large"},collapseAll:{binding:"]",label:"Collapse All"},expandAll:{binding:"[",label:"Expand All"},collapseOne:{binding:"p",label:"Collapse One Level"},expandOne:{binding:"o",label:"Expand One Level"},searchSpans:{binding:"ctrl+b",label:"Search Spans"},clearSearch:{binding:"escape",label:"Clear Search"}};function ra(){if(Xo)return Xo;var e=new ta.a(document.body);return Xo=e,e}function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(){return(aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ia(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sa(e,t){return!t||"object"!==oa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function la(e){return(la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ua(e,t){return(ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fa(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      label: TraceTimelineViewer;\n      border-bottom: 1px solid ",";\n\n      & .json-markup {\n        line-height: 17px;\n        font-size: 13px;\n        font-family: monospace;\n        white-space: pre-wrap;\n      }\n\n      & .json-markup-key {\n        font-weight: bold;\n      }\n\n      & .json-markup-bool {\n        color: ",";\n      }\n\n      & .json-markup-string {\n        color: ",";\n      }\n\n      & .json-markup-null {\n        color: ",";\n      }\n\n      & .json-markup-number {\n        color: ",";\n      }\n    "]);return fa=function(){return e},e}var pa=Object(l.d)((function(e){return{TraceTimelineViewer:Object(a.css)(fa(),Object(l.c)(e,"#bbb"),Object(l.c)(e,"firebrick"),Object(l.c)(e,"teal"),Object(l.c)(e,"teal"),Object(l.c)(e,"blue","black"))}})),da=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=sa(this,la(t).call(this,e))).collapseAll=function(){n.props.collapseAll(n.props.trace.spans)},n.collapseOne=function(){n.props.collapseOne(n.props.trace.spans)},n.expandAll=function(){n.props.expandAll()},n.expandOne=function(){n.props.expandOne(n.props.trace.spans)},n.state={height:0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ua(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e,t;e={collapseAll:this.collapseAll,expandAll:this.expandAll,collapseOne:this.collapseOne,expandOne:this.expandOne},t=ra(),Object.keys(e).forEach((function(n){var r=e[n];r&&t.bind(na[n].binding,r)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.setSpanNameColumnWidth,r=t.updateNextViewRangeTime,a=t.updateViewRangeTime,i=t.viewRange,c=t.createLinkToExternalSpan,s=t.traceTimeline,l=t.theme,u=ia(t,["setSpanNameColumnWidth","updateNextViewRangeTime","updateViewRangeTime","viewRange","createLinkToExternalSpan","traceTimeline","theme"]),f=u.trace,p=pa(l);return o.a.createElement(Qe.Provider,{value:c},o.a.createElement("div",{className:p.TraceTimelineViewer,ref:function(t){return t&&e.setState({height:t.getBoundingClientRect().height})}},o.a.createElement(ke,{duration:f.duration,nameColumnWidth:s.spanNameColumnWidth,numTicks:5,onCollapseAll:this.collapseAll,onCollapseOne:this.collapseOne,onColummWidthChange:n,onExpandAll:this.expandAll,onExpandOne:this.expandOne,viewRangeTime:i.time,updateNextViewRangeTime:r,updateViewRangeTime:a,columnResizeHandleHeight:this.state.height}),o.a.createElement($o,aa({},u,s,{setSpanNameColumnWidth:n,currentViewRangeTime:i.time.current}))))}}])&&ca(n.prototype,r),a&&ca(n,a),t}(o.a.PureComponent);t.a=Object(l.h)(da)},BO54:function(e,t){},Bcrw:function(e,t,n){"use strict";e.exports=function(e){var t,r;if(t=n("id2x"),r=n("pKQe"),"keypress"===e.type){var o=String.fromCharCode(e.which);return e.shiftKey||(o=o.toLowerCase()),o}return void 0!==t[e.which]?t[e.which]:void 0!==r[e.which]?r[e.which]:String.fromCharCode(e.which).toLowerCase()}},Bdd1:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("kDDq"),i=n("Zss7"),c=n.n(i),s=n("kDLi"),l=n("Obii"),u=function(e,t){var n=Object(r.useRef)((function(){}));Object(r.useEffect)((function(){n.current=e})),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t||0);return function(){return clearInterval(e)}}}),[t])},f=function(e){var t=e.timeInMs,n=e.className,r=e.humanize;return o.a.createElement("span",{className:"elapsed-time ".concat(n)},p(t,r))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e/1e3;if(!t)return"".concat(n.toFixed(1),"s");var r=Object(l.toDuration)(n,"seconds"),o=r.hours(),a=r.minutes(),i=r.seconds();return o?"".concat(o,"h ").concat(a,"m ").concat(i,"s"):a?"".concat(a,"m ").concat(i,"s"):"".concat(i,"s")};function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=function(e){var t=e.resetKey,n=e.humanize,a=e.className,i=d(Object(r.useState)(0),2),c=i[0],s=i[1];return u((function(){return s(c+150)}),150),Object(r.useEffect)((function(){return s(0)}),[t]),o.a.createElement(f,{timeInMs:c,className:a,humanize:n})};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(){var e=S(["\n    width: 100%;\n  "]);return O=function(){return e},e}function w(){var e=S(["\n    margin-right: ",";\n  "]);return w=function(){return e},e}function j(){var e=S(["\n    font-size: ",";\n    padding-top: ",";\n    display: flex;\n    align-items: center;\n  "]);return j=function(){return e},e}function E(){var e=S(["\n    label: logs-row-fresh;\n    color: ",";\n    background-color: ",";\n    animation: fade 1s ease-out 1s 1 normal forwards;\n    @keyframes fade {\n      from {\n        background-color: ",";\n      }\n      to {\n        background-color: transparent;\n      }\n    }\n  "]);return E=function(){return e},e}function x(){var e=S(["\n    label: logs-rows-live;\n    font-family: ",";\n    font-size: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    height: 60vh;\n    overflow-y: scroll;\n    :first-child {\n      margin-top: auto !important;\n    }\n  "]);return x=function(){return e},e}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return k}));var T=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,v(t).call(this,e))).liveEndDiv=null,n.scrollContainerRef=o.a.createRef(),n.onScroll=function(e){var t=n.props,r=t.isPaused,o=t.onPause,a=e.currentTarget,i=a.scrollTop,c=a.clientHeight;a.scrollHeight-(i+c)>=5&&!r&&o()},n.rowsToRender=function(){var e=n.props.isPaused,t=n.state.logRowsToRender,r=void 0===t?[]:t;return e||(r=r.slice(-100)),r},n.state={logRowsToRender:e.logRows},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.isPaused?null:{logRowsToRender:e.logRows}}}],(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.timeZone,i=t.onPause,u=t.onResume,f=t.isPaused,p=function(e){return{logsRowsLive:Object(a.css)(x(),e.typography.fontFamily.monospace,e.typography.size.sm),logsRowFade:Object(a.css)(E(),e.colors.text,c()(e.palette.blue95).setAlpha(.25).toString(),c()(e.palette.blue95).setAlpha(.25).toString()),logsRowsIndicator:Object(a.css)(j(),e.typography.size.md,e.spacing.sm),button:Object(a.css)(w(),e.spacing.sm),fullWidth:Object(a.css)(O())}}(n),d=Object(s.getLogRowStyles)(n),m=d.logsRow,b=d.logsRowLocalTime,g=d.logsRowMessage;return o.a.createElement("div",null,o.a.createElement("table",{className:p.fullWidth},o.a.createElement("tbody",{onScroll:f?void 0:this.onScroll,className:Object(a.cx)(["logs-rows",p.logsRowsLive]),ref:this.scrollContainerRef},this.rowsToRender().map((function(e){return o.a.createElement("tr",{className:Object(a.cx)(m,p.logsRowFade),key:e.uid},o.a.createElement("td",{className:Object(a.cx)(b)},Object(l.dateTimeFormat)(e.timeEpochMs,{timeZone:r})),o.a.createElement("td",{className:Object(a.cx)(g)},e.hasAnsi?o.a.createElement(s.LogMessageAnsi,{value:e.raw}):e.entry))})),o.a.createElement("tr",{ref:function(t){var n;e.liveEndDiv=t,e.liveEndDiv&&!f&&(null===(n=e.scrollContainerRef.current)||void 0===n||n.scrollTo(0,e.scrollContainerRef.current.scrollHeight))}}))),o.a.createElement("div",{className:Object(a.cx)([p.logsRowsIndicator])},o.a.createElement("button",{onClick:f?u:i,className:Object(a.cx)("btn btn-secondary",p.button)},o.a.createElement(s.Icon,{name:f?"play":"pause"})," ",f?"Resume":"Pause"),o.a.createElement("button",{onClick:this.props.stopLive,className:Object(a.cx)("btn btn-inverse",p.button)},o.a.createElement(s.Icon,{name:"square-shape",size:"lg",type:"mono"}),"  Exit live mode"),f||o.a.createElement("span",null,"Last line received: ",o.a.createElement(h,{resetKey:this.props.logRows,humanize:!0})," ago")))}}])&&b(n.prototype,r),i&&b(n,i),t}(r.PureComponent),k=Object(s.withTheme)(T)},CONf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m8.4 30h23.2v3.4h-23.2v-3.4z m6.6-3.4v-10h-6.6l11.6-11.6 11.6 11.6h-6.6v10h-10z"})))},e.exports=t.default},Dita:function(e,t,n){"use strict";e.exports=function(e,t,r,o){this.stopCallback(t,t.target||t.srcElement,r,o)||!1===e(t,r)&&(n("5uNx")(t),n("EyJl")(t))}},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},EomD:function(e,t,n){"use strict";e.exports=function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}},EyJl:function(e,t,n){"use strict";e.exports=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},FyPc:function(e,t,n){var r=n("dunj"),o=n("V9xz"),a=n("ut/Y");e.exports=function(e,t){return e&&e.length?r(e,a(t,2),o):void 0}},"Go+2":function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,i=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object);e.exports=function e(t,n,f){if("string"!=typeof n){if(u){var p=l(n);p&&p!==u&&e(t,p,f)}var d=i(n);c&&(d=d.concat(c(n)));for(var h=0;h<d.length;++h){var m=d[h];if(!(r[m]||o[m]||f&&f[m])){var b=s(n,m);try{a(t,m,b)}catch(e){}}}return t}return t}},Gyt8:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,o=n("q1tI"),a=n.n(o),i=n("kDLi");function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.left="left",e.right="right"}(r||(r={}));var u=Object(o.forwardRef)((function(e,t){var n=e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{iconSide:r.left},{},e),o=n.title,u=n.onClick,f=n.buttonClassName,p=n.icon,d=n.iconClassName,h=n.splitted,m=n.iconSide,b=n.disabled,g=c(n,["title","onClick","buttonClassName","icon","iconClassName","splitted","iconSide","disabled"]);return a.a.createElement("div",g,a.a.createElement("button",{ref:t,className:"btn navbar-button ".concat(f||""),onClick:null!=u?u:void 0,disabled:b||!1},p&&m===r.left?a.a.createElement(i.Icon,{name:p,className:d,size:"lg"}):null,a.a.createElement("span",{className:"btn-title"},h?"":function(e,t){return t===r.left?" "+e:t===r.right?e+" ":e}(o,m)),p&&m===r.right?a.a.createElement(i.Icon,{name:p,className:d,size:"lg"}):null))}));u.displayName="ResponsiveButton"},H5sb:function(e,t,n){"use strict";e.exports=function(){var e,t=this.constructor;if(!t.REVERSE_MAP)for(var r in t.REVERSE_MAP={},e=n("id2x"))r>95&&r<112||e.hasOwnProperty(r)&&(t.REVERSE_MAP[e[r]]=r);return t.REVERSE_MAP}},HamY:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("q1tI"),o=n("kDDq"),a=n("TSYQ"),i=n.n(a),c=n("XZY6"),s=n("PK6U");function l(){var e=p(["\n      label: LabeledListLabel;\n      color: ",";\n      margin-right: 0.25rem;\n    "]);return l=function(){return e},e}function u(){var e=p(["\n      label: LabeledListItem;\n      display: inline-block;\n    "]);return u=function(){return e},e}function f(){var e=p(["\n      label: LabeledList;\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    "]);return f=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=Object(c.d)((function(e){return{LabeledList:Object(o.css)(f()),LabeledListItem:Object(o.css)(u()),LabeledListLabel:Object(o.css)(l(),Object(c.e)(e)?"#999":"#666")}}));function h(e){var t=e.className,n=e.dividerClassName,o=e.items,a=d(Object(c.g)());return r.createElement("ul",{className:i()(a.LabeledList,t)},o.map((function(e,t){var i=e.key,c=e.label,l=e.value,u=t<o.length-1&&r.createElement("li",{className:a.LabeledListItem,key:"".concat(i,"--divider")},r.createElement(s.b,{className:n,type:"vertical"}));return[r.createElement("li",{className:a.LabeledListItem,key:i},r.createElement("span",{className:a.LabeledListLabel},c),r.createElement("strong",null,l)),u]})))}},IBZi:function(e,t,n){"use strict";var r;!function(e){e.DragEnd="DragEnd",e.DragMove="DragMove",e.DragStart="DragStart",e.MouseEnter="MouseEnter",e.MouseLeave="MouseLeave",e.MouseMove="MouseMove"}(r||(r={})),t.a=r},IGUK:function(e,t,n){"use strict";e.exports=function(e,t){return this.directMap[e+":"+t]&&this.directMap[e+":"+t]({},e),this}},IWTy:function(e,t,n){var r=n("yue5");e.exports=function(e,t,n){for(var o=-1,a=e.criteria,i=t.criteria,c=a.length,s=n.length;++o<c;){var l=r(a[o],i[o]);if(l)return o>=s?l:l*("desc"==n[o]?-1:1)}return e.index-t.index}},IfRf:function(e,t,n){"use strict";e.exports=function(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}},JW4h:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("0cfB"),c=n("SMGL"),s=n("w9yp"),l=n("6Pa6"),u=n("7oGG"),f=n("x7/r");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d={deleteRichHistory:u.a};t.a=Object(i.hot)(e)(Object(a.connect)((function(e,t){var n=t.exploreId,r=e.explore,o=r[n].datasourceInstance,a=c.a.getBool(s.a.starredTabAsFirstTab,!1)?l.b.Starred:l.b.RichHistory;return{richHistory:r.richHistory,firstTab:a,activeDatasourceInstance:null==o?void 0:o.name}}),d)((function(e){var t=p(Object(r.useState)(400),2),n=t[0],a=t[1],i=e.richHistory,c=e.width,s=e.firstTab,u=e.activeDatasourceInstance,d=e.exploreId,h=e.deleteRichHistory,m=e.onClose;return o.a.createElement(f.a,{width:c,onResize:function(e,t,n){a(Number(n.style.height.slice(0,-2)))}},o.a.createElement(l.a,{richHistory:i,firstTab:s,activeDatasourceInstance:u,exploreId:d,deleteRichHistory:h,onClose:m,height:n}))})))}).call(this,n("3UD+")(e))},Mmix:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),o=n.n(r),a=n("kDLi"),i=n("Obii"),c=n("Xmxp"),s=n("ttS0"),l=n("0cfB"),u=n("/MKj"),f=n("x7/r"),p=n("Zcyb"),d=n("NXk7"),h=n("TGtm"),m=n("q0ht");function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t;if(!(null===(t=e.config)||void 0===t?void 0:t.hideFromInspector)){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return n.headers&&delete n.headers,n.config&&(n.request=n.config,delete n.config,delete n.request.transformRequest,delete n.request.transformResponse,delete n.request.paramSerializer,delete n.request.jsonpCallbackParam,delete n.request.headers,delete n.request.requestId,delete n.request.inspect,delete n.request.retry,delete n.request.timeout),n.data&&(n.response=n.data,delete n.config,delete n.data,delete n.status,delete n.statusText,delete n.ok,delete n.url,delete n.redirected,delete n.type,delete n.$$config),n}}t.a=Object(l.hot)(e)(Object(u.connect)((function(e,t){var n=t.exploreId,r=e.explore[n];return{loading:r.loading,queryResponse:r.queryResponse}}))((function(e){var t,n=b(Object(r.useState)({}),2),l=n[0],u=n[1],g=b(Object(r.useState)(!1),2),v=g[0],O=g[1],w=e.loading,j=e.width,E=e.onClose,x=e.queryResponse,S=b(Object(r.useState)({}),2),T=S[0],k=S[1];Object(p.a)((function(){var e=Object(d.c)().getInspectorStream().subscribe((function(e){var t=y(e);t&&k(t)}));return function(){null==e||e.unsubscribe()}}));var C=T&&Object.keys(T).length>0,I=Object(m.a)(),P=[{label:"Stats",value:"stats",icon:"chart-line",content:o.a.createElement(h.a,{data:x,timeZone:null==x||null===(t=x.request)||void 0===t?void 0:t.timezone})},{label:"Query Inspector",value:"query_inspector",icon:"info-circle",content:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:I.toolbar},C&&o.a.createElement(o.a.Fragment,null,o.a.createElement(a.Button,{icon:v?"minus":"plus",variant:"secondary",className:I.toolbarItem,onClick:function(){O(!v)}},v?"Collapse":"Expand"," all"),o.a.createElement(s.a,{text:function(){return JSON.stringify(l,null,2)},onSuccess:function(){c.b.emit(i.AppEvents.alertSuccess,["Content copied to clipboard"])},elType:"div",className:I.toolbarItem},o.a.createElement(a.Button,{icon:"copy",variant:"secondary"},"Copy to clipboard"))),o.a.createElement("div",{className:"flex-grow-1"})),o.a.createElement("div",{className:I.contentQueryInspector},w&&o.a.createElement(a.LoadingPlaceholder,{text:"Loading query inspector..."}),!w&&C&&o.a.createElement(a.JSONFormatter,{json:T,open:null===v?3:v?20:1,onDidRender:u}),!w&&!C&&o.a.createElement("p",{className:"muted"},"No request & response collected yet. Run query to collect request & response.")))}];return o.a.createElement(f.a,{width:j,onResize:function(){}},o.a.createElement(a.TabbedContainer,{tabs:P,onClose:E,closeIconTooltip:"Close query inspector"}))})))}).call(this,n("3UD+")(e))},MnCE:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return E}));var r=n("q1tI"),o=n.n(r),a=n("rzV7"),i=n.n(a),c=(n("Go+2"),n("xmmm")),s=n("bCCX"),l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},d=function(e,t,n,r,a){if(!e&&t)return n(a?u({},r,{children:a}):r);var i=n;return a?o.a.createElement(i,r,a):o.a.createElement(i,r)},h=function(e){return Boolean(e&&e.prototype&&"function"==typeof e.prototype.render)},m=function(e){return Boolean("function"==typeof e&&!h(e)&&!e.defaultProps&&!e.contextTypes)},b=function(e){var t=m(e);return function(n,r){return d(!1,t,e,n,r)}},g=function(e){return function(t){var n=b(t);return function(t){return n(e(t))}}},v=function(e){return g((function(t){return u({},t,"function"==typeof e?e(t):e)}))},y=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r];e.hasOwnProperty(o)&&(n[o]=e[o])}return n},O=(Object.keys,function(e,t,n){return function(o){var a=b(o);return function(r){function o(){var e,t;l(this,o);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=t=p(this,r.call.apply(r,[this].concat(i))),t.state={stateValue:"function"==typeof n?n(t.props):n},t.updateStateValue=function(e,n){return t.setState((function(t){var n=t.stateValue;return{stateValue:"function"==typeof e?e(n):e}}),n)},p(t,e)}return f(o,r),o.prototype.render=function(){var n;return a(u({},this.props,((n={})[e]=this.state.stateValue,n[t]=this.updateStateValue,n)))},o}(r.Component)}}),w=(function(e){function t(){return l(this,t),p(this,e.apply(this,arguments))}f(t,e),t.prototype.render=function(){return null}}(r.Component),function(e){return function(t){var n=b(t);return function(t){function r(){return l(this,r),p(this,t.apply(this,arguments))}return f(r,t),r.prototype.shouldComponentUpdate=function(t){return e(this.props,t)},r.prototype.render=function(){return n(this.props)},r}(r.Component)}}),j=function(e){return w((function(t,n){return!i()(y(n,e),y(t,e))}))};function E(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var x,S={fromESObservable:null,toESObservable:null},T={fromESObservable:function(e){return"function"==typeof S.fromESObservable?S.fromESObservable(e):e},toESObservable:function(e){return"function"==typeof S.toESObservable?S.toESObservable(e):e}};x=T},Nxm2:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c=i(n("q1tI")),s={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return o(t,e),t.prototype.render=function(){return c.createElement("div",{className:this.props.className||"",style:a(a({position:"absolute",userSelect:"none"},s[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(c.PureComponent);t.Resizer=l},"Ovh+":function(e,t,n){"use strict";var r=n("Y+p1"),o=n.n(r),a=n("G4qV"),i=n("P8+q"),c=n.n(i),s=function(e){return e.serviceName};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){return e.spanID},d=function(e){return e.operationName},h=function(e){return e.duration},m=function(e){return e.startTime},b=function(e){return e.processID},g=Object(a.a)(Object(a.a)((function(e){return e.span}),(function(e){return e.references||[]})),(function(e){return e.type}),(function(e,t){return e.find((function(e){return e.refType===t}))})),v=(Object(a.a)((function(e){return g({span:e,type:"CHILD_OF"})}),(function(e){return e?e.spanID:null})),Object(a.a)((function(e){if(!e.process)throw new Error("\n      you must hydrate the spans with the processes, perhaps\n      using hydrateSpansWithProcesses(), before accessing a span's process\n    ");return e.process}),s)),y=(Object(a.a)((function(e){return e.spans}),(function(e){return e.leftBound}),(function(e){return e.rightBound}),(function(e,t,n){return e.filter((function(e){return m(e)>=t&&m(e)<=n}))})),Object(a.a)((function(e){return e.spans}),(function(e){return e.text}),(function(e,t){return c.a.filter(t,e,{extract:function(e){return"".concat(v(e)," ").concat(d(e))}}).map((function(e){return e.original}))}))),O=Object(a.a)(y,(function(e){return e.reduce((function(e,t){return u({},e,f({},p(t),t))}),{})})),w=(Object(a.a)((function(e){return e.spans}),O,(function(e,t){return e.map((function(e){return u({},e,{muted:!t[p(e)]})}))})),n("kxiF"));function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}var S=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];j(this,e),this.value=t,this.children=n}return x(e,null,[{key:"iterFunction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return e(n.value,n,t)}}},{key:"searchFunction",value:function(t){return"function"==typeof t?t:function(n,r){return t instanceof e?r===t:n===t}}}]),x(e,[{key:"addChild",value:function(t){return this.children.push(t instanceof e?t:new e(t)),this}},{key:"find",value:function(t){if(e.iterFunction(e.searchFunction(t))(this))return this;for(var n=0;n<this.children.length;n++){var r=this.children[n].find(t);if(r)return r}return null}},{key:"getPath",value:function(t){var n=e.iterFunction(e.searchFunction(t));return function e(t,r){var o=r.concat([t]);if(n(t))return o;for(var a=0;a<t.children.length;a++){var i=e(t.children[a],o);if(i)return i}return null}(this,[])}},{key:"walk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=t;for(n.push({node:this,depth:r});n.length;){var o=n.pop(),a=o.node,i=o.depth;e(a.value,a,i),r=i+1;for(var c=a.children.length-1;c>=0;)n.push({node:a.children[c],depth:r}),c--}}},{key:"depth",get:function(){return this.children.reduce((function(e,t){return Math.max(t.depth+1,e)}),1)}},{key:"size",get:function(){var e=0;return this.walk((function(){return e++})),e}}]),e}();function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){return e.spans},D=function(e){return e.processes},_=Object(a.a)((function(e){return e.span}),(function(e){return e.processes}),(function(e,t){return C({},e,{process:t[b(e)]})})),R=Object(a.a)(P,(function(e){return e.reduce((function(e,t){return e.set(p(t),t)}),new Map)}));function L(e){var t=new Map(e.spans.map((function(e){return[e.spanID,new S(e.spanID)]}))),n=new Map(e.spans.map((function(e){return[e.spanID,e]}))),r=new S("__root__");e.spans.forEach((function(e){var n=t.get(e.spanID);if(Array.isArray(e.references)&&e.references.length){var o=e.references[0],a=o.refType,i=o.spanID;if("CHILD_OF"!==a&&"FOLLOWS_FROM"!==a)throw new Error("Unrecognized ref type: ".concat(a));(t.get(i)||r).children.push(n)}else r.children.push(n)}));var o=function(e,t){var r=n.get(e.value),o=n.get(t.value);return+(r.startTime>o.startTime)||+(r.startTime===o.startTime)-1};return e.spans.forEach((function(e){var n=t.get(e.spanID);n.children.length>1&&n.children.sort(o)})),r.children.sort(o),r}Object(a.a)(P,(function(e){return e.length}));var N=Object(a.a)(P,(function(e){return e.reduce((function(e,t){return e?Math.min(e,m(t)):m(t)}),null)})),M=Object(a.a)(P,N,(function(e,t){return e.reduce((function(e,n){return e?Math.max(m(n)-t+h(n),e):h(n)}),null)})),z=(Object(a.a)(N,M,(function(e,t){return e+t})),Object(a.a)(L,R,(function(e,t){return e.children.map((function(e){return t.get(e.value)})).sort((function(e,t){return n=m(e),r=m(t),n-r;var n,r}))[0]}))),A=(Object(a.a)(L,(function(e){return e.depth-1})),Object(a.a)(Object(a.a)((function(e){return e.trace}),L),Object(a.a)((function(e){return e.span}),p),(function(e,t){return e.getPath(t).length-1})),Object(a.a)(D,(function(e){return Object.keys(e).reduce((function(t,n){return t.add(s(e[n]))}),new Set)}))),B=(Object(a.a)(A,(function(e){return e.size})),{ms:w.d,s:w.e}),H=Object(a.a)(M,(function(e){return e>=w.a?B.s:B.ms})),F=(Object(a.a)((function(e){return e.duration}),(function(e){var t=e.unit;return B[t]}),(function(e,t){return t(e)})),Object(a.a)((function(e){return e.duration}),Object(a.a)((function(e){return e.trace}),H),(function(e,t){return t(e)})),Object(a.a)((function(e){return e.trace}),(function(e){return e.spans}),(function(e){return e.sort}),(function(e,t,n){var r=n.dir,o=n.comparator,a=n.selector;return T(t).sort((function(t,n){return r*o(a(t,e),a(n,e))}))})),Object(a.a)(L,(function(e){var t=new Map,n=0;return e.walk((function(e){return t.set(e,n++)})),t}))),V=(Object(a.a)(Object(a.a)((function(e){return e.trace}),L),Object(a.a)((function(e){return e.span}),p),(function(e,t){var n=e.find(t);return n?n.size-1:-1})),Object(a.a)(Object(a.a)((function(e){return e.trace}),F),(function(e){return e.span}),(function(e,t){return e.get(p(t))})),Object(a.a)(Object(a.a)(Object(a.a)((function(e){var t=P(e),n=D(e);return C({},e,{spans:t.map((function(e){return _({span:e,processes:n})}))})}),z),Object(a.b)({name:d,serviceName:v})),(function(e){var t=e.name,n=e.serviceName;return"".concat(n,": ").concat(t)})),Object(a.a)((function(e){return e.spans}),Object(a.a)((function(e){return e.trace}),L),(function(e){return e.collapsed}),(function(e,t,n){var r=n.reduce((function(e,n){return t.find(n).walk((function(t){return t!==n&&e.add(t)})),e}),new Set);return r.size>0?e.filter((function(e){return!r.has(p(e))})):e})),Object(a.a)((function(e){return e.trace}),(function(e){var t=e.interval;return void 0===t?4:t}),(function(e){var t=e.width;return void 0===t?3:t}),(function(e,t,n){return T(Array(t+1).keys()).map((function(r){return{timestamp:N(e)+M(e)*(r/t),width:n}}))})),Object(a.a)((function(e){return e}),P,(function(e,t){var n=new Map;return C({},e,{spans:t.reduce((function(e,t){var r=n.has(p(t))?"".concat(p(t),"_").concat(n.get(p(t))):p(t),o=C({},t,{spanID:r});return r!==p(t)&&console.warn("duplicate spanID in trace replaced",p(t),"new:",r),n.set(p(t),(n.get(p(t))||0)+1),e.concat([o])}),[])})})),Object(a.a)((function(e){return e}),P,(function(e,t){return C({},e,{spans:t.filter((function(e){return!!m(e)}))})})),n("AjF4"));function q(e){var t=new Map;return{tags:e.reduce((function(e,n){return e.some((function(e){return e.key===n.key&&e.value===n.value}))?t.set("".concat(n.key,":").concat(n.value),'Duplicate tag "'.concat(n.key,":").concat(n.value,'"')):e.push(n),e}),[]),warnings:Array.from(t.values())}}function W(e,t){var n=e.slice(),r=(t||[]).map((function(e){return e.toLowerCase()}));return n.sort((function(e,t){for(var n=e.key.toLowerCase(),o=t.key.toLowerCase(),a=0;a<r.length;a++){var i=r[a];if(n.startsWith(i)&&!o.startsWith(i))return-1;if(!n.startsWith(i)&&o.startsWith(i))return 1}return n>o?1:n<o?-1:0})),n}function G(e){if(!(null==e?void 0:e.traceID))return null;var t=e.traceID.toLowerCase(),n=0,r=Number.MAX_SAFE_INTEGER,a=new Map,i=new Map;e.spans=e.spans.filter((function(e){return Boolean(e.startTime)}));for(var c=e.spans.length,s=0;s<c;s++){var l=e.spans[s],u=l.startTime,f=l.duration,p=l.processID,d=l.spanID;u<r&&(r=u),u+f>n&&(n=u+f);var h=a.get(d);null!=h?(console.warn("Dupe spanID, ".concat(h+1," x ").concat(d),l,i.get(d)),o()(l,i.get(d))&&console.warn("\t two spans with same ID have `isEqual(...) === true`"),a.set(d,h+1),d="".concat(d,"_").concat(h),l.spanID=d):a.set(d,1),l.process=e.processes[p],i.set(d,l)}var m=L(e),b=[],g={},v="";return m.walk((function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("__root__"!==e){var a=i.get(e);if(a){var c=a.process.serviceName;g[c]=(g[c]||0)+1,a.references&&a.references.length||(v="".concat(c,": ").concat(a.operationName)),a.relativeStartTime=a.startTime-r,a.depth=o-1,a.hasChildren=n.children.length>0,a.warnings=a.warnings||[],a.tags=a.tags||[],a.references=a.references||[];var s=q(a.tags);a.tags=W(s.tags,Object(V.a)("topTagPrefixes")),a.warnings=a.warnings.concat(s.warnings),a.references.forEach((function(n,r){var o=i.get(n.spanID);o&&(n.span=o,r>0&&(o.subsidiarilyReferencedBy=o.subsidiarilyReferencedBy||[],o.subsidiarilyReferencedBy.push({spanID:e,traceID:t,span:a,refType:n.refType})))})),b.push(a)}}})),{services:Object.keys(g).map((function(e){return{name:e,numberOfSpans:g[e]}})),spans:b,traceID:t,traceName:v,processes:e.processes,duration:n-r,startTime:r,endTime:n}}n.d(t,"a",(function(){return G}))},OxIB:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n("/MKj"),a=n("kDLi"),i=n("vExC"),c=n("VVW4");function s(e){var t,n,s,l,u,f,p=(t=e.exploreId,n=Object(o.useDispatch)(),s=Object(r.useCallback)((function(){n(Object(c.l)({exploreId:t,isPaused:!0}))}),[t,n]),l=Object(r.useCallback)((function(){n(Object(c.l)({exploreId:t,isPaused:!1}))}),[t,n]),u=Object(r.useCallback)((function(){s(),n(Object(i.a)(t,a.RefreshPicker.offOption.value)),n(Object(c.i)(t))}),[t,n,s]),f=Object(r.useCallback)((function(){n(Object(i.a)(t,a.RefreshPicker.liveOption.value))}),[t,n]),{pause:s,resume:l,stop:u,start:f});return e.children(p)}},"P8+q":function(e,t,n){var r;r={},e.exports=r,r.simpleFilter=function(e,t){return t.filter((function(t){return r.test(e,t)}))},r.test=function(e,t){return null!==r.match(e,t)},r.match=function(e,t,n){n=n||{};var r,o=0,a=[],i=t.length,c=0,s=0,l=n.pre||"",u=n.post||"",f=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var p=0;p<i;p++)r=t[p],f[p]===e[o]?(r=l+r+u,o+=1,s+=1+s):s=0,c+=s,a[a.length]=r;return o===e.length?(c=f===e?1/0:c,{rendered:a.join(""),score:c}):null},r.filter=function(e,t,n){return t&&0!==t.length?"string"!=typeof e?t:(n=n||{},t.reduce((function(t,o,a,i){var c=o;n.extract&&(c=n.extract(o));var s=r.match(e,c,n);return null!=s&&(t[t.length]={string:s.rendered,score:s.score,index:a,original:o}),t}),[]).sort((function(e,t){var n=t.score-e.score;return n||e.index-t.index}))):[]}},PK6U:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h}));var r=n("q1tI"),o=n.n(r),a=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.Popover,e)}))},i=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.Tooltip,e)}))},c=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.Icon,e)}))},s=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.Dropdown,e)}))},l=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.Menu,e)}))},u=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.MenuItem,e)}))},f=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.Button,e)}))},p=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.Divider,e)}))},d=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.Input,e)}))},h=function(e){return o.a.createElement(b,null,(function(t){return o.a.createElement(t.InputGroup,e)}))},m=o.a.createContext(void 0);function b(e){return o.a.createElement(m.Consumer,null,(function(t){if(!t)throw new Error("Elements context is required. You probably forget to use UIElementsContext.Provider");return e.children(t)}))}m.displayName="UIElementsContext",t.k=m},QNYp:function(e,t,n){"use strict";var r=n("B3JP");n.d(t,"TraceTimelineViewer",(function(){return r.a}));var o=n("iB72");n.d(t,"TracePageHeader",(function(){return o.a}));var a=n("PK6U");n.d(t,"UIElementsContext",(function(){return a.k})),n.d(t,"UIButton",(function(){return a.a})),n.d(t,"UIDropdown",(function(){return a.c})),n.d(t,"UIMenu",(function(){return a.g})),n.d(t,"UIMenuItem",(function(){return a.h}));n("2AKD");var i=n("mvwf");n.o(i,"ThemeProvider")&&n.d(t,"ThemeProvider",(function(){return i.ThemeProvider})),n.o(i,"ThemeType")&&n.d(t,"ThemeType",(function(){return i.ThemeType})),n.o(i,"autoColor")&&n.d(t,"autoColor",(function(){return i.autoColor})),n.o(i,"useTheme")&&n.d(t,"useTheme",(function(){return i.useTheme}));var c=n("YljP");n.d(t,"DetailState",(function(){return c.a}));var s=n("Ovh+");n.d(t,"transformTraceData",(function(){return s.a}));var l=n("/aea");n.d(t,"filterSpans",(function(){return l.a}));var u=n("XZY6");n.d(t,"ThemeProvider",(function(){return u.a})),n.d(t,"ThemeType",(function(){return u.b})),n.d(t,"autoColor",(function(){return u.c})),n.d(t,"useTheme",(function(){return u.g}));n("MnCE").b},SScd:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("Wwog");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){if(7!==e.length)return[0,0,0];var t=e.slice(1,3),n=e.slice(3,5),r=e.slice(5);return[parseInt(t,16),parseInt(n,16),parseInt(r,16)]}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colorsHex=t,this.colorsRgb=t.map(a),this.cache=new Map,this.currentIdx=0}var t,n,r;return t=e,(n=[{key:"_getColorIndex",value:function(e){var t=this.cache.get(e);return null==t&&(t=this.currentIdx,this.cache.set(e,this.currentIdx),this.currentIdx=++this.currentIdx%this.colorsHex.length),t}},{key:"getColorByKey",value:function(e){var t=this._getColorIndex(e);return this.colorsHex[t]}},{key:"getRgbColorByKey",value:function(e){var t=this._getColorIndex(e);return this.colorsRgb[t]}},{key:"clear",value:function(){this.cache.clear(),this.currentIdx=0}}])&&o(t.prototype,n),r&&o(t,r),e}(),c=Object(r.a)((function(e){return new i(e)}));function s(e,t){return c(t.servicesColorPalette).getColorByKey(e)}function l(e,t){return c(t.servicesColorPalette).getRgbColorByKey(e)}},TGtm:function(e,t,n){"use strict";var r=n("Csm0"),o=n("q1tI"),a=n.n(o),i=n("Obii"),c=n("ZFWI"),s=n("kDLi"),l=n("kDDq");function u(){var e=p(["\n      text-align: right;\n    "]);return u=function(){return e},e}function f(){var e=p(["\n      padding-bottom: ",";\n    "]);return f=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=function(e){var t=e.timeZone,n=e.name,r=e.stats,o=Object(s.useTheme)(),l=h(o);return r&&r.length?a.a.createElement("div",{className:l.wrapper},a.a.createElement("div",{className:"section-heading"},n),a.a.createElement("table",{className:"filter-table width-30"},a.a.createElement("tbody",null,r.map((function(e,n){return a.a.createElement("tr",{key:"".concat(e.displayName,"-").concat(n)},a.a.createElement("td",null,e.displayName),a.a.createElement("td",{className:l.cell},function(e,t){var n=Object(i.getDisplayProcessor)({field:{type:i.FieldType.number,config:e},theme:c.a.theme,timeZone:t});return Object(i.formattedValueToString)(n(e.value))}(e,t)))}))))):null};var h=Object(s.stylesFactory)((function(e){return{wrapper:Object(l.css)(f(),e.spacing.md),cell:Object(l.css)(u())}}));n.d(t,"a",(function(){return m}));var m=function(e){var t,n=e.data,o=e.timeZone;if(!n.request)return null;var i=[],c=n.request.endTime?n.request.endTime-n.request.startTime:-1,s=(null===(t=n.timings)||void 0===t?void 0:t.dataProcessingTime)||-1,l=0,u=!0,f=!1,p=void 0;try{for(var h,m=n.series[Symbol.iterator]();!(u=(h=m.next()).done);u=!0){l+=h.value.length}}catch(e){f=!0,p=e}finally{try{u||null==m.return||m.return()}finally{if(f)throw p}}c>0&&i.push({displayName:"Total request time",value:c,unit:"ms"}),s>0&&i.push({displayName:"Data processing time",value:s,unit:"ms"}),i.push({displayName:"Number of queries",value:n.request.targets.length}),i.push({displayName:"Total number rows",value:l});var b=[],g=!0,v=!1,y=void 0;try{for(var O,w=n.series[Symbol.iterator]();!(g=(O=w.next()).done);g=!0){var j=O.value;j.meta&&j.meta.stats&&(b=b.concat(j.meta.stats))}}catch(e){v=!0,y=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw y}}return a.a.createElement("div",{"aria-label":r.selectors.components.PanelInspector.Stats.content},a.a.createElement(d,{timeZone:o,name:"Stats",stats:i}),a.a.createElement(d,{timeZone:o,name:"Data source stats",stats:b}))}},TR4N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("17x9"));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=e.children,a=e.color,i=e.size,c=e.style,s=e.width,l=e.height,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","color","size","style","width","height"]),f=t.reactIconBase,p=void 0===f?{}:f,d=i||p.size||"1em";return o.default.createElement("svg",r({children:n,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:l||d,width:s||d},p,u,{style:r({verticalAlign:"middle",color:a||p.color},p.style||{},c)}))};c.propTypes={color:a.default.string,size:a.default.oneOfType([a.default.string,a.default.number]),width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),style:a.default.object},c.contextTypes={reactIconBase:a.default.shape(c.propTypes)},t.default=c,e.exports=t.default},TUgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),o=n.n(r),a=n("kDDq"),i=n("kDLi");function c(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    max-width: ",";\n    margin-top: ",";\n    align-self: center;\n  "]);return c=function(){return e},e}var s=function(){var e=Object(r.useContext)(i.ThemeContext),t=o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Icon,{name:"rocket"}),o.a.createElement(o.a.Fragment,null," ProTip: You can also define data sources through configuration files. "),o.a.createElement("a",{href:"http://docs.grafana.org/administration/provisioning/#datasources?utm_source=explore",target:"_blank",rel:"noreferrer",className:"text-link"},"Learn more")),n=o.a.createElement(i.LinkButton,{size:"lg",href:"datasources/new",icon:"database"},"Add data source"),s=Object(a.css)(c(),e.breakpoints.lg,e.spacing.md);return o.a.createElement(i.CallToActionCard,{callToActionElement:n,className:s,footer:t,message:"Explore requires at least one data source. Once you have added a data source, you can query it here.",theme:e})}},Tfl2:function(e,t,n){"use strict";e.exports=function(e,t,r,o,a,i){var c,s,l,u,f=[],p=r.type;"keypress"!==p||r.code&&"Arrow"===r.code.slice(0,5)||(this.callbacks["any-character"]||[]).forEach((function(e){f.push(e)}));if(!this.callbacks[e])return f;for(l=n("IfRf"),"keyup"===p&&l(e)&&(t=[e]),c=0;c<this.callbacks[e].length;++c)if(s=this.callbacks[e][c],(o||!s.seq||this.sequenceLevels[s.seq]===s.level)&&p===s.action&&(u=n("khqB"),"keypress"===p&&!r.metaKey&&!r.ctrlKey||u(t,s.modifiers))){var d=!o&&s.combo===a,h=o&&s.seq===o&&s.level===i;(d||h)&&this.callbacks[e].splice(c,1),f.push(s)}return f}},UvYX:function(e,t){},V280:function(e,t,n){"use strict";e.exports=function(){this.instances.forEach((function(e){e.reset()}))}},V9xz:function(e,t){e.exports=function(e,t){return e>t}},VYNe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m31 12.5l1.5 1.6-12.5 13.4-12.5-13.4 1.5-1.6 11 11.7z"})))},e.exports=t.default},WGjm:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("q1tI")),l=n("Nxm2"),u=c(n("75pU")),f={width:"auto",height:"auto"},p=u.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),d=u.default((function(e,t){return Math.round(e/t)*t})),h=u.default((function(e,t){return new RegExp(e,"i").test(t)})),m=u.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,o){return Math.abs(r-e)<Math.abs(t[n]-e)?o:n}),0),o=Math.abs(t[r]-e);return 0===n||o<n?t[r]:e})),b=u.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),g=u.default((function(e){return"auto"===(e=e.toString())||b(e,"px")||b(e,"%")||b(e,"vh")||b(e,"vw")||b(e,"vmax")||b(e,"vmin")?e:e+"px"})),v=function(e,t){if(e&&"string"==typeof e){if(b(e,"%"))return t*(n=Number(e.replace("%",""))/100);if(b(e,"vw")){var n=Number(e.replace("vw",""))/100;return window.innerWidth*n}if(b(e,"vh")){n=Number(e.replace("vh",""))/100;return window.innerHeight*n}}return e},y=u.default((function(e,t,n,r,o){return t=v(t,e.width),n=v(n,e.height),r=v(r,e.width),o=v(o,e.height),{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===r?void 0:Number(r),minHeight:void 0===o?void 0:Number(o)}})),O=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],w=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return o(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||f},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var r=n[t];if(r instanceof HTMLElement&&r.classList.contains("__resizable_base__"))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&b(e.propsSize[t].toString(),"%")){if(b(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return g(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?g(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?g(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,r},t.prototype.bindEvents=function(){"undefined"!=typeof window&&(window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseleave",this.onMouseUp),window.addEventListener("touchmove",this.onMouseMove),window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){"undefined"!=typeof window&&(window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable){var e=window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0});var t=this.parentNode;if(t instanceof HTMLElement&&!this.base){var n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.transform="scale(0, 0)",n.style.left="0",n.style.flex="0",n.classList?n.classList.add("__resizable_base__"):n.className+="__resizable_base__",t.appendChild(n)}}},t.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){this.unbindEvents();var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),o=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}}else if("window"===this.props.bounds){if("undefined"!=typeof window){r=window.innerWidth-this.resizableLeft,o=window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<o?t:o}}else if(this.props.bounds instanceof HTMLElement){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),o=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,o=this.state,a=o.direction,i=o.original,c=this.props,s=c.lockAspectRatio,l=c.lockAspectRatioExtraHeight,u=c.lockAspectRatioExtraWidth,f=i.width,p=i.height,d=l||0,m=u||0;return h("right",a)&&(f=i.width+(e-i.x)*r/n,s&&(p=(f-m)/this.ratio+d)),h("left",a)&&(f=i.width-(e-i.x)*r/n,s&&(p=(f-m)/this.ratio+d)),h("bottom",a)&&(p=i.height+(t-i.y)*r/n,s&&(f=(p-d)*this.ratio+m)),h("top",a)&&(p=i.height-(t-i.y)*r/n,s&&(f=(p-d)*this.ratio+m)),{newWidth:f,newHeight:p}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var o=this.props,a=o.lockAspectRatio,i=o.lockAspectRatioExtraHeight,c=o.lockAspectRatioExtraWidth,s=void 0===r.width?10:r.width,l=void 0===n.width||n.width<0?e:n.width,u=void 0===r.height?10:r.height,f=void 0===n.height||n.height<0?t:n.height,d=i||0,h=c||0;if(a){var m=(u-d)*this.ratio+h,b=(f-d)*this.ratio+h,g=(s-h)/this.ratio+d,v=(l-h)/this.ratio+d,y=Math.max(s,m),O=Math.min(l,b),w=Math.max(u,g),j=Math.min(f,v);e=p(e,y,O),t=p(t,w,j)}else e=p(e,s,l),t=p(t,u,f);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),o=r.left,a=r.top;this.resizableLeft=o,this.resizableTop=a}},t.prototype.onResizeStart=function(e,t){if(this.resizable){var n,r=0,o=0;if(e.nativeEvent instanceof MouseEvent){if(r=e.nativeEvent.clientX,o=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(r=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var i=window.getComputedStyle(this.resizable);if("auto"!==i.flexBasis){var c=this.parentNode;if(c){var s=window.getComputedStyle(c).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=i.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:a(a({},this.state.backgroundStyle),{cursor:window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,r=t.maxHeight,o=t.minWidth,a=t.minHeight,i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,c=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,s=this.state,l=s.direction,u=s.original,f=s.width,p=s.height,h=this.getParentSize(),g=y(h,n,r,o,a);n=g.maxWidth,r=g.maxHeight,o=g.minWidth,a=g.minHeight;var v=this.calculateNewSizeFromDirection(i,c),O=v.newHeight,w=v.newWidth,j=this.calculateNewMaxFromBoundary(n,r),E=this.calculateNewSizeFromAspectRatio(w,O,{width:j.maxWidth,height:j.maxHeight},{width:o,height:a});if(w=E.newWidth,O=E.newHeight,this.props.grid){var x=d(w,this.props.grid[0]),S=d(O,this.props.grid[1]),T=this.props.snapGap||0;w=0===T||Math.abs(x-w)<=T?x:w,O=0===T||Math.abs(S-O)<=T?S:O}this.props.snap&&this.props.snap.x&&(w=m(w,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(O=m(O,this.props.snap.y,this.props.snapGap));var k={width:w-u.width,height:O-u.height};if(f&&"string"==typeof f)if(b(f,"%"))w=w/h.width*100+"%";else if(b(f,"vw")){w=w/window.innerWidth*100+"vw"}else if(b(f,"vh")){w=w/window.innerHeight*100+"vh"}if(p&&"string"==typeof p)if(b(p,"%"))O=O/h.height*100+"%";else if(b(p,"vw")){O=O/window.innerWidth*100+"vw"}else if(b(p,"vh")){O=O/window.innerHeight*100+"vh"}var C={width:this.createSizeForCssProperty(w,"width"),height:this.createSizeForCssProperty(O,"height")};"row"===this.flexDir?C.flexBasis=C.width:"column"===this.flexDir&&(C.flexBasis=C.height),this.setState(C),this.props.onResize&&this.props.onResize(e,l,this.resizable,k)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,o=t.original;if(n&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,i),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:a(a({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,a=t.handleWrapperStyle,i=t.handleWrapperClass,c=t.handleComponent;if(!n)return null;var u=Object.keys(n).map((function(t){return!1!==n[t]?s.createElement(l.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t]},c&&c[t]?c[t]:null):null}));return s.createElement("span",{className:i,style:a},u)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==O.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=a(a(a({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});return this.state.flexBasis&&(n.flexBasis=this.state.flexBasis),s.createElement("div",a({ref:this.ref,style:n,className:this.props.className},t),this.state.isResizing&&s.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(s.PureComponent);t.Resizable=w},WnTU:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("Obii"),o=n("kDLi"),a=n("C6if"),i=n("5he3"),c=n("sA6q"),s=n("W/v1"),l=n("kDDq"),u=n("q1tI"),f=n.n(u),p=n("Xc1M");function d(){var e=b(["\n    label: show-all-time-series;\n    cursor: pointer;\n    color: ",";\n  "]);return d=function(){return e},e}function h(){var e=b(["\n    label: disclaimer-icon;\n    color: ",";\n    margin-right: ",";\n  "]);return h=function(){return e},e}function m(){var e=b(["\n    label: time-series-disclaimer;\n    width: 300px;\n    margin: "," auto;\n    padding: 10px 0;\n    border-radius: ",";\n    text-align: center;\n    background-color: ",";\n  "]);return m=function(){return e},e}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e){var t=e.width,n=e.data,d=e.timeZone,h=e.absoluteRange,m=e.onUpdateTimeRange,b=e.isLoading,v=e.annotations,O=e.splitOpenFn,w=Object(o.useTheme)(),j=g(Object(u.useState)(!1),2),E=j[0],x=j[1],S=g(Object(u.useState)({defaults:{color:{mode:r.FieldColorModeId.PaletteClassic},custom:{drawStyle:o.DrawStyle.Line,fillOpacity:0,pointSize:5,spanNulls:!0}},overrides:[]}),2),T=S[0],k=S[1],C=Object(o.useStyles)(y),I={from:Object(r.dateTime)(h.from),to:Object(r.dateTime)(h.to),raw:{from:Object(r.dateTime)(h.from),to:Object(r.dateTime)(h.to)}},P=Object(u.useMemo)((function(){var e=Object(r.createFieldConfigRegistry)(Object(a.e)(a.d),"Explore");return Object(r.applyFieldOverrides)({fieldConfig:T,data:n,timeZone:d,replaceVariables:function(e){return e},theme:w,fieldConfigRegistry:e})}),[T,n,d,w]),D=Object(u.useCallback)((function(e){k(Object(i.a)(e,T,n))}),[T,n]),_=E?P:P.slice(0,20);return f.a.createElement(f.a.Fragment,null,P.length>20&&!E&&f.a.createElement("div",{className:Object(l.cx)([C.timeSeriesDisclaimer])},f.a.createElement(o.Icon,{className:C.disclaimerIcon,name:"exclamation-triangle"}),"Showing only ".concat(20," time series. "),f.a.createElement("span",{className:Object(l.cx)([C.showAllTimeSeries]),onClick:function(){return x(!0)}},"Show all ".concat(P.length))),f.a.createElement(o.Collapse,{label:"Graph",loading:b,isOpen:!0},f.a.createElement(o.GraphNG,{data:_,width:t,height:400,timeRange:I,onLegendClick:D,legend:{displayMode:o.LegendDisplayMode.List,placement:"bottom",calcs:[]},timeZone:d},f.a.createElement(o.TooltipPlugin,{mode:"single",timeZone:d}),f.a.createElement(o.ZoomPlugin,{onZoom:m}),f.a.createElement(c.a,{timeZone:d}),v?f.a.createElement(s.a,{exemplars:v,timeZone:d,getFieldLinks:function(e,t){return Object(p.a)({field:e,rowIndex:t,splitOpenFn:O,range:I})}}):f.a.createElement(f.a.Fragment,null))))}var y=function(e){return{timeSeriesDisclaimer:Object(l.css)(m(),e.spacing.sm,e.border.radius.md,e.colors.bg1),disclaimerIcon:Object(l.css)(h(),e.palette.yellow,e.spacing.xs),showAllTimeSeries:Object(l.css)(d(),e.colors.linkExternal)}}},Wopw:function(e,t,n){var r=n("+A2i").off;e.exports=function(){var e=this.element;r(e,"keypress",this.eventHandler),r(e,"keydown",this.eventHandler),r(e,"keyup",this.eventHandler)}},XZY6:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return j})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return S}));var r=n("q1tI"),o=n.n(r),a=n("2mql"),i=n.n(a),c=n("Wwog"),s=n("Zss7"),l=n.n(s);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,h=["#17B8BE","#F8DCA1","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E","#12939A","#DDB27C","#88572C","#FF9833","#EF5D28","#DA70BF","#4DC19C","#776E57"];!function(e){e[e.Dark=0]="Dark",e[e.Light=1]="Light"}(d||(d={}));var m={type:d.Light,borderStyle:"1px solid #bbb",servicesColorPalette:["#17B8BE","#F8DCA1","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E","#12939A","#DDB27C","#88572C","#FF9833","#EF5D28","#162A65","#DA70BF","#125C77","#4DC19C","#776E57"]};function b(e){return!(!e||!e.type)&&e.type===d.Light}var g=o.a.createContext(void 0);g.displayName="ThemeContext";var v=g.Provider;function y(e){return o.a.createElement(g.Consumer,null,(function(t){var n=O(t);return e.children(n)}))}var O=Object(c.a)((function(e){var t={};return b(e)||(t.servicesColorPalette=h),e?f({},m,{},t,{},e):m})),w=function(e){var t=function(t){return o.a.createElement(y,null,(function(n){return o.a.createElement(e,f({},t,{theme:n}))}))};return t.displayName="WithTheme(".concat(e.displayName,")"),(t=i()(t,e)).wrapped=e,t};function j(){var e=Object(r.useContext)(g);return f({},m,{},e)}var E=function(e){return Object(c.a)(e)};function x(e,t,n){if(b(e))return t;if(n){var r=l()(t);return l.a.mostReadable(n,[r.clone().lighten(25),r.clone().lighten(10),r,r.clone().darken(10),r.clone().darken(25)],{includeFallbackColors:!1}).toHex8String()}var o=l()(t).toHsl();o.l=1-o.l;var a=l()(o);return a.isLight()?a.darken(5).toHex8String():a.lighten(5).toHex8String()}function S(e,t){return e?"string"==typeof e?e:"".concat(e,"px"):t}},YljP:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o}));var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=n.isTagsOpen,o=n.isProcessOpen,a=n.isReferencesOpen,i=n.isWarningsOpen,c=n.isStackTracesOpen,s=n.logs;this.isTagsOpen=Boolean(r),this.isProcessOpen=Boolean(o),this.isReferencesOpen=Boolean(a),this.isWarningsOpen=Boolean(i),this.isStackTracesOpen=Boolean(c),this.logs={isOpen:Boolean(s&&s.isOpen),openedItems:s&&s.openedItems?new Set(s.openedItems):new Set}}var t,n,o;return t=e,(n=[{key:"toggleTags",value:function(){var t=new e(this);return t.isTagsOpen=!this.isTagsOpen,t}},{key:"toggleProcess",value:function(){var t=new e(this);return t.isProcessOpen=!this.isProcessOpen,t}},{key:"toggleReferences",value:function(){var t=new e(this);return t.isReferencesOpen=!this.isReferencesOpen,t}},{key:"toggleWarnings",value:function(){var t=new e(this);return t.isWarningsOpen=!this.isWarningsOpen,t}},{key:"toggleStackTraces",value:function(){var t=new e(this);return t.isStackTracesOpen=!this.isStackTracesOpen,t}},{key:"toggleLogs",value:function(){var t=new e(this);return t.logs.isOpen=!this.logs.isOpen,t}},{key:"toggleLogItem",value:function(t){var n=new e(this);return n.logs.openedItems.has(t)?n.logs.openedItems.delete(t):n.logs.openedItems.add(t),n}}])&&r(t.prototype,n),o&&r(t,o),e}()},Z8xD:function(e,t,n){"use strict";e.exports=function(e,t,n){for(var r=0;r<e.length;++r)this.bindSingle(e[r],t,n)}},Zcyb:function(e,t,n){"use strict";var r=n("q1tI");t.a=function(e){Object(r.useEffect)(e,[])}},ajrG:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),o=n.n(r),a=n("0cfB"),i=n("/MKj"),c=n("kDLi"),s=n("Obii"),l=n("sQ2H"),u=n("vExC"),f=n("CJUB"),p=n("5BoW"),d=n("1LJY"),h=n("Bdd1"),m=n("gmR8"),b=n("lMcC"),g=n("OxIB"),v=n("Xc1M");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,c,"next",e)}function c(e){O(a,r,o,i,c,"throw",e)}i(void 0)}))}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(){var e,n;j(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=x(this,(e=S(t)).call.apply(e,[this].concat(o)))).onChangeTime=function(e){var t=n.props,r=t.exploreId;(0,t.updateTimeRange)({exploreId:r,absoluteRange:e})},n.handleDedupStrategyChange=function(e){n.props.changeDedupStrategy(n.props.exploreId,e)},n.handleToggleLogLevel=function(e){var t=n.props.exploreId;n.props.toggleLogLevelAction({exploreId:t,hiddenLogLevels:e})},n.getLogRowContext=function(){var e=w(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==(o=n.props.datasourceInstance)?void 0:o.getLogRowContext)){e.next=3;break}return e.abrupt("return",o.getLogRowContext(t,r));case 3:return e.abrupt("return",[]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.showContextToggle=function(e){var t=n.props.datasourceInstance;return!!(null==t?void 0:t.showContextToggle)&&t.showContextToggle(e)},n.getFieldLinks=function(e,t){var r=n.props,o=r.splitOpen,a=r.range;return Object(v.a)({field:e,rowIndex:t,splitOpenFn:o,range:a})},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.logsHighlighterExpressions,a=t.logRows,i=t.logsMeta,l=t.logsSeries,u=t.dedupedRows,f=t.onClickFilterLabel,p=t.onClickFilterOutLabel,d=t.onStartScanning,v=t.onStopScanning,y=t.absoluteRange,O=t.timeZone,w=t.visibleRange,j=t.scanning,E=t.range,x=t.width,S=t.isLive,T=t.exploreId;return a?o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{visible:S},o.a.createElement(c.Collapse,{label:"Logs",loading:!1,isOpen:!0},o.a.createElement(g.a,{exploreId:T},(function(t){return o.a.createElement(h.a,{logRows:a,timeZone:O,stopLive:t.stop,isPaused:e.props.isPaused,onPause:t.pause,onResume:t.resume})})))),o.a.createElement(b.a,{visible:!S},o.a.createElement(c.Collapse,{label:"Logs",loading:n,isOpen:!0},o.a.createElement(m.a,{dedupStrategy:this.props.dedupStrategy||s.LogsDedupStrategy.none,logRows:a,logsMeta:i,logsSeries:l,dedupedRows:u,highlighterExpressions:r,loading:n,onChangeTime:this.onChangeTime,onClickFilterLabel:f,onClickFilterOutLabel:p,onStartScanning:d,onStopScanning:v,onDedupStrategyChange:this.handleDedupStrategyChange,onToggleLogLevel:this.handleToggleLogLevel,absoluteRange:y,visibleRange:w,timeZone:O,scanning:j,scanRange:E.raw,showContextToggle:this.showContextToggle,width:x,getRowContext:this.getLogRowContext,getFieldLinks:this.getFieldLinks})))):null}}])&&E(n.prototype,r),a&&E(n,a),t}(r.PureComponent);var C={changeDedupStrategy:f.a,toggleLogLevelAction:f.h,updateTimeRange:u.e,splitOpen:l.f},I=Object(i.connect)((function(e,t){var n=t.exploreId,r=e.explore[n],o=r.logsHighlighterExpressions,a=r.logsResult,i=r.loading,c=r.scanning,s=r.datasourceInstance,l=r.isLive,u=r.isPaused,f=r.range,h=r.absoluteRange,m=r.dedupStrategy,b=Object(p.a)(r)||void 0,g=Object(d.a)(e.user);return{loading:i,logsHighlighterExpressions:o,logRows:null==a?void 0:a.rows,logsMeta:null==a?void 0:a.meta,logsSeries:null==a?void 0:a.series,visibleRange:null==a?void 0:a.visibleRange,scanning:c,timeZone:g,dedupStrategy:m,dedupedRows:b,datasourceInstance:s,isLive:l,isPaused:u,range:f,absoluteRange:h}}),C);t.a=Object(a.hot)(e)(I(k))}).call(this,n("3UD+")(e))},alwl:function(e,t,n){var r=n("eUgh"),o=n("ZWtO"),a=n("ut/Y"),i=n("l9OW"),c=n("1LK5"),s=n("sEf8"),l=n("IWTy"),u=n("zZ0H"),f=n("Z0cm");e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[u];var p=-1;t=r(t,s(a));var d=i(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return c(d,(function(e,t){return l(e,t,n)}))}},bkob:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return H}));var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("0cfB"),c=n("Wwog"),s=n("TSYQ"),l=n.n(s),u=n("kDDq"),f=n("kDLi"),p=n("Wkk1"),d=n("ljRM"),h=n("fD97"),m=n("sQ2H"),b=n("vExC"),g=n("1LJY"),v=n("Gqk0"),y=n("kd/b"),O=n("sQnn"),w=n("Gyt8"),j=n("nmUH"),E=n("OxIB"),x=n("VVW4"),S=n("8Vg1");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){var e=M(["\n                      margin-right: 6px;\n                      margin-bottom: 3px;\n                    "]);return k=function(){return e},e}function C(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){C(a,r,o,i,c,"next",e)}function c(e){C(a,r,o,i,c,"throw",e)}i(void 0)}))}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(){var e=M(["\n      margin-left: 10px;\n      @media (max-width: 1110px) {\n        margin-left: 4px;\n      }\n    "]);return N=function(){return e},e}function M(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var z=Object(c.a)((function(){return{liveTailButtons:Object(u.css)(N())}})),A=function(e){function t(){var e,n;P(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=_(this,(e=R(t)).call.apply(e,[this].concat(o)))).onChangeDatasource=function(){var e=I(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.changeDatasource(n.props.exploreId,t.name,{importQueries:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onClearAll=function(){n.props.clearAll(n.props.exploreId)},n.onRunQuery=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.props.cancelQueries(n.props.exploreId):n.props.runQueries(n.props.exploreId)},n.onChangeRefreshInterval=function(e){var t=n.props;(0,t.changeRefreshInterval)(t.exploreId,e)},n.onChangeTimeSync=function(){var e=n.props;(0,e.syncTimes)(e.exploreId)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.datasourceMissing,n=e.closeSplit,r=e.exploreId,a=e.loading,i=e.range,c=e.timeZone,s=e.splitted,h=e.syncedTimes,m=e.refreshInterval,b=e.onChangeTime,g=e.split,v=e.hasLiveOption,x=e.isLive,T=e.isPaused,C=e.containerWidth,I=e.onChangeTimeZone,P=z(),D=(s?C<700:C<800)||!1,_=s||C<1210;return o.a.createElement("div",{className:s?"explore-toolbar splitted":"explore-toolbar"},o.a.createElement("div",{className:"explore-toolbar-item"},o.a.createElement("div",{className:"explore-toolbar-header"},o.a.createElement("div",{className:"explore-toolbar-header-title"},"left"===r&&o.a.createElement("span",{className:"navbar-page-btn"},o.a.createElement(f.Icon,{name:"compass",size:"lg",className:Object(u.css)(k())}),"Explore")),s&&o.a.createElement(f.IconButton,{className:"explore-toolbar-header-close",onClick:function(){return n(r)},name:"times"}))),o.a.createElement("div",{className:"explore-toolbar-item"},o.a.createElement("div",{className:"explore-toolbar-content"},t?null:o.a.createElement("div",{className:"explore-toolbar-content-item"},o.a.createElement("div",{className:l()("explore-ds-picker",D?"explore-ds-picker--small":"")},o.a.createElement(p.a,{onChange:this.onChangeDatasource,current:this.props.datasourceName,hideTextValue:D}))),o.a.createElement(S.a,{exploreId:r}),"left"!==r||s?null:o.a.createElement("div",{className:"explore-toolbar-content-item explore-icon-align"},o.a.createElement(w.a,{splitted:s,title:"Split",onClick:function(){return g()},icon:"columns",iconClassName:"icon-margin-right",disabled:x})),o.a.createElement("div",{className:"explore-toolbar-content-item"},o.a.createElement(f.Tooltip,{content:"Copy shortened link",placement:"bottom"},o.a.createElement("button",{className:"btn navbar-button",onClick:function(){return Object(d.a)(window.location.href)}},o.a.createElement(f.Icon,{name:"share-alt"})))),!x&&o.a.createElement("div",{className:"explore-toolbar-content-item"},o.a.createElement(y.a,{exploreId:r,range:i,timeZone:c,onChangeTime:b,splitted:s,syncedTimes:h,onChangeTimeSync:this.onChangeTimeSync,hideText:_,onChangeTimeZone:I})),!x&&o.a.createElement("div",{className:"explore-toolbar-content-item explore-icon-align"},o.a.createElement(w.a,{splitted:s,title:"Clear All",onClick:this.onClearAll,icon:"trash-alt",iconClassName:"icon-margin-right"})),o.a.createElement("div",{className:"explore-toolbar-content-item"},o.a.createElement(j.a,{refreshInterval:m,onChangeRefreshInterval:this.onChangeRefreshInterval,splitted:s,isLive:x,loading:a||x&&!T,onRun:this.onRunQuery,showDropdown:!x}),m&&o.a.createElement(f.SetInterval,{func:this.onRunQuery,interval:m,loading:a})),v&&o.a.createElement("div",{className:"explore-toolbar-content-item ".concat(P.liveTailButtons)},o.a.createElement(E.a,{exploreId:r},(function(e){return o.a.createElement(O.a,{splitted:s,isLive:x,isPaused:T,start:e.start,pause:e.pause,resume:e.resume,stop:e.stop})}))))))}}])&&D(n.prototype,r),a&&D(n,a),t}(r.PureComponent),B={changeDatasource:h.a,changeRefreshInterval:b.a,clearAll:x.d,cancelQueries:x.b,runQueries:x.i,closeSplit:m.e,split:m.f,syncTimes:b.b,onChangeTimeZone:v.b},H=Object(i.hot)(e)(Object(a.connect)((function(e,t){var n,r=t.exploreId,o=e.explore.split,a=e.explore.syncedTimes,i=e.explore[r],c=i.datasourceInstance,s=i.datasourceMissing,l=i.range,u=i.refreshInterval,f=i.loading,p=i.isLive,d=i.isPaused,h=i.containerWidth,m=!!(null==c||null===(n=c.meta)||void 0===n?void 0:n.streaming);return{datasourceMissing:s,datasourceName:null==c?void 0:c.name,loading:f,range:l,timeZone:Object(g.a)(e.user),splitted:o,refreshInterval:u,hasLiveOption:m,isLive:p,isPaused:d,syncedTimes:a,containerWidth:h}}),B)(A))}).call(this,n("3UD+")(e))},cAtN:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("q1tI"),o=n.n(r),a=n("9BUi");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return c(this,t),l(this,u(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.exploreEvents,i=e.exploreId,c=e.queryKeys;return o.a.createElement("div",{className:n},c.map((function(e,t){return o.a.createElement(a.a,{key:e,exploreEvents:r,exploreId:i,index:t})})))}}])&&s(n.prototype,r),i&&s(n,i),t}(r.PureComponent)},cKlj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m25 37.5h-10v-7.5h10v7.5z m-1.2-12.5h-7.5l-1.3-22.5h10z"})))},e.exports=t.default},dunj:function(e,t,n){var r=n("/9aa");e.exports=function(e,t,n){for(var o=-1,a=e.length;++o<a;){var i=e[o],c=t(i);if(null!=c&&(void 0===s?c==c&&!r(c):n(c,s)))var s=c,l=i}return l}},eX1b:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Wrapper",(function(){return v}));var r=n("q1tI"),o=n.n(r),a=n("0cfB"),i=n("/MKj"),c=n("sBLX"),s=n("kDLi"),l=n("sQ2H"),u=n("sguS"),f=n("w9yp");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return d(this,t),m(this,b(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.props.resetExploreAction({})}},{key:"componentDidMount",value:function(){var e=Object(f.j)();this.props.richHistoryUpdatedAction({richHistory:e})}},{key:"render",value:function(){var e=this.props.split;return o.a.createElement("div",{className:"page-scrollbar-wrapper"},o.a.createElement(s.CustomScrollbar,{autoHeightMin:"100%",autoHeightMax:"",className:"custom-scrollbar--page"},o.a.createElement("div",{className:"explore-wrapper"},o.a.createElement(s.ErrorBoundaryAlert,{style:"page"},o.a.createElement(u.a,{exploreId:c.a.left})),e&&o.a.createElement(s.ErrorBoundaryAlert,{style:"page"},o.a.createElement(u.a,{exploreId:c.a.right})))))}}])&&h(n.prototype,r),a&&h(n,a),t}(r.Component),y={resetExploreAction:l.c,richHistoryUpdatedAction:l.d};t.default=Object(a.hot)(e)(Object(i.connect)((function(e){return{split:e.explore.split}}),y)(v))}.call(this,n("3UD+")(e))},fBm0:function(e,t,n){"use strict";e.exports=function(e){return"+"===e?["+"]:e.split("+")}},gmR8:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("kDDq"),i=n("LvDl"),c=n("Obii"),s=n("kDLi"),l=n("SMGL");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(){var e=y(["\n    label: show-all-time-series;\n    cursor: pointer;\n    color: ",";\n  "]);return b=function(){return e},e}function g(){var e=y(["\n    label: disclaimer-icon;\n    color: ",";\n    margin-right: ",";\n  "]);return g=function(){return e},e}function v(){var e=y(["\n    label: time-series-disclaimer;\n    width: 300px;\n    margin: "," auto;\n    padding: 10px 0;\n    border-radius: ",";\n    text-align: center;\n    background-color: ",";\n  "]);return v=function(){return e},e}function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=function(e){function t(){var e,n;f(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=d(this,(e=h(t)).call.apply(e,[this].concat(a)))).state={hiddenSeries:[],showAllTimeSeries:!1},n.onShowAllTimeSeries=function(){n.setState({showAllTimeSeries:!0})},n.onChangeTime=function(e,t){(0,n.props.onUpdateTimeRange)({from:e,to:t})},n.renderGraph=function(){var e=n.props,t=e.ariaLabel,r=e.width,a=e.series,i=e.onHiddenSeriesChanged,l=e.timeZone,u=e.absoluteRange,f=e.showPanel,p=e.showBars,d=e.showLines,h=e.isStacked,m=n.state.showAllTimeSeries;if(!a)return null;var b={from:Object(c.dateTime)(u.from),to:Object(c.dateTime)(u.to),raw:{from:Object(c.dateTime)(u.from),to:Object(c.dateTime)(u.to)}},g=f?200:100,v=d?1:5,y=m?a:a.slice(0,20);return o.a.createElement(s.GraphSeriesToggler,{series:y,onHiddenSeriesChanged:i},(function(e){var a=e.onSeriesToggle,i=e.toggledSeries;return o.a.createElement(s.GraphWithLegend,{ariaLabel:t,legendDisplayMode:s.LegendDisplayMode.List,height:g,placement:"bottom",width:r,timeRange:b,timeZone:l,showBars:p,showLines:d,showPoints:!1,onToggleSort:function(){},series:i,isStacked:h,lineWidth:v,onSeriesToggle:a,onHorizontalRegionSelected:n.onChangeTime},o.a.createElement(s.Chart.Tooltip,{mode:p?"multi":"single"}))}))},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.series,n=e.showPanel,r=e.loading,i=e.theme,c=this.state.showAllTimeSeries,l=function(e){return{timeSeriesDisclaimer:Object(a.css)(v(),e.spacing.sm,e.border.radius.md,Object(s.selectThemeVariant)({light:e.palette.white,dark:e.palette.dark4},e.type)),disclaimerIcon:Object(a.css)(g(),e.palette.yellow,e.spacing.xs),showAllTimeSeries:Object(a.css)(b(),e.colors.linkExternal)}}(i);return o.a.createElement(o.a.Fragment,null,t&&t.length>20&&!c&&o.a.createElement("div",{className:Object(a.cx)([l.timeSeriesDisclaimer])},o.a.createElement(s.Icon,{className:l.disclaimerIcon,name:"exclamation-triangle"}),"Showing only ".concat(20," time series. "),o.a.createElement("span",{className:Object(a.cx)([l.showAllTimeSeries]),onClick:this.onShowAllTimeSeries},"Show all ".concat(t.length))),n&&o.a.createElement(s.Collapse,{label:"Graph",loading:r,isOpen:!0},this.renderGraph()),!n&&this.renderGraph())}}])&&p(n.prototype,r),i&&p(n,i),t}(r.PureComponent),w=Object(s.withTheme)(O);w.displayName="ExploreGraphPanel";var j=n("h1VQ"),E=n("o3yI");function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){var e=I(["\n      margin: 0 ",";\n    "]);return S=function(){return e},e}function T(){var e=I(["\n      margin: "," 0 0 ",";\n    "]);return T=function(){return e},e}function k(){var e=I(["\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n      flex-wrap: wrap;\n      background-color: ",";\n      padding: "," ",";\n      border-radius: ",";\n      margin: "," 0 ",";\n      border: 1px solid ",";\n    "]);return k=function(){return e},e}function C(){var e=I(["\n      > * {\n        margin-left: 0.5em;\n      }\n    "]);return C=function(){return e},e}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function P(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return F}));var M="grafana.explore.logs.showLabels",z="grafana.explore.logs.showTime",A="grafana.explore.logs.wrapLogMessage";function B(e,t){return t===c.LogsMetaKind.LabelsMap?o.a.createElement("span",{className:"logs-meta-item__labels"},o.a.createElement(s.LogLabels,{labels:e})):t===c.LogsMetaKind.Error?o.a.createElement("span",{className:"logs-meta-item__error"},e):e}var H=function(e){function t(){var e,n;D(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=R(this,(e=L(t)).call.apply(e,[this].concat(o)))).state={showLabels:l.a.getBool(M,!1),showTime:l.a.getBool(z,!0),wrapLogMessage:l.a.getBool(A,!0),logsSortOrder:null,isFlipping:!1,showDetectedFields:[]},n.onChangeLogsSortOrder=function(){n.setState({isFlipping:!0}),n.flipOrderTimer=setTimeout((function(){n.setState((function(e){return null===e.logsSortOrder||e.logsSortOrder===c.LogsSortOrder.Descending?{logsSortOrder:c.LogsSortOrder.Ascending}:{logsSortOrder:c.LogsSortOrder.Descending}}))}),0),n.cancelFlippingTimer=setTimeout((function(){return n.setState({isFlipping:!1})}),1e3)},n.onChangeDedup=function(e){var t=n.props.onDedupStrategyChange;return n.props.dedupStrategy===e?t(c.LogsDedupStrategy.none):t(e)},n.onChangeLabels=function(e){var t=e&&e.target;if(t){var r=t.checked;n.setState({showLabels:r}),l.a.set(M,r)}},n.onChangeTime=function(e){var t=e&&e.target;if(t){var r=t.checked;n.setState({showTime:r}),l.a.set(z,r)}},n.onChangewrapLogMessage=function(e){var t=e&&e.target;if(t){var r=t.checked;n.setState({wrapLogMessage:r}),l.a.set(A,r)}},n.onToggleLogLevel=function(e){var t=e.map((function(e){return c.LogLevel[e]}));n.props.onToggleLogLevel(t)},n.onClickScan=function(e){e.preventDefault(),n.props.onStartScanning&&n.props.onStartScanning()},n.onClickStopScan=function(e){e.preventDefault(),n.props.onStopScanning&&n.props.onStopScanning()},n.showDetectedField=function(e){-1===n.state.showDetectedFields.indexOf(e)&&n.setState((function(t){return{showDetectedFields:t.showDetectedFields.concat(e)}}))},n.hideDetectedField=function(e){n.state.showDetectedFields.indexOf(e)>-1&&n.setState((function(t){return{showDetectedFields:t.showDetectedFields.filter((function(t){return e!==t}))}}))},n.clearDetectedFields=function(){n.setState((function(e){return{showDetectedFields:[]}}))},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){clearTimeout(this.flipOrderTimer),clearTimeout(this.cancelFlippingTimer)}},{key:"render",value:function(){var e=this.props,t=e.logRows,n=e.logsMeta,r=e.logsSeries,a=e.visibleRange,l=e.highlighterExpressions,u=e.loading,f=void 0!==u&&u,p=e.onClickFilterLabel,d=e.onClickFilterOutLabel,h=e.timeZone,m=e.scanning,b=e.scanRange,g=e.showContextToggle,v=e.width,y=e.dedupedRows,O=e.absoluteRange,x=e.onChangeTime,S=e.getFieldLinks,T=e.dedupStrategy,k=e.theme,C=this.state,I=C.showLabels,D=C.showTime,_=C.wrapLogMessage,R=C.logsSortOrder,L=C.isFlipping,N=C.showDetectedFields;if(!t)return null;var M=t&&t.length>0,z=y?y.reduce((function(e,t){return t.duplicates?e+t.duplicates:e}),0):0,A=n?P(n):[];T!==c.LogsDedupStrategy.none&&A.push({label:"Dedup count",value:z,kind:c.LogsMetaKind.Number}),t.some((function(e){return e.entry.length>E.b}))&&A.push({label:"Info",value:"Logs with more than 100,000 characters could not be parsed and highlighted",kind:c.LogsMetaKind.String});var H=b?"Scanning ".concat(c.rangeUtil.describeTimeRange(b)):"Scanning...",F=r||[],q=V(k);return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,{series:F,width:v,onHiddenSeriesChanged:this.onToggleLogLevel,loading:f,absoluteRange:a||O,isStacked:!0,showPanel:!1,timeZone:h,showBars:!0,showLines:!1,onUpdateTimeRange:x}),o.a.createElement("div",{className:q.logOptions},o.a.createElement(s.InlineFieldRow,null,o.a.createElement(s.InlineField,{label:"Time",transparent:!0},o.a.createElement(s.InlineSwitch,{value:D,onChange:this.onChangeTime,transparent:!0})),o.a.createElement(s.InlineField,{label:"Unique labels",transparent:!0},o.a.createElement(s.InlineSwitch,{value:I,onChange:this.onChangeLabels,transparent:!0})),o.a.createElement(s.InlineField,{label:"Wrap lines",transparent:!0},o.a.createElement(s.InlineSwitch,{value:_,onChange:this.onChangewrapLogMessage,transparent:!0})),o.a.createElement(s.InlineField,{label:"Dedup",transparent:!0},o.a.createElement(s.RadioButtonGroup,{options:Object.keys(c.LogsDedupStrategy).map((function(e){return{label:Object(i.capitalize)(e),value:e,description:c.LogsDedupDescription[e]}})),value:T,onChange:this.onChangeDedup,className:q.radioButtons}))),o.a.createElement(s.Button,{variant:"secondary",disabled:L,title:R===c.LogsSortOrder.Ascending?"Change to newest first":"Change to oldest first","aria-label":"Flip results order",className:q.flipButton,onClick:this.onChangeLogsSortOrder},L?"Flipping...":"Flip results order")),A&&o.a.createElement(j.a,{metaItems:A.map((function(e){return{label:e.label,value:B(e.value,e.kind)}}))}),(null==N?void 0:N.length)>0&&o.a.createElement(j.a,{metaItems:[{label:"Showing only detected fields",value:B(N,c.LogsMetaKind.LabelsMap)},{label:"",value:o.a.createElement(s.Button,{variant:"secondary",size:"sm",onClick:this.clearDetectedFields},"Show all detected fields")}]}),o.a.createElement(s.LogRows,{logRows:t,deduplicatedRows:y,dedupStrategy:T,getRowContext:this.props.getRowContext,highlighterExpressions:l,rowLimit:t?t.length:void 0,onClickFilterLabel:p,onClickFilterOutLabel:d,showContextToggle:g,showLabels:I,showTime:D,wrapLogMessage:_,timeZone:h,getFieldLinks:S,logsSortOrder:R,showDetectedFields:N,onClickShowDetectedField:this.showDetectedField,onClickHideDetectedField:this.hideDetectedField}),!f&&!M&&!m&&o.a.createElement("div",{className:q.noData},"No logs found.",o.a.createElement(s.Button,{size:"xs",variant:"link",onClick:this.onClickScan},"Scan for older logs")),m&&o.a.createElement("div",{className:q.noData},o.a.createElement("span",null,H),o.a.createElement(s.Button,{size:"xs",variant:"link",onClick:this.onClickStopScan},"Stop scan")))}}])&&_(n.prototype,r),a&&_(n,a),t}(r.PureComponent),F=Object(s.withTheme)(H),V=Object(s.stylesFactory)((function(e){return{noData:Object(a.css)(C()),logOptions:Object(a.css)(k(),e.colors.bg1,e.spacing.sm,e.spacing.md,e.border.radius.md,e.spacing.md,e.spacing.sm,e.colors.panelBorder),flipButton:Object(a.css)(T(),e.spacing.xs,e.spacing.sm),radioButtons:Object(a.css)(S(),e.spacing.sm)}}))},h1VQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("q1tI"),o=n.n(r),a=n("kDDq"),i=n("kDLi");function c(){var e=f(["\n    font-family: ",";\n  "]);return c=function(){return e},e}function s(){var e=f(["\n    margin-right: calc("," / 2);\n    font-size: ",";\n    font-weight: ",";\n  "]);return s=function(){return e},e}function l(){var e=f(["\n    margin-right: ",";\n    display: flex;\n    align-items: baseline;\n\n    .logs-meta-item__error {\n      color: ",";\n    }\n  "]);return l=function(){return e},e}function u(){var e=f(["\n    flex: 1;\n    color: ",";\n    margin-bottom: ",";\n    min-width: 30%;\n    display: flex;\n  "]);return u=function(){return e},e}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=Object(i.stylesFactory)((function(e){return{metaContainer:Object(a.css)(u(),e.colors.textWeak,e.spacing.d),metaItem:Object(a.css)(l(),e.spacing.d,e.palette.red),metaLabel:Object(a.css)(s(),e.spacing.d,e.typography.size.sm,e.typography.weight.semibold),metaValue:Object(a.css)(c(),e.typography.fontFamily.monospace)}})),d=Object(r.memo)((function(e){var t=Object(r.useContext)(i.ThemeContext),n=p(t),a=e.label,c=e.value;return o.a.createElement("div",{className:n.metaItem},a&&o.a.createElement("span",{className:n.metaLabel},a,":"),o.a.createElement("span",{className:n.metaValue},c))})),h=Object(r.memo)((function(e){var t=Object(r.useContext)(i.ThemeContext),n=p(t),a=e.metaItems;return o.a.createElement("div",{className:n.metaContainer},a.map((function(e,t){return o.a.createElement(d,{key:"".concat(t,"-").concat(e.label),label:e.label,value:e.value})})))}))},hrSM:function(e,t,n){"use strict";e.exports=function(e,t,r){var o,a,i,c,s={},l=0,u=!1;for(o=this.getMatches(e,t,r),a=0;a<o.length;++a)o[a].seq&&(l=Math.max(l,o[a].level));for(a=0;a<o.length;++a)if(o[a].seq){if(o[a].level!==l)continue;u=!0,s[o[a].seq]=1,this.fireCallback(o[a].callback,r,o[a].combo,o[a].seq)}else u||this.fireCallback(o[a].callback,r,o[a].combo);c="keypress"===r.type&&this.ignoreNextKeypress,i=n("IfRf"),r.type!==this.nextExpectedAction||i(e)||c||this.resetSequences(s),this.ignoreNextKeypress=u&&"keydown"===r.type}},iB72:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("mwIZ"),i=n.n(a),c=n("FyPc"),s=n.n(c),l=n("P/G1"),u=n.n(l),f=n("rhR/"),p=n.n(f),d=n("kDDq"),h=n("TSYQ"),m=n.n(h);var b=n("SScd"),g=n("XZY6");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      label: CanvasSpanGraph;\n      background: ",";\n      height: 60px;\n      position: absolute;\n      width: 100%;\n    "]);return E=function(){return e},e}var x=Object(g.d)((function(e){return{CanvasSpanGraph:Object(d.css)(E(),Object(g.c)(e,"#fafafa"))}})),S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=O(this,w(t).call(this,e))).getColor=function(e){return Object(b.b)(e,n.props.theme)},n._setCanvasRef=function(e){n._canvasElm=e},n._canvasElm=void 0,n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this._draw()}},{key:"componentDidUpdate",value:function(){this._draw()}},{key:"_draw",value:function(){if(this._canvasElm){var e=this.props,t=e.valueWidth,n=e.items;!function(e,t,n,r,o){var a=new Map,i=t.length<60?60:Math.min(t.length,200),c=2*window.innerWidth;e.width=c,e.height=i;var s=Math.min(6,Math.max(2,i/t.length)),l=i/t.length,u=e.getContext("2d",{alpha:!1});u.fillStyle=o,u.fillRect(0,0,c,i);for(var f=0;f<t.length;f++){var p=t[f],d=p.valueWidth,h=p.valueOffset,m=p.serviceName,b=h/n*c,g=d/n*c;g<10&&(g=10);var v=a.get(m);v||(v="rgba(".concat(r(m).concat(.8).join(),")"),a.set(m,v)),u.fillStyle=v,u.fillRect(b,f*l,g,s)}}(this._canvasElm,n,t,this.getColor,Object(g.c)(this.props.theme,"#fff"))}}},{key:"render",value:function(){return r.createElement("canvas",{className:x(this.props.theme).CanvasSpanGraph,ref:this._setCanvasRef})}}])&&y(n.prototype,o),a&&y(n,a),t}(r.PureComponent),T=Object(g.h)(S),k=n("kxiF");function C(){var e=P(["\n      label: TickLabelsLabel;\n      color: #717171;\n      font-size: 0.7rem;\n      position: absolute;\n      user-select: none;\n    "]);return C=function(){return e},e}function I(){var e=P(["\n      label: TickLabels;\n      height: 1rem;\n      position: relative;\n    "]);return I=function(){return e},e}function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var D=Object(g.d)((function(){return{TickLabels:Object(d.css)(I()),TickLabelsLabel:Object(d.css)(C())}}));function _(e){for(var t=e.numTicks,n=e.duration,r=D(),a=[],i=0;i<t+1;i++){var c=i/t,s=1===c?{right:"0%"}:{left:"".concat(100*c,"%")};a.push(o.a.createElement("div",{key:c,className:r.TickLabelsLabel,style:s,"data-test":"tick"},Object(k.c)(n*c)))}return o.a.createElement("div",{className:r.TickLabels},a)}function R(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      label: GraphTick;\n      stroke: #aaa;\n      stroke-width: 1px;\n    "]);return R=function(){return e},e}var L=Object(g.d)((function(){return{GraphTick:Object(d.css)(R())}}));function N(e){for(var t=e.numTicks,n=[],r=1;r<t;r++){var a="".concat(r/t*100,"%");n.push(o.a.createElement("line",{className:L().GraphTick,x1:a,y1:"0%",x2:a,y2:"100%",key:r/t}))}return o.a.createElement("g",{"data-test":"ticks","aria-hidden":"true"},n)}function M(){var e=F(["\n      label: ScrubberHandles;\n      &:hover > ."," {\n        fill-opacity: 1;\n      }\n      &:hover > ."," {\n        fill: #44f;\n      }\n      &:hover + ."," {\n        stroke: #44f;\n      }\n    "]);return M=function(){return e},e}function z(){var e=F(["\n      label: ScrubberDragging;\n      & ."," {\n        fill-opacity: 1;\n      }\n      & ."," {\n        fill: #44f;\n      }\n      & > ."," {\n        stroke: #44f;\n      }\n    "]);return z=function(){return e},e}function A(){var e=F(["\n    label: ScrubberLine;\n    pointer-events: none;\n    stroke: #555;\n  "]);return A=function(){return e},e}function B(){var e=F(["\n    label: ScrubberHandle;\n    cursor: col-resize;\n    fill: #555;\n  "]);return B=function(){return e},e}function H(){var e=F(["\n    label: ScrubberHandleExpansion;\n    cursor: col-resize;\n    fill-opacity: 0;\n    fill: #44f;\n  "]);return H=function(){return e},e}function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var V=Object(g.d)((function(){var e=Object(d.css)(H()),t=Object(d.css)(B()),n=Object(d.css)(A());return{ScrubberDragging:Object(d.css)(z(),e,t,n),ScrubberHandles:Object(d.css)(M(),e,t,n),ScrubberHandleExpansion:e,ScrubberHandle:t,ScrubberLine:n}}));function q(e){var t,n,r,a=e.isDragging,i=e.onMouseDown,c=e.onMouseEnter,s=e.onMouseLeave,l=e.position,u="".concat(100*l,"%"),f=V(),p=m()((t={},n=f.ScrubberDragging,r=a,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return o.a.createElement("g",{className:p},o.a.createElement("g",{className:f.ScrubberHandles,onMouseDown:i,onMouseEnter:c,onMouseLeave:s},o.a.createElement("rect",{x:u,className:f.ScrubberHandleExpansion,style:{transform:"translate(-4.5px)"},width:"9",height:"20"}),o.a.createElement("rect",{x:u,className:f.ScrubberHandle,style:{transform:"translate(-1.5px)"},width:"3",height:"20"})),o.a.createElement("line",{className:f.ScrubberLine,y2:"100%",x1:u,x2:u}))}var W=n("QNYp"),G=n("50T7");function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(){var e=ie(["\n      label: ViewingLayerFullOverlay;\n      bottom: 0;\n      cursor: col-resize;\n      left: 0;\n      position: fixed;\n      right: 0;\n      top: 0;\n      user-select: none;\n    "]);return J=function(){return e},e}function $(){var e=ie(["\n      label: ViewingLayerDrag;\n      fill: ",";\n    "]);return $=function(){return e},e}function ee(){var e=ie(["\n      label: ViewingLayerDraggedShift;\n      fill-opacity: 0.2;\n    "]);return ee=function(){return e},e}function te(){var e=ie(["\n      label: ViewingLayerCursorGuide;\n      stroke: ",";\n      stroke-width: 1;\n    "]);return te=function(){return e},e}function ne(){var e=ie(["\n      label: ViewingLayerInactive;\n      fill: ",";\n    "]);return ne=function(){return e},e}function re(){var e=ie(["\n      label: ViewingLayerGraph;\n      border: 1px solid ",";\n      /* need !important here to overcome something from semantic UI */\n      overflow: visible !important;\n      position: relative;\n      transform-origin: 0 0;\n      width: 100%;\n    "]);return re=function(){return e},e}function oe(){var e=ie(["\n      label: ViewingLayer;\n      cursor: vertical-text;\n      position: relative;\n      z-index: 1;\n      &:hover > ."," {\n        display: unset;\n      }\n    "]);return oe=function(){return e},e}function ae(){var e=ie(["\n    label: ViewingLayerResetZoom;\n    display: none;\n    position: absolute;\n    right: 1%;\n    top: 10%;\n    z-index: 1;\n  "]);return ae=function(){return e},e}function ie(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ce=Object(g.d)((function(e){var t=Object(d.css)(ae());return{ViewingLayer:Object(d.css)(oe(),"JaegerUiComponents__ViewingLayerResetZoomHoverClassName"),ViewingLayerGraph:Object(d.css)(re(),Object(g.c)(e,"#999")),ViewingLayerInactive:Object(d.css)(ne(),Object(g.c)(e,"rgba(214, 214, 214, 0.5)")),ViewingLayerCursorGuide:Object(d.css)(te(),Object(g.c)(e,"#f44")),ViewingLayerDraggedShift:Object(d.css)(ee()),ViewingLayerDrag:Object(d.css)($(),Object(g.c)(e,"#44f")),ViewingLayerFullOverlay:Object(d.css)(J()),ViewingLayerResetZoom:t,ViewingLayerResetZoomHoverClassName:"JaegerUiComponents__ViewingLayerResetZoomHoverClassName"}})),se="SHIFT_END",le="SHIFT_START",ue="REFRAME";var fe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Z(this,K(t).call(this,e)))._setRoot=function(e){n._root=e},n._getDraggingBounds=function(e){if(!n._root)throw new Error("invalid state");var t=n._root.getBoundingClientRect(),r=t.left,o=t.width,a=X(n.props.viewRange.time.current,2),i=a[0],c=a[1],s=1,l=0;return e===le?s=c:e===se&&(l=i),{clientXLeft:r,maxValue:s,minValue:l,width:o}},n._handleReframeMouseMove=function(e){var t=e.value;n.props.updateNextViewRangeTime({cursor:t})},n._handleReframeMouseLeave=function(){n.props.updateNextViewRangeTime({cursor:null})},n._handleReframeDragUpdate=function(e){var t=e.value,r=n.props.viewRange.time,o={reframe:{anchor:r.reframe?r.reframe.anchor:t,shift:t}};n.props.updateNextViewRangeTime(o)},n._handleReframeDragEnd=function(e){var t=e.manager,r=e.value,o=n.props.viewRange.time,a=o.reframe?o.reframe.anchor:r,i=X(r<a?[r,a]:[a,r],2),c=i[0],s=i[1];t.resetBounds(),n.props.updateViewRangeTime(c,s,"minimap")},n._handleScrubberEnterLeave=function(e){var t=e.type===G.EUpdateTypes.MouseEnter;n.setState({preventCursorLine:t})},n._handleScrubberDragUpdate=function(e){var t=e.event,r=e.tag,o=e.type,a=e.value;o===G.EUpdateTypes.DragStart&&t.stopPropagation(),r===le?n.props.updateNextViewRangeTime({shiftStart:a}):r===se&&n.props.updateNextViewRangeTime({shiftEnd:a})},n._handleScrubberDragEnd=function(e){var t,r=e.manager,o=e.tag,a=e.value,i=X(n.props.viewRange.time.current,2),c=i[0],s=i[1];if(o===le)t=[a,s];else{if(o!==se)throw new Error("bad state");t=[c,a]}r.resetBounds(),n.setState({preventCursorLine:!1}),n.props.updateViewRangeTime(t[0],t[1],"minimap")},n._resetTimeZoomClickHandler=function(){n.props.updateViewRangeTime(0,1)},n._draggerReframe=new G.default({getBounds:n._getDraggingBounds,onDragEnd:n._handleReframeDragEnd,onDragMove:n._handleReframeDragUpdate,onDragStart:n._handleReframeDragUpdate,onMouseMove:n._handleReframeMouseMove,onMouseLeave:n._handleReframeMouseLeave,tag:ue}),n._draggerStart=new G.default({getBounds:n._getDraggingBounds,onDragEnd:n._handleScrubberDragEnd,onDragMove:n._handleScrubberDragUpdate,onDragStart:n._handleScrubberDragUpdate,onMouseEnter:n._handleScrubberEnterLeave,onMouseLeave:n._handleScrubberEnterLeave,tag:le}),n._draggerEnd=new G.default({getBounds:n._getDraggingBounds,onDragEnd:n._handleScrubberDragEnd,onDragMove:n._handleScrubberDragUpdate,onDragStart:n._handleScrubberDragUpdate,onMouseEnter:n._handleScrubberEnterLeave,onMouseLeave:n._handleScrubberEnterLeave,tag:se}),n._root=void 0,n.state={preventCursorLine:!1},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,e),n=t,(o=[{key:"componentWillUnmount",value:function(){this._draggerReframe.dispose(),this._draggerEnd.dispose(),this._draggerStart.dispose()}},{key:"_getMarkers",value:function(e,t){var n,o,a,i,c,s=ce(this.props.theme),l=(a=X((n=e)<(o=t)?[n,o]:[o,n],2),i=a[0],c=a[1],{x:"".concat(100*i,"%"),width:"".concat(100*(c-i),"%"),leadingX:"".concat(100*o,"%")});return[r.createElement("rect",{key:"fill",className:m()(s.ViewingLayerDraggedShift,s.ViewingLayerDrag),x:l.x,y:"0",width:l.width,height:this.props.height-2}),r.createElement("rect",{key:"edge",className:m()(s.ViewingLayerDrag),x:l.leadingX,y:"0",width:"1",height:this.props.height-2})]}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.viewRange,o=e.numTicks,a=e.theme,i=this.state.preventCursorLine,c=n.time,s=c.current,l=c.cursor,u=c.shiftStart,f=c.shiftEnd,p=c.reframe,d=null!=u||null!=f||null!=p,h=X(s,2),b=h[0],g=h[1],v=0;b&&(v=100*b);var y,O=100;g&&(O=100-100*g),d||null==l||i||(y="".concat(100*l,"%"));var w=ce(a);return r.createElement("div",{"aria-hidden":!0,className:w.ViewingLayer,style:{height:t}},(0!==b||1!==g)&&r.createElement(W.UIButton,{onClick:this._resetTimeZoomClickHandler,className:m()(w.ViewingLayerResetZoom,w.ViewingLayerResetZoomHoverClassName),htmlType:"button"},"Reset Selection"),r.createElement("svg",{height:t,className:w.ViewingLayerGraph,ref:this._setRoot,onMouseDown:this._draggerReframe.handleMouseDown,onMouseLeave:this._draggerReframe.handleMouseLeave,onMouseMove:this._draggerReframe.handleMouseMove},v>0&&r.createElement("rect",{x:0,y:0,height:"100%",width:"".concat(v,"%"),className:w.ViewingLayerInactive}),O>0&&r.createElement("rect",{x:"".concat(100-O,"%"),y:0,height:"100%",width:"".concat(O,"%"),className:w.ViewingLayerInactive}),r.createElement(N,{numTicks:o}),y&&r.createElement("line",{className:w.ViewingLayerCursorGuide,x1:y,y1:"0",x2:y,y2:t-2,strokeWidth:"1"}),null!=u&&this._getMarkers(b,u),null!=f&&this._getMarkers(g,f),r.createElement(q,{isDragging:null!=u,onMouseDown:this._draggerStart.handleMouseDown,onMouseEnter:this._draggerStart.handleMouseEnter,onMouseLeave:this._draggerStart.handleMouseLeave,position:b||0}),r.createElement(q,{isDragging:null!=f,position:g||1,onMouseDown:this._draggerEnd.handleMouseDown,onMouseEnter:this._draggerEnd.handleMouseEnter,onMouseLeave:this._draggerEnd.handleMouseLeave}),null!=p&&this._getMarkers(p.anchor,p.shift)),d&&r.createElement("div",{className:w.ViewingLayerFullOverlay}))}}])&&Q(n.prototype,o),a&&Q(n,a),t}(r.PureComponent),pe=Object(g.h)(fe),de=n("xIog");function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){return{valueOffset:e.relativeStartTime,valueWidth:e.duration,serviceName:e.process.serviceName}}var Oe=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=be(this,ge(t).call(this,e));var r=e.trace;return n.state={items:r?r.spans.map(ye):[]},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,e),n=t,(o=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.trace;this.props.trace!==t&&this.setState({items:t?t.spans.map(ye):[]})}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.trace,o=e.viewRange,a=e.updateNextViewRangeTime,i=e.updateViewRangeTime;if(!n)return r.createElement("div",null);var c=this.state.items;return r.createElement("div",{className:m()(de.m,de.n)},r.createElement(_,{numTicks:4,duration:n.duration}),r.createElement("div",{className:de.o},r.createElement(T,{valueWidth:n.duration,items:c}),r.createElement(pe,{viewRange:o,numTicks:4,height:t||60,updateViewRangeTime:i,updateNextViewRangeTime:a})))}}])&&me(n.prototype,o),a&&me(n,a),t}(r.PureComponent);Oe.defaultProps={height:60};var we=n("yD29"),je=n.n(we),Ee=n("PK6U");function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=function(e){function t(){var e,n;Te(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Ce(this,(e=Ie(t)).call.apply(e,[this].concat(o)))).clearUiFind=function(){n.props.onChange("")},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.allowClear,o=t.inputProps,a=t.value,i=r.createElement(r.Fragment,null,n&&a&&a.length&&r.createElement(Ee.d,{type:"close",onClick:this.clearUiFind}),o.suffix);return r.createElement(Ee.e,Se({autosize:null,placeholder:"Find..."},o,{onChange:function(t){return e.props.onChange(t.target.value)},suffix:i,value:a}))}}])&&ke(n.prototype,o),a&&ke(n,a),t}(r.PureComponent);function _e(){var e=Ae(["\n      label: TracePageSearchBarLocateBtn;\n      padding: 1px 8px 4px;\n    "]);return _e=function(){return e},e}function Re(){var e=Ae(["\n      label: TracePageSearchBarBtnDisabled;\n      opacity: 0.5;\n    "]);return Re=function(){return e},e}function Le(){var e=Ae(["\n      label: TracePageSearchBarBtn;\n      border-left: none;\n      transition: 0.2s;\n    "]);return Le=function(){return e},e}function Ne(){var e=Ae(["\n      label: TracePageSearchBarCount;\n      opacity: 0.6;\n    "]);return Ne=function(){return e},e}function Me(){var e=Ae(["\n      label: TracePageSearchBarBar;\n      max-width: 20rem;\n      transition: max-width 0.5s;\n      &:focus-within {\n        max-width: 100%;\n      }\n    "]);return Me=function(){return e},e}function ze(){var e=Ae(["\n      label: TracePageSearchBar;\n    "]);return ze=function(){return e},e}function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}De.defaultProps={inputProps:{},trackFindFunction:void 0,value:void 0};var Be=Object(g.d)((function(){return{TracePageSearchBar:Object(d.css)(ze()),TracePageSearchBarBar:Object(d.css)(Me()),TracePageSearchBarCount:Object(d.css)(Ne()),TracePageSearchBarBtn:Object(d.css)(Le()),TracePageSearchBarBtnDisabled:Object(d.css)(Re()),TracePageSearchBarLocateBtn:Object(d.css)(_e())}})),He=Object(r.memo)((function(e){var t,n,o,a=e.clearSearch,i=e.focusUiFindMatches,c=e.navigable,s=e.nextResult,l=e.prevResult,u=e.resultCount,f=e.textFilter,p=e.onSearchValueChange,d=e.searchValue,h=e.hideSearchButtons,b=Be(),g=f?r.createElement("span",{className:b.TracePageSearchBarCount},u):null,v=m()(b.TracePageSearchBarBtn,(t={},n=b.TracePageSearchBarBtnDisabled,o=!f,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),y={"data-test":"in-trace-search",className:m()(b.TracePageSearchBarBar,de.f),name:"search",suffix:g};return r.createElement("div",{className:b.TracePageSearchBar},r.createElement(Ee.f,{className:de.i,compact:!0,style:{display:"flex"}},r.createElement(De,{onChange:p,value:d,inputProps:y}),!h&&r.createElement(r.Fragment,null,c&&r.createElement(r.Fragment,null,r.createElement(Ee.a,{className:m()(v,b.TracePageSearchBarLocateBtn),disabled:!f,htmlType:"button",onClick:i},r.createElement(je.a,null)),r.createElement(Ee.a,{className:v,disabled:!f,htmlType:"button",icon:"up",onClick:l}),r.createElement(Ee.a,{className:v,disabled:!f,htmlType:"button",icon:"down",onClick:s})),r.createElement(Ee.a,{className:v,disabled:!f,htmlType:"button",icon:"close",onClick:a}))))})),Fe=n("HamY");function Ve(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      label: BreakableText;\n      display: inline-block;\n      white-space: pre;\n    "]);return Ve=function(){return e},e}var qe=Object(g.d)((function(){return{BreakableText:Object(d.css)(Ve())}})),We=/\W*\w+\W*/g;function Ge(e){var t=e.className,n=e.text,o=e.wordRegexp,a=void 0===o?We:o;if(!n)return"string"==typeof n?n:null;var i=[];a.exec("");for(var c=a.exec(n)||[n];c;)i.push(r.createElement("span",{key:"".concat(n,"-").concat(i.length),className:t||qe().BreakableText},c[0])),c=a.exec(n);return i}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ke(){var e=$e(["\n      label: LoadingIndicatorSmall;\n      font-size: 0.7em;\n    "]);return Ke=function(){return e},e}function Ye(){var e=$e(["\n      label: LoadingIndicatorCentered;\n      display: block;\n      margin-left: auto;\n      margin-right: auto;\n    "]);return Ye=function(){return e},e}function Xe(){var e=$e(["\n      label: LoadingIndicator;\n      animation: "," 1s infinite alternate;\n      font-size: 36px;\n      /* outline / stroke the loading indicator */\n      text-shadow: -0.5px 0 rgba(0, 128, 128, 0.6), 0 0.5px rgba(0, 128, 128, 0.6), 0.5px 0 rgba(0, 128, 128, 0.6),\n        0 -0.5px rgba(0, 128, 128, 0.6);\n    "]);return Xe=function(){return e},e}function Je(){var e=$e(["\n    /*\n    rgb(0, 128, 128) == teal\n    rgba(0, 128, 128, 0.3) == #bedfdf\n    */\n    from {\n      color: #bedfdf;\n    }\n    to {\n      color: teal;\n    }\n  "]);return Je=function(){return e},e}function $e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Ge.defaultProps={wordRegexp:We};var et=Object(g.d)((function(){var e=Object(d.keyframes)(Je());return{LoadingIndicator:Object(d.css)(Xe(),e),LoadingIndicatorCentered:Object(d.css)(Ye()),LoadingIndicatorSmall:Object(d.css)(Ke())}}));function tt(e){var t,n=e.centered,r=e.className,a=e.small,i=Ze(e,["centered","className","small"]),c=et(),s=m()(c.LoadingIndicator,(Qe(t={},c.LoadingIndicatorCentered,n),Qe(t,c.LoadingIndicatorSmall,a),Qe(t,"className",r),t));return o.a.createElement(Ee.d,Ue({type:"loading",className:s},i))}tt.defaultProps={centered:!1,className:void 0,small:!1};var nt=n("w2pd");function rt(){var e=at(["\n      label: TraceNameError;\n      color: #c00;\n    "]);return rt=function(){return e},e}function ot(){var e=at(["\n      label: TraceName;\n      font-size: ",";\n    "]);return ot=function(){return e},e}function at(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var it=Object(g.d)((function(e){var t,n;return{TraceName:Object(d.css)(ot(),Object(g.f)(null===(t=e.components)||void 0===t||null===(n=t.TraceName)||void 0===n?void 0:n.fontSize,"unset")),TraceNameError:Object(d.css)(rt())}}));function ct(e){var t=e.className,n=e.error,o=e.state,a=e.traceName,i=o===nt.c.ERROR,c=a||nt.b,s=it(Object(g.g)()),l="";if(i){l=s.TraceNameError;var u="";n&&(u="string"==typeof n?n:n.message||String(n)),u||(u="Error: Unknown error"),c=u,c=r.createElement(Ge,{text:u})}else if(o===nt.c.LOADING)c=r.createElement(tt,{small:!0});else{var f=String(a||nt.b);c=r.createElement(Ge,{text:f})}return r.createElement("span",{className:m()(s.TraceName,l,t)},c)}var st=n("7tbW"),lt=n.n(st),ut=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function ft(e,t){return 1===e?function(e){var t;return{get:function(n){if(t&&e(n,t.key))return t.value},put:function(e,n){t={key:e,value:n}}}}(t):function(e,t){var n=[];function r(e){var r=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(n,(function(n){return t(e,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}}return{get:r,put:function(t,o){r(t)||(n.unshift({key:t,value:o}),n.length>e&&n.pop())}}}(e,t)}function pt(e,t){var n=t?function(e,t){return function n(r,o){if(e(r,o))return!0;if(Array.isArray(r))return!(!Array.isArray(o)||r.length!==o.length)&&!!r.every((function(e,t){return n(e,o[t])}));if(Array.isArray(o))return!1;if("object"==typeof r){if("object"!=typeof o)return!1;var a=null===r,i=null===o;if(a||i)return a===i;var c=Object.keys(r),s=Object.keys(o);if(c.length!==s.length)return!1;var l=t?n:e;return!!c.every((function(e){return ut(r,e)&&ut(o,e)&&l(r[e],o[e])}))}return!1}}(e,t):e;return function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!n(e[r],t[r]))return!1;return!0}}var dt=function(){for(var e=1,t=function(e,t){return e===t},n=!1,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];"number"==typeof o[0]&&(e=o.shift()),"function"==typeof o[0]?t=o.shift():void 0===o[0]&&o.shift(),"boolean"==typeof o[0]&&(n=o[0]);var i=ft(e,pt(t,n));return function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=i.get(n);return void 0===o&&(o=e.apply(e,n),i.put(n,o)),o}}},ht=n("AjF4");function mt(e){var t=e.references?e.references.find((function(e){return"CHILD_OF"===e.refType})):null;return t?t.span:null}var bt=/#\{([^{}]*)\}/g;function gt(e,t,n){return e.replace(bt,(function(e,r){var o=n[r];return null==o?"":t(o)}))}function vt(e,t){if("string"!=typeof e)throw new Error("Invalid template");return{parameters:(n=e,r=new Set,n.replace(bt,(function(e,t){return r.add(t),e})),Array.from(r)),template:gt.bind(null,e,t)};var n,r}function yt(e){if("string"==typeof e)return function(t){return t===e};if(Array.isArray(e))return function(t){return e.indexOf(t)>-1};if(null==e)return function(){return!0};throw new Error("Invalid value: ".concat(e))}var Ot=function(e){return e};function wt(e,t){if(t)return t.find((function(t){return t.key===e}))}function jt(e,t){return e.template(t)}function Et(e,t,n,r){var o=n[r],a="logs",i=t.process.tags===n;i&&(a="process"),t.tags===n&&(a="tags");var c=[];return e.forEach((function(e){if(e.type(a)&&e.key(o.key)&&e.value(o.value)){var r={};e.parameters.every((function(c){var s=wt(c,n);return s||i||(s=function(e,t){for(var n=t;n;){var r=wt(e,n.tags)||wt(e,n.process.tags);if(r)return r;n=mt(n)}}(c,t)),s?(r[c]=s.value,!0):(console.warn("Skipping link pattern, missing parameter ".concat(c," for key ").concat(o.key," in ").concat(a,"."),e.object),!1)}))&&c.push({url:jt(e.url,r),text:jt(e.text,r)})}})),c}var xt,St,Tt=(Object(ht.a)("linkPatterns")||[]).map((function(e){try{var t=vt(e.url,encodeURIComponent),n=vt(e.text,Ot);return{object:e,type:yt(e.type),key:yt(e.key),value:yt(e.value),url:t,text:n,parameters:lt()(t.parameters.concat(n.parameters))}}catch(t){return console.error("Ignoring invalid link pattern: ".concat(t),e),null}})).filter(Boolean),kt=dt(10)((function(e){return e?function(e,t){var n=[],r=Object.keys(t).filter((function(e){return"string"==typeof t[e]||"number"===t[e]}));return e.filter((function(e){return e.type("traces")})).forEach((function(e){var o={};e.parameters.every((function(e){var n=e;return!!r.includes(n)&&(o[e]=t[n],!0)}))&&n.push({url:jt(e.url,o),text:jt(e.text,o)})})),n}(Tt,e):[]})),Ct=(xt=Tt,St=new WeakMap,n("582L")),It=function(e){return r.createElement("a",{href:e.href,title:e.title,target:"_blank",rel:"noopener noreferrer",className:e.className},e.children," ",r.createElement(Ct.a,null))},Pt=function(e){return r.createElement(W.UIMenu,null,e.map((function(e,t){var n=e.text,o=e.url;return r.createElement(W.UIMenuItem,{key:"".concat(o,"-").concat(t)},r.createElement(It,{href:o},n))})))};function Dt(e){var t=e.links;return 1===t.length?r.createElement(It,{href:t[0].url,title:t[0].text,className:e.className}):r.createElement(W.UIDropdown,{overlay:Pt(t),placement:"bottomRight",trigger:["click"]},r.createElement("a",{className:e.className},r.createElement(Ct.a,{isLarge:!0})))}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Nt(){var e=Zt(["\n      label: TracePageHeaderTraceId;\n      white-space: nowrap;\n    "]);return Nt=function(){return e},e}function Mt(){var e=Zt(["\n      label: TracePageHeaderArchiveIcon;\n      font-size: 1.78em;\n      margin-right: 0.15em;\n    "]);return Mt=function(){return e},e}function zt(){var e=Zt(["\n      label: TracePageHeaderOverviewItemValue;\n      &:hover > ."," {\n        color: unset;\n      }\n    "]);return zt=function(){return e},e}function At(){var e=Zt(["\n      label: TracePageHeaderOverviewItems;\n      border-bottom: 1px solid #e4e4e4;\n      padding: 0.25rem 0.5rem !important;\n    "]);return At=function(){return e},e}function Bt(){var e=Zt(["\n      label: TracePageHeaderTitleCollapsible;\n      margin-left: 0;\n    "]);return Bt=function(){return e},e}function Ht(){var e=Zt(["\n      label: TracePageHeaderTitle;\n      color: inherit;\n      flex: 1;\n      font-size: 1.7em;\n      line-height: 1em;\n      margin: 0 0 0 0.5em;\n      padding: 0.5em 0;\n    "]);return Ht=function(){return e},e}function Ft(){var e=Zt(["\n      label: TracePageHeaderDetailToggleExpanded;\n      transform: rotate(90deg);\n    "]);return Ft=function(){return e},e}function Vt(){var e=Zt(["\n      label: TracePageHeaderDetailToggle;\n      font-size: 2.5rem;\n      transition: transform 0.07s ease-out;\n    "]);return Vt=function(){return e},e}function qt(){var e=Zt(["\n      label: TracePageHeaderTitleLink;\n      align-items: center;\n      display: flex;\n      flex: 1;\n\n      &:hover * {\n        text-decoration: underline;\n      }\n      &:hover > *,\n      &:hover small {\n        text-decoration: none;\n      }\n    "]);return qt=function(){return e},e}function Wt(){var e=Zt(["\n      label: TracePageHeaderBack;\n      align-items: center;\n      align-self: stretch;\n      background-color: #fafafa;\n      border-bottom: 1px solid #ddd;\n      border-right: 1px solid #ddd;\n      color: inherit;\n      display: flex;\n      font-size: 1.4rem;\n      padding: 0 1rem;\n      margin-bottom: -1px;\n      &:hover {\n        background-color: #f0f0f0;\n        border-color: #ccc;\n      }\n    "]);return Wt=function(){return e},e}function Gt(){var e=Zt(["\n      label: TracePageHeaderTitleRow;\n      align-items: center;\n      display: flex;\n    "]);return Gt=function(){return e},e}function Ut(){var e=Zt(["\n      label: TracePageHeader;\n      & > :first-child {\n        border-bottom: 1px solid ",";\n      }\n      & > :nth-child(2) {\n        background-color: ",";\n        border-bottom: 1px solid ",";\n      }\n      & > :last-child {\n        border-bottom: 1px solid ",";\n      }\n    "]);return Ut=function(){return e},e}function Qt(){var e=Zt(["\n    label: TracePageHeaderOverviewItemValueDetail;\n    color: #aaa;\n  "]);return Qt=function(){return e},e}function Zt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Kt=Object(g.d)((function(e){var t=Object(d.css)(Qt());return{TracePageHeader:Object(d.css)(Ut(),Object(W.autoColor)(e,"#e8e8e8"),Object(W.autoColor)(e,"#eee"),Object(W.autoColor)(e,"#e4e4e4"),Object(W.autoColor)(e,"#ccc")),TracePageHeaderTitleRow:Object(d.css)(Gt()),TracePageHeaderBack:Object(d.css)(Wt()),TracePageHeaderTitleLink:Object(d.css)(qt()),TracePageHeaderDetailToggle:Object(d.css)(Vt()),TracePageHeaderDetailToggleExpanded:Object(d.css)(Ft()),TracePageHeaderTitle:Object(d.css)(Ht()),TracePageHeaderTitleCollapsible:Object(d.css)(Bt()),TracePageHeaderOverviewItems:Object(d.css)(At()),TracePageHeaderOverviewItemValueDetail:t,TracePageHeaderOverviewItemValue:Object(d.css)(zt(),t),TracePageHeaderArchiveIcon:Object(d.css)(Mt()),TracePageHeaderTraceId:Object(d.css)(Nt())}})),Yt=[{key:"timestamp",label:"Trace Start",renderer:function(e,t){var n=Object(k.b)(e.startTime),o=n.match(/^(.+)(:\d\d\.\d+)$/);return o?r.createElement("span",{className:null==t?void 0:t.TracePageHeaderOverviewItemValue},o[1],r.createElement("span",{className:null==t?void 0:t.TracePageHeaderOverviewItemValueDetail},o[2])):n}},{key:"duration",label:"Duration",renderer:function(e){return Object(k.c)(e.duration)}},{key:"service-count",label:"Services",renderer:function(e){return new Set(u()(e.processes).map((function(e){return e.serviceName}))).size}},{key:"depth",label:"Depth",renderer:function(e){return i()(s()(e.spans,"depth"),"depth",0)+1}},{key:"span-count",label:"Total Spans",renderer:function(e){return e.spans.length}}];function Xt(e){var t=e.canCollapse,n=e.clearSearch,o=e.focusUiFindMatches,a=e.hideMap,i=e.hideSummary,c=e.nextResult,s=e.onSlimViewClicked,l=e.prevResult,u=e.resultCount,f=e.slimView,d=e.textFilter,h=e.trace,b=e.traceGraphView,g=e.updateNextViewRangeTime,v=e.updateViewRangeTime,y=e.viewRange,O=e.searchValue,w=e.onSearchValueChange,j=e.hideSearchButtons,E=Kt(Object(W.useTheme)()),x=Object(r.useMemo)((function(){return h?kt(h):[]}),[h]);if(!h)return null;var S,T,k=!i&&!f&&Yt.map((function(e){var t=e.renderer;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Lt(e,["renderer"]),{value:t(h,E)})})),C=r.createElement("h1",{className:m()(E.TracePageHeaderTitle,t&&E.TracePageHeaderTitleCollapsible)},r.createElement(ct,{traceName:(S=h.spans,T=S.filter((function(e){return!e.references||!e.references.length}))[0],T?"".concat(T.process.serviceName,": ").concat(T.operationName):"")})," ",r.createElement("small",{className:m()(E.TracePageHeaderTraceId,de.c)},h.traceID));return r.createElement("header",{className:E.TracePageHeader},r.createElement("div",{className:E.TracePageHeaderTitleRow},x&&x.length>0&&r.createElement(Dt,{links:x,className:E.TracePageHeaderBack}),t?r.createElement("a",{className:E.TracePageHeaderTitleLink,onClick:s,role:"switch","aria-checked":!f},r.createElement(p.a,{className:m()(E.TracePageHeaderDetailToggle,!f&&E.TracePageHeaderDetailToggleExpanded)}),C):C,r.createElement(He,{clearSearch:n,focusUiFindMatches:o,nextResult:c,prevResult:l,resultCount:u,textFilter:d,navigable:!b,searchValue:O,onSearchValueChange:w,hideSearchButtons:j})),k&&r.createElement(Fe.a,{className:E.TracePageHeaderOverviewItems,items:k}),!a&&!f&&r.createElement(Oe,{trace:h,viewRange:y,updateNextViewRangeTime:g,updateViewRangeTime:v}))}n.d(t,"a",(function(){return Xt}))},ia7v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m12.5 9l1.6-1.5 13.4 12.5-13.4 12.5-1.6-1.5 11.7-11z"})))},e.exports=t.default},id2x:function(e,t,n){"use strict";e.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",173:"minus",187:"plus",189:"minus",224:"meta"};for(var r=1;r<20;++r)e.exports[111+r]="f"+r;for(r=0;r<=9;++r)e.exports[r+96]=r},"ir/c":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),o=n.n(r),a=n("kDDq"),i=n("kDLi");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      margin-top: ",";\n    "]);return s=function(){return e},e}var l=Object(i.stylesFactory)((function(e){return{containerMargin:Object(a.css)(s(),e.spacing.md)}}));function u(e){var t=Object(i.useTheme)(),n=l(t);return o.a.createElement("div",{className:n.containerMargin},o.a.createElement(i.HorizontalGroup,null,!e.addQueryRowButtonHidden&&o.a.createElement(i.Button,{variant:"secondary","aria-label":"Add row button",onClick:e.onClickAddQueryRowButton,disabled:e.addQueryRowButtonDisabled,icon:"plus"},"Add query"),o.a.createElement(i.Button,{variant:"secondary","aria-label":"Rich history button",className:Object(a.cx)(c({},"explore-active-button",e.richHistoryButtonActive)),onClick:e.onClickRichHistoryButton,icon:"history"},"Query history"),o.a.createElement(i.Button,{variant:"secondary","aria-label":"Query inspector button",className:Object(a.cx)(c({},"explore-active-button",e.queryInspectorButtonActive)),onClick:e.onClickQueryInspectorButton,icon:"info-circle"},"Query inspector")))}},jl5L:function(e,t,n){var r=n("Kz5y"),o=n("Sxd8"),a=n("tLB3"),i=n("dt0z"),c=r.isFinite,s=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=a(e),(n=null==n?0:s(o(n),292))&&c(e)){var r=(i(e)+"e").split("e"),l=t(r[0]+"e"+(+r[1]+n));return+((r=(i(l)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},"kX/o":function(e,t,n){"use strict";e.exports=function(e,t,r,o){var a=this;function i(t){return function(){a.nextExpectedAction=t,++a.sequenceLevels[e],a.resetSequenceTimer()}}function c(t){var i;a.fireCallback(r,t,e),"keyup"!==o&&(i=n("Bcrw"),a.ignoreNextKeyup=i(t)),setTimeout((function(){a.resetSequences()}),10)}a.sequenceLevels[e]=0;for(var s=0;s<t.length;++s){var l=s+1===t.length?c:i(o||a.getKeyInfo(t[s+1]).action);a.bindSingle(t[s],l,o,e,s)}}},kYjj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n.n(r),a=n("kDLi");function i(e){var t=e.canToggleEditorModes,n=e.onClickToggleEditorMode,r=e.onClickToggleDisabled,i=e.onClickRemoveButton,c=e.isDisabled,s=e.isNotStarted,l=e.latency;return o.a.createElement("div",{className:"gf-form-inline flex-shrink-0"},t&&o.a.createElement("div",{className:"gf-form"},o.a.createElement("button",{"aria-label":"Edit mode button",className:"gf-form-label gf-form-label--btn",onClick:n},o.a.createElement(a.Icon,{name:"pen"}))),o.a.createElement("div",{className:"gf-form"},o.a.createElement("button",{disabled:!0,className:"gf-form-label",title:"Query row latency"},"".concat((l/1e3).toFixed(1),"s"))),o.a.createElement("div",{className:"gf-form"},o.a.createElement("button",{disabled:s,className:"gf-form-label gf-form-label--btn",onClick:r,title:c?"Enable query":"Disable query"},o.a.createElement(a.Icon,{name:c?"eye-slash":"eye"}))),o.a.createElement("div",{className:"gf-form"},o.a.createElement("button",{className:"gf-form-label gf-form-label--btn",onClick:i,title:"Remove query"},o.a.createElement(a.Icon,{name:"minus"}))))}},"kd/b":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("Obii"),i=n("TSYQ"),c=n.n(i),s=n("kDLi");function l(e){var t,n,r,a=e.onClick,i=e.isSynced;return o.a.createElement(s.Tooltip,{content:function(){var t=e.isSynced?"Unsync all views":"Sync all views to this time range";return o.a.createElement(o.a.Fragment,null,t)},placement:"bottom"},o.a.createElement("button",{className:c()("btn navbar-button navbar-button--attached",(t={},n="explore-active-button",r=i,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),"aria-label":i?"Synced times":"Unsynced times",onClick:function(){return a()}},o.a.createElement(s.Icon,{name:"link",className:i?"icon-brand-gradient":"",size:"lg"})))}var u=n("3Tvq"),f=n("LCjV");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return y}));var y=function(e){function t(){var e,n;h(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=b(this,(e=g(t)).call.apply(e,[this].concat(o)))).onMoveTimePicker=function(e){var t=n.props,r=t.range,o=t.onChangeTime,i=t.timeZone,c=Object(f.a)(e,r),s=c.from,l=c.to;o({from:Object(a.dateTimeForTimeZone)(i,s),to:Object(a.dateTimeForTimeZone)(i,l)})},n.onMoveForward=function(){return n.onMoveTimePicker(1)},n.onMoveBack=function(){return n.onMoveTimePicker(-1)},n.onChangeTimePicker=function(e){n.props.onChangeTime(e.raw)},n.onZoom=function(){var e=n.props,t=e.range,r=e.onChangeTime,o=e.timeZone,i=Object(f.b)(t,2),c=i.from,s=i.to;r({from:Object(a.dateTimeForTimeZone)(o,c),to:Object(a.dateTimeForTimeZone)(o,s)})},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.range,n=e.timeZone,r=e.splitted,a=e.syncedTimes,i=e.onChangeTimeSync,c=e.hideText,s=e.onChangeTimeZone,f=r?o.a.createElement(l,{onClick:i,isSynced:a}):void 0,p={value:t,timeZone:n,onMoveBackward:this.onMoveBack,onMoveForward:this.onMoveForward,onZoom:this.onZoom,hideText:c};return o.a.createElement(u.a,d({},p,{timeSyncButton:f,isSynced:a,onChange:this.onChangeTimePicker,onChangeTimeZone:s}))}}])&&m(n.prototype,r),i&&m(n,i),t}(r.Component)},khqB:function(e,t,n){"use strict";e.exports=function(e,t){return e.sort().join(",")===t.sort().join(",")}},kxiF:function(e,t,n){"use strict";var r=n("f0Wu"),o=n.n(r),a=n("tpxX"),i=n.n(a);n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return d}));var c=1e6,s=Math.log10(1e3);var l=function(e,t,n){return r=e/n,((o=t+(Math.floor(Math.log10(Math.abs(r)))+1))<=0?Math.trunc(r):Number(r.toPrecision(o)))*n;var r,o};function u(e){return o()(e/1e3).format("MMMM D YYYY, HH:mm:ss.SSS")}function f(e){var t=l(e,s,1e3);return"".concat(o.a.duration(t/1e3).asMilliseconds(),"ms")}function p(e){var t=l(e,s,c);return"".concat(o.a.duration(t/1e3).asSeconds(),"s")}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"microseconds",n=e;"microseconds"===t&&(n=e/1e3);var r="ms";return n>=1e3&&(r="s",n/=1e3),i()(n,2)+r}},l9OW:function(e,t,n){var r=n("SKAX"),o=n("MMmD");e.exports=function(e,t){var n=-1,a=o(e)?Array(e.length):[];return r(e,(function(e,r,o){a[++n]=t(e,r,o)})),a}},lI8u:function(e,t,n){"use strict";e.exports=function(e){var t;"number"!=typeof e.which&&(e.which=e.keyCode);var r=n("Bcrw")(e);void 0!==r&&("keyup"!==e.type||this.ignoreNextKeyup!==r?(t=n("EomD"),this.handleKey(r,t(e),e)):this.ignoreNextKeyup=!1)}},lMcC:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("q1tI"),o=n.n(r),a=n("Wwog"),i=n("kDDq"),c=n("pQ8y");function s(){var e=p(["\n      label: logsExitActive;\n      opacity: 0;\n      transition: opacity ","ms ease-out ","ms;\n    "]);return s=function(){return e},e}function l(){var e=p(["\n      label: logsExit;\n      position: absolute;\n      opacity: 1;\n      height: auto;\n      width: 100%;\n    "]);return l=function(){return e},e}function u(){var e=p(["\n      label: logsEnterActive;\n      opacity: 1;\n      transition: opacity ","ms ease-out ","ms;\n    "]);return u=function(){return e},e}function f(){var e=p(["\n      label: logsEnter;\n      position: absolute;\n      opacity: 0;\n      height: auto;\n      width: 100%;\n    "]);return f=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=Object(a.a)((function(){return{logsEnter:Object(i.css)(f()),logsEnterActive:Object(i.css)(u(),500,100),logsExit:Object(i.css)(l()),logsExitActive:Object(i.css)(s(),500,100)}}));function h(e){var t=e.visible,n=e.children,r=d();return o.a.createElement(c.a,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:600,classNames:{enter:r.logsEnter,enterActive:r.logsEnterActive,exit:r.logsExit,exitActive:r.logsExitActive}},n)}},lz6F:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),o=n.n(r),a=n("kDLi"),i=n("sQ2H"),c=n("/MKj"),s=n("Xc1M");var l={splitOpen:i.f},u=Object(c.connect)((function(e,t){var n=t.exploreId;return{range:e.explore[n].range}}),l)((function(e){var t=e.dataFrames,n=e.range,r=e.splitOpen,i=e.short,c=Object(s.b)(n,r);return o.a.createElement("div",{style:{height:i?300:600}},o.a.createElement(a.Collapse,{label:o.a.createElement("span",null,"Node graph ",o.a.createElement(a.Badge,{text:"Beta",color:"blue",icon:"rocket",tooltip:"This visualization is in beta"})),isOpen:!0},o.a.createElement(a.NodeGraph,{dataFrames:t,getLinks:c})))}))},mvwf:function(e,t){},nmUH:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("q1tI"),o=n.n(r),a=n("kDLi"),i=n("Csm0"),c=n("Wwog"),s=n("kDDq"),l=n("TSYQ"),u=n.n(l),f=n("Gyt8"),p=n("NPB1");function d(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      label: selectButtonOverride;\n      .select-button-value {\n        color: white !important;\n      }\n    "]);return d=function(){return e},e}var h=Object(c.a)((function(){return{selectButtonOverride:Object(s.css)(d())}}));function m(e){var t=e.splitted,n=e.loading,r=e.onRun,c=e.onChangeRefreshInterval,s=e.refreshInterval,l=e.showDropdown,d=e.isLive,m=h(),b=Object(p.a)().getValidIntervals(a.defaultIntervals),g=o.a.createElement(f.a,{splitted:t,title:n&&!d?"Cancel":"Run Query",onClick:function(){return r(n)},buttonClassName:u()({"navbar-button--primary":d||!n,"navbar-button--danger":n&&!d,"btn--radius-right-0":l}),icon:n?"fa fa-spinner":"sync",iconClassName:n?" fa-spin":void 0,"aria-label":i.selectors.pages.Explore.General.runButton});return l?o.a.createElement(a.RefreshPicker,{onIntervalChanged:c,value:s,buttonSelectClassName:"".concat(n?"navbar-button--danger":"navbar-button--primary"," ").concat(m.selectButtonOverride),refreshButton:g,intervals:b}):g}},pHRz:function(e,t,n){"use strict";e.exports={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}},pKQe:function(e,t,n){"use strict";e.exports={106:"*",107:"plus",109:"minus",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},pdZY:function(e,t,n){"use strict";e.exports=function(e,t){var r,o,a,i,c,s,l=[];for(r=n("fBm0")(e),i=n("1aZc"),c=n("pHRz"),s=n("IfRf"),a=0;a<r.length;++a)i[o=r[a]]&&(o=i[o]),t&&"keypress"!==t&&c[o]&&(o=c[o],l.push("shift")),s(o)&&l.push(o);return{key:o,modifiers:l,action:t=this.pickBestAction(o,l,t)}}},q0ht:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("kDDq"),o=n("ZFWI"),a=n("kDLi");function i(){var e=w(["\n      display: flex;\n      > * {\n        margin-right: ",";\n      }\n    "]);return i=function(){return e},e}function c(){var e=w(["\n      flex-grow: 1;\n      min-width: 300px;\n      margin-right: ",";\n    "]);return c=function(){return e},e}function s(){var e=w(["\n      padding-top: ",";\n    "]);return s=function(){return e},e}function l(){var e=w(["\n      display: flex;\n      flex-grow: 1;\n\n      max-width: 85%;\n      @media (max-width: 1345px) {\n        max-width: 75%;\n      }\n    "]);return l=function(){return e},e}function u(){var e=w(["\n      display: flex;\n    "]);return u=function(){return e},e}function f(){var e=w(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n    "]);return f=function(){return e},e}function p(){var e=w(["\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    "]);return p=function(){return e},e}function d(){var e=w(["\n      flex-grow: 2;\n    "]);return d=function(){return e},e}function h(){var e=w(["\n      overflow: scroll;\n    "]);return h=function(){return e},e}function m(){var e=w(["\n      font-family: monospace;\n      height: 100%;\n      flex-grow: 1;\n    "]);return m=function(){return e},e}function b(){var e=w(["\n      flex-grow: 1;\n      padding: "," 0;\n    "]);return b=function(){return e},e}function g(){var e=w(["\n      flex-grow: 1;\n      padding-bottom: 16px;\n    "]);return g=function(){return e},e}function v(){var e=w(["\n      margin-left: ",";\n    "]);return v=function(){return e},e}function y(){var e=w(["\n      display: flex;\n      width: 100%;\n      flex-grow: 0;\n      align-items: center;\n      justify-content: flex-end;\n      margin-bottom: ",";\n    "]);return y=function(){return e},e}function O(){var e=w(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n      flex: 1 1 0;\n    "]);return O=function(){return e},e}function w(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=Object(a.stylesFactory)((function(){return{wrap:Object(r.css)(O()),toolbar:Object(r.css)(y(),o.a.theme.spacing.sm),toolbarItem:Object(r.css)(v(),o.a.theme.spacing.md),content:Object(r.css)(g()),contentQueryInspector:Object(r.css)(b(),o.a.theme.spacing.md),editor:Object(r.css)(m()),viewer:Object(r.css)(h()),dataFrameSelect:Object(r.css)(d()),tabContent:Object(r.css)(p()),dataTabContent:Object(r.css)(f()),actionsWrapper:Object(r.css)(u()),leftActions:Object(r.css)(l()),options:Object(r.css)(s(),o.a.theme.spacing.sm),dataDisplayOptions:Object(r.css)(c(),o.a.theme.spacing.sm),selects:Object(r.css)(i(),o.a.theme.spacing.sm)}}))},"rhR/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m14.3 27.3l7.7-7.7-7.7-7.7 2.3-2.3 10 10-10 10z"})))},e.exports=t.default},rzV7:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var i=0;i<n.length;i++)if(!r.call(t,n[i])||!o(e[n[i]],t[n[i]]))return!1;return!0}},sQnn:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a),c=n("Zss7"),s=n.n(c),l=n("kDDq"),u=n("pQ8y"),f=n("kDLi"),p=n("Gyt8");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){var e=j(["\n      label: stopButtonExitActive;\n      opacity: 0;\n      width: 0;\n    "]);return h=function(){return e},e}function m(){var e=j(["\n      label: stopButtonExit;\n      width: 32px;\n      opacity: 1;\n      overflow: hidden;\n    "]);return m=function(){return e},e}function b(){var e=j(["\n      label: stopButtonEnterActive;\n      opacity: 1;\n      width: 32px;\n    "]);return b=function(){return e},e}function g(){var e=j(["\n      label: stopButtonEnter;\n      width: 0;\n      opacity: 0;\n      overflow: hidden;\n    "]);return g=function(){return e},e}function v(){var e=j(["\n      label: isPaused;\n      border-color: ",";\n      background: transparent;\n      animation: pulse 3s ease-out 0s infinite normal forwards;\n      &:focus {\n        background: transparent;\n        border-color: ",";\n      }\n      &:hover {\n        background-color: ",";\n      }\n      &:active,\n      &:hover {\n        border-color: ",";\n      }\n      @keyframes pulse {\n        0% {\n          color: ",";\n        }\n        50% {\n          color: ",";\n        }\n        100% {\n          color: ",";\n        }\n      }\n    "]);return v=function(){return e},e}function y(){var e=j(["\n      label: isLive;\n      border-color: ",";\n      color: ",";\n      background: transparent;\n      &:focus {\n        background: transparent;\n        border-color: ",";\n        color: ",";\n      }\n      &:hover {\n        background-color: ",";\n      }\n      &:active,\n      &:hover {\n        border-color: ",";\n        color: ",";\n      }\n    "]);return y=function(){return e},e}function O(){var e=j(["\n      label: liveButton;\n      margin: 0;\n    "]);return O=function(){return e},e}function w(){var e=j(["\n      label: noRightBorderStyle;\n      border-right: 0;\n    "]);return w=function(){return e},e}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E=Object(f.stylesFactory)((function(e){var t=Object(f.selectThemeVariant)({light:e.palette.gray5,dark:e.palette.dark1},e.type),n=s()(e.palette.orangeDark).lighten(10).toString(),r=s()(e.palette.orangeDark).desaturate(90).toString();return{noRightBorderStyle:Object(l.css)(w()),liveButton:Object(l.css)(O()),isLive:Object(l.css)(y(),e.palette.orangeDark,e.palette.orangeDark,e.palette.orangeDark,e.palette.orangeDark,t,n,n),isPaused:Object(l.css)(v(),e.palette.orangeDark,e.palette.orangeDark,t,n,r,e.palette.orangeDark,r),stopButtonEnter:Object(l.css)(g()),stopButtonEnterActive:Object(l.css)(b()),stopButtonExit:Object(l.css)(m()),stopButtonExitActive:Object(l.css)(h())}}));function x(e){var t,n=e.start,r=e.pause,a=e.resume,c=e.isLive,s=e.isPaused,l=e.stop,h=e.splitted,m=Object(f.useTheme)(),b=E(m),g=c?s?a:r:n;return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.Tooltip,{content:c?o.a.createElement(o.a.Fragment,null,"Pause the live stream"):o.a.createElement(o.a.Fragment,null,"Live stream your logs"),placement:"bottom"},o.a.createElement(p.a,{splitted:h,buttonClassName:i()("btn navbar-button",b.liveButton,(t={},d(t,"btn--radius-right-0 explore-active-button ".concat(b.noRightBorderStyle),c),d(t,b.isLive,c&&!s),d(t,b.isPaused,c&&s),t)),icon:c?"pause":"play",iconClassName:c?"icon-brand-gradient":void 0,onClick:g,title:" Live"})),o.a.createElement(u.a,{mountOnEnter:!0,unmountOnExit:!0,timeout:100,in:c,classNames:{enter:b.stopButtonEnter,enterActive:b.stopButtonEnterActive,exit:b.stopButtonExit,exitActive:b.stopButtonExitActive}},o.a.createElement("div",null,o.a.createElement(f.Tooltip,{content:o.a.createElement(o.a.Fragment,null,"Stop and exit the live stream"),placement:"bottom"},o.a.createElement("button",{className:"btn navbar-button navbar-button--attached explore-active-button ".concat(b.isLive),onClick:l},o.a.createElement(f.Icon,{className:"icon-brand-gradient",name:"square-shape",size:"lg",type:"mono"}))))))}},sguS:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),o=n.n(r),a=n("0cfB"),i=n("kDDq"),c=n("ANjH"),s=n("/MKj"),l=n("jYz7"),u=n("Wwog"),f=n("Csm0"),p=n("kDLi"),d=n("Obii"),h=n("SMGL"),m=n("ajrG"),b=n("cAtN"),g=n("zLRG"),v=n("JW4h"),y=n("Mmix"),O=n("sQ2H"),w=n("CJUB"),j=n("vExC"),E=n("VVW4"),x=n("m257"),S=n("bkob"),T=n("TUgz"),k=n("1LJY"),C=n("0H9l"),I=n("/8gG"),P=n("ir/c"),D=n("aWEf"),_=n("WnTU"),R=n("lz6F");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(){var e=V(["\n      label: queryContainer;\n      // Need to override normal css class and don't want to count on ordering of the classes in html.\n      height: auto !important;\n      flex: unset !important;\n      padding: ","px;\n    "]);return B=function(){return e},e}function H(){var e=V(["\n      label: button;\n      margin: 1em 4px 0 0;\n    "]);return H=function(){return e},e}function F(){var e=V(["\n      label: exploreMain;\n      // Is needed for some transition animations to work.\n      position: relative;\n      margin-top: 21px;\n    "]);return F=function(){return e},e}function V(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var q,W=Object(p.stylesFactory)((function(e){return{exploreMain:Object(i.css)(F()),button:Object(i.css)(H()),queryContainer:Object(i.css)(B(),e.panelPadding)}}));!function(e){e[e.RichHistory=0]="RichHistory",e[e.QueryInspector=1]="QueryInspector"}(q||(q={}));var G=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=M(this,z(t).call(this,e))).getRef=function(e){n.el=e},n.onChangeTime=function(e){var t=n.props;(0,t.updateTimeRange)({exploreId:t.exploreId,rawRange:e})},n.onClickExample=function(e){n.props.setQueries(n.props.exploreId,[e])},n.onCellFilterAdded=function(e){var t=e.value,r=e.key,o=e.operator;o===D.a&&n.onClickFilterLabel(r,t),o===D.b&&n.onClickFilterOutLabel(r,t)},n.onClickFilterLabel=function(e,t){n.onModifyQueries({type:"ADD_FILTER",key:e,value:t})},n.onClickFilterOutLabel=function(e,t){n.onModifyQueries({type:"ADD_FILTER_OUT",key:e,value:t})},n.onClickAddQueryRowButton=function(){var e=n.props,t=e.exploreId,r=e.queryKeys;n.props.addQueryRow(t,r.length)},n.onModifyQueries=function(e,t){var r=n.props.datasourceInstance;if(null==r?void 0:r.modifyQuery){n.props.modifyQueries(n.props.exploreId,e,(function(e,t){return r.modifyQuery(e,t)}),t)}},n.onResize=function(e){n.props.changeSize(n.props.exploreId,e)},n.onStartScanning=function(){n.props.scanStart(n.props.exploreId)},n.onStopScanning=function(){n.props.scanStopAction({exploreId:n.props.exploreId})},n.onUpdateTimeRange=function(e){var t=n.props,r=t.exploreId;(0,t.updateTimeRange)({exploreId:r,absoluteRange:e})},n.toggleShowRichHistory=function(){n.setState((function(e){return{openDrawer:e.openDrawer===q.RichHistory?void 0:q.RichHistory}}))},n.toggleShowQueryInspector=function(){n.setState((function(e){return{openDrawer:e.openDrawer===q.QueryInspector?void 0:q.QueryInspector}}))},n.refreshExplore=function(){var e=n.props,t=e.exploreId,r=e.update;(r.queries||r.range||r.datasource||r.mode)&&n.props.refreshExplore(t)},n.getNodeGraphDataFrames=Object(u.a)((function(e){return e.filter((function(e){var t;return"nodeGraph"===(null===(t=e.meta)||void 0===t?void 0:t.preferredVisualisationType)}))})),n.exploreEvents=new d.EventBusSrv,n.state={openDrawer:void 0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialized,n=e.exploreId,r=e.initialDatasource,o=e.initialQueries,a=e.initialRange,i=e.originPanelId,c=this.el?this.el.offsetWidth:0;t||this.props.initializeExplore(n,r,o,a,c,this.exploreEvents,i)}},{key:"componentWillUnmount",value:function(){this.exploreEvents.removeAllListeners()}},{key:"componentDidUpdate",value:function(e){this.refreshExplore()}},{key:"renderEmptyState",value:function(){return o.a.createElement("div",{className:"explore-container"},o.a.createElement(T.a,null))}},{key:"renderGraphPanel",value:function(e){var t=this.props,n=t.graphResult,r=t.absoluteRange,a=t.timeZone,i=t.splitOpen,c=t.queryResponse,s=t.loading;return o.a.createElement(_.a,{data:n,width:e,absoluteRange:r,timeZone:a,onUpdateTimeRange:this.onUpdateTimeRange,annotations:c.annotations,splitOpenFn:i,isLoading:s})}},{key:"renderTablePanel",value:function(e){var t=this.props,n=t.exploreId,r=t.datasourceInstance;return o.a.createElement(g.a,{ariaLabel:f.selectors.pages.Explore.General.table,width:e,exploreId:n,onCellFilterAdded:(null==r?void 0:r.modifyQuery)?this.onCellFilterAdded:void 0})}},{key:"renderLogsPanel",value:function(e){var t=this.props,n=t.exploreId,r=t.syncedTimes;return o.a.createElement(m.a,{width:e,exploreId:n,syncedTimes:r,onClickFilterLabel:this.onClickFilterLabel,onClickFilterOutLabel:this.onClickFilterOutLabel,onStartScanning:this.onStartScanning,onStopScanning:this.onStopScanning})}},{key:"renderNodeGraphPanel",value:function(){var e=this.props,t=e.exploreId,n=e.showTrace,r=e.queryResponse;return o.a.createElement(R.a,{dataFrames:this.getNodeGraphDataFrames(r.series),exploreId:t,short:n})}},{key:"renderTraceViewPanel",value:function(){var e=this.props,t=e.queryResponse,n=e.splitOpen,r=t.series.filter((function(e){var t;return"trace"===(null===(t=e.meta)||void 0===t?void 0:t.preferredVisualisationType)}));return r[0]&&o.a.createElement(I.a,{trace:r[0].fields[0].values.get(0),splitOpenFn:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.datasourceInstance,r=t.datasourceMissing,a=t.exploreId,c=t.split,s=t.queryKeys,u=t.graphResult,h=t.queryResponse,m=t.isLive,g=t.theme,O=t.showMetrics,w=t.showTable,j=t.showLogs,E=t.showTrace,T=t.showNodeGraph,k=this.state.openDrawer,I=c?"explore explore-split":"explore",D=W(g),_=h&&h.state!==d.LoadingState.NotStarted,R=h.state===d.LoadingState.Error&&h.error?[h.error]:void 0,L=Object(x.j)(R),N=k===q.RichHistory,M=k===q.QueryInspector;return o.a.createElement("div",{className:I,ref:this.getRef,"aria-label":f.selectors.pages.Explore.General.container},o.a.createElement(S.a,{exploreId:a,onChangeTime:this.onChangeTime}),r?this.renderEmptyState():null,n&&o.a.createElement("div",{className:"explore-container"},o.a.createElement("div",{className:Object(i.cx)("panel-container",D.queryContainer)},o.a.createElement(b.a,{exploreEvents:this.exploreEvents,exploreId:a,queryKeys:s}),o.a.createElement(P.a,{addQueryRowButtonDisabled:m,addQueryRowButtonHidden:!1,richHistoryButtonActive:N,queryInspectorButtonActive:M,onClickAddQueryRowButton:this.onClickAddQueryRowButton,onClickRichHistoryButton:this.toggleShowRichHistory,onClickQueryInspectorButton:this.toggleShowQueryInspector})),o.a.createElement(C.a,{queryError:L}),o.a.createElement(l.a,{onResize:this.onResize,disableHeight:!0},(function(t){var n=t.width;return 0===n?null:o.a.createElement("main",{className:Object(i.cx)(D.exploreMain),style:{width:n}},o.a.createElement(p.ErrorBoundaryAlert,null,_&&o.a.createElement(o.a.Fragment,null,O&&u&&e.renderGraphPanel(n),w&&e.renderTablePanel(n),j&&e.renderLogsPanel(n),T&&e.renderNodeGraphPanel(),E&&e.renderTraceViewPanel()),N&&o.a.createElement(v.a,{width:n,exploreId:a,onClose:e.toggleShowRichHistory}),M&&o.a.createElement(y.a,{exploreId:a,width:n,onClose:e.toggleShowQueryInspector})))}))))}}])&&N(n.prototype,r),a&&N(n,a),t}(o.a.PureComponent),U=Object(u.a)(x.f),Q=Object(u.a)(x.m);var Z={changeSize:w.b,initializeExplore:w.d,modifyQueries:E.f,refreshExplore:w.f,scanStart:E.j,scanStopAction:E.k,setQueries:E.m,updateTimeRange:j.e,addQueryRow:E.a,splitOpen:O.f};t.a=Object(c.compose)(Object(a.hot)(e),Object(s.connect)((function(e,t){var n=t.exploreId,r=e.explore,o=r.split,a=r.syncedTimes,i=r[n],c=Object(k.a)(e.user),s=i.datasourceInstance,l=i.datasourceMissing,u=i.initialized,f=i.queryKeys,p=i.urlState,d=i.update,m=i.isLive,b=i.graphResult,g=i.logsResult,v=i.showLogs,y=i.showMetrics,O=i.showTable,w=i.showTrace,j=i.absoluteRange,E=i.queryResponse,S=i.showNodeGraph,T=i.loading,C=p||{},I=C.datasource,P=C.queries,D=C.range,_=C.originPanelId;return{datasourceInstance:s,datasourceMissing:l,initialized:u,split:o,queryKeys:f,update:d,initialDatasource:I||h.a.get(Object(x.o)(e.user.orgId)),initialQueries:U(P),initialRange:D?Q(D,c):Object(x.l)(c,x.a),isLive:m,graphResult:b,logsResult:null!=g?g:void 0,absoluteRange:j,queryResponse:E,originPanelId:_,syncedTimes:a,timeZone:c,showLogs:v,showMetrics:y,showTable:O,showTrace:w,showNodeGraph:S,loading:T}}),Z),p.withTheme)(G)}).call(this,n("3UD+")(e))},snuD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m31.6 31.6v-10.3h3.4v10.3c0 1.8-1.6 3.4-3.4 3.4h-23.2c-1.8 0-3.4-1.6-3.4-3.4v-23.2c0-1.8 1.6-3.4 3.4-3.4h10.4v3.4h-10.4v23.2h23.2z m-9.1-26.6h12.5v12.5h-3.4v-6.8l-16.8 16.8-2.3-2.3 16.8-16.8h-6.8v-3.4z"})))},e.exports=t.default},tpxX:function(e,t,n){var r=n("jl5L")("round");e.exports=r},uISq:function(e,t){e.exports=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(n){!t.hasOwnProperty(n)||null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])})),t}},vGfD:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("0cfB"),c=n("kDDq"),s=n("kDLi"),l=n("t8hP"),u=n("Obii"),f=n("w9yp"),p=n("ljRM"),d=n("m257"),h=n("Xmxp"),m=n("GQ3c"),b=n("7oGG"),g=n("fD97"),v=n("VVW4");function y(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,c,"next",e)}function c(e){y(a,r,o,i,c,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(){var e=R(["\n      max-width: ",";\n      display: flex;\n      justify-content: flex-end;\n      button {\n        height: auto;\n        padding: "," ",";\n        line-height: 1.4;\n        span {\n          white-space: normal !important;\n        }\n      }\n    "]);return j=function(){return e},e}function E(){var e=R(["\n      border: 1px solid ",";\n      background: inherit;\n      color: inherit;\n      width: 100%;\n      font-size: ",";\n      &placeholder {\n        padding: 0 ",";\n      }\n    "]);return E=function(){return e},e}function x(){var e=R(["\n      > * {\n        margin-right: ",";\n      }\n    "]);return x=function(){return e},e}function S(){var e=R(["\n      overflow-wrap: break-word;\n      font-size: ",";\n      font-weight: ",";\n      margin-top: ",";\n    "]);return S=function(){return e},e}function T(){var e=R(["\n      width: calc(100% + ",");\n      margin-top: ",";\n    "]);return T=function(){return e},e}function k(){var e=R(["\n      border-top: 1px solid ",";\n      word-break: break-all;\n      padding: 4px 2px;\n      :first-child {\n        border-top: none;\n        padding: 0 0 4px 0;\n      }\n    "]);return k=function(){return e},e}function C(){var e=R(["\n      font-weight: ",";\n      width: calc(100% - ",");\n    "]);return C=function(){return e},e}function I(){var e=R(["\n      max-width: ",";\n      display: flex;\n      justify-content: flex-end;\n      font-size: ",";\n      button {\n        margin-left: ",";\n      }\n    "]);return I=function(){return e},e}function P(){var e=R(["\n      display: flex;\n      align-items: center;\n      font-size: ",";\n      font-weight: ",";\n    "]);return P=function(){return e},e}function D(){var e=R(["\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: ",";\n      border-bottom: none;\n      :first-of-type {\n        border-bottom: 1px solid ",";\n        padding: "," ",";\n      }\n      img {\n        height: ",";\n        max-width: ",";\n        margin-right: ",";\n      }\n    "]);return D=function(){return e},e}function _(){var e=R(["\n      display: flex;\n      flex-direction: column;\n      border: 1px solid ",";\n      margin: "," 0;\n      background-color: ",";\n      border-radius: ",";\n      .starred {\n        color: ",";\n      }\n    "]);return _=function(){return e},e}function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L=Object(s.stylesFactory)((function(e,t){var n=e.isLight?t?e.palette.gray95:e.palette.white:t?e.palette.gray15:e.palette.gray05;return{queryCard:Object(c.css)(_(),e.colors.formInputBorder,e.spacing.sm,n,e.border.radius.sm,e.palette.orange),cardRow:Object(c.css)(D(),e.spacing.sm,e.colors.formInputBorder,e.spacing.xs,e.spacing.sm,e.typography.size.base,e.typography.size.base,e.spacing.sm),datasourceContainer:Object(c.css)(P(),e.typography.size.sm,e.typography.weight.semibold),queryActionButtons:Object(c.css)(I(),"170px",e.typography.size.base,e.spacing.sm),queryContainer:Object(c.css)(C(),e.typography.weight.semibold,"240px"),queryRow:Object(c.css)(k(),e.colors.formInputBorder),updateCommentContainer:Object(c.css)(T(),"240px",e.spacing.sm),comment:Object(c.css)(S(),e.typography.size.sm,e.typography.weight.regular,e.spacing.xs),commentButtonRow:Object(c.css)(x(),e.spacing.sm),textArea:Object(c.css)(E(),e.colors.formInputBorder,e.typography.size.sm,e.spacing.sm),runButton:Object(c.css)(j(),"170px",e.spacing.xs,e.spacing.md)}}));var N={changeDatasource:g.a,updateRichHistory:b.d,setQueries:v.m};t.a=Object(i.hot)(e)(Object(a.connect)((function(e,t){var n=t.exploreId,r=e.explore,o=r[n].datasourceInstance;return r[n],{exploreId:n,datasourceInstance:o}}),N)((function(e){var t,n=e.query,a=e.dsImg,i=e.isRemoved,b=e.updateRichHistory,g=e.changeDatasource,v=e.exploreId,y=e.datasourceInstance,j=e.setQueries,E=w(Object(r.useState)(!1),2),x=E[0],S=E[1],T=w(Object(r.useState)(n.comment),2),k=T[0],C=T[1],I=w(Object(r.useState)(void 0),2),P=I[0],D=I[1];Object(r.useEffect)((function(){(function(){var e=O(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.getDataSourceSrv)().get(n.datasourceName);case 2:t=e.sent,D(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n.datasourceName]);var _=Object(s.useTheme)(),R=L(_,i),N=function(){var e=O(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.queries,n.datasourceName===(null==y?void 0:y.name)){e.next=7;break}return e.next=4,g(v,n.datasourceName,{importQueries:!0});case 4:j(v,t),e.next=8;break;case 7:j(v,t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=O(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.f)(n),e.next=3,Object(p.a)(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){b(n.ts,"comment",k),S(!1)},A=function(){S(!1),C(n.comment)},B=o.a.createElement("div",{className:R.updateCommentContainer,"aria-label":k?"Update comment form":"Add comment form"},o.a.createElement(s.TextArea,{value:k,placeholder:k?void 0:"An optional description of what the query does.",onChange:function(e){return C(e.currentTarget.value)},className:R.textArea}),o.a.createElement("div",{className:R.commentButtonRow},o.a.createElement(s.Button,{onClick:z,"aria-label":"Submit button"},"Save comment"),o.a.createElement(s.Button,{variant:"secondary",onClick:A},"Cancel"))),H=o.a.createElement("div",{className:R.queryActionButtons},o.a.createElement(s.IconButton,{name:"comment-alt",onClick:function(){return S(!x)},title:(null===(t=n.comment)||void 0===t?void 0:t.length)>0?"Edit comment":"Add comment"}),o.a.createElement(s.IconButton,{name:"copy",onClick:function(){var e=n.queries.map((function(e){return Object(f.e)(e,P)})).join("\n");Object(d.e)(e),h.b.emit(u.AppEvents.alertSuccess,["Query copied to clipboard"])},title:"Copy query to clipboard"}),!i&&o.a.createElement(s.IconButton,{name:"share-alt",onClick:M,title:"Copy shortened link to clipboard"}),o.a.createElement(s.IconButton,{name:"trash-alt",title:"Delete query",onClick:function(){n.starred?h.b.emit(m.CoreEvents.showConfirmModal,{title:"Delete",text:"Are you sure you want to permanently delete your starred query?",yesText:"Delete",icon:"trash-alt",onConfirm:function(){b(n.ts,"delete"),h.b.emit(u.AppEvents.alertSuccess,["Query deleted"])}}):(b(n.ts,"delete"),h.b.emit(u.AppEvents.alertSuccess,["Query deleted"]))}}),o.a.createElement(s.IconButton,{name:n.starred?"favorite":"star",iconType:n.starred?"mono":"default",onClick:function(){b(n.ts,"starred")},title:n.starred?"Unstar query":"Star query"}));return o.a.createElement("div",{className:R.queryCard,onKeyDown:function(e){"Enter"===e.key&&(e.shiftKey||e.ctrlKey)&&z(),"Escape"===e.key&&A()}},o.a.createElement("div",{className:R.cardRow},o.a.createElement("div",{className:R.datasourceContainer},o.a.createElement("img",{src:a,"aria-label":"Data source icon"}),o.a.createElement("div",{"aria-label":"Data source name"},i?"Data source does not exist anymore":n.datasourceName)),H),o.a.createElement("div",{className:Object(c.cx)(R.cardRow)},o.a.createElement("div",{className:R.queryContainer},n.queries.map((function(e,t){var n=Object(f.e)(e,P);return o.a.createElement("div",{"aria-label":"Query text",key:"".concat(e,"-").concat(t),className:R.queryRow},n)})),!x&&n.comment&&o.a.createElement("div",{"aria-label":"Query comment",className:R.comment},n.comment),x&&B),!x&&o.a.createElement("div",{className:R.runButton},o.a.createElement(s.Button,{variant:"secondary",onClick:N,disabled:i},(null==y?void 0:y.name)===n.datasourceName?"Run query":"Switch data source and run query"))))})))}).call(this,n("3UD+")(e))},w2pd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=100,o="<trace-without-root-span>",a={DONE:"FETCH_DONE",ERROR:"FETCH_ERROR",LOADING:"FETCH_LOADING"}},"x7/r":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("q1tI"),o=n.n(r),a=n("WGjm"),i=n("kDDq"),c=n("kDLi");function s(){var e=p(["\n      background: ",";\n      transition: 0.3s background ease-in-out;\n      position: relative;\n      width: 200px !important;\n      height: 7px !important;\n      left: calc(50% - 100px) !important;\n      top: -4px !important;\n      cursor: grab;\n      border-radius: 4px;\n      &:hover {\n        background: ",";\n      }\n    "]);return s=function(){return e},e}function l(){var e=p(["\n      opacity: 1;\n      animation: 0.5s ease-out ",";\n    "]);return l=function(){return e},e}function u(){var e=p(["\n      position: fixed !important;\n      bottom: 0;\n      background: ",";\n      border-top: 1px solid ",";\n      margin: 0px;\n      margin-right: -",";\n      margin-left: -",";\n      box-shadow: 0 0 4px ",";\n      z-index: ",";\n    "]);return u=function(){return e},e}function f(){var e=p(["\n  0% {\n    transform: translateY(400px);\n  }\n\n  100% {\n    transform: translateY(0px);\n  }\n"]);return f=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=Object(i.keyframes)(f()),h=Object(c.stylesFactory)((function(e){var t=e.isLight?e.palette.gray4:e.palette.black;return{container:Object(i.css)(u(),e.colors.pageHeaderBg,e.colors.formInputBorder,e.spacing.md,e.spacing.md,t,e.zIndex.sidemenu),drawerActive:Object(i.css)(l(),d),rzHandle:Object(i.css)(s(),e.colors.formInputBorder,e.colors.formInputBorderHover)}}));function m(e){var t=e.width,n=e.children,r=e.onResize,s=Object(c.useTheme)(),l=h(s),u="".concat(t+31.5,"px");return o.a.createElement(a.Resizable,{className:Object(i.cx)(l.container,l.drawerActive),defaultSize:{width:u,height:"400px"},handleClasses:{top:l.rzHandle},enable:{top:!0,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},maxHeight:"100vh",maxWidth:u,minWidth:u,onResize:r},n)}},xIog:function(e,t,n){"use strict";n.d(t,"o",(function(){return w})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return E})),n.d(t,"j",(function(){return x})),n.d(t,"n",(function(){return S})),n.d(t,"m",(function(){return T})),n.d(t,"e",(function(){return k})),n.d(t,"h",(function(){return C})),n.d(t,"f",(function(){return I})),n.d(t,"p",(function(){return P})),n.d(t,"g",(function(){return D})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return R})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return N})),n.d(t,"i",(function(){return M}));var r=n("kDDq");function o(){var e=O(["\n  justify-content: flex-end;\n"]);return o=function(){return e},e}function a(){var e=O(["\n  color: #aaa;\n"]);return a=function(){return e},e}function i(){var e=O(["\n  width: 100%;\n"]);return i=function(){return e},e}function c(){var e=O(["\n  text-overflow: ellipsis;\n"]);return c=function(){return e},e}function s(){var e=O(["\n  margin: -0.2rem 0.25rem 0 0;\n"]);return s=function(){return e},e}function l(){var e=O(["\n  display: inline-block;\n"]);return l=function(){return e},e}function u(){var e=O(["\n  text-align: right;\n"]);return u=function(){return e},e}function f(){var e=O(["\n  flex: 1 1 auto;\n  min-width: 0; /* 1 */\n  min-height: 0; /* 1 */\n"]);return f=function(){return e},e}function p(){var e=O(["\n  align-items: center;\n"]);return p=function(){return e},e}function d(){var e=O(["\n  display: flex;\n"]);return d=function(){return e},e}function h(){var e=O(["\n  padding-bottom: 0.5rem;\n"]);return h=function(){return e},e}function m(){var e=O(["\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n"]);return m=function(){return e},e}function b(){var e=O(["\n  margin: 0;\n"]);return b=function(){return e},e}function g(){var e=O(["\n  margin-top: 0.25rem;\n  margin-bottom: 0.25rem;\n"]);return g=function(){return e},e}function v(){var e=O(["\n  margin-bottom: 0.25rem;\n"]);return v=function(){return e},e}function y(){var e=O(["\n  position: relative;\n"]);return y=function(){return e},e}function O(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=Object(r.css)(y()),j=Object(r.css)(v()),E=Object(r.css)(g()),x=Object(r.css)(b()),S=Object(r.css)(m()),T=Object(r.css)(h()),k=Object(r.css)(d()),C=Object(r.css)(p()),I=Object(r.css)(f()),P=Object(r.css)(u()),D=Object(r.css)(l()),_=Object(r.css)(s()),R=Object(r.css)(c()),L=Object(r.css)(i()),N=Object(r.css)(a()),M=Object(r.css)(o())},xmmm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createChangeEmitter=function(){var e=[],t=e;function n(){t===e&&(t=e.slice())}return{listen:function(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var r=!0;return n(),t.push(e),function(){if(r){r=!1,n();var o=t.indexOf(e);t.splice(o,1)}}},emit:function(){for(var n=e=t,r=0;r<n.length;r++)n[r].apply(n,arguments)}}}},xpaS:function(e,t){},xweI:function(e,t,n){var r=n("XGnz"),o=n("alwl"),a=n("EA7m"),i=n("mv/X"),c=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=c},y2tl:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("q1tI"),o=n.n(r),a=n("t8hP");n("Vw/f");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return f(this,t),d(this,h(t).apply(this,arguments))}var n,r,i,c,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:(c=regeneratorRuntime.mark((function e(){var t,n,r,o,i,c,l,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.element){e.next=2;break}return e.abrupt("return");case 2:t=this.props,n=t.datasource,r=t.initialQuery,o=t.exploreEvents,i=Object(a.getAngularLoader)(),c=s({datasource:n.name},r),l={ctrl:{datasource:n,target:c,refresh:function(){setTimeout((function(){var e,t,n,r;null===(e=(t=u.props).onQueryChange)||void 0===e||e.call(t,c),null===(n=(r=u.props).onExecuteQuery)||void 0===n||n.call(r)}),1)},onQueryChange:function(){setTimeout((function(){var e,t;null===(e=(t=u.props).onQueryChange)||void 0===e||e.call(t,c)}),1)},events:o,panel:{datasource:n,targets:[c]},dashboard:{}}},this.component=i.load(this.element,l,'<plugin-component type="query-ctrl"> </plugin-component>'),this.angularScope=l.ctrl,setTimeout((function(){var e,t,n,r;null===(e=(t=u.props).onQueryChange)||void 0===e||e.call(t,c),null===(n=(r=u.props).onExecuteQuery)||void 0===n||n.call(r)}),1);case 10:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=c.apply(e,t);function a(e){u(o,n,r,a,i,"next",e)}function i(e){u(o,n,r,a,i,"throw",e)}a(void 0)}))},function(){return l.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){var t=e.textEditModeEnabled!==this.props.textEditModeEnabled,n=e.error!==this.props.error;this.component&&(t&&this.angularScope&&this.angularScope.toggleEditorMode&&this.angularScope.toggleEditorMode(),(n||t)&&setTimeout(this.component.digest))}},{key:"componentWillUnmount",value:function(){this.component&&this.component.destroy()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"gf-form-query",ref:function(t){return e.element=t},style:{width:"100%"}})}}])&&p(n.prototype,r),i&&p(n,i),t}(r.PureComponent)},yD29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n("q1tI")),a=i(n("TR4N"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement(a.default,r({viewBox:"0 0 40 40"},e),o.default.createElement("g",null,o.default.createElement("path",{d:"m17.5 13.8c3.4 0 6.3 2.8 6.3 6.2s-2.9 6.3-6.3 6.3-6.2-2.9-6.2-6.3 2.8-6.2 6.2-6.2z m14.9 4.6h2.6v3.2h-2.6c-0.8 7-6.3 12.5-13.3 13.3v2.6h-3.2v-2.6c-7-0.8-12.5-6.3-13.3-13.3h-2.6v-3.2h2.6c0.8-7 6.3-12.5 13.3-13.3v-2.6h3.2v2.6c7 0.8 12.5 6.3 13.3 13.3z m-14.9 13.2c6.4 0 11.6-5.2 11.6-11.6s-5.2-11.6-11.6-11.6-11.6 5.2-11.6 11.6 5.2 11.6 11.6 11.6z"})))},e.exports=t.default},yue5:function(e,t,n){var r=n("/9aa");e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,a=e==e,i=r(e),c=void 0!==t,s=null===t,l=t==t,u=r(t);if(!s&&!u&&!i&&e>t||i&&c&&l&&!s&&!u||o&&c&&l||!n&&l||!a)return 1;if(!o&&!i&&!u&&e<t||u&&n&&a&&!o&&!i||s&&n&&a||!c&&a||!l)return-1}return 0}},zL40:function(e,t,n){"use strict";e.exports=function(e,t,n){return e=e instanceof Array?e:[e],this.bindMultiple(e,t,n),this}},zLRG:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),o=n.n(r),a=n("0cfB"),i=n("/MKj"),c=n("kDLi"),s=n("sQ2H"),l=n("ZFWI"),u=n("eXZ6"),f=n("h1VQ"),p=n("Xc1M");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return h(this,t),b(this,g(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"getTableHeight",value:function(){var e=this.props.tableResult;return e&&0!==e.length?Math.max(Math.min(600,35*e.length)+35):200}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.onCellFilterAdded,r=e.tableResult,a=e.width,i=e.splitOpen,s=e.range,d=e.ariaLabel,h=this.getTableHeight(),m=a-2*l.a.theme.panelPadding-u.i,b=null==r?void 0:r.length;if(r&&r.length){var g=!0,v=!1,y=void 0;try{for(var O,w=function(){var e=O.value;e.getLinks=function(t){return Object(p.a)({field:e,rowIndex:t.valueRowIndex,splitOpenFn:i,range:s})}},j=r.fields[Symbol.iterator]();!(g=(O=j.next()).done);g=!0)w()}catch(e){v=!0,y=e}finally{try{g||null==j.return||j.return()}finally{if(v)throw y}}}return o.a.createElement(c.Collapse,{label:"Table",loading:t,isOpen:!0},b?o.a.createElement(c.Table,{ariaLabel:d,data:r,width:m,height:h,onCellFilterAdded:n}):o.a.createElement(f.a,{metaItems:[{value:"0 series returned"}]}))}}])&&m(n.prototype,r),a&&m(n,a),t}(r.PureComponent);var O={splitOpen:s.f};t.a=Object(a.hot)(e)(Object(i.connect)((function(e,t){var n=t.exploreId,r=e.explore[n],o=r.loading,a=r.tableResult,i=r.range;return{loading:!(a&&a.length>0)&&o,tableResult:a,range:i}}),O)(y))}).call(this,n("3UD+")(e))},zQGu:function(e,t,n){"use strict";e.exports=function(e,t,n){return n||(n=this.getReverseMap()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}}}]);
//# sourceMappingURL=explore.63a9c1d648180e457252.js.map