{"version":3,"names":["h","useEffect","useState","useCallback","nanoid","SearchInput","_ref","searchString","setSearchString","submitSearchString","wrapperClassName","inputClassName","inputLabel","clearSearchLabel","showButton","buttonLabel","buttonCSSClassName","onInput","e","target","value","submit","ev","preventDefault","form","formEl","document","createElement","setAttribute","id","body","appendChild","addEventListener","removeEventListener","removeChild","className","type","placeholder","focusable","width","height","viewBox","d","title","onClick"],"sources":["SearchInput.tsx"],"sourcesContent":["import { h } from 'preact'\nimport { useEffect, useState, useCallback } from 'preact/hooks'\nimport { type ChangeEvent } from 'preact/compat'\nimport { nanoid } from 'nanoid/non-secure'\n\ntype Props = {\n  searchString: string\n  setSearchString: (s: string) => void\n  submitSearchString: () => void\n\n  wrapperClassName: string\n  inputClassName: string\n\n  inputLabel: string\n  clearSearchLabel?: string\n\n  showButton?: boolean\n  buttonLabel?: string\n  buttonCSSClassName?: string\n}\n\nfunction SearchInput({\n  searchString,\n  setSearchString,\n  submitSearchString,\n\n  wrapperClassName,\n  inputClassName,\n\n  inputLabel,\n  clearSearchLabel = '',\n\n  showButton = false,\n  buttonLabel = '',\n  buttonCSSClassName = '',\n}: Props) {\n  const onInput = (e: ChangeEvent) => {\n    setSearchString((e.target as HTMLInputElement).value)\n  }\n\n  const submit = useCallback(\n    (ev: Event) => {\n      ev.preventDefault()\n      submitSearchString()\n    },\n    [submitSearchString],\n  )\n\n  // We do this to avoid nested <form>s\n  // (See https://github.com/transloadit/uppy/pull/5050#discussion_r1640392516)\n  const [form] = useState(() => {\n    const formEl = document.createElement('form')\n    formEl.setAttribute('tabindex', '-1')\n    formEl.id = nanoid()\n    return formEl\n  })\n\n  useEffect(() => {\n    document.body.appendChild(form)\n    form.addEventListener('submit', submit)\n    return () => {\n      form.removeEventListener('submit', submit)\n      document.body.removeChild(form)\n    }\n  }, [form, submit])\n\n  return (\n    <section className={wrapperClassName}>\n      <input\n        className={`uppy-u-reset ${inputClassName}`}\n        type=\"search\"\n        aria-label={inputLabel}\n        placeholder={inputLabel}\n        value={searchString}\n        onInput={onInput}\n        form={form.id}\n        data-uppy-super-focusable\n      />\n      {!showButton && (\n        // üîç\n        <svg\n          aria-hidden=\"true\"\n          focusable=\"false\"\n          className=\"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon\"\n          width=\"12\"\n          height=\"12\"\n          viewBox=\"0 0 12 12\"\n        >\n          <path d=\"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z\" />\n        </svg>\n      )}\n      {!showButton && searchString && (\n        // ‚ùå\n        <button\n          className=\"uppy-u-reset uppy-ProviderBrowser-searchFilterReset\"\n          type=\"button\"\n          aria-label={clearSearchLabel}\n          title={clearSearchLabel}\n          onClick={() => setSearchString('')}\n        >\n          <svg\n            aria-hidden=\"true\"\n            focusable=\"false\"\n            className=\"uppy-c-icon\"\n            viewBox=\"0 0 19 19\"\n          >\n            <path d=\"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z\" />\n          </svg>\n        </button>\n      )}\n      {showButton && (\n        <button\n          className={`uppy-u-reset uppy-c-btn uppy-c-btn-primary ${buttonCSSClassName}`}\n          type=\"submit\"\n          form={form.id}\n        >\n          {buttonLabel}\n        </button>\n      )}\n    </section>\n  )\n}\n\nexport default SearchInput\n"],"mappings":"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","ignoreList":[]}