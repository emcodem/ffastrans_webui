{"version":3,"names":["h","useCallback","GoogleIcon","width","height","viewBox","xmlns","fill","cx","cy","r","d","DefaultForm","_ref","pluginName","i18n","onAuth","isGoogleDrive","onSubmit","e","preventDefault","type","className","defaultRenderForm","_ref2","AuthView","_ref3","loading","pluginIcon","handleAuth","renderForm"],"sources":["AuthView.tsx"],"sourcesContent":["import { h } from 'preact'\nimport { useCallback } from 'preact/hooks'\nimport type { Body, Meta } from '@uppy/utils/lib/UppyFile'\nimport type Translator from '@uppy/utils/lib/Translator'\nimport type { Opts } from './ProviderView.ts'\nimport type ProviderViews from './ProviderView.ts'\n\ntype AuthViewProps<M extends Meta, B extends Body> = {\n  loading: boolean | string\n  pluginName: string\n  pluginIcon: () => h.JSX.Element\n  i18n: Translator['translateArray']\n  handleAuth: ProviderViews<M, B>['handleAuth']\n  renderForm?: Opts<M, B>['renderAuthForm']\n}\n\nfunction GoogleIcon() {\n  return (\n    <svg\n      width=\"26\"\n      height=\"26\"\n      viewBox=\"0 0 26 26\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g fill=\"none\" fill-rule=\"evenodd\">\n        <circle fill=\"#FFF\" cx=\"13\" cy=\"13\" r=\"13\" />\n        <path\n          d=\"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z\"\n          fill=\"#4285F4\"\n          fill-rule=\"nonzero\"\n        />\n        <path\n          d=\"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z\"\n          fill=\"#34A853\"\n          fill-rule=\"nonzero\"\n        />\n        <path\n          d=\"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z\"\n          fill=\"#FBBC05\"\n          fill-rule=\"nonzero\"\n        />\n        <path\n          d=\"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z\"\n          fill=\"#EA4335\"\n          fill-rule=\"nonzero\"\n        />\n        <path d=\"M4 4h18v18H4z\" />\n      </g>\n    </svg>\n  )\n}\n\nfunction DefaultForm<M extends Meta, B extends Body>({\n  pluginName,\n  i18n,\n  onAuth,\n}: {\n  pluginName: string\n  i18n: Translator['translateArray']\n  onAuth: AuthViewProps<M, B>['handleAuth']\n}) {\n  // In order to comply with Google's brand we need to create a different button\n  // for the Google Drive plugin\n  const isGoogleDrive = pluginName === 'Google Drive'\n\n  const onSubmit = useCallback(\n    (e: Event) => {\n      e.preventDefault()\n      onAuth()\n    },\n    [onAuth],\n  )\n\n  return (\n    <form onSubmit={onSubmit}>\n      {isGoogleDrive ?\n        <button\n          type=\"submit\"\n          className=\"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google\"\n          data-uppy-super-focusable\n        >\n          <GoogleIcon />\n          {i18n('signInWithGoogle')}\n        </button>\n      : <button\n          type=\"submit\"\n          className=\"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn\"\n          data-uppy-super-focusable\n        >\n          {i18n('authenticateWith', { pluginName })}\n        </button>\n      }\n    </form>\n  )\n}\n\nconst defaultRenderForm = ({\n  pluginName,\n  i18n,\n  onAuth,\n}: {\n  pluginName: string\n  i18n: Translator['translateArray']\n  onAuth: AuthViewProps<Meta, Body>['handleAuth']\n}) => <DefaultForm pluginName={pluginName} i18n={i18n} onAuth={onAuth} />\n\nexport default function AuthView<M extends Meta, B extends Body>({\n  loading,\n  pluginName,\n  pluginIcon,\n  i18n,\n  handleAuth,\n  renderForm = defaultRenderForm,\n}: AuthViewProps<M, B>) {\n  return (\n    <div className=\"uppy-Provider-auth\">\n      <div className=\"uppy-Provider-authIcon\">{pluginIcon()}</div>\n      <div className=\"uppy-Provider-authTitle\">\n        {i18n('authenticateWithTitle', {\n          pluginName,\n        })}\n      </div>\n\n      <div className=\"uppy-Provider-authForm\">\n        {renderForm({ pluginName, i18n, loading, onAuth: handleAuth })}\n      </div>\n    </div>\n  )\n}\n"],"mappings":"AAAA,SAASA,CAAC,QAAQ,QAAQ;AAC1B,SAASC,WAAW,QAAQ,cAAc;AAe1C,SAASC,UAAUA,CAAA,EAAG;EACpB,OACEF,CAAA;IACEG,KAAK,EAAC,IAAI;IACVC,MAAM,EAAC,IAAI;IACXC,OAAO,EAAC,WAAW;IACnBC,KAAK,EAAC;EAA4B,GAElCN,CAAA;IAAGO,IAAI,EAAC,MAAM;IAAC,aAAU;EAAS,GAChCP,CAAA;IAAQO,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,IAAI;IAACC,CAAC,EAAC;EAAI,CAAE,CAAC,EAC7CV,CAAA;IACEW,CAAC,EAAC,uIAAuI;IACzIJ,IAAI,EAAC,SAAS;IACd,aAAU;EAAS,CACpB,CAAC,EACFP,CAAA;IACEW,CAAC,EAAC,gJAAgJ;IAClJJ,IAAI,EAAC,SAAS;IACd,aAAU;EAAS,CACpB,CAAC,EACFP,CAAA;IACEW,CAAC,EAAC,wIAAwI;IAC1IJ,IAAI,EAAC,SAAS;IACd,aAAU;EAAS,CACpB,CAAC,EACFP,CAAA;IACEW,CAAC,EAAC,uJAAuJ;IACzJJ,IAAI,EAAC,SAAS;IACd,aAAU;EAAS,CACpB,CAAC,EACFP,CAAA;IAAMW,CAAC,EAAC;EAAe,CAAE,CACxB,CACA,CAAC;AAEV;AAEA,SAASC,WAAWA,CAAAC,IAAA,EAQjB;EAAA,IARkD;IACnDC,UAAU;IACVC,IAAI;IACJC;EAKF,CAAC,GAAAH,IAAA;EACC;EACA;EACA,MAAMI,aAAa,GAAGH,UAAU,KAAK,cAAc;EAEnD,MAAMI,QAAQ,GAAGjB,WAAW,CACzBkB,CAAQ,IAAK;IACZA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBJ,MAAM,CAAC,CAAC;EACV,CAAC,EACD,CAACA,MAAM,CACT,CAAC;EAED,OACEhB,CAAA;IAAMkB,QAAQ,EAAEA;EAAS,GACtBD,aAAa,GACZjB,CAAA;IACEqB,IAAI,EAAC,QAAQ;IACbC,SAAS,EAAC,2FAA2F;IACrG;EAAyB,GAEzBtB,CAAA,CAACE,UAAU,MAAE,CAAC,EACba,IAAI,CAAC,kBAAkB,CAClB,CAAC,GACTf,CAAA;IACEqB,IAAI,EAAC,QAAQ;IACbC,SAAS,EAAC,kEAAkE;IAC5E;EAAyB,GAExBP,IAAI,CAAC,kBAAkB,EAAE;IAAED;EAAW,CAAC,CAClC,CAEN,CAAC;AAEX;AAEA,MAAMS,iBAAiB,GAAGC,KAAA;EAAA,IAAC;IACzBV,UAAU;IACVC,IAAI;IACJC;EAKF,CAAC,GAAAQ,KAAA;EAAA,OAAKxB,CAAA,CAACY,WAAW;IAACE,UAAU,EAAEA,UAAW;IAACC,IAAI,EAAEA,IAAK;IAACC,MAAM,EAAEA;EAAO,CAAE,CAAC;AAAA;AAEzE,eAAe,SAASS,QAAQA,CAAAC,KAAA,EAOR;EAAA,IAPyC;IAC/DC,OAAO;IACPb,UAAU;IACVc,UAAU;IACVb,IAAI;IACJc,UAAU;IACVC,UAAU,GAAGP;EACM,CAAC,GAAAG,KAAA;EACpB,OACE1B,CAAA;IAAKsB,SAAS,EAAC;EAAoB,GACjCtB,CAAA;IAAKsB,SAAS,EAAC;EAAwB,GAAEM,UAAU,CAAC,CAAO,CAAC,EAC5D5B,CAAA;IAAKsB,SAAS,EAAC;EAAyB,GACrCP,IAAI,CAAC,uBAAuB,EAAE;IAC7BD;EACF,CAAC,CACE,CAAC,EAENd,CAAA;IAAKsB,SAAS,EAAC;EAAwB,GACpCQ,UAAU,CAAC;IAAEhB,UAAU;IAAEC,IAAI;IAAEY,OAAO;IAAEX,MAAM,EAAEa;EAAW,CAAC,CAC1D,CACF,CAAC;AAEV","ignoreList":[]}