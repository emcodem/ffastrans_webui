{"version":3,"names":["handleError","uppy","error","isAuthError","name","log","info","message","i18n","details"],"sources":["handleError.ts"],"sourcesContent":["import type Uppy from '@uppy/core'\n\nconst handleError =\n  (uppy: Uppy<any, any>) =>\n  (error: Error): void => {\n    // authError just means we're not authenticated, don't report it\n    if ((error as any).isAuthError) {\n      return\n    }\n    // AbortError means the user has clicked \"cancel\" on an operation\n    if (error.name === 'AbortError') {\n      uppy.log('Aborting request', 'warning')\n      return\n    }\n    uppy.log(error, 'error')\n\n    if (error.name === 'UserFacingApiError') {\n      uppy.info(\n        {\n          message: uppy.i18n('companionError'),\n          details: uppy.i18n(error.message),\n        },\n        'warning',\n        5000,\n      )\n    }\n  }\n\nexport default handleError\n"],"mappings":"AAEA,MAAMA,WAAW,GACdC,IAAoB,IACpBC,KAAY,IAAW;EACtB;EACA,IAAKA,KAAK,CAASC,WAAW,EAAE;IAC9B;EACF;EACA;EACA,IAAID,KAAK,CAACE,IAAI,KAAK,YAAY,EAAE;IAC/BH,IAAI,CAACI,GAAG,CAAC,kBAAkB,EAAE,SAAS,CAAC;IACvC;EACF;EACAJ,IAAI,CAACI,GAAG,CAACH,KAAK,EAAE,OAAO,CAAC;EAExB,IAAIA,KAAK,CAACE,IAAI,KAAK,oBAAoB,EAAE;IACvCH,IAAI,CAACK,IAAI,CACP;MACEC,OAAO,EAAEN,IAAI,CAACO,IAAI,CAAC,gBAAgB,CAAC;MACpCC,OAAO,EAAER,IAAI,CAACO,IAAI,CAACN,KAAK,CAACK,OAAO;IAClC,CAAC,EACD,SAAS,EACT,IACF,CAAC;EACH;AACF,CAAC;AAEH,eAAeP,WAAW","ignoreList":[]}