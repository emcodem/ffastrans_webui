{"version":3,"names":["getNumberOfSelectedFiles","partialTree","checkedLeaves","filter","item","type","status","doesItHaveChildren","some","i","parentId","id","length"],"sources":["getNumberOfSelectedFiles.ts"],"sourcesContent":["import type { PartialTree } from '@uppy/core/lib/Uppy.js'\n\n/**\n * We're interested in all 'checked' leaves of this tree,\n * but we don't yet know how many files there are inside of each checked folder.\n * `getNumberOfSelectedFiles()` returns the most intuitive number we can show to the user\n * in this situation.\n */\nconst getNumberOfSelectedFiles = (partialTree: PartialTree): number => {\n  const checkedLeaves = partialTree.filter((item) => {\n    if (item.type === 'file' && item.status === 'checked') {\n      return true\n    }\n    if (item.type === 'folder' && item.status === 'checked') {\n      const doesItHaveChildren = partialTree.some(\n        (i) => i.type !== 'root' && i.parentId === item.id,\n      )\n      return !doesItHaveChildren\n    }\n    return false\n  })\n  return checkedLeaves.length\n}\n\nexport default getNumberOfSelectedFiles\n"],"mappings":"AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,wBAAwB,GAAIC,WAAwB,IAAa;EACrE,MAAMC,aAAa,GAAGD,WAAW,CAACE,MAAM,CAAEC,IAAI,IAAK;IACjD,IAAIA,IAAI,CAACC,IAAI,KAAK,MAAM,IAAID,IAAI,CAACE,MAAM,KAAK,SAAS,EAAE;MACrD,OAAO,IAAI;IACb;IACA,IAAIF,IAAI,CAACC,IAAI,KAAK,QAAQ,IAAID,IAAI,CAACE,MAAM,KAAK,SAAS,EAAE;MACvD,MAAMC,kBAAkB,GAAGN,WAAW,CAACO,IAAI,CACxCC,CAAC,IAAKA,CAAC,CAACJ,IAAI,KAAK,MAAM,IAAII,CAAC,CAACC,QAAQ,KAAKN,IAAI,CAACO,EAClD,CAAC;MACD,OAAO,CAACJ,kBAAkB;IAC5B;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACF,OAAOL,aAAa,CAACU,MAAM;AAC7B,CAAC;AAED,eAAeZ,wBAAwB","ignoreList":[]}