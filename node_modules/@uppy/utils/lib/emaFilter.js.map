{"version":3,"names":["emaFilter","newValue","previousSmoothedValue","halfLife","dt"],"sources":["emaFilter.ts"],"sourcesContent":["/**\n * Low-pass filter using Exponential Moving Averages (aka exponential smoothing)\n * Filters a sequence of values by updating the mixing the previous output value\n * with the new input using the exponential window function\n *\n * @param newValue the n-th value of the sequence\n * @param previousSmoothedValue the exponential average of the first n-1 values\n * @param halfLife value of `dt` to move the smoothed value halfway between `previousFilteredValue` and `newValue`\n * @param dt time elapsed between adding the (n-1)th and the n-th values\n * @returns the exponential average of the first n values\n */\nexport default function emaFilter(\n  newValue: number,\n  previousSmoothedValue: number,\n  halfLife: number,\n  dt: number,\n): number {\n  if (halfLife === 0 || newValue === previousSmoothedValue) return newValue\n  if (dt === 0) return previousSmoothedValue\n\n  return newValue + (previousSmoothedValue - newValue) * 2 ** (-dt / halfLife)\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASA,SAASA,CAC/BC,QAAgB,EAChBC,qBAA6B,EAC7BC,QAAgB,EAChBC,EAAU,EACF;EACR,IAAID,QAAQ,KAAK,CAAC,IAAIF,QAAQ,KAAKC,qBAAqB,EAAE,OAAOD,QAAQ;EACzE,IAAIG,EAAE,KAAK,CAAC,EAAE,OAAOF,qBAAqB;EAE1C,OAAOD,QAAQ,GAAG,CAACC,qBAAqB,GAAGD,QAAQ,IAAI,CAAC,KAAK,CAACG,EAAE,GAAGD,QAAQ,CAAC;AAC9E","ignoreList":[]}