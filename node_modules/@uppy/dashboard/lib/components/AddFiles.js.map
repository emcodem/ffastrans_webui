{"version":3,"names":["h","Component","Fragment","AddFiles","constructor","arguments","fileInput","folderInput","mobilePhotoFileInput","mobileVideoFileInput","triggerFileInputClick","_this$fileInput","click","triggerFolderInputClick","_this$folderInput","triggerVideoCameraInputClick","_this$mobileVideoFile","triggerPhotoCameraInputClick","_this$mobilePhotoFile","onFileInputChange","event","props","handleInputChange","currentTarget","value","renderHiddenInput","isFolder","refCallback","_this$props$allowedFi","className","hidden","tabIndex","webkitdirectory","type","name","multiple","maxNumberOfFiles","onChange","accept","allowedFileTypes","join","ref","renderHiddenCameraInput","nativeCameraFacingMode","typeToAccept","photo","video","capture","renderMyDeviceAcquirer","role","onClick","focusable","width","height","viewBox","d","fill","i18n","renderPhotoCamera","renderVideoCamera","fillRule","renderBrowseButton","text","onClickFn","numberOfAcquirers","acquirers","length","renderDropPasteBrowseTagline","browseFiles","browseFolders","lowerFMSelectionType","fileManagerSelectionType","camelFMSelectionType","charAt","toUpperCase","slice","class","disableLocalFiles","i18nArray","browse","renderAcquirer","acquirer","_this$props$activePic","id","activePickerPanel","showPanel","icon","renderAcquirers","acquirersWithoutLastTwo","lastTwoAcquirers","splice","map","style","renderSourcesList","showNativePhotoCameraButton","showNativeVideoCameraButton","list","myDeviceKey","push","key","elements","hasOnlyMyDevice","listWithoutLastTwo","lastTwo","_ref","_ref2","Symbol","for","renderPoweredByUppy","uppyBranding","linkText","uppy","href","rel","target","render","note","proudlyDisplayPoweredByUppy"],"sources":["AddFiles.tsx"],"sourcesContent":["/* eslint-disable react/destructuring-assignment */\nimport { h, Component, Fragment, type ComponentChild } from 'preact'\nimport type { I18n } from '@uppy/utils/lib/Translator'\nimport type Translator from '@uppy/utils/lib/Translator'\nimport type { TargetedEvent } from 'preact/compat'\nimport type { DashboardState, TargetWithRender } from '../Dashboard'\n\ninterface AddFilesProps {\n  i18n: I18n\n  i18nArray: Translator['translateArray']\n  acquirers: TargetWithRender[]\n  handleInputChange: (event: TargetedEvent<HTMLInputElement, Event>) => void\n  maxNumberOfFiles: number | null\n  allowedFileTypes: string[] | null\n  showNativePhotoCameraButton: boolean\n  showNativeVideoCameraButton: boolean\n  nativeCameraFacingMode: 'user' | 'environment' | ''\n  showPanel: (id: string) => void\n  activePickerPanel: DashboardState<any, any>['activePickerPanel']\n  disableLocalFiles: boolean\n  fileManagerSelectionType: string\n  note: string | null\n  proudlyDisplayPoweredByUppy: boolean\n}\n\nclass AddFiles extends Component<AddFilesProps> {\n  fileInput: HTMLInputElement | null = null\n\n  folderInput: HTMLInputElement | null = null\n\n  mobilePhotoFileInput: HTMLInputElement | null = null\n\n  mobileVideoFileInput: HTMLInputElement | null = null\n\n  private triggerFileInputClick = () => {\n    this.fileInput?.click()\n  }\n\n  private triggerFolderInputClick = () => {\n    this.folderInput?.click()\n  }\n\n  private triggerVideoCameraInputClick = () => {\n    this.mobileVideoFileInput?.click()\n  }\n\n  private triggerPhotoCameraInputClick = () => {\n    this.mobilePhotoFileInput?.click()\n  }\n\n  private onFileInputChange = (\n    event: TargetedEvent<HTMLInputElement, Event>,\n  ) => {\n    this.props.handleInputChange(event)\n\n    // Clear the input so that Chrome/Safari/etc. can detect file section when the same file is repeatedly selected\n    // (see https://github.com/transloadit/uppy/issues/768#issuecomment-2264902758)\n    // eslint-disable-next-line no-param-reassign\n    event.currentTarget.value = ''\n  }\n\n  private renderHiddenInput = (\n    isFolder: boolean,\n    refCallback: (ref: HTMLInputElement | null) => void,\n  ) => {\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        // @ts-expect-error default types don't yet know about the `webkitdirectory` property\n        webkitdirectory={isFolder}\n        type=\"file\"\n        name=\"files[]\"\n        multiple={this.props.maxNumberOfFiles !== 1}\n        onChange={this.onFileInputChange}\n        accept={this.props.allowedFileTypes?.join(', ')}\n        ref={refCallback}\n      />\n    )\n  }\n\n  private renderHiddenCameraInput = (\n    type: 'photo' | 'video',\n    nativeCameraFacingMode: 'user' | 'environment' | '',\n    refCallback: (ref: HTMLInputElement | null) => void,\n  ) => {\n    const typeToAccept = { photo: 'image/*', video: 'video/*' }\n    const accept = typeToAccept[type]\n\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        type=\"file\"\n        name={`camera-${type}`}\n        onChange={this.onFileInputChange}\n        capture={nativeCameraFacingMode}\n        accept={accept}\n        ref={refCallback}\n      />\n    )\n  }\n\n  private renderMyDeviceAcquirer = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MyDevice\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerFileInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg\n              className=\"uppy-DashboardTab-iconMyDevice\"\n              aria-hidden=\"true\"\n              focusable=\"false\"\n              width=\"32\"\n              height=\"32\"\n              viewBox=\"0 0 32 32\"\n            >\n              <path\n                d=\"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z\"\n                fill=\"currentcolor\"\n                fill-rule=\"evenodd\"\n              />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">\n            {this.props.i18n('myDevice')}\n          </div>\n        </button>\n      </div>\n    )\n  }\n\n  private renderPhotoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobilePhotoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerPhotoCameraInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg\n              aria-hidden=\"true\"\n              focusable=\"false\"\n              width=\"32\"\n              height=\"32\"\n              viewBox=\"0 0 32 32\"\n            >\n              <path\n                d=\"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z\"\n                fill=\"#02B383\"\n                fill-rule=\"nonzero\"\n              />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">\n            {this.props.i18n('takePictureBtn')}\n          </div>\n        </button>\n      </div>\n    )\n  }\n\n  private renderVideoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobileVideoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerVideoCameraInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg aria-hidden=\"true\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n              <path\n                fill=\"#FF675E\"\n                fillRule=\"nonzero\"\n                d=\"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z \"\n              />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">\n            {this.props.i18n('recordVideoBtn')}\n          </div>\n        </button>\n      </div>\n    )\n  }\n\n  private renderBrowseButton = (\n    text: string,\n    onClickFn: (event: Event) => void,\n  ) => {\n    const numberOfAcquirers = this.props.acquirers.length\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn uppy-Dashboard-browse\"\n        onClick={onClickFn}\n        data-uppy-super-focusable={numberOfAcquirers === 0}\n      >\n        {text}\n      </button>\n    )\n  }\n\n  private renderDropPasteBrowseTagline = (numberOfAcquirers: number) => {\n    const browseFiles = this.renderBrowseButton(\n      this.props.i18n('browseFiles'),\n      this.triggerFileInputClick,\n    )\n    const browseFolders = this.renderBrowseButton(\n      this.props.i18n('browseFolders'),\n      this.triggerFolderInputClick,\n    )\n\n    // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n    // to Camel\n    const lowerFMSelectionType = this.props.fileManagerSelectionType\n    const camelFMSelectionType =\n      lowerFMSelectionType.charAt(0).toUpperCase() +\n      lowerFMSelectionType.slice(1)\n\n    return (\n      <div class=\"uppy-Dashboard-AddFiles-title\">\n        {\n          // eslint-disable-next-line no-nested-ternary\n          this.props.disableLocalFiles ?\n            this.props.i18n('importFiles')\n          : numberOfAcquirers > 0 ?\n            this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, {\n              browseFiles,\n              browseFolders,\n              browse: browseFiles,\n            })\n          : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, {\n              browseFiles,\n              browseFolders,\n              browse: browseFiles,\n            })\n\n        }\n      </div>\n    )\n  }\n\n  private [Symbol.for('uppy test: disable unused locale key warning')]() {\n    // Those are actually used in `renderDropPasteBrowseTagline` method.\n    this.props.i18nArray('dropPasteBoth')\n    this.props.i18nArray('dropPasteFiles')\n    this.props.i18nArray('dropPasteFolders')\n    this.props.i18nArray('dropPasteImportBoth')\n    this.props.i18nArray('dropPasteImportFiles')\n    this.props.i18nArray('dropPasteImportFolders')\n  }\n\n  private renderAcquirer = (acquirer: TargetWithRender) => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id={acquirer.id}\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-cy={acquirer.id}\n          aria-controls={`uppy-DashboardContent-panel--${acquirer.id}`}\n          aria-selected={this.props.activePickerPanel?.id === acquirer.id}\n          data-uppy-super-focusable\n          onClick={() => this.props.showPanel(acquirer.id)}\n        >\n          <div className=\"uppy-DashboardTab-inner\">{acquirer.icon()}</div>\n          <div className=\"uppy-DashboardTab-name\">{acquirer.name}</div>\n        </button>\n      </div>\n    )\n  }\n\n  private renderAcquirers = (acquirers: TargetWithRender[]) => {\n    // Group last two buttons, so we don’t end up with\n    // just one button on a new line\n    const acquirersWithoutLastTwo = [...acquirers]\n    const lastTwoAcquirers = acquirersWithoutLastTwo.splice(\n      acquirers.length - 2,\n      acquirers.length,\n    )\n\n    return (\n      <>\n        {acquirersWithoutLastTwo.map((acquirer) =>\n          this.renderAcquirer(acquirer),\n        )}\n        <span role=\"presentation\" style={{ 'white-space': 'nowrap' }}>\n          {lastTwoAcquirers.map((acquirer) => this.renderAcquirer(acquirer))}\n        </span>\n      </>\n    )\n  }\n\n  private renderSourcesList = (\n    acquirers: TargetWithRender[],\n    disableLocalFiles: boolean,\n  ) => {\n    const { showNativePhotoCameraButton, showNativeVideoCameraButton } =\n      this.props\n\n    type RenderListItem = { key: string; elements: ComponentChild }\n    let list: RenderListItem[] = []\n\n    const myDeviceKey = 'myDevice'\n\n    if (!disableLocalFiles)\n      list.push({\n        key: myDeviceKey,\n        elements: this.renderMyDeviceAcquirer(),\n      })\n    if (showNativePhotoCameraButton)\n      list.push({\n        key: 'nativePhotoCameraButton',\n        elements: this.renderPhotoCamera(),\n      })\n    if (showNativeVideoCameraButton)\n      list.push({\n        key: 'nativePhotoCameraButton',\n        elements: this.renderVideoCamera(),\n      })\n    list.push(\n      ...acquirers.map((acquirer: TargetWithRender) => ({\n        key: acquirer.id,\n        elements: this.renderAcquirer(acquirer),\n      })),\n    )\n\n    // doesn't make sense to show only a lonely \"My Device\"\n    const hasOnlyMyDevice = list.length === 1 && list[0].key === myDeviceKey\n    if (hasOnlyMyDevice) list = []\n\n    // Group last two buttons, so we don’t end up with\n    // just one button on a new line\n    const listWithoutLastTwo = [...list]\n    const lastTwo = listWithoutLastTwo.splice(list.length - 2, list.length)\n\n    return (\n      <>\n        {this.renderDropPasteBrowseTagline(list.length)}\n\n        <div className=\"uppy-Dashboard-AddFiles-list\" role=\"tablist\">\n          {listWithoutLastTwo.map(({ key, elements }) => (\n            <Fragment key={key}>{elements}</Fragment>\n          ))}\n\n          <span role=\"presentation\" style={{ 'white-space': 'nowrap' }}>\n            {lastTwo.map(({ key, elements }) => (\n              <Fragment key={key}>{elements}</Fragment>\n            ))}\n          </span>\n        </div>\n      </>\n    )\n  }\n\n  private renderPoweredByUppy() {\n    const { i18nArray } = this.props\n\n    const uppyBranding = (\n      <span>\n        <svg\n          aria-hidden=\"true\"\n          focusable=\"false\"\n          className=\"uppy-c-icon uppy-Dashboard-poweredByIcon\"\n          width=\"11\"\n          height=\"11\"\n          viewBox=\"0 0 11 11\"\n        >\n          <path\n            d=\"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\"\n            fillRule=\"evenodd\"\n          />\n        </svg>\n        <span className=\"uppy-Dashboard-poweredByUppy\">Uppy</span>\n      </span>\n    )\n\n    const linkText = i18nArray('poweredBy', { uppy: uppyBranding })\n\n    return (\n      <a\n        tabIndex={-1}\n        href=\"https://uppy.io\"\n        rel=\"noreferrer noopener\"\n        target=\"_blank\"\n        className=\"uppy-Dashboard-poweredBy\"\n      >\n        {linkText}\n      </a>\n    )\n  }\n\n  render(): ComponentChild {\n    const {\n      showNativePhotoCameraButton,\n      showNativeVideoCameraButton,\n      nativeCameraFacingMode,\n    } = this.props\n\n    return (\n      <div className=\"uppy-Dashboard-AddFiles\">\n        {this.renderHiddenInput(false, (ref) => {\n          this.fileInput = ref\n        })}\n        {this.renderHiddenInput(true, (ref) => {\n          this.folderInput = ref\n        })}\n        {showNativePhotoCameraButton &&\n          this.renderHiddenCameraInput(\n            'photo',\n            nativeCameraFacingMode,\n            (ref) => {\n              this.mobilePhotoFileInput = ref\n            },\n          )}\n        {showNativeVideoCameraButton &&\n          this.renderHiddenCameraInput(\n            'video',\n            nativeCameraFacingMode,\n            (ref) => {\n              this.mobileVideoFileInput = ref\n            },\n          )}\n        {this.renderSourcesList(\n          this.props.acquirers,\n          this.props.disableLocalFiles,\n        )}\n        <div className=\"uppy-Dashboard-AddFiles-info\">\n          {this.props.note && (\n            <div className=\"uppy-Dashboard-note\">{this.props.note}</div>\n          )}\n          {this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AddFiles\n"],"mappings":"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","ignoreList":[]}