{"version":3,"names":["RequestClient","getName","id","split","map","s","charAt","toUpperCase","slice","join","SearchProvider","constructor","uppy","opts","provider","name","pluginId","fileUrl","hostname","search","text","queries","get","encodeURIComponent"],"sources":["SearchProvider.ts"],"sourcesContent":["import type { Body, Meta } from '@uppy/utils/lib/UppyFile'\nimport type { Uppy } from '@uppy/core'\nimport type { CompanionClientSearchProvider } from '@uppy/utils/lib/CompanionClientProvider'\nimport RequestClient, { type Opts } from './RequestClient.ts'\n\nconst getName = (id: string): string => {\n  return id\n    .split('-')\n    .map((s) => s.charAt(0).toUpperCase() + s.slice(1))\n    .join(' ')\n}\n\nexport default class SearchProvider<M extends Meta, B extends Body>\n  extends RequestClient<M, B>\n  implements CompanionClientSearchProvider\n{\n  provider: string\n\n  id: string\n\n  name: string\n\n  pluginId: string\n\n  constructor(uppy: Uppy<M, B>, opts: Opts) {\n    super(uppy, opts)\n    this.provider = opts.provider\n    this.id = this.provider\n    this.name = this.opts.name || getName(this.id)\n    this.pluginId = this.opts.pluginId\n  }\n\n  fileUrl(id: string): string {\n    return `${this.hostname}/search/${this.id}/get/${id}`\n  }\n\n  search<ResBody>(text: string, queries?: string): Promise<ResBody> {\n    return this.get<ResBody>(\n      `search/${this.id}/list?q=${encodeURIComponent(text)}${\n        queries ? `&${queries}` : ''\n      }`,\n    )\n  }\n}\n"],"mappings":"AAGA,OAAOA,aAAa,MAAqB,oBAAoB;AAE7D,MAAMC,OAAO,GAAIC,EAAU,IAAa;EACtC,OAAOA,EAAE,CACNC,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGF,CAAC,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC,CAClDC,IAAI,CAAC,GAAG,CAAC;AACd,CAAC;AAED,eAAe,MAAMC,cAAc,SACzBV,aAAa,CAEvB;EASEW,WAAWA,CAACC,IAAgB,EAAEC,IAAU,EAAE;IACxC,KAAK,CAACD,IAAI,EAAEC,IAAI,CAAC;IACjB,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAACC,QAAQ;IAC7B,IAAI,CAACZ,EAAE,GAAG,IAAI,CAACY,QAAQ;IACvB,IAAI,CAACC,IAAI,GAAG,IAAI,CAACF,IAAI,CAACE,IAAI,IAAId,OAAO,CAAC,IAAI,CAACC,EAAE,CAAC;IAC9C,IAAI,CAACc,QAAQ,GAAG,IAAI,CAACH,IAAI,CAACG,QAAQ;EACpC;EAEAC,OAAOA,CAACf,EAAU,EAAU;IAC1B,OAAO,GAAG,IAAI,CAACgB,QAAQ,WAAW,IAAI,CAAChB,EAAE,QAAQA,EAAE,EAAE;EACvD;EAEAiB,MAAMA,CAAUC,IAAY,EAAEC,OAAgB,EAAoB;IAChE,OAAO,IAAI,CAACC,GAAG,CACb,UAAU,IAAI,CAACpB,EAAE,WAAWqB,kBAAkB,CAACH,IAAI,CAAC,GAClDC,OAAO,GAAG,IAAIA,OAAO,EAAE,GAAG,EAAE,EAEhC,CAAC;EACH;AACF","ignoreList":[]}