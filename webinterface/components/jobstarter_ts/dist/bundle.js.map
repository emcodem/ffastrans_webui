{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://jobstarter-ts/./init.ts","webpack://jobstarter-ts/./types.ts","webpack://jobstarter-ts/../../dependencies/dhtmlx/9.2.4/events.ts","webpack://jobstarter-ts/webpack/bootstrap","webpack://jobstarter-ts/webpack/before-startup","webpack://jobstarter-ts/webpack/startup","webpack://jobstarter-ts/webpack/after-startup"],"sourcesContent":["import { UppyManager }      from \"./uppy-manager\";\r\nimport type { ILayoutConfig, ICellConfig, ICell } from \"../../dependencies/dhtmlx/9.2.4/types/ts-layout/sources/types\";\r\nimport type { Layout }      from \"../../dependencies/dhtmlx/9.2.4/types/ts-layout/sources/Layout\";\r\nimport type { Tabbar }      from \"../../dependencies/dhtmlx/9.2.4/types/ts-tabbar/sources/Tabbar\";\r\nimport { TabbarEvents }     from \"../../dependencies/dhtmlx/9.2.4/events\";\r\nimport type { ITabConfig }  from \"../../dependencies/dhtmlx/9.2.4/types/ts-tabbar/sources/types\";\r\nimport type { Grid }        from \"../../dependencies/dhtmlx/9.2.4/types/ts-grid/sources/Grid\";\r\nimport { UserPermissions, type IUserPermissionsResponse } from \"./types\";\r\n\r\n// Declare dhx as global to access the loaded library\r\ndeclare const dhx924: {\r\n    dhx: {\r\n        Layout: typeof Layout;\r\n        Tabbar: typeof Tabbar;\r\n        Grid:   typeof Grid;\r\n        [key: string]: any;\r\n    };\r\n    [key: string]: any;\r\n};\r\n\r\n// Extend window interface to include our global variables\r\ndeclare global {\r\n    interface Window {\r\n        m_userpermissions: UserPermissions;\r\n    }\r\n}\r\n\r\n// Exported global reference for easier access\r\nexport let userPermissions: UserPermissions | null = null;\r\n\r\n/**\r\n * Fetch user permissions from server\r\n */\r\nasync function getUserPermissions(): Promise<UserPermissions> {\r\n    try {\r\n        const response = await fetch(\"/getuserpermissionsasync?\" + Math.random());\r\n        \r\n        if (!response.ok) {\r\n            throw new Error(`Failed to fetch permissions: ${response.statusText}`);\r\n        }\r\n        \r\n        const data: IUserPermissionsResponse = await response.json();\r\n        const userPermissions = new UserPermissions(data);\r\n        console.log(\"User permissions loaded:\", userPermissions);\r\n\r\n        return userPermissions;\r\n    } catch (error) {\r\n        console.error(\"Failed to load user permissions:\", error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n/**\r\n * Create tabbar with browse and upload tabs based on user permissions\r\n */\r\nexport function createFileTabbar(cell: ICell): Tabbar {\r\n\r\n    const { show_browse, show_upload } = userPermissions.getUIFeatureVisibility();\r\n    \r\n    // Create views configuration for dhtmlx Tabbar\r\n    const views: ITabConfig[] = [];\r\n    \r\n    if (show_browse) {\r\n        views.push({\r\n            tab: \"browse\"\r\n        });\r\n    }\r\n    \r\n    if (show_upload) {\r\n        views.push({\r\n            tab: \"upload\",\r\n            html: \"<div id='main_upload_area' style='height:100%'/>\"\r\n        });\r\n    }\r\n    \r\n    if (views.length === 0) {\r\n        views.push({\r\n            tab: \"noaccess\"\r\n        });\r\n        console.warn(\"No file operations available based on permissions\");\r\n    }\r\n    \r\n    // Create the tabbar with proper config\r\n    const tabbar = new dhx924.dhx.Tabbar(null, {\r\n        views: views\r\n    });\r\n\r\n    tabbar.events.on(TabbarEvents.change, (id: string, prev: string) => {\r\n        console.log(`Tab changed from ${prev} to ${id}`);\r\n        (tabbar.getCell(id) as ICell).attachHTML(\"<div style='padding:10px'>Content for \" + id + \" tab</div>\");\r\n        \r\n        // Additional logic for tab change can be added here\r\n    });\r\n\r\n    console.log(\"Tabbar created with views:\", views.map(v => v.id));\r\n    return tabbar;\r\n}\r\n\r\n/**\r\n * Create a dhtmlx Layout with proper TypeScript typing\r\n */\r\nexport function createLayout(containerId: string | HTMLElement): Layout {\r\n    const config: ILayoutConfig = {\r\n        type: \"line\",\r\n        rows: [\r\n            {\r\n                id: \"header\",\r\n                //header: \"Header\",\r\n                height: \"20px\",\r\n                html: \"\",\r\n                resizable: true,\r\n                \r\n            } as ICellConfig,\r\n            {\r\n                cols: [\r\n                    {\r\n                        id: \"main_left\",\r\n                        header: \"Left\",\r\n                        \r\n                        resizable: true,\r\n                        collapsable: true,\r\n                    } as ICellConfig,\r\n                    {\r\n                        id: \"main_right\",\r\n                        header: \"Right\",\r\n                        html: \"<div>Content</div>\",\r\n                        resizable: true,\r\n                    } as ICellConfig,\r\n                ],\r\n            } as ILayoutConfig,\r\n        ],\r\n    };\r\n\r\n\r\n    const layout = new dhx924.dhx.Layout(containerId, config);\r\n\r\n\r\n\r\n    return layout;\r\n}\r\n\r\n/**\r\n * Initialize the layout on page load\r\n */\r\nexport function initializeApp(): void {\r\n    const waitForDhx = () => {\r\n        if (typeof (window as any).dhx924?.dhx === \"undefined\") {\r\n            setTimeout(waitForDhx, 100);\r\n            return;\r\n        }\r\n        \r\n        const initializeComponents = async () => {\r\n\r\n            \r\n            // Load user permissions\r\n            const userPerms = await getUserPermissions();\r\n            userPermissions = userPerms;\r\n            window.m_userpermissions = userPerms;\r\n            console.log(\"User permissions available as window.m_userpermissions or import { userPermissions }\");\r\n\r\n            // Initialize layout\r\n            const layout: Layout = createLayout(document.body);\r\n            console.log(\"Layout initialized on document.body\", layout);\r\n\r\n            // Create file tabbar in main_left\r\n            const mainLeftCell : ICell = layout.getCell(\"main_left\") as ICell;\r\n            if (mainLeftCell) {\r\n                let _tabbar : ICell = createFileTabbar(mainLeftCell);\r\n                mainLeftCell.attach(_tabbar);\r\n                console.log(\"File tabbar attached to main_left\");\r\n            }\r\n\r\n\r\n        };\r\n        \r\n        if (document.readyState === \"loading\") {\r\n            document.addEventListener(\"DOMContentLoaded\", initializeComponents);\r\n        } else {\r\n            initializeComponents();\r\n        }\r\n    };\r\n    \r\n    waitForDhx();\r\n}\r\n\r\n// Auto-initialize on import\r\ninitializeApp();\r\n\r\n","/**\r\n * Represents a single permission or user property\r\n */\r\nexport interface IPermissionEntry {\r\n    key: string;\r\n    value: string | boolean | object;\r\n}\r\n\r\n/**\r\n * User permissions response from server\r\n * Array-like object with indexed entries and optional length property\r\n */\r\nexport interface IUserPermissionsResponse {\r\n    [index: number]: IPermissionEntry;\r\n    length: number;\r\n}\r\n\r\n/**\r\n * Class to manage user permissions\r\n */\r\nexport class UserPermissions {\r\n    private permissions: Map<string, any>;\r\n    private username: string;\r\n\r\n    constructor(permissionsData: IUserPermissionsResponse) {\r\n        this.permissions = new Map();\r\n        this.username = '';\r\n\r\n        // Parse the permissions response\r\n        for (let i = 0; i < permissionsData.length; i++) {\r\n            const entry = permissionsData[i];\r\n            if (entry && entry.key) {\r\n                this.permissions.set(entry.key, entry.value);\r\n                \r\n                // Extract username if present\r\n                if (entry.key === 'username') {\r\n                    this.username = entry.value as string;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if user has a specific permission\r\n     */\r\n    hasPermission(permissionKey: string): boolean {\r\n        const value = this.permissions.get(permissionKey);\r\n        return value !== undefined && value !== false;\r\n    }\r\n\r\n    /**\r\n     * Get all menu permissions\r\n     */\r\n    getMenuPermissions(): Map<string, any> {\r\n        const menuPerms = new Map<string, any>();\r\n        \r\n        this.permissions.forEach((value, key) => {\r\n            if (key.startsWith('GROUPRIGHT_MENU_')) {\r\n                menuPerms.set(key, value);\r\n            }\r\n        });\r\n        \r\n        return menuPerms;\r\n    }\r\n\r\n    /**\r\n     * Check if user can view specific menu\r\n     */\r\n    canViewMenu(menuType: 'JOB_STATUS' | 'SUBMIT_JOBS' | 'REVIEW_QUEUE' | 'SCHEDULER' | 'ADMIN' | 'FARM_ADMIN'): boolean {\r\n        return this.hasPermission(`GROUPRIGHT_MENU_VIEW_${menuType}`);\r\n    }\r\n\r\n    /**\r\n     * Get username\r\n     */\r\n    getUsername(): string {\r\n        return this.username;\r\n    }\r\n\r\n    /**\r\n     * Get raw permission value\r\n     */\r\n    getPermissionValue(key: string): any {\r\n        return this.permissions.get(key);\r\n    }\r\n\r\n    /**\r\n     * Get all permissions as Map\r\n     */\r\n    getAllPermissions(): Map<string, any> {\r\n        return new Map(this.permissions);\r\n    }\r\n\r\n    /**\r\n     * Get UI feature visibility based on FILTER_JOBSTATUS_BUTTONS permission\r\n     * @returns Object with boolean flags for browse, upload, and preview visibility\r\n     */\r\n    getUIFeatureVisibility(): { show_browse: boolean; show_upload: boolean; show_preview: boolean } {\r\n        const defaults = {\r\n            show_browse: true,\r\n            show_upload: true,\r\n            show_preview: true\r\n        };\r\n\r\n        const filterPermission = this.permissions.get('FILTER_JOBSTATUS_BUTTONS');\r\n        \r\n        if (!filterPermission || !filterPermission.filter) {\r\n            return defaults;\r\n        }\r\n\r\n        try {\r\n            const regex = new RegExp(filterPermission.filter, 'i');\r\n            \r\n            return {\r\n                show_browse: regex.test('browse'),\r\n                show_upload: regex.test('upload'),\r\n                show_preview: regex.test('preview')\r\n            };\r\n        } catch (error) {\r\n            console.error('Invalid filter regex in FILTER_JOBSTATUS_BUTTONS:', error);\r\n            return defaults;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * DHTMLX 9.2.4 Suite - Event Enums\r\n * This File was created by Copilot asking: can we create a single file that contains all event declarations from the dhtmlx 942 suite?\r\n * This file re-exports all event enums from the DHTMLX suite for use in TypeScript code.\r\n * It provides runtime values that match the type definitions, enabling intellisense support\r\n * while avoiding webpack import resolution issues with .d.ts type-only files.\r\n */\r\n\r\n// Layout Events\r\nexport const LayoutEvents = {\r\n    beforeShow: \"beforeShow\",\r\n    afterShow: \"afterShow\",\r\n    beforeHide: \"beforeHide\",\r\n    afterHide: \"afterHide\",\r\n    beforeResizeStart: \"beforeResizeStart\",\r\n    resize: \"resize\",\r\n    afterResizeEnd: \"afterResizeEnd\",\r\n    beforeAdd: \"beforeAdd\",\r\n    afterAdd: \"afterAdd\",\r\n    beforeRemove: \"beforeRemove\",\r\n    afterRemove: \"afterRemove\",\r\n    beforeCollapse: \"beforeCollapse\",\r\n    afterCollapse: \"afterCollapse\",\r\n    beforeExpand: \"beforeExpand\",\r\n    afterExpand: \"afterExpand\",\r\n} as const;\r\n\r\n// Tabbar Events\r\nexport const TabbarEvents = {\r\n    beforeChange: \"beforeChange\",\r\n    change: \"change\",\r\n    beforeClose: \"beforeClose\",\r\n    afterClose: \"afterClose\",\r\n    close: \"close\", // deprecated\r\n} as const;\r\n\r\n// Grid Events\r\nexport const GridEvents = {\r\n    beforeEdit: \"beforeEdit\",\r\n    afterEdit: \"afterEdit\",\r\n    beforeEditEnd: \"beforeEditEnd\",\r\n    afterEditEnd: \"afterEditEnd\",\r\n    change: \"change\",\r\n    click: \"click\",\r\n    dblclick: \"dblclick\",\r\n    headerClick: \"headerClick\",\r\n    headerDblclick: \"headerDblclick\",\r\n    headerMouseDown: \"headerMouseDown\",\r\n    beforeRowHide: \"beforeRowHide\",\r\n    afterRowHide: \"afterRowHide\",\r\n    beforeRowShow: \"beforeRowShow\",\r\n    afterRowShow: \"afterRowShow\",\r\n    beforeColHide: \"beforeColHide\",\r\n    afterColHide: \"afterColHide\",\r\n    beforeColShow: \"beforeColShow\",\r\n    afterColShow: \"afterColShow\",\r\n    beforeSort: \"beforeSort\",\r\n    afterSort: \"afterSort\",\r\n    beforeFilter: \"beforeFilter\",\r\n    afterFilter: \"afterFilter\",\r\n    scroll: \"scroll\",\r\n} as const;\r\n\r\nexport const GridSystemEvents = {\r\n    expandStart: \"expandStart\",\r\n    expandEnd: \"expandEnd\",\r\n    beforeKeyDown: \"beforeKeyDown\",\r\n    keyDown: \"keyDown\",\r\n} as const;\r\n\r\n// Tree Events\r\nexport const TreeEvents = {\r\n    beforeExpand: \"beforeExpand\",\r\n    afterExpand: \"afterExpand\",\r\n    beforeCollapse: \"beforeCollapse\",\r\n    afterCollapse: \"afterCollapse\",\r\n    beforeSelect: \"beforeSelect\",\r\n    afterSelect: \"afterSelect\",\r\n    beforeCheck: \"beforeCheck\",\r\n    afterCheck: \"afterCheck\",\r\n    beforeDrag: \"beforeDrag\",\r\n    afterDrag: \"afterDrag\",\r\n    beforeDrop: \"beforeDrop\",\r\n    afterDrop: \"afterDrop\",\r\n    beforeEditStart: \"beforeEditStart\",\r\n    beforeEditEnd: \"beforeEditEnd\",\r\n    afterEditEnd: \"afterEditEnd\",\r\n    beforeContextMenu: \"beforeContextMenu\",\r\n    click: \"click\",\r\n    dblclick: \"dblclick\",\r\n} as const;\r\n\r\n// DataView Events\r\nexport const DataViewEvents = {\r\n    beforeSelect: \"beforeSelect\",\r\n    afterSelect: \"afterSelect\",\r\n    beforeCheck: \"beforeCheck\",\r\n    afterCheck: \"afterCheck\",\r\n    click: \"click\",\r\n    dblclick: \"dblclick\",\r\n} as const;\r\n\r\n// List Events\r\nexport const ListEvents = {\r\n    beforeSelect: \"beforeSelect\",\r\n    afterSelect: \"afterSelect\",\r\n    beforeCheck: \"beforeCheck\",\r\n    afterCheck: \"afterCheck\",\r\n    beforeEditStart: \"beforeEditStart\",\r\n    beforeEditEnd: \"beforeEditEnd\",\r\n    afterEditEnd: \"afterEditEnd\",\r\n    click: \"click\",\r\n    dblclick: \"dblclick\",\r\n} as const;\r\n\r\n// Form Events\r\nexport const FormEvents = {\r\n    change: \"change\",\r\n    click: \"click\",\r\n} as const;\r\n\r\n// Combobox Events\r\nexport const ComboboxEvents = {\r\n    change: \"change\",\r\n    beforeBlur: \"beforeBlur\",\r\n    blur: \"blur\",\r\n    beforeFocus: \"beforeFocus\",\r\n    focus: \"focus\",\r\n    beforeOpen: \"beforeOpen\",\r\n    open: \"open\",\r\n    beforeClose: \"beforeClose\",\r\n    close: \"close\",\r\n    beforeSelect: \"beforeSelect\",\r\n    select: \"select\",\r\n    beforeInput: \"beforeInput\",\r\n    input: \"input\",\r\n    beforeFilter: \"beforeFilter\",\r\n    filter: \"filter\",\r\n} as const;\r\n\r\n// Calendar Events\r\nexport const CalendarEvents = {\r\n    beforeChange: \"beforeChange\",\r\n    change: \"change\",\r\n    beforeClose: \"beforeClose\",\r\n    close: \"close\",\r\n} as const;\r\n\r\n// ColorPicker Events\r\nexport const ColorpickerEvents = {\r\n    beforeChange: \"beforeChange\",\r\n    change: \"change\",\r\n    beforeClose: \"beforeClose\",\r\n    close: \"close\",\r\n} as const;\r\n\r\n// Slider Events\r\nexport const SliderEvents = {\r\n    change: \"change\",\r\n    beforeChange: \"beforeChange\",\r\n} as const;\r\n\r\n// Sidebar Events\r\nexport const SidebarEvents = {\r\n    toggle: \"toggle\",\r\n    beforeCollapse: \"beforeCollapse\",\r\n    afterCollapse: \"afterCollapse\",\r\n    beforeExpand: \"beforeExpand\",\r\n    afterExpand: \"afterExpand\",\r\n} as const;\r\n\r\n// Popup Events\r\nexport const PopupEvents = {\r\n    beforeHide: \"beforeHide\",\r\n    afterHide: \"afterHide\",\r\n    beforeShow: \"beforeShow\",\r\n    afterShow: \"afterShow\",\r\n} as const;\r\n\r\n// Window Events\r\nexport const WindowEvents = {\r\n    beforeHide: \"beforeHide\",\r\n    afterHide: \"afterHide\",\r\n    beforeShow: \"beforeShow\",\r\n    afterShow: \"afterShow\",\r\n    move: \"move\",\r\n    resize: \"resize\",\r\n} as const;\r\n\r\n// TimePicker Events\r\nexport const TimepickerEvents = {\r\n    beforeChange: \"beforeChange\",\r\n    change: \"change\",\r\n    beforeClose: \"beforeClose\",\r\n    close: \"close\",\r\n} as const;\r\n\r\n// Chart Events\r\nexport const ChartEvents = {\r\n    beforeRender: \"beforeRender\",\r\n    afterRender: \"afterRender\",\r\n    beforeMouseMove: \"beforeMouseMove\",\r\n    mouseMove: \"mouseMove\",\r\n    beforeTooltipShow: \"beforeTooltipShow\",\r\n    tooltipShow: \"tooltipShow\",\r\n    beforeTooltipHide: \"beforeTooltipHide\",\r\n    tooltipHide: \"tooltipHide\",\r\n} as const;\r\n\r\n// NavigationBar Events\r\nexport const NavigationBarEvents = {\r\n    beforeCollapse: \"beforeCollapse\",\r\n    afterCollapse: \"afterCollapse\",\r\n    beforeExpand: \"beforeExpand\",\r\n    afterExpand: \"afterExpand\",\r\n} as const;\r\n\r\n// Selection Events\r\nexport const SelectionEvents = {\r\n    beforeSelect: \"beforeSelect\",\r\n    afterSelect: \"afterSelect\",\r\n} as const;\r\n\r\n// Uploader Events\r\nexport const UploaderEvents = {\r\n    uploadFile: \"uploadFile\",\r\n    uploadProgress: \"uploadProgress\",\r\n    uploadFail: \"uploadFail\",\r\n    uploadComplete: \"uploadComplete\",\r\n    beforeSend: \"beforeSend\",\r\n} as const;\r\n\r\n// ProgressBar Events\r\nexport const ProgressBarEvents = {\r\n    change: \"change\",\r\n} as const;\r\n\r\n// Type exports for enhanced type safety\r\nexport type LayoutEventName = typeof LayoutEvents[keyof typeof LayoutEvents];\r\nexport type TabbarEventName = typeof TabbarEvents[keyof typeof TabbarEvents];\r\nexport type GridEventName = typeof GridEvents[keyof typeof GridEvents];\r\nexport type GridSystemEventName = typeof GridSystemEvents[keyof typeof GridSystemEvents];\r\nexport type TreeEventName = typeof TreeEvents[keyof typeof TreeEvents];\r\nexport type DataViewEventName = typeof DataViewEvents[keyof typeof DataViewEvents];\r\nexport type ListEventName = typeof ListEvents[keyof typeof ListEvents];\r\nexport type FormEventName = typeof FormEvents[keyof typeof FormEvents];\r\nexport type ComboboxEventName = typeof ComboboxEvents[keyof typeof ComboboxEvents];\r\nexport type CalendarEventName = typeof CalendarEvents[keyof typeof CalendarEvents];\r\nexport type ColorpickerEventName = typeof ColorpickerEvents[keyof typeof ColorpickerEvents];\r\nexport type SliderEventName = typeof SliderEvents[keyof typeof SliderEvents];\r\nexport type SidebarEventName = typeof SidebarEvents[keyof typeof SidebarEvents];\r\nexport type PopupEventName = typeof PopupEvents[keyof typeof PopupEvents];\r\nexport type WindowEventName = typeof WindowEvents[keyof typeof WindowEvents];\r\nexport type TimepickerEventName = typeof TimepickerEvents[keyof typeof TimepickerEvents];\r\nexport type ChartEventName = typeof ChartEvents[keyof typeof ChartEvents];\r\nexport type NavigationBarEventName = typeof NavigationBarEvents[keyof typeof NavigationBarEvents];\r\nexport type SelectionEventName = typeof SelectionEvents[keyof typeof SelectionEvents];\r\nexport type UploaderEventName = typeof UploaderEvents[keyof typeof UploaderEvents];\r\nexport type ProgressBarEventName = typeof ProgressBarEvents[keyof typeof ProgressBarEvents];\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./init.ts\");\n",""],"names":[],"sourceRoot":""}