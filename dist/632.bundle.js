"use strict";(this.webpackChunkffastrans_webui=this.webpackChunkffastrans_webui||[]).push([[632],{6632:(e,t,s)=>{s.d(t,{getDefaultRoleAssumerWithWebIdentity:()=>h});var n=s(7012),r=s(1208),i=s(46642),o=s(47207),a=s(8766),c=s(47504);class l extends(i.uB.classBuilder().ep(o.S).m((function(e,t,s,i){return[(0,r.TM)(s,this.serialize,this.deserialize),(0,n.rD)(s,e.getEndpointParameterInstructions())]})).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(a.KT,a.AA).ser(c.$3).de(c.MV).build()){}const d="us-east-1",u=(e,t)=>{let s;return async n=>{if(!s){const{logger:n=e?.parentClientConfig?.logger,region:r,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:o}=e,a=await(async(e,t,s)=>{const n="function"==typeof e?await e():e,r="function"==typeof t?await t():t;return s?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${r} (parent client)`,`${d} (STS default)`),n??r??d})(r,e?.parentClientConfig?.region,o),c=!f(i);s=new t({region:a,requestHandler:c?i:void 0,logger:n})}const{Credentials:r,AssumedRoleUser:i}=await s.send(new l(n));if(!r||!r.AccessKeyId||!r.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);const o=(e=>{if("string"==typeof e?.Arn){const t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}})(i);return{accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken,expiration:r.Expiration,...r.CredentialScope&&{credentialScope:r.CredentialScope},...o&&{accountId:o}}}},f=e=>"h2"===e?.metadata?.handlerProtocol;var p=s(32900);const g=(e,t)=>t?class extends e{constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,h=(e={},t)=>u(e,g(p.i,t))}}]);