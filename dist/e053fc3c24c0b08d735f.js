/*! For license information please see e053fc3c24c0b08d735f.js.LICENSE.txt */
if(window.dhx&&(window.dhx_legacy=dhx,delete window.dhx),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dhx=e():t.dhx=e()}(window,(function(){return i={},t.m=e=[function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(118),o=i(2);function r(t){function i(e){var i=e.el.offsetHeight;e=e.el.offsetWidth,t(e,i)}var n=window.ResizeObserver;return n?e.el("div.dhx-resize-observer",{_hooks:{didInsert:function(t){new n((function(){return i(t)})).observe(t.el)}}}):e.el("iframe.dhx-resize-observer",{_hooks:{didInsert:function(t){t.el.contentWindow.onresize=function(){return i(t)},i(t)}}})}e.el=n.defineElement,e.sv=n.defineSvgElement,e.view=n.defineView,e.create=n.createView,e.inject=n.injectView,e.KEYED_LIST=n.KEYED_LIST,e.disableHelp=function(){n.DEVMODE.mutations=!1,n.DEVMODE.warnings=!1,n.DEVMODE.verbose=!1,n.DEVMODE.UNKEYED_INPUT=!1},e.resizer=r,e.resizeHandler=function(t,i){return e.create({render:function(){return r(i)}}).mount(t)},e.awaitRedraw=function(){return new t((function(t){requestAnimationFrame((function(){t()}))}))},e.setTheme=function(t,e){void 0===t&&(t="light");var i="data-dhx-theme";e||document.querySelectorAll("["+i+"]").forEach((function(t){return t.removeAttribute(i)})),e=e||document.documentElement,o.toNode(e).setAttribute(i,t)}}).call(this,i(17))},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=(new Date).valueOf();e.uid=function(){return"u"+r++},e.extend=function t(e,i,n){if(void 0===n&&(n=!0),i)for(var o in i){var r=i[o],s=e[o];void 0===r?delete e[o]:!n||"object"!=typeof s||s instanceof Date||s instanceof Array?e[o]=r:t(s,r)}return e},e.copy=function(t,e){var i,n={};for(i in t)e&&i.startsWith("$")||(n[i]=t[i]);return n},e.naturalSort=function(t){return t.sort((function(t,e){return"string"==typeof t?t.localeCompare(e):t-e}))},e.findIndex=function(t,e){for(var i=t.length,n=0;n<i;n++)if(e(t[n]))return n;return-1},e.isEqualString=function(t,e){if(t=t.toString(),e=e.toString(),t.length>e.length)return!1;for(var i=0;i<t.length;i++)if(t[i].toLowerCase()!==e[i].toLowerCase())return!1;return!0},e.singleOuterClick=function(t){var e=function(i){t(i)&&document.removeEventListener("click",e)};document.addEventListener("click",e)},e.detectWidgetClick=function(t,e){function i(i){return e(o.locate(i,"data-dhx-widget-id")===t)}return document.addEventListener("click",i),function(){return document.removeEventListener("click",i)}},e.unwrapBox=function(t){return Array.isArray(t)?t[0]:t},e.wrapBox=function(t){return Array.isArray(t)?t:[t]},e.isDefined=function(t){return null!=t},e.range=function(t,e){if(e<t)return[];for(var i=[];t<=e;)i.push(t++);return i},e.isNumeric=function(t){return!isNaN(t-parseFloat(t))},e.downloadFile=function(t,e,i){var n,o;void 0===i&&(i="text/plain"),i=new Blob([t],{type:i}),window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(i,e):(n=document.createElement("a"),o=URL.createObjectURL(i),n.href=o,n.download=e,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(o)}),0))},e.debounce=function(t,e,i){var n;return function(){for(var o=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var a=i&&!n;clearTimeout(n),n=setTimeout((function(){n=null,i||t.apply(o,r)}),e),a&&t.apply(this,r)}},e.compare=function t(e,i){for(var n in e){if(e.hasOwnProperty(n)!==i.hasOwnProperty(n))return!1;switch(typeof e[n]){case"object":if(!t(e[n],i[n]))return!1;break;case"function":if(void 0===i[n]||"compare"!==n&&e[n].toString()!==i[n].toString())return!1;break;default:if(e[n]!==i[n])return!1}}for(var n in i)if(!e.hasOwnProperty(n))return!1;return!0},e.isType=function(t){return((Object.prototype.toString.call(t).match(/^\[object (\S+?)\]$/)||[])[1]||"undefined").toLowerCase()},e.isEmptyObj=function(t){for(var e in t)return!1;return!0},e.getMaxArrayNymber=function(t){if(t.length){for(var e=-1/0,i=0,n=t.length;i<n;i++)t[i]>e&&(e=t[i]);return e}},e.getMinArrayNymber=function(t){if(t.length){for(var e=1/0,i=0,n=t.length;i<n;i++)t[i]<e&&(e=t[i]);return e}},e.getStringWidth=function(t,e){e=n({font:"normal 14px Roboto",lineHeight:20},e);var i=document.createElement("canvas"),r=i.getContext("2d");return e.font&&(r.font=e.font),t=r.measureText(t).width,o.isIE()||i.remove(),t},e.rgbToHex=function(t){return"#"===t.substr(0,1)?t:"rgb"===t.substr(0,3)?(t=/(.*?)rgb[a]?\((\d+), *(\d+), *(\d+),* *([\d+.]*)\)/.exec(t),"#"+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[3],10).toString(16).padStart(2,"0")+parseInt(t[4],10).toString(16).padStart(2,"0")):void 0}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t,e,i){for(void 0===e&&(e="data-dhx-id"),void 0===i&&(i="target"),t instanceof Event&&(t=t[i]);t;){if(t.getAttribute&&t.getAttribute(e))return t;t=t.parentNode}}Object.defineProperty(e,"__esModule",{value:!0}),e.toNode=function(t){var e;return"string"==typeof t?document.getElementById(t)||document.querySelector("[data-cell-id="+t+"]")||document.querySelector(t)||(null===(e=document.querySelector("[data-dhx-root-id="+t+"]"))||void 0===e?void 0:e.parentElement)||document.body:t||document.body},e.eventHandler=function(t,e,i){var n=Object.keys(e);return function(o){var r=t(o);if(void 0!==r){var s=o.target;t:for(;s;){var a=s.getAttribute&&s.getAttribute("class")||"";if(a.length)for(var l=a.split(" "),c=0;c<n.length;c++)if(l.includes(n[c])){if(!1===e[n[c]](o,r)||o.cancelBubble)return!1;break t}s=s.parentNode}}return i&&i(o),!0}},e.locateNode=o,e.locate=function(t,e){return void 0===e&&(e="data-dhx-id"),(t=o(t,e))?t.getAttribute(e):""},e.locateNodeByClassName=function(t,e){for(t instanceof Event&&(t=t.target);t;){if(e){if(t.classList&&t.classList.contains(e))return t}else if(t.getAttribute&&t.getAttribute("data-dhx-id"))return t;t=t.parentNode}},e.getBox=function(t){var e=t.getBoundingClientRect(),i=document.body,n=window.pageYOffset||i.scrollTop;return t=window.pageXOffset||i.scrollLeft,{top:e.top+n,left:e.left+t,right:i.offsetWidth-e.right,bottom:i.offsetHeight-e.bottom,width:e.right-e.left,height:e.bottom-e.top}};var r=-1;e.getScrollbarWidth=function(){if(-1<r)return r;var t=document.createElement("div");return document.body.appendChild(t),t.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",r=t.offsetWidth-t.clientWidth,document.body.removeChild(t),r};var s=-1;function a(t){return{left:(t=t.getBoundingClientRect()).left+window.pageXOffset,right:t.right+window.pageXOffset,top:t.top+window.pageYOffset,bottom:t.bottom+window.pageYOffset}}function l(){return{rightBorder:window.pageXOffset+window.innerWidth,bottomBorder:window.pageYOffset+window.innerHeight}}function c(t,e){var i,o,r,s=l(),a=s.rightBorder,c=s.bottomBorder-t.bottom-e.height,u=t.top-e.height;if("bottom"===e.mode?0<=c?i=t.bottom:0<=u&&(i=u):0<=u?i=u:0<=c&&(i=t.bottom),c<0&&u<0){if(e.auto)return d(t,n(n({},e),{mode:"right",auto:!1}));i=u<c?t.bottom:u}return{left:e.centering?(o=t,r=e.width,s=a,c=(r-(o.right-o.left))/2,u=o.left-c,c=o.right+c,0<=u&&c<=s?u:u<0?0:s-r):(a=a-t.left-e.width,e=t.right-e.width,0<=a||!(0<=e)&&a<e?t.left:e),top:i}}function d(t,e){var i,o,r=(d=l()).rightBorder,s=d.bottomBorder,a=r-t.right-e.width,d=t.left-e.width;if("right"===e.mode?0<=a?o=t.right:0<=d&&(o=d):0<=d?o=d:0<=a&&(o=t.right),d<0&&a<0){if(e.auto)return c(t,n(n({},e),{mode:"bottom",auto:!1}));o=a<d?d:t.right}return{left:o,top:e.centering?(a=t,i=e.height,d=r,o=(i-(a.bottom-a.top))/2,r=a.top-o,o=a.bottom+o,0<=r&&o<=d?r:r<0?0:d-i):(i=t.bottom-e.height,0<=(e=s-t.top-e.height)||!(0<i||e<i)?t.top:i)}}function u(t,e){t=(i=("bottom"===e.mode||"top"===e.mode?c:d)(t,e)).left;var i=i.top;return{left:Math.round(t)+"px",top:Math.round(i)+"px",minWidth:Math.round(e.width)+"px",position:"absolute"}}e.getScrollbarHeight=function(){if(-1<s)return s;var t=document.createElement("div");return document.body.appendChild(t),t.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",s=t.offsetHeight-t.clientHeight,document.body.removeChild(t),s},e.isIE=function(){var t=window.navigator.userAgent;return t.includes("MSIE ")||t.includes("Trident/")},e.isSafari=function(){function t(t){return t.test(window.navigator.userAgent)}var e=t(/Chrome/),i=t(/Firefox/);return!e&&!i&&t(/Safari/)},e.isFirefox=function(){function t(t){return t.test(window.navigator.userAgent)}var e=t(/Chrome/),i=t(/Safari/);return!e&&!i&&t(/Firefox/)},e.getRealPosition=a,e.calculatePosition=u,e.fitPosition=function(t,e){return u(a(t),e)},e.getPageCss=function(){for(var t=[],e=0;e<document.styleSheets.length;e++)for(var i=document.styleSheets[e],n=("cssRules"in i?i.cssRules:i.rules),o=0;o<n.length;o++){var r=n[o];"cssText"in r?t.push(r.cssText):t.push(r.selectorText+" {\n"+r.style.cssText+"\n}\n")}return t.join("\n")},e.getLabelStyle=function(t){var e=t.helpMessage,i=t.type,n=t.labelWidth,o=t.label,r=n&&n.toString().startsWith("0");return t="text"!==i&&t.required,!!(e||t||!(!o||o&&r)||n&&!r)&&{style:(o||n)&&!r&&{width:n,"max-width":"100%"},label:o&&r?null:o}};var h=function(t){return t.href&&!t.href.startsWith(window.location.origin)};e.getPageInlineCss=function(){for(var t=[],e=0;e<document.styleSheets.length;e++){var i=document.styleSheets[e];if(!h(i))for(var n=("cssRules"in i&&i.cssRules.length?i.cssRules:i.rules),o=0;o<n.length;o++){var r=n[o];"cssText"in r?t.push(r.cssText):t.push(r.selectorText+" {\n"+r.style.cssText+"\n}\n")}}return t.join("\n")},e.getPageLinksCss=function(t){var e=[];if(t)t.forEach((function(t){return e.push('<link href="'+t+'" rel="stylesheet"/>')}));else for(var i=0;i<document.styleSheets.length;i++){var n=document.styleSheets[i];h(n)&&e.push('<link href="'+n.href+'" rel="stylesheet"/>')}return e.join("\n")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.on=function(t,e,i){t=t.toLowerCase(),this.events[t]=this.events[t]||[],this.events[t].push({callback:e,context:i||this.context})},o.prototype.detach=function(t,e){t=t.toLowerCase();var i=this.events[t];if(e&&i&&i.length)for(var n=i.length-1;0<=n;n--)i[n].context===e&&i.splice(n,1);else this.events[t]=[]},o.prototype.fire=function(t,e){return void 0===e&&(e=[]),t=t.toLowerCase(),!this.events[t]||!this.events[t].map((function(t){return t.callback.apply(t.context,e)})).includes(!1)},o.prototype.clear=function(){this.events={}},o);function o(t){this.events={},this.context=t||this}e.EventSystem=n,e.EventsMixin=function(t){var e=new n(t=t||{});t.detachEvent=e.detach.bind(e),t.attachEvent=e.on.bind(e),t.callEvent=e.fire.bind(e)}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o,r,s=i(0),a=["#2A9D8F","#78586F","#E76F51","#E5A910","#11A3D0","#985F99","#217B70","#BD9391","#9C89B8","#734B5E","#D66BA0","#5C5D8D"],l=["#237396","#2780A8","#3892A3","#4DA3A0","#67BF99"];function c(t){var e={};return function(i){return e[i]||(e[i]=t(i))}}e.getDefaultColor=function(t,e){return void 0===t&&(t=0),(e?l:a)[t]},e.locator=function(t){return t?"string"==typeof t?function(e){return e[t]}:t:function(){return""}},e.log10=function(t){return Math.log(t)/Math.LN10},e.getTextWidth=(o=function(t,e){void 0===e&&(e="");var i=document.createElement("canvas").getContext("2d");return e&&(i.font=e),i.measureText(t).width},r={},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=r,n=0;n<t.length-1;n++)i[t[n]]=i[t[n]]||{},i=i[t[n]];var s=t.length-1;return i[s]||(i[s]=o.apply(void 0,t))});var d=c((function(t){var e=document.createElement("canvas").getContext("2d");return e.fillStyle=t,e.fillRect(0,0,2,2),[(e=e.getImageData(1,1,1,1).data)[0],e[1],e[2]]}));function u(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}e.getColorShade=function(t,e){return"rgb("+(t=d(t).map((function(t){return Math.floor(t*e+255*(1-e))})))[0]+","+t[1]+","+t[2]+")"},e.getFontStyle=c((function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("class","dhx_chart");var i=document.createElementNS("http://www.w3.org/2000/svg","text");return i.setAttribute("class",t),e.setAttribute("visibility","hidden"),i.textContent="test",e.appendChild(i),document.body.appendChild(e),i=(i=getComputedStyle(i)).fontSize+" "+i.fontFamily,document.body.removeChild(e),i})),e.linearGradient=function(t,e){return t=t.stops.map((function(t){return s.sv("stop",{offset:100*t.offset+"%","stop-color":t.color,"stop-opacity":t.opacity||1})})),s.sv("linearGradient",{id:e,gradientTransform:"rotate(90)"},t)},e.getRadialGradient=function(t,e,i){return e=e.map((function(t){return s.sv("stop",{offset:t.offset,"stop-color":t.color,"stop-opacity":t.opacity||1})})),s.sv("radialGradient",n({id:i,cx:0,cy:0,gradientUnits:"userSpaceOnUse"},t),e)},e.euclideanDistance=function(t,e,i,n){return Math.sqrt((t-i)*(t-i)+(e-n)*(e-n))},e.roundToTwoNumAfterPoint=function(t){return Math.round(100*(100*t+Number.EPSILON))/100},e.verticalCenteredText=function(t){return s.sv("tspan",{dy:"0.5ex",style:{pointerEvents:"none"}},t)},e.verticalTopText=function(t){return s.sv("tspan",{dy:"-0.5ex"},t)},e.verticalBottomText=function(t){return s.sv("tspan",{dy:"1.5ex"},t)},e.calcPointRef=function(t,e){return t+"_"+e},e.getClassesForRotateScale=function(t,e){var i="",n=[];switch("left"===t||"top"===t?n.push("start-text","end-text"):"right"!==t&&"bottom"!==t||n.push("end-text","start-text"),t){case"left":case"right":0===e?i=n[1]:0<e?180===e?i=n[0]:180<e?e<270?i=n[0]:270<e&&(i=n[1]):e<180&&(90<e?i=n[0]:e<90&&(i=n[1])):e<0&&(-180===e?i=n[0]:e<-180?-270<e?i=n[0]:e<-270&&(i=n[1]):-180<e&&(e<-90?i=n[0]:-90<e&&(i=n[1])));break;case"top":case"bottom":0<e?180<e?i=n[0]:e<180&&(i=n[1]):e<0&&(-180<e?i=n[0]:e<-180&&(i=n[1]))}return i},e.getScales=function(t){var e,i=[];for(e in t){var n=t[e];(n.min||n.max||n.maxTicks||n.text||n.value)&&i.push(e)}return i},e.getSizesSVGText=function(t,i){var o=[];return i=n({font:"normal 14px Roboto",lineHeight:18},i),o.push(e.getTextWidth(t,i.font)),o.push(i.lineHeight),o},e.superposition=u,e.checkPositions=function(t,e,i,n,o){u(t,e)&&(e=o.right?e.y-t.y+t.height:e.y-e.height-t.y,e=o.text1.y+e,Math.abs(e)+o.dy>n&&(e=0<e?n+o.dy:-n+o.dy,o.changeSector=!o.changeSector),n=Math.sqrt(Math.pow(i,2)-Math.pow((e-o.dy)*i/n,2)),n=o.right?n:-n,o.changeSector&&(n*=-1,o.line*=-1,t.class=o.right?"pie-value end-text":"pie-value start-text"),o.text1.x=n,o.text1.y=e,o.text2.x=n,o.text2.y=e+16)}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.FormEvents||(e.FormEvents={})).beforeChange="beforeChange",n.change="change",n.click="click",n.focus="focus",n.blur="blur",n.keydown="keydown",n.beforeShow="beforeShow",n.afterShow="afterShow",n.beforeHide="beforeHide",n.afterHide="afterHide",n.afterValidate="afterValidate",n.beforeValidate="beforeValidate",n.beforeChangeProperties="beforeChangeProperties",n.afterChangeProperties="afterChangeProperties",n.beforeSend="beforesend",n.afterSend="aftersend",n.buttonClick="buttonClick",n.validationFail="validationfail",(n=e.FileStatus||(e.FileStatus={})).queue="queue",n.uploaded="uploaded",n.failed="failed",n.inprogress="inprogress",(n=e.UploaderEvents||(e.UploaderEvents={})).uploadBegin="uploadbegin",n.beforeUploadFile="beforeuploadfile",n.uploadFile="uploadfile",n.uploadFail="uploadfail",n.uploadComplete="uploadcomplete",n.uploadProgress="uploadprogress",(n=e.ItemEvent||(e.ItemEvent={})).click="click",n.beforeChange="beforeChange",n.change="change",n.input="input",n.focus="focus",n.blur="blur",n.keydown="keydown",n.beforeChangeOptions="beforeChangeOptions",n.changeOptions="changeOptions",n.beforeShow="beforeShow",n.afterShow="afterShow",n.beforeHide="beforeHide",n.afterHide="afterHide",n.beforeValidate="beforeValidate",n.afterValidate="afterValidate",n.beforeUploadFile="beforeUploadFile",n.uploadFile="uploadfile",n.uploadBegin="uploadBegin",n.uploadComplete="uploadComplete",n.uploadFail="uploadFail",n.uploadProgress="uploadProgress",n.beforeChangeProperties="beforeChangeProperties",n.afterChangeProperties="afterChangeProperties",(n=e.ClearMethod||(e.ClearMethod={})).value="value",n.validation="validation",(n=e.Validation||(e.Validation={})).empty="",n.validEmail="email",n.validInteger="integer",n.validNumeric="numeric",n.validAlphaNumeric="alphanumeric",n.validIPv4="IPv4",(e=e.ValidationStatus||(e.ValidationStatus={}))[e.pre=0]="pre",e[e.error=1]="error",e[e.success=2]="success"},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(22)),n(i(61)),n(i(123)),n(i(124)),n(i(26)),n(i(160)),n(i(23)),n(i(64)),n(i(63)),n(i(161)),n(i(62)),n(i(40))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(2);function r(t,e){this.config=e||{},this._uid=this.config.rootId||n.uid()}r.prototype.mount=function(t,e){e&&(this._view=e),t&&this._view&&this._view.mount&&(this._container=o.toNode(t),this._container.tagName?this._view.mount(this._container):this._container.attach&&this._container.attach(this))},r.prototype.unmount=function(){var t=this.getRootView();t&&t.node&&(t.unmount(),this._view=null)},r.prototype.getRootView=function(){return this._view},r.prototype.getRootNode=function(){return this._view&&this._view.node&&this._view.node.el},r.prototype.paint=function(){this._view&&(this._view.node||this._container)&&(this._doNotRepaint=!1,this._view.redraw())},i=r,e.View=i,e.toViewLike=function(t){return{getRootView:function(){return t},paint:function(){return t.node&&t.redraw()},mount:function(e){return t.mount(e)}}}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(e.HeaderFilterEvent||(e.HeaderFilterEvent={})).change="change",(n=e.GridEvents||(e.GridEvents={})).scroll="scroll",n.expand="expand",n.filterChange="filterChange",n.beforeFilter="beforeFilter",n.beforeResizeStart="beforeResizeStart",n.resize="resize",n.afterResizeEnd="afterResizeEnd",n.cellClick="cellClick",n.cellRightClick="cellRightClick",n.cellMouseOver="cellMouseOver",n.cellMouseDown="cellMouseDown",n.cellDblClick="cellDblClick",n.headerCellClick="headerCellClick",n.footerCellClick="footerCellClick",n.headerCellMouseOver="headerCellMouseOver",n.footerCellMouseOver="footerCellMouseOver",n.headerCellMouseDown="headerCellMouseDown",n.footerCellMouseDown="footerCellMouseDown",n.headerCellDblClick="headerCellDblClick",n.footerCellDblClick="footerCellDblClick",n.headerCellRightClick="headerCellRightClick",n.footerCellRightClick="footerCellRightClick",n.beforeEditStart="beforeEditStart",n.afterEditStart="afterEditStart",n.beforeEditEnd="beforeEditEnd",n.afterEditEnd="afterEditEnd",n.beforeKeyDown="beforeKeyDown",n.afterKeyDown="afterKeyDown",n.beforeColumnHide="beforeColumnHide",n.afterColumnHide="afterColumnHide",n.beforeColumnShow="beforeColumnShow",n.afterColumnShow="afterColumnShow",n.beforeRowHide="beforeRowHide",n.afterRowHide="afterRowHide",n.beforeRowShow="beforeRowShow",n.afterRowShow="afterRowShow",n.beforeRowDrag="beforeRowDrag",n.dragRowStart="dragRowStart",n.dragRowOut="dragRowOut",n.dragRowIn="dragRowIn",n.canRowDrop="canRowDrop",n.cancelRowDrop="cancelRowDrop",n.beforeRowDrop="beforeRowDrop",n.afterRowDrop="afterRowDrop",n.afterRowDrag="afterRowDrag",n.beforeColumnDrag="beforeColumnDrag",n.dragColumnStart="dragColumnStart",n.dragColumnOut="dragColumnOut",n.dragColumnIn="dragColumnIn",n.canColumnDrop="canColumnDrop",n.cancelColumnDrop="cancelColumnDrop",n.beforeColumnDrop="beforeColumnDrop",n.afterColumnDrop="afterColumnDrop",n.afterColumnDrag="afterColumnDrag",n.beforeRowResize="beforeRowResize",n.afterRowResize="afterRowResize",n.beforeSort="beforeSort",n.afterSort="afterSort",(n=e.GridSystemEvents||(e.GridSystemEvents={})).cellTouchMove="cellTouchMove",n.cellTouchEnd="cellTouchEnd",n.headerCellTouchMove="headerCellTouchMove",n.headerCellTouchEnd="headerCellTouchEnd",(n=e.GridSelectionEvents||(e.GridSelectionEvents={})).beforeUnSelect="beforeUnSelect",n.afterUnSelect="afterUnSelect",n.beforeSelect="beforeSelect",n.afterSelect="afterSelect",(e=e.Split||(e.Split={})).left="leftSplit",e.right="rightSplit",e.top="topSplit",e.bottom="bottomSplit"},function(t,e,i){"use strict";var n=this&&this.__rest||function(t,e){var i={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(i[o[n]]=t[o[n]]);return i};Object.defineProperty(e,"__esModule",{value:!0});var o=i(5);e.getFormItemCss=function(t,e,i){void 0===i&&(i=!1);var n=t.labelPosition,r=t.required,s=t.disabled,a=t.hiddenLabel,l=t.$validationStatus;return(t={})[o.ValidationStatus.pre]="",t[o.ValidationStatus.error]=" dhx_form-group--state_error",t[o.ValidationStatus.success]=" dhx_form-group--state_success",l=t[l]||"",n="left"===n?" dhx_form-group--inline":"",s=s?" dhx_form-group--disabled":"",a=a?" dhx_form-group--label_sr":"",e?n+(i?"":l)+(r?" dhx_form-group--required":"")+s+a:n+s+a};var r=((i={})[o.Validation.validAlphaNumeric]=/^[a-zA-Z0-9_]+$/,i[o.Validation.validEmail]=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i[o.Validation.validInteger]=/^-?\d+$/,i[o.Validation.validIPv4]=/\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.|$)){4}\b/,i[o.Validation.validNumeric]=/^-?\d+(\.\d+)?$/,i);e.getValidationMessage=function(t){var e;return(e={undefined:t.preMessage})[o.ValidationStatus.pre]=t.preMessage,e[o.ValidationStatus.error]=t.errorMessage,e[o.ValidationStatus.success]=t.successMessage,e[t.$validationStatus]||""},e.validateTemplate=function(t,e){return!r[t]||r[t].test(e)},e.isBlock=function(t){return Boolean(t.rows)||Boolean(t.cols)},e.validateInput=function(t,e){var i=!0;return"function"==typeof e?i=e(t):(e=r[e])&&(i=e.test(t.toString())),i},e.baseInputValidate=function(t,e){var i=e.inputType,n=e.min,o=e.max,r=e.minlength;return e=e.maxlength,"number"===i?void 0!==n&&void 0!==o?Number(n)<=Number(o)&&Number(n)<=Number(t)&&Number(o)>=Number(t):void 0!==n?Number(n)<=Number(t):void 0!==o?Number(o)>=Number(t):0===t||"0"===t||!!t:void 0!==r&&void 0!==e?Number(r)<=String(t).length&&Number(e)>=String(t).length:void 0!==r?Number(r)<=String(t).length:void 0!==e?Number(e)>=String(t).length:"string"==typeof t&&!!t},e.isTimeFormat=function(t,e){return(12===e?/(^0?([1-9][0-2]?):[0-5][0-9]?([AP][M]?)$)/i:/(^(0[0-9]|1[0-9]|2[0-3]|[0-9]):[0-5][0-9]$)/i).test(t)},e.isVerify=function(t){return["required","validation","minlength","maxlength","min","max"].some((function(e){switch(e){case"required":return!!t[e];case"validation":return"function"==typeof t[e]||"email"===t[e]||"integer"===t[e]||"numeric"===t[e]||"alphanumeric"===t[e]||"IPv4"===t[e];case"minlength":case"maxlength":return"number"==typeof t[e]||"string"==typeof t[e];case"min":case"max":return("number"==typeof t[e]||"string"==typeof t[e])&&"number"===t.inputType}}))},e.baseProps=["width","height","padding","css"],e.widgetConfig=function(t){return t.width,t.type,t.id,t.name,t.hidden,t.editable,t.css,t.required,t.helpMessage,t.preMessage,t.successMessage,t.errorMessage,t.label,t.labelWidth,t.labelPosition,t.hiddenLabel,t.validation,t.icon,n(t,["width","type","id","name","hidden","editable","css","required","helpMessage","preMessage","successMessage","errorMessage","label","labelWidth","labelPosition","hiddenLabel","validation","icon"])}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(43)),n(i(134)),n(i(44))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(137)),n(i(67))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18),o=i(2);function r(t){for(var e=t.toLowerCase().match(/\w+/g),i=0,n="",o=0;o<e.length;o++){var r=e[o];"ctrl"===r?i+=4:"shift"===r?i+=2:"alt"===r?i+=1:n=r}return i+n}var s={Up:"arrowUp",Down:"arrowDown",Right:"arrowRight",Left:"arrowLeft",Esc:"escape",Spacebar:"space"};function a(t){var e=this;this._keysStorage={},this._initHandler=function(t){var i;i=48<=t.which&&t.which<=57||65<=t.which&&t.which<=90?String.fromCharCode(t.which):(i=32===t.which?t.code:t.key,o.isIE()&&s[i]||i);var r=e._keysStorage[(t.ctrlKey||t.metaKey?4:0)+(t.shiftKey?2:0)+(t.altKey?1:0)+(i&&i.toLowerCase())];if(r)for(var a=0;a<r.length;a++){if(e._beforeCall&&!1===e._beforeCall(t,n.focusManager.getFocusId()))return;r[a].handler(t)}},t&&(this._beforeCall=t),document.addEventListener("keydown",this._initHandler)}a.prototype.destructor=function(){document.removeEventListener("keydown",this._initHandler),this.removeHotKey()},a.prototype.addHotKey=function(t,e){t=r(t),this._keysStorage[t]||(this._keysStorage[t]=[]),this._keysStorage[t].push({handler:e})},a.prototype.removeHotKey=function(t,e){var i,n,o=this;t?t&&e?(i=r(t),n=function(t){return t.toString().replace(/\n/g,"").replace(/\s/g,"")},this._keysStorage[i].forEach((function(t,r){n(t.handler)===n(e)&&(delete o._keysStorage[i][r],o._keysStorage[i]=o._keysStorage[i].filter((function(t){return t})))}))):(t=r(t),delete this._keysStorage[t]):this._keysStorage={}},a.prototype.exist=function(t){return t=r(t),!!this._keysStorage[t]},a.prototype.getKeyStorageLength=function(){return Object.keys(this._keysStorage).length},i=a,e.KeyManager=i},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(154)),n(i(155)),n(i(156)),n(i(80)),n(i(48))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(2);e.transpose=function(t,e){for(var i=[],n=0;n<t.length;n++)for(var o=t[n],r=0;r<o.length;r++){i[r]=i[r]||[];var s=e?e(o[r]):o[r];i[r].push(s)}return i},e.getStyleByClass=function(t,e,i,o){return i=e=e.querySelector("."+i),i="string"==typeof(t='<div class="'+t+'"></div>')?(i.insertAdjacentHTML("beforeend",t),i.lastChild):(i.appendChild(t),t),t={color:"rgb(0, 0, 0)"===(t=window.getComputedStyle(i)).color?o.color:n.rgbToHex(t.color),background:"rgba(0, 0, 0, 0)"===t.backgroundColor?o.background:n.rgbToHex(t.backgroundColor),fontSize:Math.round(parseFloat(t.fontSize))},e.removeChild(i),t.color===o.color&&t.background===o.background&&t.fontSize===o.fontSize?null:t},e.removeHTMLTags=function(t){return"string"!=typeof t&&"number"!=typeof t&&"boolean"!=typeof t?"":(""+(null==t?"":t)).replace(/<[^>]*>/g,"").replace(/["]/g,"&quot;").trim()},e.isCssSupport=function(t,e){try{return CSS.supports(t,e)}catch(n){var i=document.createElement("div");return i.style[t]=e,i.style[t]===e}},e.isRowEmpty=function(t){if(t)return Object.keys(t).reduce((function(e,i){return"id"!==i&&!i.startsWith("$")&&e&&void 0!==t[i]&&""!==t[i]?void 0:e}),!0)},e.isSortable=function(t,e){return!1!==e.sortable&&t.sortable||e.sortable},e.isAutoWidth=function(t,e){if(e)return!1!==e.autoWidth&&t.autoWidth||e.autoWidth;var i=!1;return t.columns.map((function(e){(!1!==e.autoWidth&&t.autoWidth||e.autoWidth)&&(i=!0)})),i},e.isTooltip=function(t,e){return!1!==e.tooltip&&t.tooltip||e.tooltip},e.isHtmlEnable=function(t,e){return!1!==e.htmlEnable&&t.htmlEnable||e.htmlEnable},e.getTotalWidth=function(t){return t.reduce((function(t,e){return t+(e.$width||0)}),0)},e.getTotalHeight=function(t){return t.reduce((function(t,e){return t+(e.$height||0)}),0)},e.scrollFixedColsAndRows=function(t){var e=o.locateNode(t,"data-dhx-widget-id").querySelector(".dhx_grid-body"),i=t.deltaY;i=t.shiftKey?[i,0]:[0,i],null!=e&&e.scrollBy.apply(e,i)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(1);e.locale={monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Monday"],cancel:"Cancel"};var r,s={"%d":function(t){return(t=t.getDate())<10?"0"+t:t},"%j":function(t){return t.getDate()},"%l":function(t){return e.locale.days[t.getDay()]},"%D":function(t){return e.locale.daysShort[t.getDay()]},"%m":function(t){return(t=t.getMonth()+1)<10?"0"+t:t},"%n":function(t){return t.getMonth()+1},"%M":function(t){return e.locale.monthsShort[t.getMonth()]},"%F":function(t){return e.locale.months[t.getMonth()]},"%y":function(t){return t.getFullYear().toString().slice(2)},"%Y":function(t){return t.getFullYear()},"%h":function(t){return 0==(t=t.getHours()%12)&&(t=12),t<10?"0"+t:t},"%g":function(t){return 0==(t=t.getHours()%12)&&(t=12),t},"%H":function(t){return(t=t.getHours())<10?"0"+t:t},"%G":function(t){return t.getHours()},"%i":function(t){return(t=t.getMinutes())<10?"0"+t:t},"%s":function(t){return(t=t.getSeconds())<10?"0"+t:t},"%a":function(t){return 12<=t.getHours()?"pm":"am"},"%A":function(t){return 12<=t.getHours()?"PM":"AM"},"%u":function(t){return t.getMilliseconds()}},a={"%d":function(t,e,i,n){var o=/(^([0-9][0-9])$)/i.test(e);if(n)return o;o?t.setDate(Number(e)):t.setDate(Number(1))},"%j":function(t,e,i,n){var o=/(^([0-9]?[0-9])$)/i.test(e);if(n)return o;o?t.setDate(Number(e)):t.setDate(Number(1))},"%m":function(t,e,i,n){var o=/(^([0-9][0-9])$)/i.test(e);if(n)return o;o?t.setMonth(Number(e)-1):t.setMonth(Number(0)),o&&t.getMonth()!==Number(e)-1&&t.setMonth(Number(e)-1)},"%n":function(t,e,i,n){var o=/(^([0-9]?[0-9])$)/i.test(e);if(n)return o;o?t.setMonth(Number(e)-1):t.setMonth(Number(0)),o&&t.getMonth()!==Number(e)-1&&t.setMonth(Number(e)-1)},"%M":function(t,i,n,r){var s=o.findIndex(e.locale.monthsShort,(function(t){return t===i}));if(r)return-1!==s;-1===s?t.setMonth(0):t.setMonth(s),-1!==s&&t.getMonth()!==s&&t.setMonth(s)},"%F":function(t,i,n,r){var s=o.findIndex(e.locale.months,(function(t){return t===i}));if(r)return-1!==s;-1===s?t.setMonth(0):t.setMonth(s),-1!==s&&t.getMonth()!==s&&t.setMonth(s)},"%y":function(t,e,i,n){var o=/(^([0-9][0-9])$)/i.test(e);if(n)return o;o?t.setFullYear(Number("20"+e)):t.setFullYear(Number("2000"))},"%Y":function(t,e,i,n){var o=/(^([0-9][0-9][0-9][0-9])$)/i.test(e);if(n)return o;o?t.setFullYear(Number(e)):t.setFullYear(Number("2000"))},"%h":function(t,e,i,n){var o=/(^0[1-9]|1[0-2]$)/i.test(e);if(n)return o;o&&"pm"===i||"PM"===i?t.setHours(Number(e)):t.setHours(Number(0))},"%g":function(t,e,i,n){var o=/(^[1-9]$)|(^0[1-9]|1[0-2]$)/i.test(e);return n||n?o:void(o&&"pm"===i||"PM"===i?t.setHours(Number(e)):t.setHours(Number(0)))},"%H":function(t,e,i,n){var o=/(^[0-2][0-9]$)/i.test(e);if(n)return o;o?t.setHours(Number(e)):t.setHours(Number(0))},"%G":function(t,e,i,n){var o=/(^[1-9][0-9]?$)/i.test(e);if(n)return o;o?t.setHours(Number(e)):t.setHours(Number(0))},"%i":function(t,e,i,n){var o=/(^([0-5][0-9])$)/i.test(e);if(n)return o;o?t.setMinutes(Number(e)):t.setMinutes(Number(0))},"%s":function(t,e,i,n){var o=/(^([0-5][0-9])$)/i.test(e);if(n)return o;o?t.setSeconds(Number(e)):t.setSeconds(Number(0))},"%u":function(t,e,i,n){var o=/(^([0-9][0-9][0-9])$)/i.test(e);if(n)return o;o?t.setMilliseconds(Number(e)):t.setMilliseconds(Number(0))},"%a":function(t,e,i,n){if(e="pm"===e,n)return e;e&&t.setHours(t.getHours()+12)},"%A":function(t,e,i,n){if(e="PM"===e,n)return e;e&&t.setHours(t.getHours()+12)}};function l(t){for(var e=[],i="",n=0;n<t.length;n++)"%"===t[n]?(0<i.length&&(e.push({type:r.separator,value:i}),i=""),e.push({type:r.datePart,value:t[n]+t[n+1]}),n++):i+=t[n];return 0<i.length&&e.push({type:r.separator,value:i}),e}function c(t,e,i){if("string"==typeof t){for(var n,o=l(e),s=[],c=0,d=null,u="Incorrect date, see docs: https://docs.dhtmlx.com/suite/calendar__api__calendar_dateformat_config.html",h=0;h<o.length;h++)if(o[h].type===r.separator){var f=t.indexOf(o[h].value,c);if(-1===f){if(i)return!1;throw new Error(u)}d&&(s.push({formatter:d,value:t.slice(c,f)}),d=null),c=f+o[h].value.length}else if(o[h].type===r.datePart){if(o[h+1]&&o[h+1].type!==r.separator){if(i)return!1;throw new Error(u)}d=o[h].value}"%A"===d||"%a"===d?s.unshift({formatter:d,value:t.slice(c)}):d&&s.push({formatter:d,value:t.slice(c)}),s.reverse();for(var p=0,g=s;p<g.length;p++)"%A"!==(y=g[p]).formatter&&"%a"!==y.formatter||(n=y.value);for(var _=new Date(0),v=0,m=s;v<m.length;v++){var y=m[v];if(a[y.formatter]){if(i&&!a[y.formatter](_,y.value,n,i))return!1;a[y.formatter](_,y.value,n)}}return!!i||_}}function d(){}(i=r=r||{})[i.separator=0]="separator",i[i.datePart=1]="datePart",e.getFormattedDate=function(t,e){return l(t).reduce((function(t,i){return i.type===r.separator?t+i.value:s[i.value]?t+s[i.value](e):t}),"")},e.stringToDate=c,d.copy=function(t){return new Date(t)},d.fromYear=function(t){return new Date(t,0,1)},d.fromYearAndMonth=function(t,e){return new Date(t,e,1)},d.weekStart=function(t,e){return e=(t.getDay()+7-e)%7,new Date(t.getFullYear(),t.getMonth(),t.getDate()-e)},d.monthStart=function(t){return new Date(t.getFullYear(),t.getMonth(),1)},d.yearStart=function(t){return new Date(t.getFullYear(),0,1)},d.dayStart=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},d.addDay=function(t,e){return void 0===e&&(e=1),new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},d.addMonth=function(t,e){return void 0===e&&(e=1),new Date(t.getFullYear(),t.getMonth()+e)},d.addYear=function(t,e){return void 0===e&&(e=1),new Date(t.getFullYear()+e,t.getMonth())},d.withHoursAndMinutes=function(t,e,i,n){return void 0===n||!n&&12===e||n&&12!==e?new Date(t.getFullYear(),t.getMonth(),t.getDate(),e,i):n&&12===e?new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,i):new Date(t.getFullYear(),t.getMonth(),t.getDate(),e+12,i)},d.setMonth=function(t,e){t.setMonth(e)},d.setYear=function(t,e){t.setFullYear(e)},d.mergeHoursAndMinutes=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())},d.isWeekEnd=function(t){return 0===t.getDay()||6===t.getDay()},d.getTwelweYears=function(t){return t=t.getFullYear(),t-=t%12,n.range(t,11+t)},d.getDayOrdinal=function(t){return(t.valueOf()-d.yearStart(t).valueOf())/864e5},d.getWeekNumber=function(t){6!==t.getDay()&&(t=d.addDay(t,6-t.getDay()));var e=d.getDayOrdinal(t);return e-t.getDay()<0&&(t=new Date(t.getFullYear()-1,12,0),e=d.getDayOrdinal(t)),Math.floor((e-t.getDay()+10)/7)},d.isSameDay=function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},d.toDateObject=function(t,e){return"string"==typeof t?c(t,e):new Date(t)},d.nullTimestampDate=new Date(0),i=d,e.DateHelper=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(2),c=i(7),d=i(11);function u(t,e){void 0===e&&(e={});var i=s.call(this,t,e)||this;return i._handlers=r({showHelper:function(t){t.preventDefault(),t.stopPropagation(),i._helper.show(t.target,{mode:"left"===i.config.labelPosition?"bottom":"right",theme:t.target})},hideHelper:function(t){t.preventDefault(),t.stopPropagation(),i._helper.hide()}},i._getHandlers()),i.mount(t,a.create({render:function(){return i._draw()}})),i}o(u,s=c.View),u.prototype._destructor=function(){this._helper&&this._helper.destructor(),this.config=this._handlers=this._helper=null,this.unmount()},u.prototype._getHandlers=function(){return{}},u.prototype._init=function(){},u.prototype._draw=function(){return this._drawLabel()},u.prototype._drawLabel=function(){var t=this.config,e=t.id,i=t.helpMessage,n=t.required;return this.config.helpMessage&&(this._helper||(this._helper=new d.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"})),this._helper.attachHTML(this.config.helpMessage)),(t=l.getLabelStyle(this.config))&&a.el((this.config.type.includes("group")?"legend":"label")+".dhx_label",{for:e||this._uid,class:i?"dhx_label--with-help":"",style:t.style},i?[(t.label||n)&&a.el("span.dhx_label__holder",t.label),a.el("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,onfocus:this._handlers.showHelper,onblur:this._handlers.hideHelper,id:"dhx_label__help_"+(e||this._uid)})]:t.label)},o=u,e.Label=o},function(t,e,i){(function(e,i){!function(){e="undefined"!=typeof window?window:this;var n=1,o={},r=!1;function s(t){e.setImmediate?i(t):e.importScripts?setTimeout(t):(o[++n]=t,e.postMessage(n,"*"))}function a(t){"use strict";if("function"!=typeof t&&null!=t)throw TypeError();if("object"!=typeof this||this&&this.then)throw TypeError();var e,i,n=this,o=0,r=0,l=[];(n.promise=n).resolve=function(t){return e=n.fn,i=n.er,o||(r=t,o=1,s(u)),n},n.reject=function(t){return e=n.fn,i=n.er,o||(r=t,o=2,s(u)),n},n._d=1,n.then=function(t,e){if(1!=this._d)throw TypeError();var i=new a;return i.fn=t,i.er=e,3==o?i.resolve(r):4==o?i.reject(r):l.push(i),i},n.catch=function(t){return n.then(null,t)};var c=function(t){o=t||4,l.map((function(t){3==o&&t.resolve(r)||t.reject(r)}))};try{"function"==typeof t&&t(n.resolve,n.reject)}catch(t){n.reject(t)}return n;function d(t,e,i,n){if(2==o)return n();if("object"!=typeof r&&"function"!=typeof r||"function"!=typeof t)n();else try{var s=0;t.call(r,(function(t){s++||(r=t,e())}),(function(t){s++||(r=t,i())}))}catch(t){r=t,i()}}function u(){var t;try{t=r&&r.then}catch(t){return r=t,o=2,u()}d(t,(function(){o=1,u()}),(function(){o=2,u()}),(function(){try{1==o&&"function"==typeof e?r=e(r):2==o&&"function"==typeof i&&(r=i(r),o=1)}catch(t){return r=t,c()}r==n?(r=TypeError(),c()):d(t,(function(){c(3)}),c,(function(){c(1==o&&3)}))}))}}e.setImmediate||e.addEventListener("message",(function(t){if(t.source==e)if(r)s(o[t.data]);else{r=!0;try{o[t.data]()}catch(t){}delete o[t.data],r=!1}})),a.resolve=function(t){if(1!=this._d)throw TypeError();return t instanceof a?t:new a((function(e){e(t)}))},a.reject=function(t){if(1!=this._d)throw TypeError();return new a((function(e,i){i(t)}))},a.all=function(t){if(1!=this._d)throw TypeError();if(!(t instanceof Array))return a.reject(TypeError());var e=new a;return function i(n,o){return o?e.resolve(o):n?e.reject(n):(0==t.reduce((function(t,e){return e&&e.then?t+1:t}),0)&&e.resolve(t),void t.map((function(e,n){e&&e.then&&e.then((function(e){return t[n]=e,i(),e}),i)})))}(),e},a.race=function(t){if(1!=this._d)throw TypeError();if(!(t instanceof Array))return a.reject(TypeError());if(0==t.length)return new a;var e=new a;return function i(n,o){return o?e.resolve(o):n?e.reject(n):(0==t.reduce((function(t,e){return e&&e.then?t+1:t}),0)&&e.resolve(t),void t.map((function(t,e){t&&t.then&&t.then((function(t){i(null,t)}),i)})))}(),e},a._d=1,t.exports=a}()}).call(this,i(39),i(115).setImmediate)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2);function o(){var t=this;this._initHandler=function(e){return t._activeWidgetId=n.locate(e,"data-dhx-widget-id")},this._removeFocusClass=function(t){var e=document.body.classList;e.contains("utilityfocus")&&e.remove("utilityfocus")},this._addFocusClass=function(t){var e=document.body.classList;"Tab"===t.code?e.contains("utilityfocus")||e.add("utilityfocus"):e.contains("utilityfocus")&&e.remove("utilityfocus")},document.addEventListener("focusin",this._initHandler),document.addEventListener("pointerdown",this._initHandler),document.addEventListener("mousedown",this._removeFocusClass),document.addEventListener("keydown",this._addFocusClass)}o.prototype.getFocusId=function(){return this._activeWidgetId},o.prototype.setFocusId=function(t){this._activeWidgetId=t},i=o,e.focusManager=new i},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(2),a=i(24),l=i(14),c=i(8),d=i(27),u=i(77),h=i(78),f=i(1);function p(t,i){void 0===i&&(i=!1);var n=void 0===(o=t.headerHeight)?t.$headerLevel*t.headerRowHeight:o,o=void 0===(o=t.footerHeight)?t.$footerLevel*t.footerRowHeight:o;return o=!(n=t.$totalHeight+n+o+e.BORDERS>t.height)||i?0:s.getScrollbarWidth(),{x:!(t=t.$totalWidth+e.BORDERS+o>t.width)||i?0:s.getScrollbarWidth(),y:o,xState:t,yState:n}}function g(t,e){return t[e]?(e===c.Split.left?t.columns.slice(0,t.leftSplit):t.columns.slice(-t.rightSplit)).filter((function(t){return!t.hidden})):[]}function _(t,e,i){var o=t.config,r=o.columns.filter((function(t){return!t.hidden})),s=a.calculatePositions(i.width,i.height,t._scroll,o,e),l=r.slice(s.xStart,s.xEnd),d=e.slice(s.yStart,s.yEnd),u={left:g(o,c.Split.left),right:g(o,c.Split.right)};return i={top:e.slice(0,o.topSplit||0),bottom:o.bottomSplit?e.slice(-o.bottomSplit):[]},n(n({},o),{data:e,columns:r,scroll:t._scroll,$positions:s,headerHeight:o.$headerLevel*o.headerRowHeight,footerHeight:o.$footerLevel*o.footerRowHeight,firstColId:r[0]&&r[0].id,events:t.events,_events:t._events,currentColumns:l,currentRows:d,fixedColumns:u,fixedRows:i,sortBy:t._sortBy,sortDir:t._sortDir,content:t.content,gridId:t._uid,$renderFrom:"render"})}function v(t){if(t&&(t.tagName||(t=t._parent._container),t)){var e=t.currentStyle||window.getComputedStyle(t),i=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)||0;return e=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)||0,{width:t.clientWidth-i,height:t.clientHeight-e}}}function m(t,e){var i,r=t.currentColumns,a=t.currentRows,l=t.fixedRows,d=t.fixedColumns,u=t.eventHandlers,h={};if(u)for(var f in u)u.hasOwnProperty(f)&&(i=u[f],h[f]=s.eventHandler((function(t){var i,n,u=s.locate(t,"data-dhx-id"),h=s.locate(t,"data-dhx-col-id");switch(e){case c.Split.left:case c.Split.right:i=o(l.top,l.bottom,a).find((function(t){return t.id.toString()===u})),n=o(d.left,d.right).find((function(t){return t.id===h}));break;case c.Split.top:case c.Split.bottom:i=o(l.top,l.bottom).find((function(t){return(null==t?void 0:t.id.toString())===u})),n=o(d.left,d.right,r).find((function(t){return t.id===h}));break;default:i=a.find((function(t){return t.id.toString()===u})),n=r.find((function(t){return t.id===h}))}return{row:u?i:{},col:h?n:{}}}),n({},i)));return h}function y(t,e){var i,o=d.getCells(t),s=t.columns,a=t.$resizing,c=t.$totalHeight,u=t.$totalWidth,h=t.leftSplit,p=t.data,g=t.$positions,_=d.getSpans(t);a&&(v=f.findIndex(s,(function(t){return t.id===a})),y=l.getTotalWidth(s.slice(0,v))+s[v].$width,i=r.el(".dhx_grid-resize-line",{style:{top:0,left:y,height:c}}));var v="string"==typeof(v=t.selection?t.selection.toHTML():null)?r.el("div.dhx_selection",{".innerHTML":v}):v,y=g;return g=m(t),r.el(".dhx_data-wrap",n({style:{height:c,width:u,"padding-left":e.x,"padding-top":e.y},role:"presentation"},g),[r.el(".dhx_grid_data"+(h?".dhx_grid_fixed_left":""),n(n({_flags:r.KEYED_LIST},d.getHandlers(y.yStart,y.xStart,t)),{role:"rowgroup","aria-rowcount":p.length}),o),r.el(".dhx_span-spans",n({role:"presentation"},d.getHandlers(y.yStart,y.xStart,t)),_),r.el(".dhx_grid_selection",{_ref:"selection","aria-hidden":"true"},[v,i])])}function b(t,i,n){return n=n.height-e.BORDERS,n=i?n:n-t.headerHeight,!t.$footer||i?n:n-t.footerHeight}function x(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=!1);var a,c=!r&&t.$totalHeight>=i.height-t.headerRowHeight?s.getScrollbarWidth():0,d=i.width-e.BORDERS-c,u=t.columns.filter((function(t){return!t.hidden})),h=(c=u.filter((function(e){return!e.width&&!e.$fixed&&l.isAutoWidth(t,e)})),l.getTotalWidth(u.filter((function(e){return e.width||e.$fixed||!l.isAutoWidth(t,e)})))),f=c.reduce((function(t,e){return t+(e.gravity||1)}),0);d<t.$totalWidth?(a=c.reduce((function(t,e){return t+(e.maxWidth||e.$width)}),0),c.length&&c.forEach((function(t){var e,i=(e=n?Math.abs(d-a)*((t.gravity||1)/f):Math.abs(d-h)*((t.gravity||1)/f))<t.minWidth,o=e>t.maxWidth;i||o?i?(h+=t.$width-e,t.$fixed=!0):o&&(t.$width=t.maxWidth,t.$fixed=!0):t.$width=e,t.$width<20&&(t.$width=20)}))):c.forEach((function(t){var e=Math.abs(d-h)*((t.gravity||1)/f),i=e<t.minWidth,r=e>t.maxWidth;i||r?i?(h+=t.$width-e,o&&(t.$fixed=!0)):r&&(t.$width=t.maxWidth,o&&(t.$fixed=!0)):t.$width=e,t.$width<20&&(t.$width=20),!n&&t.$fixed&&delete t.$fixed})),n&&x(t,i,!1,o,r)}e.BORDERS=2,e.calcScrollBarWidth=p,e.getCurrFixedCols=g,e.getRenderConfig=_,e.getEvents=m,e.render=function(t,i,o,s,a){i._container||(i.config.width=1,i.config.height=1),t&&t.node&&t.node.parent&&t.node.parent.el&&(H=v(t.node.parent.el),i.config.width=H.width,i.config.height=H.height);var f=i.config;if(!f)return r.el("div");if(!f.columns.length)return r.el(".dhx_grid",{"data-dhx-widget-id":a,"data-dhx-root-id":f.rootParent,role:"empty-grid"});var g=i.data.getRawData(0,-1,null,2);f.columns.reduce((function(t,e){return e.hidden&&t}),!0)?f.$totalHeight=0:f.$totalHeight=g.reduce((function(t,e){return t+(e.$height||0)}),0);var m=v(i._container),w={width:f.width||m&&m.width||0,height:f.height||m&&m.height||0};l.isAutoWidth(f)&&(x(f,w),f.$totalWidth=l.getTotalWidth(f.columns.filter((function(t){return!t.hidden})))),f.width=w.width,f.height=w.height;var E=_(i,g,w);E.selection=s,E.datacollection=i.data;var C=d.getShifts(E);(f.leftSplit||f.rightSplit||f.topSplit||f.bottomSplit)&&(E.$scrollBarWidth=p(E));var S,k,I,O,P=l.isCssSupport("position","sticky"),M=b(E,P,w),D={wrapper:w,sticky:P,shifts:C,gridBodyHeight:M},V=h.getFixedRows(E,n(n({},D),{name:"header",position:"top"})),T=E.$footer?h.getFixedRows(E,n(n({},D),{name:"footer",position:"bottom"})):null,H=E.$totalWidth+e.BORDERS<w.width?"dhx_grid-less-width":"";return m=E.$totalHeight+e.BORDERS<w.height?"dhx_grid-less-height":"",g=E.fixedColumns.right.length?"dhx_grid__contains_cols_right--fixed":"",s=f.bottomSplit?"dhx_grid__contains_rows_bottom--fixed":"",t.node||(t=i.getScrollState(),S=t.x,k=t.y,r.awaitRedraw().then((function(){i.scroll(S,k)}))),r.el(".dhx_grid.dhx_widget",n({class:(E.css||"")+(P?"":" dhx_grid_border")+(f.multiselection?" dhx_no-select--pointer":""),"data-dhx-widget-id":a,"data-dhx-root-id":f.rootParent},(I=E.data,O=f.columns,t=E.editable,a=E.multiselection,{role:"grid","aria-rowcount":I.length,"aria-colcount":O.filter((function(t){return!t.hidden})).length,"aria-readonly":t?"false":"true","aria-multiselectable":a?"true":"false"})),[r.resizer((function(t){return l.isAutoWidth(i.config)&&t&&(f.$totalWidth=0,x(f,w,!0,!0)),i.paint()})),r.el(".dhx_grid-content",{style:n({},w),onclick:o.onclick,onmouseover:o.onmouseover,class:(H+" "+m+" "+g+" "+s).trim(),role:"presentation"},[P?null:V,r.el(".dhx_grid-body",{style:{height:M,width:w.width-e.BORDERS},onscroll:o.onscroll,_ref:"grid_body",role:"presentation"},[r.el("div",{},[P?V:null,y(E,C),P?T:null])]),u.getFixedColsHeader(E,D,c.Split.left),u.getFixedColsHeader(E,D,c.Split.right),u.getFixedCols(E,D,c.Split.left),u.getFixedCols(E,D,c.Split.right),h.getFixedDataRows(E,D,c.Split.top),h.getFixedDataRows(E,D,c.Split.bottom),P?null:T])])},e.proRender=function(t,i,o,s,a){i._container||(i.config.width=1,i.config.height=1),t&&t.node&&t.node.parent&&t.node.parent.el&&(D=v(t.node.parent.el),i.config.width=D.width,i.config.height=D.height);var f=i.config;if(!f)return r.el("div");if(!f.columns.length)return r.el(".dhx_grid",{"data-dhx-widget-id":a,"data-dhx-root-id":f.rootParent,role:"empty-grid"});var g=i.data.getRawData(0,-1,null,2);f.columns.reduce((function(t,e){return e.hidden&&t}),!0)?f.$totalHeight=0:f.$totalHeight=g.reduce((function(t,e){return t+(e.$height||0)}),0);var m=v(i._container),w={width:f.width||m&&m.width||0,height:f.height||m&&m.height||0};l.isAutoWidth(f)&&(x(f,w,!0,!1,i.scrollView&&i.scrollView.config.enable),f.$totalWidth=l.getTotalWidth(f.columns.filter((function(t){return!t.hidden})))),f.width=w.width,f.height=w.height;var E=_(i,g,w);E.selection=s,E.datacollection=i.data;var C=d.getShifts(E);(f.leftSplit||f.rightSplit||f.topSplit||f.bottomSplit)&&(E.$scrollBarWidth=p(E,!(null===(V=i.scrollView)||void 0===V||!V.config.enable)));var S,k,I=l.isCssSupport("position","sticky"),O=b(E,I,w),P={wrapper:w,sticky:I,shifts:C,gridBodyHeight:O},M=h.getFixedRows(E,n(n({},P),{name:"header",position:"top"})),D=E.$footer?h.getFixedRows(E,n(n({},P),{name:"footer",position:"bottom"})):null,V=(m=E.$totalWidth+e.BORDERS<w.width?"dhx_grid-less-width":"",g=E.$totalHeight+e.BORDERS<w.height?"dhx_grid-less-height":"",s=E.fixedColumns.right.length?"dhx_grid__contains_cols_right--fixed":"",f.bottomSplit?"dhx_grid__contains_rows_bottom--fixed":"");return t.node||(t=i.getScrollState(),S=t.x,k=t.y,r.awaitRedraw().then((function(){i.scroll(S,k)}))),C=r.el("div",{},[I?M:null,y(E,C),I?D:null]),r.el(".dhx_grid.dhx_widget",{class:(E.css||"")+(I?"":" dhx_grid_border")+(f.multiselection?" dhx_no-select--pointer":""),"data-dhx-widget-id":a,"data-dhx-root-id":f.rootParent,role:"grid","aria-rowcount":E.data.length,"aria-colcount":f.columns.filter((function(t){return!t.hidden})).length},[r.resizer((function(t){return l.isAutoWidth(i.config)&&t&&(f.$totalWidth=0,x(f,w,!0,!0)),i.paint()})),r.el(".dhx_grid-content",{style:n({},w),onclick:o.onclick,onmouseover:o.onmouseover,class:(m+" "+g+" "+s+" "+V).trim(),role:"presentation"},[I?null:M,r.el(".dhx_grid-body",{style:{height:O,width:w.width-e.BORDERS},onscroll:o.onscroll,_ref:"grid_body",role:"presentation"},[i.scrollView&&i.scrollView.config.enable?i.scrollView.render([C]):C]),u.getFixedColsHeader(E,P,c.Split.left),u.getFixedColsHeader(E,P,c.Split.right),u.getFixedCols(E,P,c.Split.left),u.getFixedCols(E,P,c.Split.right),h.getFixedDataRows(E,P,c.Split.top),h.getFixedDataRows(E,P,c.Split.bottom),I?null:D])])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=i(2);function s(t,i){var o=this;void 0===i&&(i={}),this.config=n.extend({enable:e.scrollViewConfig.enable,autoHide:e.scrollViewConfig.autoHide,timeout:e.scrollViewConfig.timeout,scrollHandler:e.scrollViewConfig.scrollHandler},i),this._wheelName=r.isIE()?"onmousewheel":"onwheel",this._getRootView=t,this._scrollYTop=this._scrollXLeft=this._runnerYTop=this._runnerXLeft=this._runnerHeight=this._runnerWidth=0,this._visibleYArea=this._visibleXArea=1,this._scrollWidth=r.getScrollbarWidth(),this._scrollHeight=r.getScrollbarHeight(),this._handlers=((t={onscroll:function(t){o.config.scrollHandler(t),o.update()}})[this._wheelName]=function(t){var e=!!r.locateNodeByClassName(t.target,"y-scroll");t.preventDefault();var i,n=40*(0<(t.deltaY||-t.wheelDelta)?1:-1);t=o._getRefs().area,e?(e=t.scrollHeight-o._runnerHeight,i=o._scrollYTop+n,t.scrollTop=i<0?0:e<i?e:i):(i=t.scrollWidth-o._runnerWidth,n=o._scrollXLeft+n,t.scrollLeft=n<0?0:i<n?i:n),o.update()},t.onmousedownRunner=function(t){function e(t){var e;n?(e=t.pageY-h,s.scrollTop=e<=c?0:d<e?u:(e-c)/o._visibleYArea):(t=t.pageX-_,s.scrollLeft=t<=f?0:p<t?g:(t-f)/o._visibleXArea),o.update()}t.preventDefault();var i,n=!!r.locateNodeByClassName(t.target,"y-scroll"),s=(i=o._getRefs()).area,a=i.runnerY,l=i.runnerX,c=(i=s.getBoundingClientRect()).top+window.pageYOffset,d=i.bottom+window.pageYOffset,u=s.scrollHeight-o._runnerHeight,h=t.pageY-a.getBoundingClientRect().top-window.pageYOffset,f=i.left+window.pageXOffset,p=i.right+window.pageXOffset,g=s.scrollWidth-o._runnerWidth,_=t.pageX-l.getBoundingClientRect().left-window.pageXOffset,v=function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",v),document.body.classList.remove("dhx-no-select")};document.body.classList.add("dhx-no-select"),document.addEventListener("mousemove",e),document.addEventListener("mouseup",v)},t.onmousedownArea=function(t){var e,i,n,s;r.locateNodeByClassName(t,"scroll-runner")||(t.preventDefault(),e=!!r.locateNodeByClassName(t.target,"y-scroll"),i=(s=o._getRefs()).area,n=s.runnerY,s=s.runnerX,e?i.scrollTop+=(t.pageY-n.getBoundingClientRect().top)/o._visibleYArea:i.scrollLeft+=(t.pageX-s.getBoundingClientRect().left)/o._visibleXArea,o.update())},t.onmouseenter=function(t){var e,i;r.locateNodeByClassName(t,"scroll-runner")||(i=o._getRefs())&&(e=!!r.locateNodeByClassName(t.target,"y-scroll"),t=i.areaX,i=i.areaY,e&&0<o._runnerHeight?i.style.background="#eee":!e&&0<o._runnerWidth&&(t.style.background="#eee"))},t.onmouseleave=function(t){var e,i;r.locateNodeByClassName(t,"scroll-runner")||(i=o._getRefs())&&(e=!!r.locateNodeByClassName(t.target,"y-scroll"),t=i.areaX,i=i.areaY,e&&0<o._runnerHeight?i.style.background="transparent":!e&&0<o._runnerWidth&&(t.style.background="transparent"))},t)}e.scrollViewConfig={enable:!1,autoHide:!0,timeout:1e3,scrollHandler:function(){}},s.prototype.enable=function(){this.config.enable=!0,this._getRootView().redraw()},s.prototype.disable=function(){this.config.enable=!1,this._getRootView().redraw()},s.prototype.render=function(t,e){var i=this;if(void 0===e&&(e=""),!this.config.enable||!t.length)return t;e&&(this._uid=e);var n=this.config.enable?[o.el(".y-scroll",((n={})[this._wheelName]=this._handlers[this._wheelName],n._ref=e?"scroll-y-area-"+e:"scroll-y-area",n.onmousedown=this._handlers.onmousedownArea,n.onmouseenter=this._handlers.onmouseenter,n.onmouseleave=this._handlers.onmouseleave,n.style={width:"6px",height:"100%",right:0,top:0,position:"absolute"},n),[o.el(".scroll-runner",{_ref:e?"scroll-y-runner-"+e:"scroll-y-runner",onmousedown:this._handlers.onmousedownRunner,style:{height:this._runnerHeight+"px",top:this._runnerYTop}})]),o.el(".x-scroll",((n={})[this._wheelName]=this._handlers[this._wheelName],n._ref=e?"scroll-x-area-"+e:"scroll-x-area",n.onmousedown=this._handlers.onmousedownArea,n.onmouseenter=this._handlers.onmouseenter,n.onmouseleave=this._handlers.onmouseleave,n.style={width:"100%",height:"6px",left:0,bottom:0,position:"absolute"},n),[o.el(".scroll-runner",{_ref:e?"scroll-x-runner-"+e:"scroll-x-runner",onmousedown:this._handlers.onmousedownRunner,style:{width:this._runnerWidth+"px",left:this._runnerXLeft}})])]:null;return o.el(".scroll-view-wrapper",[o.el(".scroll-view",{onscroll:this._handlers.onscroll,_ref:e?"scroll-view-"+e:"scroll-view",_hooks:{didInsert:function(){i.update()},didRecycle:function(){i.update()}},style:{width:"calc(100% + "+this._scrollWidth+"px)",height:"calc(100% + "+this._scrollHeight+"px)"}},t)].concat(n))},s.prototype.update=function(){var t,e,i,o,r,s=this._getRefs();s&&(r=s.area,t=s.areaX,e=s.areaY,i=s.runnerY,o=s.runnerX,this._visibleYArea=r.clientHeight/r.scrollHeight,this._visibleXArea=r.clientWidth/r.scrollWidth,this._scrollYTop=r.scrollTop,this._scrollXLeft=r.scrollLeft,this._runnerYTop=this._scrollYTop*this._visibleYArea,this._runnerXLeft=this._scrollXLeft*this._visibleXArea,this._runnerHeight=this._visibleYArea<1?r.clientHeight*this._visibleYArea:0,this._runnerWidth=this._visibleXArea<1?r.clientWidth*this._visibleXArea:0,s=i.style.top,r=o.style.left,i.style.opacity=1,i.style.top=this._runnerYTop+"px",i.style.height=this._runnerHeight+"px",o.style.opacity=1,o.style.left=this._runnerXLeft+"px",o.style.width=this._runnerWidth+"px",s!==i.style.top&&(e.style.opacity=.9,e.style.width="10px"),r!==o.style.left&&(t.style.opacity=.9,t.style.height="10px"),this.config.autoHide?this._autoHideFunc||(this._autoHideFunc=n.debounce((function(){i.style.opacity=0,e.style.width="6px",o.style.opacity=0,t.style.height="6px"}),this.config.timeout)):this._autoHideFunc=n.debounce((function(){e.style.width="6px",t.style.height="6px"}),this.config.timeout),this._autoHideFunc())},s.prototype._getRefs=function(){var t=this._getRootView(),e=!(!t.refs["scroll-view"]||!t.refs["scroll-x-runner"]&&!t.refs["scroll-y-runner"]),i=!(!this._uid||!t.refs["scroll-view-"+this._uid]||!t.refs["scroll-x-runner-"+this._uid]&&!t.refs["scroll-y-runner-"+this._uid]);if(t.refs)return e?{area:t.refs["scroll-view"].el,areaY:t.refs["scroll-y-area"].el,areaX:t.refs["scroll-x-area"].el,runnerY:t.refs["scroll-y-runner"].el,runnerX:t.refs["scroll-x-runner"].el}:i?{area:t.refs["scroll-view-"+this._uid].el,areaY:t.refs["scroll-y-area-"+this._uid].el,areaX:t.refs["scroll-x-area-"+this._uid].el,runnerY:t.refs["scroll-y-runner-"+this._uid].el,runnerX:t.refs["scroll-x-runner-"+this._uid].el}:void 0},i=s,e.ScrollView=i},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(163)),n(i(164)),n(i(38))},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.TreeFilterType||(e.TreeFilterType={})).all="all",n.level="level",n.leafs="leafs",(n=e.DataEvents||(e.DataEvents={})).afterAdd="afteradd",n.beforeAdd="beforeadd",n.removeAll="removeall",n.beforeRemove="beforeremove",n.afterRemove="afterremove",n.change="change",n.dataRequest="dataRequest",n.load="load",n.loadError="loaderror",n.beforeLazyLoad="beforelazyload",n.afterLazyLoad="afterlazyload",n.beforeItemLoad="beforeItemLoad",n.afterItemLoad="afterItemLoad",(n=e.DragEvents||(e.DragEvents={})).beforeDrag="beforeDrag",n.dragStart="dragStart",n.dragOut="dragOut",n.dragIn="dragIn",n.canDrop="canDrop",n.cancelDrop="cancelDrop",n.beforeDrop="beforeDrop",n.afterDrop="afterDrop",n.afterDrag="afterDrag",(e=e.DataDriver||(e.DataDriver={})).json="json",e.csv="csv",e.xml="xml"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(26),o=i(62);e.isEqualObj=function(t,e){for(var i in t)if(t[i]!==e[i]||Array.isArray(t[i]))return!1;return!0},e.naturalCompare=function(t,e){if(isNaN(t)||isNaN(e)){var i=[],n=[];for(t.replace(/(\d+)|(\D+)/g,(function(t,e,n){i.push([e||1/0,n||""])})),e.replace(/(\d+)|(\D+)/g,(function(t,e,i){n.push([e||1/0,i||""])}));i.length&&n.length;){var o=i.shift(),r=n.shift();if(r=o[0]-r[0]||o[1].localeCompare(r[1]))return r}return i.length-n.length}return t-e},e.findByConf=function(t,e){if("function"==typeof e){if(e.call(this,t))return t}else if(e.by&&e.match&&t[e.by]===e.match)return t},e.isDebug=function(){var t=window.dhx;if(void 0!==t)return void 0!==t.debug&&t.debug},e.dhxWarning=function(t){console.warn(t)},e.dhxError=function(t){throw new Error(t)},e.toProxy=function(t){var e=typeof t;return"string"==e?new n.DataProxy(t):"object"==e?t:void 0},e.toDataDriver=function(t){if("string"==typeof t){var e;if((e=(e=window.dhx)&&e.dataDrivers||o.dataDrivers)[t])return new e[t];console.warn("Incorrect data driver type:",t),console.warn("Available types:",JSON.stringify(Object.keys(e)))}else if("object"==typeof t)return t},e.copyWithoutInner=function(t,e){var i,n={};for(i in t)i.startsWith("$")||e&&e[i]||(n[i]=t[i]);return n},e.isTreeCollection=function(t){return Boolean(t.getRoot)},e.hasJsonOrArrayStructure=function(t){if("object"==typeof t)return!0;if("string"!=typeof t)return!1;try{var e=JSON.parse(t);return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}catch(t){return!1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(14),r=i(15);function s(t,e){t[e]&&("string"==typeof t[e]?t[e]=[{text:""+t[e]}]:t[e]=t[e].map((function(t){return"string"==typeof t&&(t={text:t}),t})))}e.normalizeColumns=function(t,e){var i=t.columns,n=t.htmlEnable;void 0===e&&(e=!1);for(var o=0,r=i;o<r.length;o++){var a=r[o];a.$htmlEnable=!(!a.htmlEnable&&!n),a.$cellCss=a.$cellCss||{},s(a,"header"),s(a,"footer"),a.header.reduce((function(t,e){return t||!!e.content}),!1)&&(a.$uniqueData=[]),a.minWidth&&a.minWidth<20&&(a.minWidth=20),a.maxWidth&&a.maxWidth<20&&(a.maxWidth=20);var l=a.minWidth||100;a.width&&(l=(l=a.maxWidth&&a.minWidth?a.width>=a.minWidth&&a.width<=a.maxWidth?a.width:a.width>=a.maxWidth?a.maxWidth:a.minWidth:a.maxWidth?a.width<=a.maxWidth?a.width:100<a.maxWidth?a.maxWidth:100:!a.minWidth||a.width>=a.minWidth?a.width:a.minWidth)<20?20:l),a.$width=a.$width&&!e?a.$width:l,a.$width>a.maxWidth&&(a.$width=a.maxWidth),a.$width<a.minWidth&&(a.$width=a.minWidth)}},e.countColumns=function(t,e){var i=0,n=0,o=0,r=!1,s=0,a=!1;return e.forEach((function(t){if(i=Math.max(i,t.header.length),o+=t.$width,t.footer&&(n=Math.max(n,t.footer.length),a=a||!0),!r)for(var e=0,s=t.header;e<s.length;e++)if(s[e].colspan)return void(r=!0)})),e.forEach((function(t){if(t.header.length<i)for(var e=0;e<i;e++)t.header[e]=t.header[e]||{text:""};if(a&&(t.footer=t.footer||[]),t.footer&&t.footer.length<n)for(e=0;e<n;e++)t.footer[e]=t.footer[e]||{text:""};t.header=t.header.map((function(t){return"object"!=typeof t&&(t={text:t}),t.css=t.css||"",t.text||t.css.includes("dhx_cell-empty")||(t.css+=" dhx_cell-empty"),t})),""===t.header[0].text&&s++})),t.$totalWidth=o,t.$headerLevel=i,t.$footerLevel=n,t.$colspans=r,t.$footer=a,s},e.calculatePositions=function(t,e,i,n,o){for(var r=n.columns||[],s=r.length,a=o||[],l=a.length,c=n.leftSplit?n.columns.slice(0,n.leftSplit).filter((function(t){return!t.hidden})).length:0,d=null!==(h=n.topSplit)&&void 0!==h?h:0,u=null!==(D=n.rightSplit)&&void 0!==D?D:0,h=null!==(o=n.bottomSplit)&&void 0!==o?o:0,f=0,p=i.left,g=n.$totalWidth/s,_=0;_<s&&0<(p-=r[_].$width)+g/2;_++)f++;var v=0,m=i.top,y=n.$totalHeight/l;for(_=0;_<l&&0<(m-=(M=a[_]).$height)+y/2;_++)v++;for(var b=0,x=0,w=-1/0,E=1/0,C=0;C<s;C++){var S=r[C];f<=C&&b<t&&!S.hidden&&(b+=S.$width,x++),S.$width>w&&(w=S.$width),S.$width<E&&(E=S.$width)}var k=0,I=0,O=-1/0,P=1/0;for(C=0;C<l;C++){var M=a[C];v<=C&&k<e&&!M.hidden&&(k+=M.$height,I++),M.$height>O&&(O=M.$height),M.$height<P&&(P=M.$height)}P=P<n.rowHeight?P:n.rowHeight;var D=Math.round(w/E);return o=Math.round(O/P),i=c<=f-D?f-D:c,D=f+x+D,c=(n.leftSplit||0)-c,{xStart:i,xEnd:D<(u=r.length-u-c)?D:u,yStart:d<=v-o?v-o:d,yEnd:(c=v+I+o)<(h=a.length-h)?c:h}},e.getUnique=function(t,e,i){var o=t.map((function(t){return t[e]}));return i&&o.forEach((function(t,e){null!=t&&t.includes(", ")&&(t.split(", ").forEach((function(t){return o.push(t)})),delete o[e])})),o.filter((function(t,e,i){return i.indexOf(t)===e&&n.isDefined(t)})).sort()},e.getMaxRowHeight=function(t,e,i){void 0===i&&(i={font:"20px Roboto",lineHeight:20});var r=document.createElement("canvas"),s=r.getContext("2d",{alpha:!1});s.font=i.font;for(var a={},l=e.length,c=0;c<l;c++)e[c].template?a[e[c].id]={width:e[c].$width||0,htmlEnable:e[c].$htmlEnable,template:e[c].template,cols:e[c]}:a[e[c].id]={width:e[c].$width||0,htmlEnable:e[c].$htmlEnable};for(var d=[],u=[],h=0,f=Object.entries(t);h<f.length;h++){var p,g=f[h],_=g[0],v=g[1];!a[_]||"id"===_||"height"===_||_.startsWith("$")||"string"!=typeof v&&"number"!=typeof v||(p="",p=null!==(g=a[_])&&void 0!==g&&g.template?(g=a[_].template(v,t,a[_].cols),a[_].htmlEnable?o.removeHTMLTags(g):g):"string"==typeof v?a[_].htmlEnable?o.removeHTMLTags(v):v:v.toString(),d.push(p.split("\n").length),u.push(Math.round(s.measureText(p).width/(null===(_=a[_])||void 0===_?void 0:_.width))))}var m=Math.max(n.getMaxArrayNymber(d),n.getMaxArrayNymber(u));return r.remove(),m*i.lineHeight},e.getCalculatedRowHeight=function(t,e){void 0===e&&(e={rowHeight:40,padding:8});var i=e.rowHeight<40?t:t+2*e.padding;return t<e.rowHeight?e.rowHeight:i},e.getTreeCellWidthOffset=function(t){return 20+20*t.$level-(t.$items?20:0)},e.getMaxColsWidth=function(t,e,i,n){if(void 0===i&&(i={font:"normal 14.4px Arial"}),t.length&&e.length){var s=document.createElement("canvas"),a=s.getContext("2d",{alpha:!1});a.font=i.font;for(var l={},c=e.length,d=0;d<c;d++){var u=e[d],h=u.template,f=u.$htmlEnable,p=u.format,g=u.id,_=u.type;l[g]=h&&"data"===n?{width:20,htmlEnable:f,template:h,cols:u,type:_}:{width:20,htmlEnable:f,format:"date"===_?p||"%M %d %Y":p,type:_}}var v=t.length;for(d=0;d<v;d++)for(var m=0,y=Object.entries(t[d]);m<y.length;m++){var b,x,w=y[m],E=w[0],C=w[1],S=l[E];S&&"id"!==E&&"height"!==E&&!E.startsWith("$")&&("string"==typeof C||"number"==typeof C||C instanceof Date)&&(h=S.template,b=S.cols,p=S.format,_=S.type,x=S.htmlEnable,w=S.width,S=void 0,S="function"==typeof h?(b=h(C,t[d],b),x?o.removeHTMLTags(b):b):x?o.removeHTMLTags(C):C.toString(),null!=(x=p&&"date"===_&&new Date(S))&&x.valueOf()&&(S=r.getFormattedDate(p,x)),w<(S=a.measureText(S).width)&&(l[E].width=S))}s.remove();for(var k={},I=0,O=Object.entries(l);I<O.length;I++){var P=O[I];E=P[0],C=P[1],k[E]=Math.ceil(C.width)}return k}},e.toFormat=function(t,e,i){if("boolean"==typeof t)return t;if(!t&&"number"!=typeof t)return t;switch(e){case"number":case"percent":return i=i||"#",n.isDefined(t)&&!isNaN(Number(t))?function(e){var n=i.replace(/#+/g,"#").split("#").filter((function(t){return t})),o=i.match(/0/g)&&i.match(/0/g).length;t=("percent"===e?100*Number(t):t).toString();var r,s,a=Math.trunc(Number(t));return o&&(s=t.split(".")[1]||"0",r=n.find((function(t){return t.includes("0")})).replace(/0+/g,""),s=Number("0."+s).toFixed(o),1<=Number(s)&&a++,s=s.toString().split(".")[1].padEnd(o,"0")),a=(t<0&&0===Math.abs(a)?"-":"")+a,n=n.find((function(t){return!t.includes("0")})),a=n?a.replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1"+n):a,a+=(r||"")+(s||""),"percent"===e?a+"%":a}(e):t;case"date":return i=i||"%M %d %Y","string"==typeof t?t=r.getFormattedDate(i,r.stringToDate(t,i)):"object"==typeof t&&(t=r.getFormattedDate(i,t)),t;default:return t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.ChartEvents||(e.ChartEvents={})).toggleSeries="toggleSeries",e.chartMouseMove="chartMouseMove",e.chartMouseLeave="chartMouseLeave",e.resize="resize",e.serieClick="serieClick",e.seriaMouseMove="seriaMouseMove",e.seriaMouseLeave="seriaMouseLeave"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(40);function o(t,e){this.url=this._url=t,this.config=e}o.prototype.updateUrl=function(t,e){for(var i in void 0===e&&(e={}),this._url=this.url=t||this._url,this.url+=this.url.includes("?")?"&":"?",e)this.config[i]=e[i],this.url+=i+"="+encodeURIComponent(e[i])+"&";this.url=this.url.slice(0,-1)},o.prototype.load=function(){return n.ajax.get(this.url,null,{responseType:"text"})},o.prototype.save=function(t,e){switch(e){case"delete":return n.ajax.delete(this.url,t);case"update":return n.ajax.put(this.url,t);default:return n.ajax.post(this.url,t)}},i=o,e.DataProxy=i},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(0),s=i(33),a=i(14),l=i(8),c=i(127),d=i(2),u=i(24),h=i(19);function f(t,e,i,n,o){e=d.locateNodeByClassName(o.target,"dhx_grid-fixed-cols-wrap")?0:e;var r,s,a=d.locateNodeByClassName(o.target,"dhx_grid-cell"),l=d.locateNodeByClassName(o.target,"dhx_span-cell");(a||l)&&n&&(e=a?a.parentNode:l,r=(a||l).getAttribute("data-dhx-col-id"),l=i.columns.filter((function(t){return!t.hidden})).find((function(t){return t.id===r})),s=e.getAttribute("data-dhx-id"),e=i.data.find((function(t){return t.id.toString()===s})),(n.toLocaleLowerCase().includes("touch")?i._events:i.events).fire(n,[e,l,o]))}function p(t,e,i,o){var s=o.$editable&&o.$editable.row===e.id&&o.$editable.col===i.id,a=!o.fixedColumns.left.length||"leftFixedCols"===o.$renderFrom,l=i.align?"dhx_align-"+i.align:"dhx_align-left",c="";return a&&(c="dhx_tree-cell "+(i.$cellCss[e.id]||"")+" "+l,e.$items&&(c+=" dhx_grid-expand-cell"),s&&(c+=" dhx_tree-editing-cell"),o.dragMode&&!s&&(c+=(e.$drophere?" dhx_grid-cell--drophere":"")+(e.$dragtarget?" dhx_grid-cell--dragtarget":""))),s=u.getTreeCellWidthOffset(e),r.el(".dhx_grid-cell",n({class:c,style:{width:i.$width,height:e.$height,padding:e.$items?0:"0 0 0 "+s+"px"},"data-dhx-col-id":i.id},{role:"gridcell","aria-colindex":1}),a?[e.$items?r.el(".dhx_grid-expand-cell-icon",n(n({class:e.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down","data-dhx-id":e.id},{role:"button","aria-label":e.$opened?"Collapse group":"Expand group"}),{style:{padding:e.$level?"0 0 0 "+(4+s)+"px":"0 0 0 4px"}})):null,r.el(".dhx_tree-cell",{class:l+(o.autoHeight?" dhx_tree-cell_auto-height":"")},[t])]:null)}function g(t,e,i){return c.getEditor(t,e,i)}function _(t){var e=t.$scrollBarWidth,i=t.$headerLevel*t.headerRowHeight,n=t.$footerLevel*t.footerRowHeight,o=t.$totalWidth-t.width+h.BORDERS+e.y;return e=t.$totalHeight-t.height+i+n+h.BORDERS+e.x,{x:0<o?o-t.scroll.left:0,y:0<e?e-t.scroll.top:0}}e.getHandlers=function(t,e,i){return{onclick:[f,t,e,i,l.GridEvents.cellClick],onmouseover:[f,t,e,i,l.GridEvents.cellMouseOver],onmousedown:[f,t,e,i,l.GridEvents.cellMouseDown],ondblclick:[f,t,e,i,l.GridEvents.cellDblClick],oncontextmenu:[f,t,e,i,l.GridEvents.cellRightClick],ontouchstart:[f,t,e,i,l.GridEvents.cellMouseDown],ontouchmove:[f,t,e,i,l.GridSystemEvents.cellTouchMove],ontouchend:[f,t,e,i,l.GridSystemEvents.cellTouchEnd]}},e.getTreeCell=p,e.getCells=function(t){if(!t.data||!t.columns)return[];var e=t.$positions,i=t.data?t.data.slice(e.yStart,e.yEnd):[],o=t.columns.slice(e.xStart,e.xEnd),s=t.selection.getCell(),l=!0;return i.map((function(c,d){var h=i.length-1===d,f="";return t.rowCss&&(f=t.rowCss(c)),c.$css&&(f+=c.$css),r.el(".dhx_grid-row",n({style:{height:h?c.$height+1:c.$height},"data-dhx-id":c.id,class:f,_key:c.id,_flags:r.KEYED_LIST},{role:"row","aria-rowindex":e.yStart+d+1}),c.$customRender?[c.$customRender(c,t)]:o.map((function(i,o){var d;if(!i.hidden){var h=c[i.id];(i.editable||t.editable&&!1!==i.editable)&&("select"===i.editorType||"combobox"===i.editorType||"multiselect"===i.editorType)&&i.options&&(h=(h="string"==typeof h&&"multiselect"===i.editorType?h.split(",").map((function(t){return t.trim()})):[null==h?void 0:h.toString()]).map((function(t){var e;return null!==(e=null===(e=i.options.find((function(e){return e.id&&e.id.toString()===t})))||void 0===e?void 0:e.value)&&void 0!==e?e:t})).join(", "));var f=u.toFormat(h,i.type,i.format),_=i.template?i.template(f,c,i):"boolean"!=typeof(d=f)&&"boolean"!==i.type||"string"==typeof d?d||0===d?d:"":""+Boolean(d);"string"==typeof _&&(_=a.isHtmlEnable(t,i)?r.el("div.dhx_grid-cell__content",n({".innerHTML":_},{role:"button","aria-label":"Edit content"})):_);var v=((i.$cellCss&&i.$cellCss[c.id]||"")+" dhx_"+i.type+"-cell").replace(/\s+/g," "),m=i.$width,y=t.$editable&&t.$editable.row===c.id&&t.$editable.col===i.id&&!t.$editable.isSpan,b=t.leftSplit,x=t.columns;return(y||"boolean"===i.type&&(t.editable&&(null===(h=i.editable)||void 0===h||h)||!t.editable&&i.editable))&&(_=g(c,i,t).toHTML(),v+=" dhx_grid-cell__editable",b===x.indexOf(i)+1&&--m),"tree"===t.type&&t.firstColId===i.id?p(_,c,i,t):(t.dragMode&&!y&&(v+=(c.$drophere?" dhx_grid-cell--drophere":"")+(c.$dragtarget?" dhx_grid-cell--dragtarget":"")),i.align&&(v+=" dhx_align-"+i.align),a.isHtmlEnable(t,i)&&(v+=" dhx_grid-cell__content_html-enable"),t.autoHeight&&(v+=" dhx_grid-cell__content_auto-height"),r.el(".dhx_grid-cell",n({class:v,style:{width:m,height:c.$height+"px"},_key:i.id,"data-dhx-col-id":i.id},function(e,i,o,r){return n({role:"gridcell","aria-colindex":i,"aria-readonly":r?"false":"true"},(i=e,r=c,e={tabindex:-1},s?s.row.id===r.id&&s.column.id===i.id&&(e.tabindex=0):l&&(e.tabindex=0,e.onfocus=function(e){var i;t.selection&&!s&&(i=e.target.parentNode.getAttribute("data-dhx-id"),(e=e.target.getAttribute("data-dhx-col-id"))&&i&&(t.selection.setCell(i,e),s=t.selection.getCell()))}),l=!1,e))}(i,e.xStart+o+1,0,t.editable)),[_]))}})))}))},e.getSpans=function(t,e){var i,n=[],c=t.columns,d=t.data,h=t.spans,f=t.bottomSplit;if(!c.length||!h)return null;for(var p=t.fixedColumns.right.length,v=h.filter((function(e){return null===(e=e.$renderFrom)||void 0===e?void 0:e.includes(t.$renderFrom)})).sort((function(t,e){return"string"==typeof t.row&&"string"==typeof e.row?t.row.localeCompare(e.row):t.row-e.row})),m=0;m<v.length;m++)!function(h){var m=v[h].row,y=v[h].column,b=v[h].rowspan||1,x=v[h].colspan||1,w=v[h].css,E=v[h].$markCss,C=o.findIndex(c,(function(t){return""+t.id==""+y})),S=o.findIndex(d,(function(t){return""+t.id==""+m}));if(!(C<0||S<0)){var k=c[C],I=d[S];if(!k.hidden){var O=null!==(i=v[h].text)&&void 0!==i?i:void 0===I[y]?"":I[y];O="string"==typeof(O=(k.template||function(t,e,i){return t||0===t?t:""})(O,I,k))?r.el("div.dhx_span-cell-content",{".innerHTML":O}):O;for(var P=0,M=0;M<S;M++)P+=d[M].$height;var D=void 0;D="bottomFixedRows"===t.$renderFrom?S<(Y=d.length-f)?-a.getTotalHeight(d.slice(S,Y)):a.getTotalHeight(d.slice(Y,S)):P-(e?0:1);var V=0;if("rightFixedCols"===t.$renderFrom)V=C<(X=c.length-t.fixedColumns.right.length)?-a.getTotalWidth(c.slice(C,X)):a.getTotalWidth(c.slice(X,C));else for(var T=C-1;0<=T;T--)V+=c[T].$width;var H,F,R,L,A,j,$,N=I.$items&&0===C,z=C===c.length-1,W=C+x===c.length,B=p&&C===c.length-p,G=e===l.Split.bottom&&t.fixedRows.bottom.find((function(t){return t.id===m})),q=f&&S+b>d.length-f,Y=p&&C+x===c.length-p,X=k.header[0].text?" dhx_span-cell":" dhx_span-cell dhx_span-cell--title";X+=N?" dhx_span-expand-cell":"",X+=E?" "+E:"",X+=w?" "+w:"",X+=0===S?" dhx_span-first-row":"",X+=S+b===d.length?" dhx_grid__span_bottom--last-row":"",X+=0===C||B?" dhx_span-first-col":"",X+=z||W?" dhx_span-last-col":"",X+=1===x?" dhx_span-"+(k.type||"string")+"-cell":" dhx_span-string-cell",X+=k.align?" dhx_align-"+k.align:" dhx_align-left",X+=G?" dhx_grid__span_bottom--all-fixed":"",X+=q?" dhx_grid__span_bottom--part-fixed":"",X+=Y?" dhx_grid__span_right--before-fixed":"",B=1<x?s.getWidth(c,x,C):k.$width,z=void 0,1<b?(z=s.getHeight(d,b,S),e!==l.Split.top||!t.$renderFrom.endsWith("FixedCols")||0<(F=S+b-d.length)&&(H=t.fixedRows.top.length,z+=a.getTotalHeight(t.$data.slice(H,H+F)))):z=I.$height,W=null,((null===(i=t.$editable)||void 0===i?void 0:i.isSpan)&&t.$editable.row===m&&t.$editable.col===y||"boolean"===k.type&&(t.editable&&(null===(i=k.editable)||void 0===i||i)||!t.editable&&k.editable))&&(G=t.topSplit,Y=(q=t.fixedColumns.left.length)&&C+x<=q||p&&C>=c.length-p,H=S<(G||0)||S+b>d.length-(f||0),F=G&&S+b<=G||f&&S>=d.length-f,G=C<(q||0)||C+x>c.length-(p||0),("render"===t.$renderFrom||Y&&!H||F&&!G)&&(h=v[h].text,O=g(I,k,t).toHTML(h),X+=" dhx_span__editable","render"===t.$renderFrom&&(W=12,t.fixedColumns.left.find((function(t){return t.id===y}))&&(V=t.scroll.left+a.getTotalWidth(t.fixedColumns.left.slice(0,C)),Y||(R=a.getTotalWidth(t.fixedColumns.left.slice(C,q)),B=B-t.scroll.left>R?B-t.scroll.left:R)),t.fixedRows.top.find((function(t){return t.id===m}))&&(D=t.scroll.top+a.getTotalHeight(t.fixedRows.top.slice(0,S)),F||(R=a.getTotalHeight(t.fixedRows.top.slice(S,t.topSplit)),z=z-t.scroll.top>R?z-t.scroll.top:R)),t.fixedColumns.right.find((function(t){return t===c[c.indexOf(k)+x-1]}))&&($=c.length,L=_(t),j=(A=$-c.indexOf(k)-x)?a.getTotalWidth(t.fixedColumns.right.slice(-A)):0,A=a.getTotalWidth(c.slice(C,$-p)),V=L.x>A?V-L.x+A:V,Y||(B=L.x<A?B-L.x-1:a.getTotalWidth(t.fixedColumns.right)-j-1)),t.fixedRows.bottom.find((function(t){return t===d[d.indexOf(I)+b-1]}))&&($=d.length,L=_(t),j=(A=$-d.indexOf(I)-b)?a.getTotalHeight(t.fixedRows.bottom.slice(-A)):0,$=a.getTotalHeight(d.slice(S,$-f)),D=L.y>$?D-L.y+$:D,F||(z=L.y<$?z-L.y-(A?-1:1):a.getTotalHeight(t.fixedRows.bottom)-j-(A?-1:1)))),q===C+1&&--B,C===c.length-p&&(V+=1,--B))),n.push(r.el("div",{class:X,style:{width:B,height:z,top:D,left:V,zIndex:W},"data-dhx-col-id":y,"data-dhx-id":m,"aria-hidden":"true"},[N?r.el(".dhx_span-expand-cell-icon",{class:I.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down","data-dhx-id":I.id,role:"button","aria-label":I.$opened?"Collapse group":"Expand group",style:{padding:"0 0 0 "+(4+u.getTreeCellWidthOffset(I))+"px"}}):null,O]))}}}(m);return n},e.getShifts=function(t){var e=t.columns.slice(0,t.$positions.xStart);return t=t.data.slice(0,t.$positions.yStart),{x:a.getTotalWidth(e),y:a.getTotalHeight(t)}},e.normalizeSpan=function(t,e){var i=void 0===(y=e.topSplit)?0:y,o=void 0===(b=e.bottomSplit)?0:b,r=e.data,s=e.columns,a=h.getCurrFixedCols(e,l.Split.left).length,c=h.getCurrFixedCols(e,l.Split.right).length,d=t.column,u=t.row,f=t.colspan,p=t.rowspan,g=s.findIndex((function(t){return t.id==d})),_=r.findIndex((function(t){return t.id==u})),v=g+(f?f-1:0),m=_+(p?p-1:0),y=[],b=g<a;return e=_<i,f=v>=s.length-c,p=m>=r.length-o,a<=v&&i<=m&&g<s.length-c&&_<r.length-o&&y.push("render"),b&&y.push("leftFixedCols"),f&&y.push("rightFixedCols"),!e||b||f?e&&!y.includes("render")&&y.push("render"):y.push("topFixedRows"),!p||b||f?p&&!y.includes("render")&&y.push("render"):y.push("bottomFixedRows"),n(n({},t),{$renderFrom:y})}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(72)),n(i(147)),n(i(76))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.SelectionEvents||(e.SelectionEvents={})).beforeUnSelect="beforeunselect",e.afterUnSelect="afterunselect",e.beforeSelect="beforeselect",e.afterSelect="afterselect"},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1);e.getCount=function(t,e,i){var n={danger:" dhx_navbar-count--color_danger",secondary:" dhx_navbar-count--color_secondary",primary:" dhx_navbar-count--color_primary",success:" dhx_navbar-count--color_success"}[t.countColor]||" dhx_navbar-count--color_danger";return o.el(".dhx_navbar-count",{class:e+n+(!i&&99<parseInt(t.count,10)?" dhx_navbar-count--overlimit":"")},i&&99<parseInt(t.count,10)?"99+":t.count)},e.getIcon=function(t,e){return void 0===t&&(t=""),t.startsWith("dxi")&&(t="dxi "+t),o.el("span",{class:"dhx_"+e+"__icon "+t,"aria-hidden":"true"})},e.navbarComponentMixin=function(t,e,i,r){return i=function(t,e,i){var n,o="";return o=(n=i?"dhx_menu-item":"dhx_"+t+"__item")+(e.css?" "+e.css:""),"spacer"!==e.type&&"separator"!==e.type||(o+=" "+n+"--"+e.type),"button"!==e.type||"sidebar"!==t||e.icon||(o+=" dhx_navbar-item--colapse_hidden"),o}(t,e,i),t="ribbon"===t&&("navItem"===e.type||"imageButton"===e.type),o.el("li",n({_key:e.id,class:i+(e.icon&&!e.value&&t?" dhx_ribbon__item--icon":"")+(e.src&&!e.value&&t?" dhx_ribbon__item--icon":"")+(e.size&&t?" dhx_ribbon__item--"+e.size:""),".innerHTML":"customHTML"===e.type?e.html:void 0,"data-dhx-id":"customHTML"===e.type?e.id:void 0},(t={role:"none"},"separator"===(i=e.type)&&(t.role="separator",t["aria-orientation"]="vertical"),t)),"customHTML"!==e.type?[r]:void 0)},e.getNavbarButtonCSS=function(t,e){var i=t.color,n=t.size,o=t.view,s=t.full,a=t.icon,l=t.circle,c=t.loading,d=t.value,u=t.active;return t=t.count,({danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[i]||" dhx_button--color_primary")+({small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[n]||" dhx_button--size_medium")+({flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[o]||" dhx_button--view_flat")+(s?" dhx_button--width_full":"")+(l?" dhx_button--circle":"")+(c?" dhx_button--loading":"")+(u?" dhx_button--active":"")+(a&&!d?" dhx_button--icon":"")+(r.isDefined(t)?" dhx_button--count":"")}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(4);function s(t,e,i,n){return n&&(t+=2*e*Math.asin(.5*n/e)/(2*Math.PI*e)),[Math.cos(2*Math.PI*t)*e,Math.sin(2*Math.PI*t)*i]}function a(t,e,i){t.setAttribute("transform","translate("+e+", "+i+") scale(1.05)"),t.classList.add("dhx_pie-transform-delay")}function l(t){t.setAttribute("transform","translate(0, 0)"),t.classList.remove("dhx_pie-transform-delay")}function c(t,e){return t-1e-6<e&&e<t+1e-6}function d(t,e){return"M"+-t+",0A"+t+","+t+" 0 "+(e?0:1)+" 1 "+t+",0A"+t+","+t+" 0 "+(e?0:1)+" 1 "+-t+",0"}e.getCoordinates=s,e.shiftCoordinates=function(t,e,i){return[t[0]+e,t[1]+i]},e.pieLikeHandlers={onmouseover:function(t,e,i,n){var o=n.parent.attrs.id;a(n.el,t,e),n.parent.body.forEach((function(i){i.attrs.id!==o+"-text"&&i.attrs.id!==o+"-connector"||a(i.el,t,e)}))},onmouseout:function(t,e){var i=e.parent.attrs.id;l(e.el),e.parent.body.forEach((function(t){t.attrs.id!==i+"-text"&&t.attrs.id!==i+"-connector"||l(t.el)}))}},e.radarScale=function(t,e,i){var a,l=e<i?e/2:i/2,u=1/t.scales.length,h=.5<u?1:0,f=[],p=(a=l,p="#fafafa",o.sv("circle",{cx:0,cy:0,r:a,fill:p,stroke:"none",class:"background-circle"}));f.push(p);for(var g=-.25,_=[],v=t.axis,m="radar-grid "+(t.zebra?"zebra":""),y=1;y<v.length;y+=2){var b=l*v[y-1],x=l*v[y];x=d(b,!0)+" "+d(x,!1),x=o.sv("path",{d:x,fill:"none",stroke:"black",class:m}),_.push(x)}return f.push(_),t.scales.forEach((function(t){var e,i=(d=s(g,l,l))[0],n=d[1],a=g+u,d=(p=s(a,l,l))[0],p=p[1];d="M "+i+" "+n+" A "+l+" "+l+" 0 "+h+" 1 "+d+" "+p+" L 0 0",p=o.sv("path",{d,stroke:"black",fill:"none",class:"radar-scale"}),f.push(p),p=(d=[8,8])[0],d=d[1],p=c(g,0)||c(g,.5)?0:g<0||.5<g?-p:p,d=c(g,-.25)||c(g,.25)?0:g<-.25||.25<g?-d:d,t=c(g,-.25)||c(g,.25)?(e=c(g,-.25)?r.verticalTopText:r.verticalBottomText,o.sv("text",{x:i+d,y:n+p,class:"scale-text"},[e(t)])):(e=-.25<=g&&g<=.25?"start-text scale-text":"end-text scale-text",o.sv("text",{x:i+d,y:n+p,class:e},[r.verticalCenteredText(t)])),f.push(t),g=a})),g=-.25,t.realAxis&&(p=t.realAxis.map((function(t,e){e=(i=s(-.25,l*v[e],l*v[e]))[0];var i=i[1];return o.sv("text",{x:e,y:i,dx:-10,class:"radar-axis-text"},[r.verticalCenteredText(t.toString())])})),f.push(p)),o.sv("g",n({transform:"translate("+e/2+", "+i/2+")"},{"aria-label":"x-axis"+((t=t.attribute)?", "+t:"")}),f)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(25),r=i(4),s=i(89),a=i(15);function l(t,e,i){var r=this;this._data=t,this._handlers={onclick:function(t,e){return r._events.fire(o.ChartEvents.serieClick,[t,e])},onmousemove:function(t,e,i){return r._events.fire(o.ChartEvents.seriaMouseMove,[t,e,i])},onmouseleave:function(t,e){return r._events.fire(o.ChartEvents.seriaMouseLeave,[t,e])}},this.id=e.id=e.id||n.uid(),this._events=i,this._points=[],this._setDefaults(e)}l.prototype.toggle=function(){this.config.active=!this.config.active},l.prototype.getClosest=function(t,e){for(var i=[1/0,null,null,null],n=0,o=this._points;n<o.length;n++){var r=o[n],s=this._getClosestDist(t,e,r[0],r[1]);i[0]>s&&(i[0]=s,i[1]=r[0],i[2]=r[1],i[3]=r[2])}return i},l.prototype.getClosestVertical=function(t){for(var e=[1/0,null,null,null,null],i=0,n=this._points;i<n.length;i++){var o=n[i],r=Math.abs(o[0]-t);e[0]>r&&(e[0]=r,e[1]=o[0],e[2]=o[1],e[3]=o[2],e[4]=o[4])}return e},l.prototype.getTooltipType=function(t){return"top"},l.prototype.getTooltipText=function(t){if((this._data.getItem(t)||"calendarHeatMap"===this.config.type)&&this.config.tooltip){var e,i=void 0,n=void 0;return"calendarHeatMap"===this.config.type?(n=this._points.find((function(e){return e[2]===t.toString()})))&&((e=new Date).setTime(n[0]),n=[a.getFormattedDate(this.config.dateFormat,e),n[1]]):i=this._defaultLocator(this._data.getItem(t)),this.config.tooltipTemplate?this.config.tooltipTemplate(i||n):i?i[0]:n[1]+", <br>"+n[0]}},l.prototype.dataReady=function(t){return this._points=[]},l.prototype.paint=function(t,e){return this._calckFinalPoints(t,e)},l.prototype.getPoints=function(){return this._points},l.prototype.addScale=function(t,e){},l.prototype._getClosestDist=function(t,e,i,n){return r.euclideanDistance(t,e,i,n)},l.prototype._calckFinalPoints=function(t,e){},l.prototype._setDefaults=function(t){this.config=t},l.prototype._defaultLocator=function(t){return[null,null]},l.prototype._getPointType=function(t,e){return s.getShadeHelper(t,e)},i=l,e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.getWidth=function(t,e,i){return t=t.filter((function(t){return!t.hidden})),e?t.reduce((function(t,n,o){return n=n.$width,t+(i<=o&&o<i+e?n:0)}),0):t[i].$width},e.getHeight=function(t,e,i){return t=t.filter((function(t){return!t.hidden})),e?t.reduce((function(t,n,o){return n=n.$height,t+(i<=o&&o<i+e?n:0)}),0):t[i].$height},e.getSpan=function(t,e,i){if(i.spans){var o=i.data.findIndex((function(e){return e.id.toString()===t.toString()})),r=i.columns.findIndex((function(t){return t.id.toString()===e})),s=n.findIndex(i.spans,(function(t){var e=i.data.findIndex((function(e){return e.id.toString()===t.row.toString()})),n=i.columns.findIndex((function(e){return e.id.toString()===t.column.toString()})),s=t.rowspan?e+t.rowspan:e+1,a=t.colspan?n+t.colspan:n+1;return e<=o&&o<s&&n<=r&&r<a}));return i.spans[s]}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(131)),n(i(71))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(73)),n(i(145)),n(i(74)),n(i(46))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(6),(i=e.FileStatus||(e.FileStatus={})).queue="queue",i.uploaded="uploaded",i.failed="failed",i.inprogress="inprogress",(i=e.UploaderEvents||(e.UploaderEvents={})).uploadBegin="uploadbegin",i.beforeUploadFile="beforeuploadfile",i.uploadFile="uploadfile",i.uploadFail="uploadfail",i.uploadComplete="uploadcomplete",i.uploadProgress="uploadprogress",(e.ProgressBarEvents||(e.ProgressBarEvents={})).cancel="cancel",(e=e.VaultMode||(e.VaultMode={})).grid="grid",e.list="list"},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(81)),n(i(175))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i=i(6),e.DataEvents=i.DataEvents,(e=e.NavigationBarEvents||(e.NavigationBarEvents={})).inputCreated="inputCreated",e.click="click",e.openMenu="openMenu",e.beforeHide="beforeHide",e.afterHide="afterHide",e.inputFocus="inputFocus",e.inputBlur="inputBlur",e.inputChange="inputChange"},function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(22),o=i(23);function r(t){return t?t.includes("json")?"json":t.includes("xml")?"xml":"text":"text"}function s(e,i,s,a,l){var c,d=a||{};return l&&(d.Accept="application/"+l),"GET"!==s&&(d["Content-Type"]=d["Content-Type"]||"application/json"),"GET"===s&&((a=i&&"object"==typeof i?(c=i,Object.keys(c).reduce((function(t,e){var i="object"==typeof c[e]?JSON.stringify(c[e]):c[e];return t.push(e+"="+encodeURIComponent(i)),t}),[]).join("&")):i&&"string"==typeof i?i:"")&&(e+=e.includes("?")?"&":"?",e+=a),i=null),window.fetch?("application/json"===d["Content-Type"]&&i&&"object"==typeof i&&(i=JSON.stringify(i)),window.fetch(e,{method:s,body:i||null,headers:d}).then((function(e){if(!e.ok)return e.text().then((function(i){return t.reject({status:e.status,statusText:e.statusText,message:i})}));var i=l||r(e.headers.get("Content-Type"));if("raw"===i)return{headers:Object.fromEntries(e.headers.entries()),url:e.url,body:e.body};if(204!==e.status)switch(i){case"json":return e.json();case"xml":var s=o.toDataDriver(n.DataDriver.xml);return s?e.text().then((function(t){return s.toJsonObject(t)})):e.text();default:return e.text()}}))):new t((function(t,a){var c,u=new XMLHttpRequest;for(c in u.onload=function(){200<=u.status&&u.status<300?("raw"===l&&t({url:u.responseURL,headers:u.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce((function(t,e){return t[(e=e.split(": "))[0]]=e[1],t}),{}),body:u.response}),204===u.status?t():t(function(t,e){switch(e){case"json":return JSON.parse(t);case"text":default:return t;case"xml":var i=o.toDataDriver(n.DataDriver.xml);return i?i.toJsonObject(t):{parseError:"Incorrect data driver type: 'xml'"}}}(u.responseText,l||r(u.getResponseHeader("Content-Type"))))):a({status:u.status,statusText:u.statusText})},u.onerror=function(){a({status:u.status,statusText:u.statusText,message:u.responseText})},u.open(s,e),d)u.setRequestHeader(c,d[c]);switch(s){case"POST":case"DELETE":case"PUT":u.send(void 0!==i?JSON.stringify(i):"");break;default:u.send()}}))}e.ajax={get:function(t,e,i){return s(t,e,"GET",i&&i.headers,void 0!==i?i.responseType:void 0)},post:function(t,e,i){return s(t,e,"POST",i&&i.headers,void 0!==i?i.responseType:void 0)},put:function(t,e,i){return s(t,e,"PUT",i&&i.headers,void 0!==i?i.responseType:void 0)},delete:function(t,e,i){return s(t,e,"DELETE",i&&i.headers,void 0!==i?i.responseType:void 0)}}}).call(this,i(17))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(65)),n(i(158)),n(i(8)),n(i(33));var o=i(27);e.getTreeCell=o.getTreeCell,n(i(24)),n(i(14))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(132)),n(i(70))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(44),a=i(66),l=i(0);function c(t,e){var i=r.call(this,t,e)||this;return i._root=i.config.parent||i,i._all={},i._parseConfig(),i._progress=!1,i.config.activeTab&&(i.config.activeView=i.config.activeTab),i.config.views&&(i.config.activeView=i.config.activeView||i._cells[0].id,i._isViewLayout=!0),e.parent||(e=l.create({render:function(){return i.toVDOM()}},i),i.mount(t,e)),i}o(c,r=a.Cell),c.prototype.destructor=function(){for(var t=0,e=this._all;t<e.length;t++){var i=e[t];this._all[i].destructor()}this.config=this._cells=this._root=this._xLayout=this._isViewLayout=null,this._all={},this.unmount()},c.prototype.toVDOM=function(){if(this._isViewLayout){var t=[this.getCell(this.config.activeView).toVDOM()];return r.prototype.toVDOM.call(this,t)}var e=[];return this._inheritTypes(),this._cells.forEach((function(t){t=t.toVDOM(),Array.isArray(t)?e=e.concat(t):e.push(t)})),r.prototype.toVDOM.call(this,e)},c.prototype.removeCell=function(t){if(this.events.fire(s.LayoutEvents.beforeRemove,[t])){var e=this.config.parent||this;if(e!==this)return e.removeCell(t);(e=this.getCell(t))&&(e=e.getParent(),delete this._all[t],e._cells=e._cells.filter((function(e){return e.id!=t})),e.paint()),this.events.fire(s.LayoutEvents.afterRemove,[t])}},c.prototype.addCell=function(t,e){var i;void 0===e&&(e=-1),this.events.fire(s.LayoutEvents.beforeAdd,[t.id])&&(i=this._createCell(t),e<0&&(e=this._cells.length+e+1),this._cells.splice(e,0,i),this.paint(),this.events.fire(s.LayoutEvents.afterAdd,[t.id]))},c.prototype.getId=function(t){return t<0&&(t=this._cells.length+t),this._cells[t]?this._cells[t].id:void 0},c.prototype.getRefs=function(t){return this._root.getRootView().refs[t]},c.prototype.getCell=function(t){var e;return null===(e=this._root)||void 0===e?void 0:e._all[t]},c.prototype.forEach=function(t,e,i){if(void 0===i&&(i=1/0),this._haveCells(e)&&!(i<1))for(var n=(e?this._root._all[e]:this._root)._cells,o=0;o<n.length;o++){var r=n[o];t.call(this,r,o,n),this._haveCells(r.id)&&r.forEach(t,r.id,--i)}},c.prototype.cell=function(t){return this.getCell(t)},c.prototype.progressShow=function(){this._progress=!0,this.paint()},c.prototype.progressHide=function(){this._progress=!1,this.paint()},c.prototype._getCss=function(t){var e=this._xLayout?"dhx_layout-columns":"dhx_layout-rows",i=this.config.align?" "+e+"--"+this.config.align:"";if(t)return e+" dhx_layout-cell"+(this.config.align?" dhx_layout-cell--"+this.config.align:"");var n=this.config.parent?r.prototype._getCss.call(this):"dhx_widget dhx_layout";return t=this.config.parent?"":" dhx_layout-cell",n+(this.config.full?t:" "+e)+i},c.prototype._parseConfig=function(){var t=this,e=this.config,i=e.rows||e.cols||e.views||[];this._xLayout=!e.rows,this._cells=i.map((function(e){return t._createCell(e)}))},c.prototype._createCell=function(t){var e=t.rows||t.cols||t.views?(t.parent=this._root,new c(this,t)):new a.Cell(this,t);return this._root._all[e.id]=e,t.init&&t.init(e,t),e},c.prototype._haveCells=function(t){return t?(t=this._root._all[t])._cells&&0<t._cells.length:0<Object.keys(this._all).length},c.prototype._inheritTypes=function(t){var e,i=this;void 0===t&&(t=this._cells),Array.isArray(t)?t.forEach((function(t){return i._inheritTypes(t)})):((e=t.config).rows||e.cols)&&(t=t.getParent(),!e.type&&t&&(t.config.type?e.type=t.config.type:this._inheritTypes(t)))},o=c,e.Layout=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.LayoutEvents||(e.LayoutEvents={})).beforeShow="beforeShow",e.afterShow="afterShow",e.beforeHide="beforeHide",e.afterHide="afterHide",e.beforeResizeStart="beforeResizeStart",e.resize="resize",e.afterResizeEnd="afterResizeEnd",e.beforeAdd="beforeAdd",e.afterAdd="afterAdd",e.beforeRemove="beforeRemove",e.afterRemove="afterRemove",e.beforeCollapse="beforeCollapse",e.afterCollapse="afterCollapse",e.beforeExpand="beforeExpand",e.afterExpand="afterExpand"},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(136)),n(i(68))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.ListEvents||(e.ListEvents={})).click="click",e.doubleClick="doubleclick",e.focusChange="focuschange",e.beforeEditStart="beforeEditStart",e.afterEditStart="afterEditStart",e.beforeEditEnd="beforeEditEnd",e.afterEditEnd="afterEditEnd",e.itemRightClick="itemRightClick",e.itemMouseOver="itemMouseOver",e.contextmenu="contextmenu"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={notFound:"Not Found",selectAll:"Select All",unselectAll:"Unselect All",selectedItems:"selected items",createItem:"Create"}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.RealPosition||(e.RealPosition={})).left="left",n.right="right",n.top="top",n.bottom="bottom",n.center="center",(n=e.Position||(e.Position={})).right="right",n.bottom="bottom",n.center="center",n.left="left",n.top="top",(e=e.MessageContainerPosition||(e.MessageContainerPosition={})).topLeft="top-left",e.topRight="top-right",e.bottomLeft="bottom-left",e.bottomRight="bottom-right"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={apply:"apply",reject:"reject"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={dragAndDrop:"Drag & drop",or:"or",browse:"Browse files",filesOrFoldersHere:"files or folders here",cancel:"Cancel",clearAll:"Clear all",clear:"Clear",add:"Add",upload:"Upload",download:"Download",error:"error",byte:"B",kilobyte:"KB",megabyte:"MB",gigabyte:"GB"}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(180)),n(i(83)),n(i(82)),n(i(52)),i=i(53),e.locale=i.default},function(t,e,i){"use strict";function n(t){return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return e+e+i+i+n+n})),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function o(t){var e,i,n,o=t.r/255,r=t.g/255,s=t.b/255,a=Math.max(o,r,s),l=a-Math.min(o,r,s),c=function(t){return(a-t)/6/l+.5};return 0==l?e=i=0:(i=l/a,n=c(o),t=c(r),c=c(s),o===a?e=c-t:r===a?e=1/3+n-c:s===a&&(e=2/3+t-n),e<0?e+=1:1<e&&--e),{h:Math.floor(360*e),s:i,v:a}}Object.defineProperty(e,"__esModule",{value:!0}),e.HSVtoRGB=function(t){var e,i={r:0,g:0,b:0},n=t.h/60,o=t.s,r=t.v,s=(t=Math.floor(n)%6,255*r*(1-o)),a=255*r*(1-o*(n-=Math.floor(n))),l=255*r*(1-o*(1-n));switch(r*=255,t){case 0:i.r=r,i.g=l,i.b=s;break;case 1:i.r=a,i.g=r,i.b=s;break;case 2:i.r=s,i.g=r,i.b=l;break;case 3:i.r=s,i.g=a,i.b=r;break;case 4:i.r=l,i.g=s,i.b=r;break;case 5:i.r=r,i.g=s,i.b=a}for(e in i)i[e]=Math.round(i[e]);return i},e.RGBToHex=function(t){return Object.keys(t).reduce((function(e,i){return e+(1===(i=t[i].toString(16).toUpperCase()).length?"0"+i:i)}),"#")},e.HexToRGB=n,e.RGBToHSV=o,e.HexToHSV=function(t){return o(n(t))},e.isHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={cancel:"Cancel",select:"Select",rightClickToDelete:"Right click to delete",customColors:"Custom colors",addNewColor:"Add new color"}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(189),r=i(86),s=i(4),a={left:r.left,right:r.right,bottom:r.bottom,top:r.top},l={left:r.leftGrid,right:r.rightGrid,bottom:r.bottomGrid,top:r.topGrid};function c(t,e,i){this._data=t,this._padding=!1,this._charts=[],this._position=i,this._setDefaults(e),this._isXDirection="bottom"===i||"top"===i,"radial"!==i&&(this.config.size="left"===i||"right"===i?this.config.size||40+(this.config.title?40:0):this.config.size||20+(this.config.title?40:0))}c.prototype.addPadding=function(){this._padding=!0},c.prototype.getSize=function(){return this.config.size},c.prototype.scaleReady=function(t){var e=[];this._charts.forEach((function(t){t.getPoints().forEach((function(t){return e.push(t[1])}))})),this._axis=new o.AxisCreator(e,this.config).getScale();var i=this._position;"radial"!==i&&(t[i]+=this.config.size)},c.prototype.point=function(t){return this.config.log?this._logPoint(t):this._isXDirection?(t-this._axis.min)/(this._axis.max-this._axis.min):1-(t-this._axis.min)/(this._axis.max-this._axis.min)},c.prototype.add=function(t){this._charts.push(t)},c.prototype.paint=function(t,e){var i=this;if(this.config.hidden)return null;var n=this._axis.steps.map((function(n){return[i._isXDirection?i.point(n)*t:i.point(n)*e,n]}));return 0===n.length&&"left"===this._position&&(n=[[0,0]]),a[this._position](n,this.config,t,e)},c.prototype.scaleGrid=function(){var t=this,e=this._position,i=this.config.grid,n=this.config.dashed,o=this.config.hidden;return{paint:function(r,s){var a,c,d=t._axis.steps.indexOf(t.config.targetLine),u=(a=r,c=s,t._axis.steps.map((function(e){return[t._isXDirection?t.point(e)*a:t.point(e)*c,e]}))),h=t.point(t.config.targetValue);return h={targetLine:d,dashed:n,grid:i,targetValue:h,hidden:o},l[e](u,r,s,h)}}},c.prototype._setDefaults=function(t){t.locator&&(this.locator=s.locator(t.locator)),this.config=n(n({},{scalePadding:20,textPadding:11,grid:!0,targetLine:null,showText:!0}),t)},c.prototype._logPoint=function(t){var e=Math.abs(t)/t,i=this._axis.steps,n=i.length-1,o=i.indexOf(t);return n=-1!==o?o/n:((this._axis.min<0?i.indexOf(0):0)+e*s.log10(Math.abs(t)))/n,this._isXDirection?n:1-n},r=c,e.Scale=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(4);function a(){return null!==r&&r.apply(this,arguments)||this}i=i(32),o(a,r=i.default),a.prototype.addScale=function(t,e){"bottom"===t||"top"===t?(this.xScale=e,this._xLocator=e.locator):(this.yScale=e,this._yLocator=s.locator(this.config.value))},a.prototype.paint=function(t,e){r.prototype.paint.call(this,t,e)},a.prototype.dataReady=function(t){var e=this;return this.config.active?(this._points=this._data.map((function(i,n){var o=e._xLocator(i),r=[o,r=e._yLocator(i),i.id,o,r];return t&&(r[1]+=t[n][1]),r})),this._points):this._points=[]},a.prototype._calckFinalPoints=function(t,e){var i=this;this._points.forEach((function(n,o){n[0]=i.xScale.point(n[0])*t||0;var r=i.yScale.point(n[1])*e;n[1]=isNaN(r)?"xbar"===i.config.type?0:e:r}))},a.prototype._defaultLocator=function(t){return[this._yLocator(t),this._xLocator(t)]},o=a,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(4);function l(){var t=null!==s&&s.apply(this,arguments)||this;return t._center=[0,0],t._tooltipData=[],t}i=i(32),o(l,s=i.default),l.prototype.scaleReady=function(t){for(var e in t)t[e]+=this.config.paddings;return t},l.prototype.dataReady=function(){var t=this,e=this._data;return this._sum=e.reduce((function(e,i){return i.$hidden?e:e+parseFloat(t._valueLocator(i))}),0),this._points=e.reduce((function(e,i,n){if(i.$hidden)return e;var o=t._textLocator(i),r=t._valueLocator(i),s=r/t._sum;return n=t._colorLocator?t._colorLocator(i):a.getDefaultColor(n),e.push([s,r,i.id,o,n]),e}),[]),this._points},l.prototype.toggle=function(t){var e=this._data.getItem(t);e&&this._data.update(t,{$hidden:!e.$hidden})},l.prototype.getClosest=function(t,e){for(var i=1-(Math.atan2(t-this._center[0],e-this._center[1])+Math.PI)/Math.PI/2,n=this._points,o=0;o<n.length;o++){if(n[o][0]>=i)return[0,this._tooltipData[o][0],this._tooltipData[o][1],n[o][2]];i-=n[o][0]}return[1/0,null,null,null]},l.prototype.getTooltipText=function(t){if(this.config.tooltip)return t=this._defaultLocator(this._data.getItem(t)),this.config.tooltipTemplate?this.config.tooltipTemplate(t):t[0]},l.prototype.getTooltipType=function(t){return"simple"},l.prototype._setDefaults=function(t){var e=this,i={subType:"basic",paddings:t.useLines?70:50};this.config=r(r({},i),t),this._drawPointType=this._getPointType("empty","none"),this._valueLocator=a.locator(t.value),this._textLocator=a.locator(t.text),t.color?this._colorLocator=a.locator(t.color):t.monochrome&&(this._colorLocator=function(i){return a.getColorShade(t.monochrome,2*e._getPercent(i))})},l.prototype._defaultLocator=function(t){return[this._valueLocator(t),this._textLocator(t)]},l.prototype._getPercent=function(t){return parseFloat(this._valueLocator(t))/this._sum},o=l,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(4);function c(){return null!==s&&s.apply(this,arguments)||this}i=i(55),o(c,s=i.default),c.prototype.paint=function(t,e){var i=this;s.prototype.paint.call(this,t,e);var n,o=this.config.pointColor||this.config.color,c="chart "+this.config.type+" "+(this.config.css||"")+" "+(this.config.dashed?"dash-line":""),d=[];return this.config.strokeWidth&&d.push(this._getForm(this._points,this.config,c,t,e)),this.config.pointType&&(n=this._getPointType(this.config.pointType,o),d=d.concat(this._points.map((function(t){return n(t[0],t[1],l.calcPointRef(t[2],i.id))})).map((function(t,e){var n,o,s;return t&&t.attrs&&(t.attrs=r(r({},t.attrs),(n=t.key,o=i._points,n&&(s=o.find((function(t){return n.includes(t[2])}))),{role:"graphics-symbol","aria-roledescription":"point","aria-label":s?"point x="+s[3]+" y="+s[4]:"",tabindex:0})),i.config.tooltip&&(t.attrs.onmousemove=[i._handlers.onmousemove,i._points[e][2],i.id],t.attrs.onmouseleave=[i._handlers.onmouseleave,i._points[e][2],i.id],t.attrs.onclick=[i._handlers.onmousemove,i._points[e][2],i.id])),t})))),a.sv("g",r(r({class:"seria",_key:this.id},{"aria-label":"chart "+(this.config.value||"")}),{tabindex:0}),d)},c.prototype._getForm=function(t,e,i,n,o){return t=t.map((function(t,e){return(e?"L":"M")+t[0]+" "+t[1]})).join(" "),a.sv("path",{id:"seria"+e.id,d:t,stroke:e.color,class:i,"stroke-width":this.config.strokeWidth,fill:"none"})},c.prototype._setDefaults=function(t){this.config=r(r({},{alpha:1,strokeWidth:2,active:!0,tooltip:!0}),t)},o=c,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(1),c=i(9),d=i(16),u=i(3),h=i(5);function f(t,e){void 0===e&&(e={});var i=s.call(this,null,e)||this;return i.events=new u.EventSystem,i._propsItem=["inputType","required","validation","icon","placeholder","autocomplete","readOnly","maxlength","minlength","min","max","step","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],i._props=r(c.baseProps,i._propsItem),i._isValid=!0,i._initView(e),i._initHandlers(),i}o(f,s=d.Label),f.prototype.destructor=function(){this.events&&this.events.clear(),this.events=this._uid=this._isValid=this._propsItem=this._propsItem=null,s.prototype._destructor.call(this),this.unmount()},f.prototype.setProperties=function(t){if(t&&!l.isEmptyObj(t)&&this.events.fire(h.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e]);this.events.fire(h.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},f.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},f.prototype.show=function(){var t=this.config,e=t.value;t.hidden&&this.events.fire(h.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(h.ItemEvent.afterShow,[e]))},f.prototype.hide=function(t){var e=this.config,i=e.value;e.hidden&&!t||!this.events.fire(h.ItemEvent.beforeHide,[i,t])||(this.config.hidden=!0,this.events.fire(h.ItemEvent.afterHide,[i,t]))},f.prototype.isVisible=function(){return!this.config.hidden},f.prototype.disable=function(){this.config.disabled=!0,this.paint()},f.prototype.enable=function(){this.config.disabled=!1,this.paint()},f.prototype.isDisabled=function(){return!!this.config.disabled},f.prototype.validate=function(t,e){if(void 0===t&&(t=!1),e=void 0===e?this.getValue():e,t||this.events.fire(h.ItemEvent.beforeValidate,[e]))return this._isValid=this.config.validation?c.validateInput(e,this.config.validation):this.config.required?!(!c.baseInputValidate(e,this.config)||!String(e).trim().length):c.baseInputValidate(e,this.config),t||(this.config.$validationStatus=this._isValid?h.ValidationStatus.success:h.ValidationStatus.error,this.events.fire(h.ItemEvent.afterValidate,[e,this._isValid])),this._isValid},f.prototype.clearValidate=function(){this.config.$validationStatus=h.ValidationStatus.pre,this.paint()},f.prototype.clear=function(){""!==this.config.value&&this.events.fire(h.ItemEvent.beforeChange,[""])&&(this.config.value="",this.events.fire(h.ItemEvent.change,[this.getValue()]),c.isVerify(this.config)&&this.validate())},f.prototype.setValue=function(t){void 0!==t&&this.config.value!==t&&this.events.fire(h.ItemEvent.beforeChange,[t])&&(this.config.value=t,this.events.fire(h.ItemEvent.change,[this.getValue()]),c.isVerify(this.config)&&this.validate())},f.prototype.getValue=function(){var t=(e=this.config).inputType,e=e.value;return"number"===t&&"number"==typeof e||null===e?e:"number"===t&&"string"==typeof e?e.length?Number(e):"":"string"==typeof e?e.length?e:"":void 0===e?"":String(e)},f.prototype.focus=function(){var t=this;a.awaitRedraw().then((function(){t.getRootView().refs.input.el.focus()}))},f.prototype.blur=function(){var t=this;a.awaitRedraw().then((function(){t.getRootView().refs.input.el.blur()}))},f.prototype._initView=function(t){var e,i=this;if(l.isEmptyObj(t))throw new Error("Check the configuration is correct");for(e in this.config={type:"input",id:t.id,name:t.name,disabled:!1,hidden:!1,inputType:"text",required:!1,icon:"",placeholder:"",autocomplete:!1,readOnly:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);this.config.hidden&&a.awaitRedraw().then((function(){i.hide(!0)})),this._value=this.config.value,this.paint()},f.prototype._initHandlers=function(){var t=this;this.events.on(h.ItemEvent.change,(function(e){t._value=e,t.paint()})),this.events.on(h.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?h.ValidationStatus.success:h.ValidationStatus.error,t.paint()}))},f.prototype._getHandlers=function(){var t=this;return{oninput:function(e){t._value=e.target.value,t.events.fire(h.ItemEvent.input,[t._value])},onchange:function(e){t._value=e.target.value,t.events.fire(h.ItemEvent.beforeChange,[t._value])&&(t.config.value=t._value,t.events.fire(h.ItemEvent.change,[t.getValue()]),c.isVerify(t.config)&&t.validate())},onfocus:function(){t.events.fire(h.ItemEvent.focus,[t.getValue()]),t.paint()},onblur:function(){t._uid&&(t.events.fire(h.ItemEvent.blur,[t.getValue()]),t.paint())},onkeydown:function(e){"Enter"===e.code&&"input"===t.config.type&&e.preventDefault(),t.events.fire(h.ItemEvent.keydown,[e])}}},f.prototype._draw=function(){var t=(m=this.config).id,e=m.disabled,i=m.name,n=m.icon,o=m.placeholder,r=m.required,s=m.inputType,l=m.hidden,d=m.autocomplete,u=m.readOnly,h=m.maxlength,f=m.minlength,p=m.max,g=m.min,_=m.label,v=m.helpMessage,m=l?" dhx_form-group--hidden":"";return l=(null===(l=null===(l=null===(l=this.getRootView())||void 0===l?void 0:l.refs)||void 0===l?void 0:l.input)||void 0===l?void 0:l.el)===document.activeElement,a.el("div.dhx_form-group",{class:c.getFormItemCss(this.config,c.isVerify(this.config),l)+m},[this._drawLabel(),a.el(".dhx_input__wrapper",{},[a.el("div.dhx_input__container",{},[this.config.icon?a.el(".dhx_input__icon",{class:this.config.icon}):null,a.el("input.dhx_input",{type:["text","number","password"].includes(s)?s:"text","data-dhx-id":i||t,id:t||this._uid,placeholder:o||"",value:this._value||"",name:i||"",disabled:e,required:r,readOnly:u,maxlength:h,minlength:f,max:p,min:g,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onkeydown:this._handlers.onkeydown,class:n?"dhx_input--icon-padding":"",autocomplete:d?"on":"off",_ref:"input","aria-label":_||v||"type "+(i||s||"text"),"aria-describedby":v?"dhx_label__help_"+(t||this._uid):null})]),c.getValidationMessage(this.config)&&a.el("span.dhx_input__caption",c.getValidationMessage(this.config))])])},o=f,e.Input=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(60)),n(i(162)),n(i(36))},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(2),r=i(6),s=i(36),a=(l.prototype.selectFile=function(){this._fileInput.click()},l.prototype.linkDropArea=function(t){function e(t){return t.preventDefault()}var i=this,n=o.toNode(t);t=function(t){t.preventDefault(),i.parseFiles(t.dataTransfer)},n.addEventListener("dragover",e),n.addEventListener("drop",t),this._dropAreas.set(n,{dragover:e,drop:t})},l.prototype.unlinkDropArea=function(t){var e=this;t?(t=o.toNode(t),this._unlinkDropArea(t),this._dropAreas.delete(t)):(this._dropAreas.forEach((function(t,i){e._unlinkDropArea(i)})),this._dropAreas.clear())},l.prototype.parseFiles=function(t){if(t.items&&t.items[0]&&t.items[0].webkitGetAsEntry)this._parseAsWebkitEntry(t.items);else{for(var e=t.files,i=0;i<e.length;i++)this._addFile(e[i]);this.config.autosend&&this.send()}},l.prototype.send=function(t){var e=this;if(!this._uploadInfo||!this.isActive){var i=this.data.findAll((function(t){return t.status===s.FileStatus.queue||t.status===s.FileStatus.failed})).filter((function(t){return e.events.fire(s.UploaderEvents.beforeUploadFile,[t])}));if(i.length)if(this.isActive=!0,this._uploadInfo={files:i,count:i.length,size:i.reduce((function(t,e){return t+e.file.size}),0)},this.events.fire(s.UploaderEvents.uploadBegin,[i]),this.events.fire(s.UploaderEvents.uploadProgress,[0,0,this._uploadInfo.size]),this.config.singleRequest)this._xhrSend(i,t);else for(var n=0,o=i;n<o.length;n++){var r=o[n];this._xhrSend([r],t)}}},l.prototype.abort=function(t){if(t)(t=this.data.getItem(t))&&t.request&&4!==t.request.readyState&&t.request.abort();else if(this._uploadInfo&&this._uploadInfo.files)for(var e=0,i=this._uploadInfo.files;e<i.length;e++){var n=i[e];this.abort(n.id)}},l.prototype._unlinkDropArea=function(t){var e,i=this._dropAreas.get(t);i&&(e=i.dragover,i=i.drop,t.removeEventListener("dragover",e),t.removeEventListener("drop",i))},l.prototype._initEvents=function(){var t=this;this._fileInput.addEventListener("change",(function(){for(var e=t._fileInput.files,i=0;i<e.length;i++)t._addFile(e[i]);t.config.autosend&&t.send(),t._fileInput.value=null}))},l.prototype._xhrSend=function(t,e){for(var i=this,n=(e=this._createFormData(t,e),new XMLHttpRequest),o=0,r=t;o<r.length;o++){var a=r[o];this.data.update(a.id,{request:n,status:s.FileStatus.inprogress,progress:0})}n.open("POST",this.config.target),n.upload.onprogress=function(e){for(var n=0,o=t;n<o.length;n++){var r=o[n];i.data.update(r.id,{progress:e.loaded/e.total,status:s.FileStatus.inprogress})}var a=i._uploadInfo.files.reduce((function(t,e){return t+e.size*e.progress}),0)||0,l=i._uploadInfo.size,c=a/i._uploadInfo.size*100||0;i.events.fire(s.UploaderEvents.uploadProgress,[c,a,l])},n.onloadend=function(){i._uploadInfo.count=i.config.singleRequest?0:i._uploadInfo.count-1;for(var e=200===n.status?s.FileStatus.uploaded:s.FileStatus.failed,o=200===n.status&&n.response?JSON.parse(n.response):null,r=0,a=t;r<a.length;r++){var l=a[r];i.data.update(l.id,{status:e}),e===s.FileStatus.uploaded?(i.config.updateFromResponse&&o&&(i.config.singleRequest&&o[l.id]?i.data.update(l.id,o[l.id]):i.config.singleRequest||i.data.update(l.id,o)),i.events.fire(s.UploaderEvents.uploadFile,[l,o])):i.events.fire(s.UploaderEvents.uploadFail,[l])}0===i._uploadInfo.count&&(i.isActive=!1,i.events.fire(s.UploaderEvents.uploadComplete,[i._uploadInfo.files]))},n.send(e)},l.prototype._parseAsWebkitEntry=function(e){for(var i=this,n=[],o=0;o<e.length;o++){var r=e[o].webkitGetAsEntry();n.push(this._traverseFileTree(r))}t.all(n).then((function(){i.config.autosend&&i.send()}))},l.prototype._createFormData=function(t,e){var i=this.config.fieldName,n=new FormData,o=this.config.params;if(e)for(var r in e)n.append(r,e[r]);if(o)for(var r in o)n.append(r,o[r]);for(var s=1<t.length?"[]":"",a=0,l=t;a<l.length;a++){var c=l[a];n.append(i+s,c.file,c.file.name),n.append(i+"_fullname"+s,c.path+c.file.name),c="object"==typeof c.id?c.id:c.id.toString(),n.append(i+"_id"+s,c)}return n},l.prototype._addFile=function(t,e){void 0===e&&(e=""),e={id:n.uid(),file:t,progress:0,status:s.FileStatus.queue,src:null,path:e},this.data.add(e)},l.prototype._traverseFileTree=function(e){var i=this;return new t((function(t){var n=0,o=function(e,r){var s,a;e.isFile?(n++,e.file((function(e){n--,i._addFile(e,r),0===n&&t()}))):e.isDirectory&&(s=e.createReader(),a=r+e.name+"/",n++,s.readEntries((function(e){n--;for(var i=0,r=e;i<r.length;i++){var s=r[i];o(s,a)}0===n&&t()})))};o(e,"")}))},l);function l(t,e,i){void 0===t&&(t={}),this.config=n.extend({autosend:!0,updateFromResponse:!0,fieldName:"file"},t),this.data=e||new r.DataCollection,this.events=i||this.data.events,this.isActive=!1,this._fileInput=document.createElement("input"),this._fileInput.type="file",this._fileInput.multiple=!0,this._initEvents(),this._dropAreas=new Map}e.Uploader=a}).call(this,i(17))},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),s=i(119),a=i(122),l=i(26),c=i(23),d=i(22),u=i(1);function h(t,e){var i=this;this._changes={order:[]},this.config=t||{},this._sort=new a.Sort,this._loader=new s.Loader(this,this._changes),this.events=e||new r.EventSystem(this),this.events.on(d.DataEvents.dataRequest,(function(t,e){var n=i.dataProxy;n&&n.updateUrl&&(n.updateUrl(null,{from:t,limit:n.config.limit||e-t}),i.load(n))})),this.events.on(d.DataEvents.loadError,(function(t){setTimeout((function(){"string"!=typeof t?c.dhxError(t):c.dhxWarning(t)}),0)})),this._reset()}h.prototype._reset=function(){this._order=[],this._pull={},this._changes={order:[]},this._initOrder=null,this._meta=new WeakMap,this._loaded=!1},h.prototype.add=function(t,e){var i=this;if(this.events.fire(d.DataEvents.beforeAdd,[t]))return t=Array.isArray(t)?t.map((function(t,n){return 0!==n&&(e+=1),i._add(t,e)})):this._add(t,e),this._applySmart(),t},h.prototype.remove=function(t){var e=this;t&&(t instanceof Array?o(t).map((function(t){e._remove(t)})):this._remove(t))},h.prototype.removeAll=function(){this._reset(),this.events.fire(d.DataEvents.removeAll),this.events.fire(d.DataEvents.change)},h.prototype.exists=function(t){return!!this._pull[t]},h.prototype.getNearId=function(t){if(!this._pull[t])return this._order[0].id||""},h.prototype.getItem=function(t){return this._pull[t]},h.prototype.update=function(t,e,i){var n=this.getItem(t);n?c.isEqualObj(e,n)||(e.id&&t!==e.id?(c.dhxWarning("this method doesn't allow change id"),c.isDebug()):(e.parent&&n.parent&&e.parent!==n.parent&&this.move(t,-1,this,e.parent),u.extend(this._pull[t],e,!1),this.config.update&&this.config.update(this._pull[t]),i||this._onChange("update",t,this._pull[t])),this._applySmart()):c.dhxWarning("item not found")},h.prototype.getIndex=function(t){if(!t)return-1;var e=u.findIndex(this._order,(function(e){return e&&e.id.toString()===t.toString()}));return this._pull[t]&&0<=e?e:void 0},h.prototype.getId=function(t){if(this._order[t])return this._order[t].id},h.prototype.getLength=function(){return this._order.length},h.prototype.isDataLoaded=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this._order.length),u.isNumeric(t)&&u.isNumeric(e)?0===this._order.slice(t,e).filter((function(t){return t&&t.$empty})).length:(this._loaded||(this._loaded=!this.find((function(t){return t.$empty}))),!!this._loaded)},h.prototype.filter=function(t,e){var i;this.isDataLoaded()?(e&&e.add||(this._order=this._initOrder||this._order,this._initOrder=null),!t||"function"==typeof t||void 0!==(i=t).by&&void 0!==i.match&&(t=i.compare?function(t){return i.compare(t[i.by],i.match,t,i.multi)}:function(t){return t[i.by]==i.match}),this._filter=e&&e.smartFilter?t:null,this._applyFilters(t),this.events.fire(d.DataEvents.change)):c.dhxWarning("the method doesn't work with lazyLoad")},h.prototype.find=function(t){for(var e in this._pull){var i=c.findByConf(this._pull[e],t);if(i)return i}return null},h.prototype.findAll=function(t){var e,i=[];for(e in this._pull){var n=c.findByConf(this._pull[e],t);n&&i.push(n)}return i},h.prototype.sort=function(t,e){this.isDataLoaded()?(e&&e.smartSorting&&(this._sorter=t),t&&this._applySorters(t),this.events.fire(d.DataEvents.change,[void 0,"sort",t])):c.dhxWarning("the method doesn't work with lazyLoad")},h.prototype.copy=function(t,e,i,n){var o=this;return t instanceof Array?t.map((function(t,r){return o._copy(t,e,i,n,r)})):this._copy(t,e,i,n)},h.prototype.move=function(t,e,i,n,o){var r=this;return t instanceof Array?t.map((function(t,o){return r._move(t,e,i,n,o)})):this._move(t,e,i,n,0,o)},h.prototype.forEach=function(t){for(var e=0;e<this._order.length;e++)t.call(this,this._order[e],e,this._order)},h.prototype.load=function(t,e){return"string"==typeof t&&(this.dataProxy=t=new l.DataProxy(t)),this.dataProxy=t,this._loader.load(t,e)},h.prototype.parse=function(t,e){return this._reset(),this._loader.parse(t,e)},h.prototype.$parse=function(t){var e=this.config.approximate;e&&(t=this._approximate(t,e.value,e.maxNum)),this._parse_data(t),this._applySmart(),this.events.fire(d.DataEvents.change,["load"]),this.events.fire(d.DataEvents.load)},h.prototype.save=function(t){"string"==typeof t&&(t=new l.DataProxy(t)),this._loader.save(t)},h.prototype.changeId=function(t,e,i){var n;void 0===e&&(e=u.uid()),i||this.isDataLoaded()?(n=this.getItem(t))?(n.id=e,u.extend(this._pull[t],n),this._pull[e]=this._pull[t],i||this._onChange("update",e,this._pull[e]),delete this._pull[t]):c.dhxWarning("item not found"):c.dhxWarning("the method doesn't work with lazyLoad")},h.prototype.isSaved=function(){return!this._changes.order.length},h.prototype.map=function(t){for(var e=[],i=0;i<this._order.length;i++)e.push(t.call(this,this._order[i],i,this._order));return e},h.prototype.mapRange=function(t,e,i){t<0&&(t=0),e>this._order.length-1&&(e=this._order.length-1);for(var n=this._order.slice(t,e),o=[],r=t;r<=e;r++)o.push(i.call(this,this._order[r],r,n));return o},h.prototype.reduce=function(t,e){for(var i=0;i<this._order.length;i++)e=t.call(this,e,this._order[i],i);return e},h.prototype.serialize=function(t){void 0===t&&(t=d.DataDriver.json);for(var e=[],i=this,o=0;o<this._order.length;o++)!function(t){var o=n({},i._order[t]);Object.keys(o).forEach((function(t){t.startsWith("$")&&delete o[t]})),e.push(o)}(o);if(t=c.toDataDriver(t))return t.serialize(e)},h.prototype.getInitialData=function(){return this._initOrder},h.prototype.setMeta=function(t,e,i){var n;t&&((n=this._meta.get(t))||(n={},this._meta.set(t,n)),n[e]=i)},h.prototype.getMeta=function(t,e){return(t=this._meta.get(t))?t[e]:null},h.prototype.getMetaMap=function(t){return this._meta.get(t)},h.prototype.setRange=function(t,e){this._range=e?[t,e]:null},h.prototype.getRawData=function(t,e,i,n){return i=i||this._order,1===n?i:(this._range&&(t=this._range[0]+t,e=-1===e||t+(o=Math.abs(e-t))>this._range[1]?this._range[1]:t+o),e&&(0!==t||-1!==e&&e!==i.length)?t>=i.length?[]:((-1===e||e>i.length)&&(e=i.length),0!==(i=i.slice(t,e)).filter((function(t){return t.$empty})).length&&this.events.fire(d.DataEvents.dataRequest,[t,e]),i):i);var o},h.prototype._add=function(t,e){if(this.isDataLoaded())return e=this._addCore(t,e),this._onChange("add",t.id,t),this.events.fire(d.DataEvents.afterAdd,[t]),e;c.dhxWarning("the method doesn't work with lazyLoad")},h.prototype._remove=function(t){if(this.isDataLoaded()){var e=this._pull[t];if(e){if(!this.events.fire(d.DataEvents.beforeRemove,[e]))return;this._removeCore(e.id),this._onChange("remove",t,e)}this.events.fire(d.DataEvents.afterRemove,[e])}else c.dhxWarning("the method doesn't work with lazyLoad")},h.prototype._copy=function(t,e,i,o,r){if(this.isDataLoaded()){if(!this.exists(t))return null;var s=u.uid();return r&&(e=-1===e?-1:e+r),i?i instanceof h||!o?i.exists(t)?(i.add(n(n({},c.copyWithoutInner(this.getItem(t))),{id:s}),e),s):(i.add(c.copyWithoutInner(this.getItem(t)),e),t):void i.add(c.copyWithoutInner(this.getItem(t)),e):(this.add(n(n({},c.copyWithoutInner(this.getItem(t))),{id:s}),e),s)}c.dhxWarning("the method doesn't work with lazyLoad")},h.prototype._move=function(t,e,i,n,o,r){if(this.isDataLoaded()){if(o&&(e=-1===e?-1:e+o),i&&i!==this&&this.exists(t)){var s=u.copy(this.getItem(t),!0);return r&&(s.id=r),(!r&&i.exists(t)||i.exists(r))&&(s.id=u.uid()),n&&(s.parent=n),i.add(s,e),this.remove(t),s.id}return this.getIndex(t)===e?null:(s=this._order.splice(this.getIndex(t),1)[0],-1===e&&(e=this._order.length),this._order.splice(e,0,s),this.events.fire(d.DataEvents.change,[t,"update",this.getItem(t)]),t)}c.dhxWarning("the method doesn't work with lazyLoad")},h.prototype._addCore=function(t,e){var i;return this.config.init&&(t=this.config.init(t)),t.id=null!==(i=t.id)&&void 0!==i?i:u.uid(),this._pull[t.id]&&c.dhxError("Item "+t.id+" already exist"),this._initOrder&&!c.isTreeCollection(this)&&this._addToOrder(this._initOrder,t,e),this._addToOrder(this._order,t,e),t.id},h.prototype._removeCore=function(t){0<=this.getIndex(t)&&(this._order=this._order.filter((function(e){return e.id!==t})),delete this._pull[t]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter((function(e){return e.id!==t})),delete this._pull[t])},h.prototype._parse_data=function(t){var e=this._order.length;this.config.prep&&(t=this.config.prep(t));for(var i=0,n=t;i<n.length;i++){var o=n[i];this._addCore(o,e++)}},h.prototype._approximate=function(t,e,i){for(var n=t.length,o=e.length,r=Math.floor(n/i),s=Array(Math.ceil(n/r)),a=0,l=0;l<n;l+=r){for(var c=u.copy(t[l]),d=Math.min(n,l+r),h=0;h<o;h++){for(var f=0,p=l;p<d;p++)f+=t[p][e[h]];c[e[h]]=f/(d-l)}s[a++]=c}return s},h.prototype._onChange=function(t,e,i){for(var o=0,r=0,s=this._changes.order;r<s.length;r++){var a=s[r],l=this._changes.order.indexOf(a);if(a.id===e&&!a.saving&&(o+=1,l===this._changes.order.length-1||this._changes.order[l+1].id!==e))return a.error&&(a.error=!1),a=n(n({},a),{obj:i,status:t}),10<(o+=1)?this._changes.order.splice(l,o-10,a):this._changes.order.splice(l+1,0,a),this._loader.updateChanges(this._changes),"remove"===t&&i.$emptyRow?void 0:void this.events.fire(d.DataEvents.change,[e,t,i])}this._changes.order.push({id:e,status:t,obj:n({},i),saving:!1}),this._loader.updateChanges(this._changes),this.events.fire(d.DataEvents.change,[e,t,i])},h.prototype._addToOrder=function(t,e,i){0<=i&&t[i]?(this._pull[e.id]=e,t.splice(i,0,e)):(this._pull[e.id]=e,t.push(e))},h.prototype._applySmart=function(){this._filter&&this._applyFilters(),this._sorter&&this._applySorters()},h.prototype._applySorters=function(t){this._sort.sort(this._order,t,this._sorter),this._initOrder&&this._initOrder.length&&this._sort.sort(this._initOrder,t,this._sorter)},h.prototype._applyFilters=function(t){var e,i=this._filter;t===i&&(t=null),(t||i)&&(e=this._order.filter((function(e){return(!t||t(e))&&(!i||i(e))})),this._initOrder||(this._initOrder=this._order),this._order=e)},i=h,e.DataCollection=i},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(63),r=i(64);i=i(120),e.dataDrivers={json:o.JsonDriver,csv:r.CsvDriver},e.dataDriversPro=n(n({},e.dataDrivers),{xml:i.XMLDriver})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.toJsonArray=function(t){return this.getRows(t)},o.prototype.serialize=function(t){return t},o.prototype.getFields=function(t){return t},o.prototype.getRows=function(t){return"string"==typeof t?JSON.parse(t):t},o);function o(){}e.JsonDriver=n},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=(r.prototype.getFields=function(t,e){for(var i=new RegExp('(?<!")'+this.config.columnDelimiter+'(?!")'),n=t.trim().split(i),o={},r=0;r<n.length;r++)o[e?e[r]:r+1]=isNaN(Number(n[r]))?n[r].replace(/"[,;"]"/gi,(function(t){return t.split("").splice(1,1).slice(-1,1).join("")})):parseFloat(n[r]);return o},r.prototype.getRows=function(t){return t.trim().split(this.config.rowDelimiter)},r.prototype.toJsonArray=function(t){var e=this,i=this.getRows(t),n=this.config.names;return this.config.skipHeader&&(t=i.splice(0,this.config.skipHeader),this.config.nameByHeader&&(n=t[0].trim().split(this.config.columnDelimiter))),i.map((function(t){return e.getFields(t,n)}))},r.prototype.serialize=function(t,e){var i=t[0]?Object.keys(t[0]).filter((function(t){return!t.startsWith("$")})).join(this.config.columnDelimiter)+this.config.columnDelimiter+this.config.rowDelimiter:"";return t=this._serialize(t),e?t:i+t},r.prototype._serialize=function(t){var e=this;return t.reduce((function(t,i){var n=Object.keys(i).reduce((function(t,n,o){return n.startsWith("$")||"items"===n?t:""+t+i[n].replaceAll(/[,;"]/gi,(function(t){return'"'+t+'"'}))+(o===i.length-1?"":e.config.columnDelimiter)}),"");return i.items?t+(t?"\n":"")+n+e._serialize(i.items):""+t+(t?e.config.rowDelimiter:"")+n}),"")},r);function r(t){this.config=n(n({},{skipHeader:0,nameByHeader:!1,rowDelimiter:"\n",columnDelimiter:","}),t),this.config.nameByHeader&&(this.config.skipHeader=1)}e.CsvDriver=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__rest||function(t,e){var i={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(i[o[n]]=t[o[n]]);return i},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var l,c=i(0),d=i(3),u=i(2),h=i(1),f=i(12),p=i(7),g=i(6),_=i(125),v=i(24),m=i(33),y=i(14),b=i(126),x=i(8),w=i(19),E=i(15),C=i(149),S=i(153),k=i(13),I=i(157),O=i(18),P=i(27);function M(t,e){var i=l.call(this,t,e)||this;function n(){var t;i.config.spans=null===(t=i.config.spans)||void 0===t?void 0:t.map((function(t){return P.normalizeSpan(t,i.config)}))}function o(t,e,n){var o,r;t&&e&&y.isTooltip(i.config,e)&&(o=v.toFormat(t[e.id],e.type,e.format),r=function(){return!!o||"boolean"==typeof o},e.tooltipTemplate?o=e.tooltipTemplate(o,t,e)||null:r()&&e.template&&(o=e.template(o,t,e)),r()&&k.tooltip(o.toString(),{css:"dhx_grid_tooltip",node:n,htmlEnable:y.isHtmlEnable(i.config,e)}))}function r(t,e){var n;e&&y.isTooltip(i.config,e)&&(n=t.target.querySelector(".dhx_grid-header-cell-text span")&&t.target.querySelector(".dhx_grid-header-cell-text span").textContent||t.target.querySelector(".dhx_grid-footer-cell-text span")&&t.target.querySelector(".dhx_grid-footer-cell-text span").textContent||"")&&k.tooltip(n,{css:"dhx_grid_tooltip",node:t.target,htmlEnable:y.isHtmlEnable(i.config,e)})}return i._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null},i.config=h.extend({rowHeight:40,headerRowHeight:40,footerRowHeight:40,keyNavigation:!0,sortable:!0,columns:[],data:[],tooltip:!0,rootParent:"string"==typeof t&&t||i._uid,headerSort:!0},e),i.content=C.getContent(),i._scroll={top:0,left:0},i.config.data instanceof g.DataCollection?c.awaitRedraw().then(n):n(),i.config.autoWidth=i.config.autoWidth||i.config.fitToContainer,i.config.adjust=i.config.adjust||i.config.columnsAutoWidth,i.config.editable=i.config.editable||i.config.editing,i.config.leftSplit=i.config.leftSplit||i.config.splitAt,i.config.sortable&&i.config.headerSort||(i.config.sortable=!1),i.config.columns.forEach((function(t){t.format=t.format||t.dateFormat})),i._htmlEvents={onclick:u.eventHandler((function(t){return u.locate(t)}),{"dhx_grid-header-cell--sortable":function(t,e){var n,o=t.target.getAttribute("dhx_resized"),r=i.getColumn(e);r&&y.isSortable(i.config,r)&&!o&&i.events.fire(x.GridEvents.beforeSort,[r,i._sortDir?"asc":"desc"])&&(t=(n=null===(t=u.locateNodeByClassName(t,"dhx_grid-header-cell"))||void 0===t?void 0:t.querySelector(".dhx_grid-header-cell-text_content").innerHTML)?r.header.find((function(t){return t.text===n})):null,r="asc"===i._sortDir&&i._sortBy===e?"desc":"asc",i._sort(e,r,null==t?void 0:t.sortAs))},"dhx_grid-expand-cell":function(t,e){t.target.classList.contains("dhx_grid-expand-cell-icon")&&i.events.fire(x.GridEvents.expand,[e])},"dhx_span-expand-cell":function(t,e){t.target.classList.contains("dhx_span-expand-cell-icon")&&i.events.fire(x.GridEvents.expand,[e])}}),onscroll:function(t){i.events.fire(x.GridEvents.scroll,[{y:t.target.scrollTop,x:t.target.scrollLeft}])},onmouseover:{".dhx_grid-cell.dhx_boolean-cell .dhx_checkbox.dhx_cell-editor__checkbox":function(t){var e=t.composedPath();o(i.data.getItem(e[2].getAttribute("data-dhx-id")),e=i.getColumn(e[1].getAttribute("data-dhx-col-id")),t.target)},".dhx_grid-cell:not(.dhx_boolean-cell)":function(t){o(i.data.getItem(t.composedPath()[1].getAttribute("data-dhx-id")),i.getColumn(t.target.getAttribute("data-dhx-col-id")),t.target)},".dhx_grid-cell:not(.dhx_tree-cell) .dhx_grid-cell__content, .dhx_tree-cell :not(.dhx_grid-cell__content)":function(t){var e=t.composedPath();o(i.data.getItem(e[2].getAttribute("data-dhx-id")),e=i.getColumn(e[1].getAttribute("data-dhx-col-id")),t.target)},".dhx_grid-cell.dhx_tree-cell .dhx_grid-cell__content":function(t){var e=t.composedPath();o(i.data.getItem(e[3].getAttribute("data-dhx-id")),t=i.getColumn(e[2].getAttribute("data-dhx-col-id")),e[2])},".dhx_span-cell:not(.dhx_grid-header-cell)":function(t){var e,n=i.data.getItem(t.target.getAttribute("data-dhx-id")),o=i.getColumn(t.target.getAttribute("data-dhx-col-id")),r=i.getSpan(n.id,o.id);n&&r&&y.isTooltip(i.config,r)&&(e=r.text||v.toFormat(n[o.id],o.type,o.format),r.tooltipTemplate?e=r.tooltipTemplate(e,r):o.template&&(e=o.template(e,n,o)),e&&k.tooltip(e,{css:"dhx_grid_tooltip",node:t.target,htmlEnable:!0}))},".dhx_grid-header-cell:not(.dhx_span-cell)":function(t){var e=i.getColumn(t.target.getAttribute("data-dhx-id"));r(t,e)},".dhx_grid-footer-cell:not(.dhx_span-cell)":function(t){var e=i.getColumn(t.target.getAttribute("data-dhx-id"));r(t,e)},".dhx_grid-header-cell.dhx_span-cell":function(t){var e=i.getColumn(t.target.getAttribute("data-dhx-id")),n=e&&e.header.find((function(t){return!(!t.rowspan&&!t.colspan)}));e&&n&&y.isTooltip(i.config,e)&&(n=n.text||"")&&k.tooltip(n,{css:"dhx_grid_tooltip",node:t.target,htmlEnable:y.isHtmlEnable(i.config,e)})},".dhx_grid-header-cell-text_content":function(t){var e=t.composedPath(),n=i.getColumn(e[1].getAttribute("data-dhx-id"));n&&y.isTooltip(i.config,n)&&(t=e[2].querySelector(".dhx_grid-header-cell-text_content")&&e[2].querySelector(".dhx_grid-header-cell-text_content").textContent||"")&&k.tooltip(t,{css:"dhx_grid_tooltip",node:e[1],htmlEnable:y.isHtmlEnable(i.config,n)})}}},(i.config.dragMode||i.config.dragItem)&&(g.dragManager.setItem(i._uid,i),i.config.dragItem||(i.config.dragItem="row"),i.config.dragMode||(i.config.dragMode="both")),i._init(),i.config.columns&&i._parseColumns(!0),i.config.data&&i.config.data instanceof Array&&i.config.data.length&&i.config.columns&&i.data.parse(i.config.data),i.selection=new b.Selection(i,{disabled:!i.config.selection},i.events,i._uid),i.mount(t,i._createView()),i.config.autoWidth&&i.config.autoHeight&&i._prepareData(i.config.data),c.awaitRedraw().then((function(){i.config.keyNavigation&&(i.keyManager=new f.KeyManager((function(t,e){return!(e!==i._uid||!i.events.fire(x.GridEvents.beforeKeyDown,[t])||(i.events.fire(x.GridEvents.afterKeyDown,[t]),0))})),i._initHotKey(),O.focusManager.setFocusId(i._uid))})),e.autoEmptyRow&&0===i.data.getLength()&&(i._addEmptyRow(),i.paint()),i}o(M,l=p.View),M.prototype.destructor=function(){this._destroyContent(),this.keyManager&&this.keyManager.destructor(),this.events.events={},this.events.context=null,this._activeFilters=this._filterData=this._scroll=this.content=null,this.unmount()},M.prototype.setColumns=function(t){var e=this;this.config.columns=t,this._parseColumns(!0),this._adjustColumns(),this._checkFilters(),this._checkMarks(),this.paint(),this.config.keyNavigation&&c.awaitRedraw().then((function(){e._initHotKey(!0),e.paint()}))},M.prototype.addRowCss=function(t,e){var i=this.data.getItem(t);(t=i.$css||"").match(new RegExp(e,"g"))||(i.$css=t+" "+e,this.paint())},M.prototype.removeRowCss=function(t,e){e=(t=this.data.getItem(t)).$css?t.$css.replace(e,""):"",t.$css=e,this.paint()},M.prototype.addCellCss=function(t,e,i){var n=this.getColumn(e),o=this.config.spans?this.getSpan(t,e):null;(o||n)&&((e=o?o.css:n.$cellCss[t])?(e=e.match(new RegExp(i,"g"))?"":" "+i,o?o.css+=e:n.$cellCss[t]+=e):this.data.getItem(t)&&(o?o.css=i+" ":n.$cellCss[t]=i+" "),this.paint())},M.prototype.removeCellCss=function(t,e,i){(e=this.getColumn(e))&&(e.$cellCss[t]?(e.$cellCss[t]=e.$cellCss[t].replace(i,""),this.paint()):this.data.getItem(t)&&(e.$cellCss[t]=""))},M.prototype.showColumn=function(t){var e=this.getColumn(t);e&&e.hidden&&this.events.fire(x.GridEvents.beforeColumnShow,[e])&&(e.hidden=!1,this.config.$totalWidth+=e.$width,(t=this._hiddenFilters&&this._hiddenFilters[e.id])&&(this._activeFilters[e.id]=t,delete this._hiddenFilters[e.id]),this.paint(),this._checkFilters(),this.events.fire(x.GridEvents.afterColumnShow,[e]))},M.prototype.hideColumn=function(t){var e,i=this,n=this.getColumn(t);n&&!n.hidden&&this.events.fire(x.GridEvents.beforeColumnHide,[n])&&(n.hidden=!0,this.config.$totalWidth-=n.$width,(t=this._activeFilters&&this._activeFilters[n.id])&&(this._hiddenFilters||(this._hiddenFilters={}),this._hiddenFilters[n.id]=t,delete this._activeFilters[n.id],this.data.filter()),this.paint(),t=this.content.comboFilter,e=function(){i._checkFilters(),i.events.fire(x.GridEvents.afterColumnHide,[n])},Object.keys(t.element).length?c.awaitRedraw().then((function(){i.paint(),e()})):e())},M.prototype.isColumnHidden=function(t){if(t=this.getColumn(t))return!!t.hidden},M.prototype.showRow=function(t){var e;h.isDefined(t)&&(e=t.toString(),(t=this.data.getItem(e))&&t.hidden&&this.events.fire(x.GridEvents.beforeRowShow,[t])&&(this.data.update(e,{hidden:!1}),this.data.filter((function(t){return!t.hidden})),this.events.fire(x.GridEvents.afterRowShow,[t])))},M.prototype.hideRow=function(t){var e;h.isDefined(t)&&(e=t.toString(),(t=this.data.getItem(e))&&this.events.fire(x.GridEvents.beforeRowHide,[t])&&(this.data.update(e,{hidden:!0}),this.data.filter((function(t){return!t.hidden})),this.events.fire(x.GridEvents.afterRowHide,[t])))},M.prototype.isRowHidden=function(t){if(h.isDefined(t))return(t=this.data.getItem(t.toString()))?!!t.hidden:void 0},M.prototype.getScrollState=function(){return{x:this._scroll.left,y:this._scroll.top}},M.prototype.scroll=function(t,e){var i=this.getRootView().refs.grid_body.el.querySelector(".scroll-view")||this.getRootView().refs.grid_body.el;i.scrollLeft=!t&&0!==t||"number"!=typeof t?i.scrollLeft:t,i.scrollTop=!e&&0!==e||"number"!=typeof e?i.scrollTop:e,this.paint()},M.prototype.scrollTo=function(t,e){var i=this.selection.getCell(),n=this.config.columns.filter((function(t){return!t.hidden})),o=h.findIndex(n,(function(t){return t.id==e})),r=i?i.column:this.config.columns[0],s=h.findIndex(n,(function(t){return t.id==r.id})),a=this.config.leftSplit?y.getTotalWidth(n.slice(0,this.config.leftSplit)):0,l=y.getTotalWidth(n.slice(0,o))-(o-s<0?a:0),c=this.data.getRawData(0,-1),d=h.findIndex(c,(function(e){return e.id==t})),u=y.getTotalHeight(c.slice(0,d)),f=this.getScrollState(),p=this.config.width+f.x;i=this.config.height+f.y-this.config.headerRowHeight*this.config.$headerLevel,s=u-f.y-c[d].$height,a=l-f.x-n[o].$width,i=u+2*c[d].$height+18-i,p=l+2*n[o].$width+18-p,i=0<s&&i<0?0:s<0?s:i,p=0<a&&p<0?0:a<0?a:p,this.scroll(p+f.x,i+f.y)},M.prototype.adjustColumnWidth=function(t,e){void 0===e&&(e=!0);var i=this.config.columns.filter((function(t){return!t.hidden})),n=i.filter((function(e){return e.id===t})),o=this._adjustColumnsWidth(this.config.data,n,e);this.config.$totalWidth=i.reduce((function(t,e){var i,n,r;return o[e.id]&&(e.$fixed=!0,i=e.maxWidth,n=e.minWidth,r=o[e.id],e.$width=r,i&&i<r&&(e.$width=i),n&&e.$width<n&&(e.$width=n)),t+e.$width}),0),this.paint()},M.prototype.getCellRect=function(t,e){var i=this.config.columns.filter((function(t){return!t.hidden})),n=this.data.getRawData(0,-1),o=this.getSpan(t,e),r=h.findIndex(i,(function(t){return t.id==(o?o.column:e)})),s=h.findIndex(n,(function(e){return e.id==(o?o.row:t)}));return{x:y.getTotalWidth(i.slice(0,r)),y:y.getTotalHeight(n.slice(0,s)),height:null!=o&&o.rowspan?m.getHeight(n,o.rowspan,s):n[s]?n[s].$height:0,width:null!=o&&o.colspan?m.getWidth(i,o.colspan,r):i[r]?i[r].$width:0}},M.prototype.getColumn=function(t){for(var e,i=0,n=null===(e=this.config)||void 0===e?void 0:e.columns;i<n.length;i++){var o=n[i];if(o.id==t)return o}},M.prototype.addSpan=function(t){this.config.spans=this.config.spans||[];var e=h.findIndex(this.config.spans,(function(e){return""+e.row==""+t.row&&""+e.column==""+t.column}));0<=e?this.config.spans[e]=t:(this.config.spans.push(P.normalizeSpan(t,this.config)),this._checkMarks(),this.paint())},M.prototype.getSpan=function(t,e){var i=this;if(this.config.spans){var n=this.data.getIndex(t.toString()),o=this.config.columns.findIndex((function(t){return t.id===e})),r=h.findIndex(this.config.spans,(function(t){var e=i.data.getIndex(t.row.toString()),r=i.config.columns.findIndex((function(e){return e.id===t.column})),s=t.rowspan?e+t.rowspan:e+1,a=t.colspan?r+t.colspan:r+1;return e<=n&&n<s&&r<=o&&o<a}));return null===(t=this.config)||void 0===t?void 0:t.spans[r]}},M.prototype.removeSpan=function(t,e){var i;this.config.spans&&(i=h.findIndex(this.config.spans,(function(i){return""+i.row==""+t&&""+i.column==""+e})),this.config.spans.splice(i,1),this.paint())},M.prototype.editCell=function(t,e,i){var n,o=this.data.getItem(t),r=this.getColumn(e);o&&r?(n=r.editorType,i||("date"===r.type&&(i="datePicker"),"boolean"===r.type&&(i="checkbox"),n&&(i=n)),this.events.fire(x.GridEvents.beforeEditStart,[o,r,i])&&(null!==(n=this.config.$editable)&&void 0!==n&&n.editor||this.config.$editable&&this.config.$editable.row===t&&this.config.$editable.col===e&&this.config.$editable.editorType===i||(this.config.$editable={row:o.id,col:r.id,isSpan:!!this.getSpan(o.id,r.id),editorType:i},this.selection.config.disabled||this.selection.setCell(t.toString(),e.toString()),this.paint(),this.events.fire(x.GridEvents.afterEditStart,[o,r,i])))):g.dhxWarning("item not found")},M.prototype.editEnd=function(t){this.config.$editable&&this.config.$editable.editor&&this.config.$editable.editor.endEdit(t)},M.prototype.getSortingState=function(){return{dir:this._sortDir,by:this._sortBy}},M.prototype.getHeaderFilter=function(t){var e=this,i=this.getColumn(t);if(i){var n=null;return i.header.forEach((function(i){i.content&&(n=e.content[i.content].element[t])})),n}},M.prototype.edit=function(t,e,i){this.editCell(t,e,i)},M.prototype.paint=function(){var t=this.config.hotkeys?Object.keys(this.config.hotkeys).length:0;!this.keyManager||this.keyManager.getKeyStorageLength()-t||this._initHotKey(!0),l.prototype.paint.call(this)},M.prototype._createView=function(){var t=this;return c.create({render:function(e,i){return w.render(e,i,t._htmlEvents,t.selection,t._uid)}},this)},M.prototype._parseColumns=function(t){void 0===t&&(t=!1),v.normalizeColumns(this.config,t),t=this.config.columns.filter((function(t){return!t.hidden})),v.countColumns(this.config,t)},M.prototype._parseData=function(){this.config.data=this._prepareData(this.data),this._detectColsTypes(),this._checkFilters(),this._checkMarks(),this.data.filter((function(t){return!t.hidden})),this._render()},M.prototype._createCollection=function(t){this.data=new g.DataCollection({prep:t},this.events)},M.prototype._getRowIndex=function(t){return this.data.getIndex(t)},M.prototype._setEventHandlers=function(){function t(t){var i=t.source,n=t.target,o=s(t,["source","target"]);null!=i&&i.length&&i.map((function(t){return e.data.exists(t)&&e.data.update(t,o)})),e.data.exists(n)&&e.data.update(n,o)}var e=this;this.data.events.on(g.DataEvents.load,(function(){e.data.filter((function(t){return t})),e._parseData(),e._checkFilters()})),this.data.events.on(g.DataEvents.change,(function(t,i,n){if("setPage"!==i){if("sort"===i?(n.dir?e._sortDir=n.dir:e._sortBy===n.by?e._sortDir="asc"===e._sortDir?"desc":"asc":e._sortDir="asc",e._sortBy=n.by):"add"===i||"update"===i||"remove"===i?(!t||"remove"!==i||(o=e.selection.getCells().find((function(e){return e.row.id===t})))&&e.selection.removeCell(o.row.id,o.column.id),e.config.data=e._prepareData(e.data)):(g.isTreeCollection(e.data)&&(e.config.data=e._prepareData(e.data)),e._adjustColumns()),t&&(e._filterData=e.data.map((function(t){return t}))||[],e._checkFilters()),e._detectColsTypes(),e._removeMarks(),e._checkMarks(),e.config.autoEmptyRow&&(!e._activeFilters||h.isEmptyObj(e._activeFilters))){var o=e.data.find({by:"$emptyRow",match:!0});if(o){if(o.id===t)return;e.data.move(o.id,e.data.getLength()-1)}else e._addEmptyRow()}e._render()}else c.awaitRedraw().then((function(){var t=e.config.columns.find((function(t){return!0!==t.hidden}));e.scrollTo(e.data.getId(n[0]).toString(),t.id.toString()),e._render()}))})),this.data.events.on(g.DataEvents.removeAll,(function(){e.config.columns.map((function(t){t.header.map((function(e){!e.content||"selectFilter"!==e.content&&"comboFilter"!==e.content||(t.$uniqueData=[])}))}))})),this.events.on(g.DragEvents.beforeDrag,(function(t,i){return e.data.getItem(t.start)?e.events.fire(x.GridEvents.beforeRowDrag,[t,i]):"column"===e.config.dragItem||"both"===e.config.dragItem?e.events.fire(x.GridEvents.beforeColumnDrag,[t,i]):void 0})),this.events.on(g.DragEvents.dragStart,(function(i,n){var o=i.source,r=i.target,s=i.start;t({source:o,target:r,$dragtarget:!0}),e.data.getItem(s)?e.events.fire(x.GridEvents.dragRowStart,[i,n]):"column"!==e.config.dragItem&&"both"!==e.config.dragItem||e.events.fire(x.GridEvents.dragColumnStart,[i,n])})),this.events.on(g.DragEvents.dragIn,(function(t,i){e.data.getItem(t.start)?e.events.fire(x.GridEvents.dragRowIn,[t,i]):"column"!==e.config.dragItem&&"both"!==e.config.dragItem||e.events.fire(x.GridEvents.dragColumnIn,[t,i])})),this.events.on(g.DragEvents.dragOut,(function(t,i){e.data.getItem(t.start)?e.events.fire(x.GridEvents.dragRowOut,[t,i]):"column"!==e.config.dragItem&&"both"!==e.config.dragItem||e.events.fire(x.GridEvents.dragColumnOut,[t,i])})),this.events.on(g.DragEvents.canDrop,(function(i,n){var o=i.source,r=i.target,s=i.dragItem;delete i.dragItem,t({source:o,target:r,$drophere:!0}),"row"===s?e.events.fire(x.GridEvents.canRowDrop,[i,n]):"column"!==e.config.dragItem&&"both"!==e.config.dragItem||e.events.fire(x.GridEvents.canColumnDrop,[i,n])})),this.events.on(g.DragEvents.cancelDrop,(function(i,n){var o=i.source,r=i.target,s=i.start;t({source:o,target:r,$drophere:void 0,$dragtarget:void 0}),e.data.getItem(s)?e.events.fire(x.GridEvents.cancelRowDrop,[i,n]):"column"!==e.config.dragItem&&"both"!==e.config.dragItem||e.events.fire(x.GridEvents.cancelColumnDrop,[i,n])})),this.events.on(g.DragEvents.beforeDrop,(function(t,i){return"row"!==e.config.dragItem||"both"!==e.config.dragMode&&"target"!==e.config.dragMode?"column"===e.config.dragItem||"both"===e.config.dragItem?e.events.fire(x.GridEvents.beforeColumnDrop,[t,i]):void 0:e.events.fire(x.GridEvents.beforeRowDrop,[t,i])})),this.events.on(g.DragEvents.afterDrop,(function(t,i){var n,o;if(e.data.getItem(t.start)){e.events.fire(x.GridEvents.afterRowDrop,[t,i]);var r=t.source;if(!r.some((function(e){return e==t.target}))){for(var s=e.data.getItem(t.start),l=0,c=e.config.columns;l<c.length;l++){var d=c[l];void 0===s[d.id]&&e.data.update(s.id,((n={})[d.id]=null,n),!0)}var u,h=e.data.getInitialData(),f=null==h?void 0:h.findIndex((function(e){return e.id==t.start})),p=null==h?void 0:h.findIndex((function(e){return e.id==t.target}));if(-1<f&&-1<p)if(1<(null===(o=t.source)||void 0===o?void 0:o.length)){for(var g=[],_=0,v=r;_<v.length;_++)!function(t){var e=null==h?void 0:h.findIndex((function(e){return e.id==t}));e=null==h?void 0:h.splice(e,1)[0],g.push(e)}(v[_]);0<(p=null==h?void 0:h.findIndex((function(e){return e.id==t.target})))&&++p,null!=h&&h.splice.apply(h,a([p,0],g))}else null!=h&&h.splice(p,0,null==h?void 0:h.splice(f,1)[0]);for(u in e.config.data=e._prepareData(h||e.data.map((function(t){return t}))),e.data.parse(e.config.data),e._activeFilters)e.data.filter(e._activeFilters[u],{add:!0})}}else"column"!==e.config.dragItem&&"both"!==e.config.dragItem||e.events.fire(x.GridEvents.afterColumnDrop,[t,i])})),this.events.on(g.DragEvents.afterDrag,(function(i,n){var o=i.source,r=i.target,s=i.start;t({source:o,target:r,$dragtarget:void 0}),e.data.getItem(s)?e.events.fire(x.GridEvents.afterRowDrag,[i,n]):"column"!==e.config.dragItem&&"both"!==e.config.dragItem||e.events.fire(x.GridEvents.afterColumnDrag,[i,n]),e.config.data=e._prepareData(e.data instanceof Array?e.data.map((function(t){return t})):e.data.getInitialData()||e.data),e.data.parse(e.config.data)})),this.events.on(x.GridEvents.cellMouseDown,(function(t,i,n){n.targetTouches?(e._touch.timer=setTimeout((function(){e._dragStart(n)}),e._touch.duration),e._touch.timeStamp?(e._touch.dblDuration>=e._touch.timeStamp-+n.timeStamp.toFixed()&&((!1!==i.editable&&e.config.editable||i.editable)&&e.editCell(t.id,i.id,i.editorType),n.preventDefault(),e.events.fire(x.GridEvents.cellDblClick,[t,i,n])),e._touch.timeStamp=null):e._touch.timeStamp=+n.timeStamp.toFixed(),setTimeout((function(){e._touch.timeStamp=null}),e._touch.dblDuration)):e._dragStart(n)})),this._events.on(x.GridSystemEvents.cellTouchMove,(function(t,i,n){e._touch.start&&n.preventDefault(),e._clearTouchTimer()})),this._events.on(x.GridSystemEvents.cellTouchEnd,(function(){e._touch.start=!1,e._clearTouchTimer()})),this.events.on(x.GridEvents.filterChange,(function(t,i,n){var o;if(e.events.fire(x.GridEvents.beforeFilter,[t,i])){t=null!=t?t:"",!e.config.autoEmptyRow||(o=e.data.find({by:"$emptyRow",match:!0}))&&e.data.remove(o.id),e._activeFilters||(e._activeFilters={});var r,s,a,l=e.getColumn(i),c=l.header.filter((function(t){return t.content===n&&void 0!==t.customFilter}))[0];for(a in""!==t?("combobox"!==l.editorType&&"select"!==l.editorType&&"multiselect"!==l.editorType||!l.options||(t=Array.isArray(t)?t.map((function(t){var e;return(null===(e=l.options.find((function(e){return"string"==typeof e?e===t:e.value===t})))||void 0===e?void 0:e.id)||t})):null!==(o=null===(o=l.options.find((function(e){return"string"==typeof e?e===t:e.value===t})))||void 0===o?void 0:o.id)&&void 0!==o?o:t),e._activeFilters[i]={by:i,match:t,compare:null!==(c=null==c?void 0:c.customFilter)&&void 0!==c?c:(r=i,s=e.getColumn(r),function(t,i,o,r){return e.content[n].match({val:t,match:i,obj:o,multi:r,col:s})}),multi:"multiselect"===(null==l?void 0:l.editorType)}):delete e._activeFilters[i],e.data.filter((function(t){return!t.hidden})),e._activeFilters)e.data.filter(e._activeFilters[a],{add:!0})}})),this.events.on(x.GridEvents.scroll,(function(t){e._scroll={top:t.y,left:t.x},e.editEnd(),e.paint()})),this.events.on(x.GridEvents.cellDblClick,(function(t,i,n){u.locateNodeByClassName(n,"dhx_boolean-cell")||(!1!==i.editable&&e.config.editable||i.editable)&&e.editCell(t.id,i.id,i.editorType)})),this.events.on(x.GridEvents.afterEditEnd,(function(t,i,n){var o,s;null!==(o=e.config.$editable)&&void 0!==o&&o.editor&&(e.config.$editable.col!==n.id||e.config.$editable.row!==i.id)||(i=e.config.$editable?(s=e.config.$editable.row,e.config.$editable.col):(s=i.id,n.id),(n=e.getSpan(s,i))&&"string"==typeof n.text&&void 0!==t?n.text=t:(delete(n=e.data.getItem(s)).$emptyRow,void 0!==t&&e.data.update(s,r(r({},n),((n={})[i]=t,n)))),e.config.$editable=null,e._checkFilters(),e.paint())})),this.events.on(x.GridEvents.headerCellMouseDown,(function(t,i){var n=i.target.getAttribute("dhx_resized");n&&e.events.fire(x.GridEvents.beforeResizeStart,[t,i])&&S.startResize(e,n.toString(),i,(function(){e.paint(),e.config.$resizing=null,e.events.fire(x.GridEvents.afterResizeEnd,[t,i])})),i.targetTouches&&(e._touch.timeStamp?(e._touch.dblDuration>=e._touch.timeStamp-+i.timeStamp.toFixed()&&(i.preventDefault(),e.events.fire(x.GridEvents.headerCellDblClick,[t,i])),e._touch.timeStamp=null):e._touch.timeStamp=+i.timeStamp.toFixed(),setTimeout((function(){e._touch.timeStamp=null}),e._touch.dblDuration))})),this.events.on(x.GridEvents.footerCellDblClick,(function(t,i){i.targetTouches&&(e._touch.timeStamp?(e._touch.dblDuration>=e._touch.timeStamp-+i.timeStamp.toFixed()&&(i.preventDefault(),e.events.fire(x.GridEvents.footerCellDblClick,[t,i])),e._touch.timeStamp=null):e._touch.timeStamp=+i.timeStamp.toFixed(),setTimeout((function(){e._touch.timeStamp=null}),e._touch.dblDuration))})),this.events.on(x.GridEvents.resize,(function(){e._parseColumns(),e._checkFilters()})),this.events.on(x.GridEvents.afterResizeEnd,(function(t){var i;e.config.columns=null===(i=e.config.columns)||void 0===i?void 0:i.map((function(e){return e.id==t.id&&(e.width=t.$width),e})),e._parseColumns(),e._checkFilters()}))},M.prototype._addEmptyRow=function(){var t=this.data.getId(this.data.getLength()-1),e=this.data.getItem(t);t=this.config.columns.filter((function(t){return!t.hidden})),y.isRowEmpty(e)||this.data.add(t.reduce((function(t,e){return t[e.id]="",t}),{$emptyRow:!0}))},M.prototype._sort=function(t,e,i){var n=this;e=e||(this._sortBy===t&&"asc"===this._sortDir?"desc":"asc"),this.data.sort({by:t,dir:e,as:null!=i?i:function(e){var i=n.getColumn(t);return e&&"date"===i.type?("string"==typeof e?E.stringToDate(e,i.format):e).getTime():e?""+e:""}}),this.events.fire(x.GridEvents.afterSort,[this.getColumn(t),e])},M.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},M.prototype._checkFilters=function(){var t=this,e=this._filterData;if(e){this.config.columns.forEach((function(t){t.header.forEach((function(i){var n,o,r;!i.content||"selectFilter"!==i.content&&"comboFilter"!==i.content||(o=t.header.find((function(t){return t.filterConfig})),r=[],"comboFilter"===i.content&&null!==(n=i.filterConfig)&&void 0!==n&&n.readonly&&r.push(""),r.push.apply(r,v.getUnique(e,t.id,o?o.filterConfig.multiselection:null)),t.$uniqueData&&t.$uniqueData.length>r.length?r.forEach((function(e){t.$uniqueData.includes(e)||t.$uniqueData.push(e)})):t.$uniqueData=r)}))}));var i,n=this;for(i in this._activeFilters)!function(e){var i=n.config.columns.find((function(t){return t.id===e})),o=i.header.find((function(t){return!!t.content})),r=Array.isArray(n._activeFilters[e].match)?n._activeFilters[e].match.reduce((function(t,e){if(i.$uniqueData.find((function(t){return t.toString()===e})))return!0}),!1):i.$uniqueData.find((function(i){return i.toString()===t._activeFilters[e].match}));!o||"selectFilter"!==o.content&&"comboFilter"!==o.content||r?n.data.filter(n._activeFilters[e],{add:!0}):(delete n._activeFilters[e],n.data.filter())}(i)}},M.prototype._adjustColumns=function(){var t,e,i,n=this;"boolean"==typeof this.config.adjust||"data"===this.config.adjust||"header"===this.config.adjust||"footer"===this.config.adjust?(i=this.config.columns.filter((function(t){return!t.hidden}))).length&&(t=this.config.data&&this.config.data.length?this.config.data:this.data.map((function(t){return t})),e=this._adjustColumnsWidth(t,i),this.config.$totalWidth=i.reduce((function(t,i){i.$fixed=!0;var n=i.maxWidth,o=i.minWidth,r=e[i.id];return i.$width=r,n&&n<r&&(i.$width=n),o&&i.$width<o&&(i.$width=o),t+i.$width}),0)):(i=this.config.columns.filter((function(t){return!t.hidden&&t.adjust}))).length&&i.forEach((function(t){n.adjustColumnWidth(t.id,t.adjust)}))},M.prototype._prepareData=function(t){var e=this;return this.config.autoHeight&&(this.config.autoHeight=!1),this._adjustColumns(),t.map((function(t){return t.$height=t.height||e.config.rowHeight,t}))},M.prototype._adjustColumnsWidth=function(t,e,i){void 0===i&&(i=this.config.adjust);var n,o={};if("header"===i||!0===i){var r=e.filter((function(t){return t.header}));if(n=v.getMaxColsWidth(this._prepareColumnData(r,"header"),r,{font:"bold 14.4px Arial"},"header"))for(var s=0,a=Object.entries(n);s<a.length;s++){var l=a[s],c=l[0],d=l[1];o=Object.assign(o,((l={})[c]=+d+(y.isSortable(this.config,this.getColumn(c))?36:16),l))}}if(("footer"===i||!0===i)&&(r=e.filter((function(t){return t.footer})),n=v.getMaxColsWidth(this._prepareColumnData(r,"footer"),r,{font:"bold 14.4px Arial"},"footer")))for(var u=0,h=Object.entries(n);u<h.length;u++){var f=h[u];c=f[0],d=f[1],(o[c]&&o[c]<+d+16||!o[c])&&(o=Object.assign(o,((f={})[c]=+d+16,f)))}if(("data"===i||!0===i)&&(n=v.getMaxColsWidth(t,e,{font:"normal 14.4px Arial"},"data")))for(var p=0,g=Object.entries(n);p<g.length;p++){var _=g[p];c=_[0],d=_[1],(o[c]&&o[c]<+d+16||!o[c])&&(o=Object.assign(o,((_={})[c]=+d+16,_)))}return o},M.prototype._prepareColumnData=function(t,e){for(var i,n,o=[],s=0;s<t.length;s++){for(var a=[],l=0;l<(null===(i=t[s])||void 0===i?void 0:i[e].length);l++){var c={};null!==(i=null===(i=t[s])||void 0===i?void 0:i[e][l])&&void 0!==i&&i.text?(c[t[s].id]=(null===(n=null===(n=t[s])||void 0===n?void 0:n[e][l])||void 0===n?void 0:n.text)||"",a.push(c)):null!==(n=null===(n=t[s])||void 0===n?void 0:n[e][l])&&void 0!==n&&n.content&&(c[t[s].id]=this.content[null===(n=null===(n=t[s])||void 0===n?void 0:n[e][l])||void 0===n?void 0:n.content].toHtml(this.getColumn(t[s].id),this.config)||"",a.push(c))}for(var d=0;d<a.length;d++)for(var u=0,h=Object.entries(a[d]);u<h.length;u++){var f=h[u],p=f[0],g=f[1];o[d]=r({},o[d])||{},o[d]=Object.assign(o[d],((f={})[p]=g,f))}}return o},M.prototype._dragStart=function(t){if(this.config.dragMode&&("row"===this.config.dragItem||"both"===this.config.dragItem)&&!this.config.$editable){var e=this.getColumn(t.target.getAttribute("data-dhx-col-id"));if(!1!==(null==e?void 0:e.draggable))return e=(e=u.locateNode(t,"data-dhx-id"))&&e.getAttribute("data-dhx-id"),t.targetTouches&&(this._touch.start=!0),g.dragManager.onMouseDown(t,[e],[this._getRowGhost([e])])}},M.prototype._getRowGhost=function(t){var e=this._container||u.toNode(this._uid),i=(t=t.map((function(t){return e.querySelector('.dhx_grid-row[data-dhx-id="'+t+'"]')})),document.createElement("div"));return t.forEach((function(t){return t&&i.appendChild(t.cloneNode(!0))})),i},M.prototype._init=function(){this.events=new d.EventSystem(this),this._events=new d.EventSystem(this),this._attachDataCollection(),this.export=new _.Exporter(this),this._setEventHandlers()},M.prototype._attachDataCollection=function(){var t=this;if(this.config.data instanceof g.DataCollection)return this.data=this.config.data,void(this.config.data=this.data.serialize());this._createCollection((function(e){return e.spans&&(t.config.spans=e.spans,e=e.data),e}))},M.prototype._setMarks=function(t,e){for(var i=this.data.map((function(e){return{id:e.id,data:e[t.id],row:e}})),n=this.data.map((function(e){return e[t.id]})),o=this,r=0,s=i;r<s.length;r++)!function(i){var r,s,a=e(i.data,n,i.row,t);a&&(t.$cellCss=t.$cellCss||{},r=(t.$cellCss[i.id]||"").split(" "),a.split(" ").map((function(t){r.includes(t)||r.push(t)})),s=r.join(" "),a=o.getSpan(i.id,t.id),t.$cellCss[i.id]=s,a&&(a.rowspan||a.colspan&&a.column===t.id)&&a.$markCss!==s&&(a.$markCss=s))}(s[r])},M.prototype._checkMarks=function(){var t=this;this.config.columns.map((function(e){var i=e.mark;i&&("function"==typeof i?t._setMarks(e,i):t._setMarks(e,(function(t,e){var n=[];e.forEach((function(t){null!=t&&""!==t&&n.push(parseFloat(t))}));var o=h.getMinArrayNymber(n);return e=h.getMaxArrayNymber(n),i.max&&e===parseFloat(t)?i.max:!(!i.min||o!==parseFloat(t))&&i.min})))}))},M.prototype._removeMarks=function(){var t;this.config.columns.forEach((function(t){t.mark&&(t.$cellCss={})})),null!==(t=this.config.spans)&&void 0!==t&&t.forEach((function(t){t.$markCss&&delete t.$markCss}))},M.prototype._detectColsTypes=function(){this.config.columns.forEach((function(t){return t.type?t:t.format?(t.type="number",t):void(t.type||(t.type="string"))}))},M.prototype._destroyContent=function(){for(var t in this.content)"comboFilter"===t&&this.content[t].destroy()},M.prototype._render=function(){this.paint()},M.prototype._initHotKey=function(t){void 0===t&&(t=!1);var e=I.getKeysHandlers(this);for(i in e)this.keyManager.exist(i)||this.keyManager.addHotKey(i,e[i]);if(!t)for(var i in this.config.hotkeys)this.keyManager.addHotKey(i,this.config.hotkeys[i])},o=M,e.Grid=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(7),d=i(44),u=i(133),h=i(3),f=i(41),p=i(43);function g(t,e){var i=s.call(this,t,e)||this;return i._disabled=[],t&&t.isVisible&&(i._parent=t),i._parent&&i._parent.events?i.events=i._parent.events:i.events=new h.EventSystem(i),i.config.full=void 0===i.config.full?Boolean(i.config.header||i.config.collapsable||i.config.headerHeight||i.config.headerIcon||i.config.headerImage):i.config.full,i._afterWindowResized=i._resizedWindow.bind(i),i._initHandlers(),i.id=i.config.id||a.uid(),i._progress=!!i.config.progressDefault,i._stopProgressDefault=!1,i._isXDirection()&&!e.width&&(e.$autoWidth=!0),i._isXDirection()||e.height||(e.$autoHeight=!0),i}o(g,s=c.View),g.prototype.paint=function(){var t;this.isVisible()&&((t=this.getRootView())?t.redraw():null!==(t=this._parent)&&void 0!==t&&t.paint())},g.prototype.isVisible=function(){if(!this._parent)return!(!this._container||!this._container.tagName)||Boolean(this.getRootNode());var t=null===(t=this._parent.config)||void 0===t?void 0:t.activeView;return(!t||t===this.id)&&!this.config.hidden&&(!this._parent||this._parent.isVisible())},g.prototype.hide=function(){this.events.fire(d.LayoutEvents.beforeHide,[this.id])&&(this.config.hidden=!0,this._resetCellsSize(),this._parent&&this._parent.paint&&this._parent.paint(),this.events.fire(d.LayoutEvents.afterHide,[this.id]))},g.prototype.show=function(){var t=this;this.events.fire(d.LayoutEvents.beforeShow,[this.id])&&(this._parent&&this._parent.config&&void 0!==this._parent.config.activeView?this._parent.config.activeView=this.id:this.config.hidden=!1,this._parent&&!this._parent.isVisible()&&this._parent.show(),this.paint(),this._ui instanceof f.Grid&&this._ui.config.keyNavigation&&l.awaitRedraw().then((function(){t._ui.setColumns(t._ui.config.columns),t.paint()})),this.events.fire(d.LayoutEvents.afterShow,[this.id]))},g.prototype.expand=function(){this.events.fire(d.LayoutEvents.beforeExpand,[this.id])&&(this.config.collapsed=!1,this._checkNextSize()||this._checkNextSize(this._getAnyFlexCell()),this.events.fire(d.LayoutEvents.afterExpand,[this.id]),this.paint())},g.prototype.collapse=function(){this.events.fire(d.LayoutEvents.beforeCollapse,[this.id])&&(this.config.collapsed=!0,this._checkNextSize()||this._checkNextSize(this._getAnyFlexCell()),this.events.fire(d.LayoutEvents.afterCollapse,[this.id]),this.paint())},g.prototype.toggle=function(){this.config.collapsed?this.expand():this.collapse()},g.prototype._checkNextSize=function(t){var e=null!=t?t:this._getNextCell();return!!e&&(this._isXDirection()&&e.config.$autoWidth&&e.config.width?!(e.config.width=void 0):!this._isXDirection()&&e.config.$autoHeight&&e.config.height?!(e.config.height=void 0):!t&&e._checkNextSize())},g.prototype.getParent=function(){return this._parent},g.prototype.destructor=function(){var t;this.events&&this.events.clear(),window.removeEventListener("resize",this._afterWindowResized),"function"==typeof(null===(t=this.getWidget())||void 0===t?void 0:t.destructor)&&this.getWidget().destructor(),this.config=this.events=this.id=this._parent=this._handlers=this._uid=this._disabled=this._resizerHandlers=null,this.unmount()},g.prototype.getWidget=function(){return this._ui},g.prototype.getCellView=function(){return this._parent&&this._parent.getRefs(this._uid)},g.prototype.attach=function(t,e){var i=this;return this.config.html=null,"object"==typeof t?this._ui=t:"string"==typeof t?this._ui=new window.dhx[t](null,e):"function"==typeof t&&(t.prototype instanceof c.View?this._ui=new t(null,e):this._ui={getRootView:function(){return t(e)}}),this.paint(),this._ui instanceof f.Grid&&this._ui.config.keyNavigation&&l.awaitRedraw().then((function(){i._ui.setColumns(i._ui.config.columns),i.paint()})),this._ui},g.prototype.attachHTML=function(t){this.config.html=t,this.paint()},g.prototype.detach=function(){this._stopProgressDefault=!1,this._ui=this.config.html=null,this.paint()},g.prototype.progressShow=function(){this.config.progressDefault&&(this._stopProgressDefault=!1),this._progress=!0,this.paint()},g.prototype.progressHide=function(){this.config.progressDefault&&(this._stopProgressDefault=!0),this._progress=!1,this.paint()},g.prototype.isVisibleProgress=function(){return this._progress},g.prototype.toVDOM=function(t){if(null===this.config&&(this.config={}),!this.config.hidden){var e,i=this._calculateStyle(),n=a.isDefined(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:this.config.padding+"px"}:"",o=this.config.full||this.config.html?i:r(r({},i),n);this.config.html||(e=this._ui?((u=this._ui.getRootView()).render&&(u=l.inject(u)),[u]):t||null),i=this.config.resizable&&!this._isLastCell()&&this._getNextCell()&&!this.config.collapsed?l.el(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),r(r({},this._resizerHandlers),{_ref:"resizer_"+this._uid,tabindex:0}),[l.el("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]):null;var s={};if(this.config.on)for(var c in this.config.on)s["on"+c]=this.config.on[c];var d="",u=this.config.cols||this.config.rows;if(this.config.type&&u)switch(this.config.type){case"line":d=" dhx_layout-line";break;case"wide":d=" dhx_layout-wide";break;case"space":d=" dhx_layout-space"}return n=l.el("div",r(r(((t={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,t["data-cell-id"]=null!==(u=this.config.id)&&void 0!==u?u:null,t),s),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?d:""),style:o}),[this.config.full?[l.el("div",{tabindex:this.config.collapsable?"0":"-1",role:this.config.collapsable?"button":null,"aria-label":this.config.collapsable?"click to "+(this.config.collapsed?"expand":"collapse"):null,class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&l.el("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&l.el(".dhx_layout-cell-header__image-wrapper",[l.el("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&l.el("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?l.el("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):l.el("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:l.el("div",{style:r(r({},n),{height:"calc(100% - "+(this.config.headerHeight||37)+"px)"}),class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?d:"")},this.config.html?[l.el("div",{".innerHTML":this.config.html,class:"dhx_layout-cell dhx_layout-cell-inner_html"})]:e)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?e:[this.config.collapsed?null:l.el(".dhx_layout-cell-content",{style:n},[l.el(".dhx_layout-cell-inner_html",{".innerHTML":this.config.html})])],this._checkProgress()&&this._getProgressBar()]),i?[n,i]:n}},g.prototype._getProgressBar=function(){return l.el("div",{class:"dhx_progress-bar"},[l.sv("svg",{viewBox:"25 25 50 50",class:"dhx_spinner"},[l.sv("circle",{cx:"50",cy:"50",r:"20",class:"path"})])])},g.prototype._getCss=function(t){return"dhx_layout-cell"},g.prototype._initHandlers=function(){var t=this;function e(e,i){var o,r,s;void 0===i&&(i={x:0,y:0}),n.isActive&&(s=n.xLayout,o=e.targetTouches?e.targetTouches[0].clientX:e.clientX+i.x,r=e.targetTouches?e.targetTouches[0].clientY:e.clientY+i.y,e=s?"width":"height",(i=s?o-n.range.min+window.pageXOffset:r-n.range.min+window.pageYOffset)<0?i=n.resizerLength/2:i>n.size&&(i=n.size-n.resizerLength),r=(o=function(e){return parseInt(null===(e=t.config[e])||void 0===e?void 0:e.toString())})(s?"maxWidth":"maxHeight"),s=o(s?"minWidth":"minHeight"),(!r||i<r)&&(!s||s<i)&&(t.config[e]=i-n.resizerLength/2+"px",n.nextCell.config[e]=n.size-i-n.resizerLength/2+"px",n.nextCell._getAnyFlexCell()&&(n.nextCell._getAnyFlexCell().config[e]=void 0),t.paint(),t.events.fire(d.LayoutEvents.resize,[t.id])))}function i(e){var i,o,s;e.targetTouches&&e.preventDefault(),3!==e.which&&(n.isActive&&r(e),t.events.fire(d.LayoutEvents.beforeResizeStart,[t.id])&&(document.body.classList.add("dhx_no-select--resize"),o=t.getCellView(),s=(i=t._getNextCell()).getCellView(),e=t._getResizerView(),o=o.el.getBoundingClientRect(),e=e.el.getBoundingClientRect(),s=s.el.getBoundingClientRect(),n.xLayout=t._isXDirection(),n.left=o.left+window.pageXOffset,n.top=o.top+window.pageYOffset,n.collapsedSize=t._getCollapsedSize(t,i),n.margin=u.getMarginSize(t.getParent().config,n.xLayout),n.range=u.getBlockRange(o,s,n.xLayout),n.size=n.range.max-n.range.min-n.margin-n.collapsedSize,n.isActive=!0,n.nextCell=i,n.resizerLength=n.xLayout?e.width:e.height))}window.addEventListener("resize",this._afterWindowResized);var n={left:null,top:null,isActive:!(this._handlers={enterCollapse:function(e){13===e.keyCode&&t._handlers.toggle()},collapse:function(){t.config.collapsable&&t.collapse()},expand:function(){t.config.collapsable&&t.expand()},toggle:function(){t.config.collapsable&&t.toggle()}}),range:null,xLayout:null,nextCell:null,size:null,resizerLength:null,margin:null,collapsedSize:null},o={},r=function(i){if(n.isActive=!1,document.body.classList.remove("dhx_no-select--resize"),i.targetTouches)for(var s in document.removeEventListener("touchend",r),document.removeEventListener("touchmove",e),o)o[s].node.contentWindow.document.removeEventListener("touchend",r),o[s].node.contentWindow.document.removeEventListener("touchmove",o[s].listener);else for(var s in document.removeEventListener("mouseup",r),document.removeEventListener("mousemove",e),o)o[s].node.contentWindow.document.removeEventListener("mouseup",r),o[s].node.contentWindow.document.removeEventListener("mousemove",o[s].listener);t.events.fire(d.LayoutEvents.afterResizeEnd,[t.id])};this._resizerHandlers={onmousedown:function(t){if(i(t),document.addEventListener("mouseup",r),document.addEventListener("mousemove",e),(t=document.querySelectorAll("iframe")).length)for(var n in t.forEach((function(t,i){var n={x:t.getBoundingClientRect().x,y:t.getBoundingClientRect().y};o[i]={node:t,listener:function(t){return e(t,n)}}})),o)o[n].node.contentWindow.document.addEventListener("mouseup",r),o[n].node.contentWindow.document.addEventListener("mousemove",o[n].listener)},ontouchstart:function(t){if(i(t),document.addEventListener("touchend",r),document.addEventListener("touchmove",e),(t=document.querySelectorAll("iframe")).length)for(var n in t.forEach((function(t,i){var n={x:t.getBoundingClientRect().x,y:t.getBoundingClientRect().y};o[i]={node:t,listener:function(t){return e(t,n)}}})),o)o[n].node.contentWindow.document.addEventListener("touchend",r),o[n].node.contentWindow.document.addEventListener("touchmove",o[n].listener)},ondragstart:function(t){return t.preventDefault()}}},g.prototype._getCollapsedSize=function(t,e){var i=0,n=this._parent,o=(t=n._cells.indexOf(t),n._cells.indexOf(e));if(o-t==1)return i;for(var r=t+1;r<o;r++)n._cells[r].config.collapsed&&(this._isXDirection()?i+=45:i+=Number(n._cells[r].config.headerHeight)||37);return i},g.prototype._getCollapseIcon=function(){return this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-right":this._isXDirection()&&!this.config.collapsed?"dxi dxi-chevron-left":!this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-up":this._isXDirection()||this.config.collapsed?void 0:"dxi dxi-chevron-down"},g.prototype._isLastCell=function(){var t=this._parent;return t&&t._cells.indexOf(this)===t._cells.length-1},g.prototype._getNextCell=function(){var t=this._parent,e=t._cells.indexOf(this);return!!(e=!this._isLastCell()&&t._cells[e+1])&&(e.config.hidden||e.config.collapsed?e._getNextCell():e)},g.prototype._getAnyFlexCell=function(t){var e=this;void 0===t&&(t=!1);var i=this._parent,n=this._isXDirection()?"$autoWidth":"$autoHeight";return!(null==(i=null===(i=null==i?void 0:i._cells)||void 0===i?void 0:i.filter((function(i){return!0===i.config[n]&&(!!t||i.id!==e.id)})))||!i.length)&&i[i.length-1]},g.prototype._getResizerView=function(){return this._parent.getRefs("resizer_"+this._uid)},g.prototype._isXDirection=function(){return this._parent&&this._parent._xLayout},g.prototype._checkProgress=function(){return this instanceof p.Layout?this.isVisibleProgress():(this._calculateProgressState(),(this._progress||this._checkAutoProgress())&&!this.config.collapsed&&!this.config.hidden&&!this._parent.isVisibleProgress())},g.prototype._checkAutoProgress=function(){if(this._stopProgressDefault)return!1;var t=this.config,e=t.html;return t.progressDefault&&!this._ui&&!e},g.prototype._calculateProgressState=function(){var t,e;this._stopProgressDefault||(t=(e=this.config).html,!(e=e.progressDefault)||this._ui||t||(this._progress=!0),e&&(this._ui||t)&&(this._progress=!1))},g.prototype._calculateStyle=function(){var t=this.config;if(t){var e={},i=!1,n=!1;isNaN(Number(t.width))||(t.width=t.width+"px"),isNaN(Number(t.height))||(t.height=t.height+"px"),isNaN(Number(t.minWidth))||(t.minWidth=t.minWidth+"px"),isNaN(Number(t.minHeight))||(t.minHeight=t.minHeight+"px"),isNaN(Number(t.maxWidth))||(t.maxWidth=t.maxWidth+"px"),isNaN(Number(t.maxHeight))||(t.maxHeight=t.maxHeight+"px"),"content"===t.width&&(i=!0),"content"===t.height&&(n=!0);var o=t.width,r=t.height,s=t.cols,a=t.rows,l=t.minWidth,c=t.minHeight,d=t.maxWidth,u=t.maxHeight,h=t.gravity,f=t.collapsed,p=t.$fixed,g=-1===Math.sign(h)?0:h;"boolean"==typeof h&&(g=h?1:0);var _,v="boolean"==typeof h?!h:-1===Math.sign(h);return this._isXDirection()?(p||o||void 0===h&&(l||d))&&(v=!0):(p||r||void 0===h&&(c||u))&&(v=!0),v=v?0:g||1,g=this._isXDirection()?"x":"y",void 0===l||f||(e.minWidth=l),void 0===c||f||(e.minHeight=c),void 0!==d&&(e.maxWidth=d),void 0!==u&&(e.maxHeight=u),void 0===this._parent&&(g=!0),void 0!==o&&"content"!==o?e.width=o:!0===g?e.width="100%":"x"===g&&(i?e.flex="0 0 auto":(_=this._isXDirection()?"1px":"auto",e.flex=v+" "+(s||a?"0 "+_:"1 auto"))),void 0!==r&&"content"!==r?e.height=r:!0===g?e.height="100%":"y"===g&&(n?e.flex="0 0 auto":(_=this._isXDirection()?"auto":"1px",e.flex=v+" "+(s||a?"0 "+_:"1 auto"))),!0===g&&void 0===t.width&&void 0===t.height&&(e.flex=v+" 1 auto"),f&&(this._isXDirection()?e.width="auto":e.height="auto",e.flex="0 0 auto"),e}},g.prototype._resizedWindow=function(){var t;void 0===this._isLastFlexCell?this._isLastFlexCell=(null===(t=this._getAnyFlexCell(!0))||void 0===t?void 0:t.id)===this.id:this._isLastFlexCell||window.removeEventListener("resize",this._afterWindowResized),this._isLastFlexCell&&(t=this._isXDirection()?"width":"height",this.config[t]=void 0,this.paint())},g.prototype._resetCellsSize=function(){var t=this,e=this._parent._cells.filter((function(e){return e!==t&&!e.config.hidden&&!e.config.collapsed})),i=this._isXDirection(),n=i?"$autoWidth":"$autoHeight",o=i?"width":"height";e.forEach((function(t){t.config[n]&&(t.config[o]=void 0)}))},o=g,e.Cell=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.PopupEvents||(e.PopupEvents={})).beforeHide="beforeHide",e.beforeShow="beforeShow",e.afterHide="afterHide",e.afterShow="afterShow",e.click="click"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.SliderEvents||(e.SliderEvents={})).beforeChange="beforeChange",e.change="change",e.focus="focus",e.blur="blur",e.keydown="keydown",e.mousedown="mousedown",e.mouseup="mouseup"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={hours:"Hours",minutes:"Minutes",save:"Save"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.TimepickerEvents||(e.TimepickerEvents={})).beforeChange="beforeChange",e.change="change",e.beforeApply="beforeApply",e.afterApply="afterApply",e.beforeClose="beforeClose",e.afterClose="afterClose",e.apply="apply",e.close="close",e.save="save"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.CalendarEvents||(e.CalendarEvents={})).change="change",e.beforeChange="beforechange",e.modeChange="modeChange",e.monthSelected="monthSelected",e.yearSelected="yearSelected",e.cancelClick="cancelClick",e.dateMouseOver="dateMouseOver",e.dateHover="dateHover"},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(3),d=i(2),u=i(142),h=i(7),f=i(6),p=i(10),g=i(35),_=i(11),v=i(146),m=i(47),y=i(29),b=i(75),x=i(76);function w(t,e){var i=s.call(this,t,a.extend({listHeight:224,itemHeight:36,disabled:!1,readOnly:!1,newOptions:!1,htmlEnable:!0},e))||this;return i.config.itemsCount=i.config.itemsCount||i.config.showItemsCount,i.config.helpMessage=i.config.helpMessage||i.config.help,i.config.cellHeight&&36===i.config.itemHeight&&(i.config.itemHeight=i.config.cellHeight),i.config.labelInline&&(i.config.labelPosition="left"),Array.isArray(i.config.data)?(i.events=new c.EventSystem(i),i.data=new f.DataCollection({}),i.data.parse(i.config.data)):i.config.data?(i.data=i.config.data,i.events=new c.EventSystem(i),i.events.context=i):(i.events=new c.EventSystem(i),i.data=new f.DataCollection({})),i.popup=new _.Popup,i.popup.events.on(_.PopupEvents.afterShow,(function(){i.paint()})),i.popup.events.on(_.PopupEvents.afterHide,(function(){i.config.multiselection&&(i._state.value=""),i.paint()})),i.popup.events.on(_.PopupEvents.beforeHide,(function(t){t&&i._hideOptions()})),(i.config.readonly||i.config.readOnly)&&(i.config.readOnly=i.config.readOnly||i.config.readonly,i._keyListener=new v.KeyListener),i._state={value:"",ignoreNext:!1,canDelete:!1,unselectActive:!1,currentState:x.ComboState.default,creatingState:!1},i._initHandlers(),i._createLayout(),i.config.value&&i._setValue(i.config.value,!0),i._initEvents(),e=l.create({render:function(){return i._draw()},hooks:{didRedraw:function(){i.popup.isVisible()&&(i.focus(),i._configurePopup())}}}),i.mount(t,e),i}e.$template=function(t){return t.icon?l.el("div.dhx_combobox-options-wrapper",[l.el("span",{class:t.icon+" dhx_combobox-options__icon"}),l.el("span",{class:"dhx_combobox-options__value"},t.value)]):t.src?l.el("div.dhx_combobox-options-wrapper",[l.el("img",{class:"dhx_combobox-options__image",alt:t.value,src:t.src}),l.el("span",{class:"dhx_combobox-options__value"},t.value)]):l.el("span",{class:"dhx_combobox-options__value"},t.value)},o(w,s=h.View),w.prototype.focus=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.focus()},w.prototype.blur=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.blur(),this.popup.hide()},w.prototype.enable=function(){this.config.disabled=!1,this.paint()},w.prototype.disable=function(){this.config.disabled=!0,this.paint()},w.prototype.isDisabled=function(){return this.config.disabled},w.prototype.clear=function(){this.list.selection.remove(),this._state.value="",this._filter(),this.paint()},w.prototype.getValue=function(t){var e=this.list.selection.getId();return t?a.wrapBox(e):Array.isArray(e)?e.join(","):e},w.prototype.setValue=function(t){return this._setValue(t,!1)},w.prototype.addOption=function(t,e){void 0===e&&(e=!0),t&&"string"==typeof t&&(t=this.data.add({value:t}),t=this.config.multiselection&&e?r(this.list.selection.getId(),[t]):t,this.setValue(t))},w.prototype.destructor=function(){this.popup&&this.popup.destructor(),this.events&&this.events.clear(),this.list&&this.list.destructor(),this._helper&&this._helper.destructor(),this._layout&&this._layout.destructor(),this.config=this.events=this.list=this.popup=null,this._helper=this._keyListener=this._handlers=this._state=this._uid=this._isPopupConfiqureted=null,this.unmount()},w.prototype.setState=function(t){switch(t){case"success":this._state.currentState=x.ComboState.success;break;case"error":this._state.currentState=x.ComboState.error;break;default:this._state.currentState=x.ComboState.default}this.paint()},w.prototype._setValue=function(t,e){var i=this;if(void 0===e&&(e=!1),!this._exsistId(t))return!1;this._filter(),this.list.selection.remove(),this.config.multiselection?("string"==typeof t&&(t=t.split(",")),"number"==typeof t&&(t=[t]),t.forEach((function(t){i.list.selection.add(t,!1,!1,e)}))):(t=a.unwrapBox(t),this.list.selection.add(t,!1,!1,e),(t=this.data.getItem(t))&&(this._state.value=this._getItemText(t))),this.paint()},w.prototype._createLayout=function(){var t=this.list=new g.List(null,{$template:e.$template,template:this.config.template,htmlEnable:this.config.htmlEnable,virtual:this.config.virtual,keyNavigation:!0,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),i=this._layout=new p.Layout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll,".dhx_combobox-options__action-create-option":this._handlers.addOption}}});i.getCell("list").attach(t),this.config.multiselection&&this.config.selectAllButton&&i.getCell("select-unselect-all").attach(b.selectAllView)},w.prototype._initHandlers=function(){var t=this;this.config.helpMessage&&(this._helper=new _.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={addOption:function(){return t.addOption(t._state.value)},showHelper:function(e){e.preventDefault(),e.stopPropagation(),t._helper.show(e.target,{mode:"left"===t.config.labelPosition?"bottom":"right",theme:e.target})},selectAll:function(){t._state.unselectActive?(t.list.selection.remove(),t.config.selectAllButton&&(t._layout.getCell("select-unselect-all").attach(b.selectAllView),t._state.unselectActive=!1)):(t.data.filter(),t.list.selection.add(),t.config.selectAllButton&&(t._layout.getCell("select-unselect-all").attach(b.unselectAllView),t._state.unselectActive=!0)),t._changePopupPosition(),t.paint()},onkeydown:function(e){var i;"Tab"===e.key&&t.popup.isVisible()?t._hideOptions():(t.popup.isVisible()||e.which!==u.KEY_CODES.DOWN_ARROW||t._showOptions(),t.popup.isVisible()&&(e.which===u.KEY_CODES.RIGHT_ARROW&&t.config.readOnly&&!t.config.multiselection&&(t.list.moveFocus(g.MOVE_DOWN),e.preventDefault()),e.which===u.KEY_CODES.LEFT_ARROW&&t.config.readOnly&&!t.config.multiselection&&(t.list.moveFocus(g.MOVE_UP),e.preventDefault()),e.which===u.KEY_CODES.DOWN_ARROW&&(t.list.moveFocus(g.MOVE_DOWN),e.preventDefault()),e.which===u.KEY_CODES.UP_ARROW&&(t.list.moveFocus(g.MOVE_UP),e.preventDefault()),e.which===u.KEY_CODES.ESC&&t._hideOptions(),e.which===u.KEY_CODES.ENTER&&(t.config.newOptions&&!t.data.getLength()?t.addOption(t._state.value,!0):(i=t.list.getFocus(),i=t.config.multiselection?r(t.list.selection.getId(),[i]):i,t.setValue(i)),t.config.multiselection?t._updatePopup():t._hideOptions()))),t.events.fire(x.ComboboxEvents.keydown,[e,t.list.getFocus()])},onkeyup:function(e){t.config.multiselection&&!t.config.itemsCount&&(t._state.ignoreNext?t._state.ignoreNext=!1:e.which===u.KEY_CODES.BACKSPACE&&!t._state.value&&t.config.multiselection&&t.list.selection.getId().length&&(e=(e=t.list.selection.getId())[e.length-1],t.list.selection.remove(e),t._changePopupPosition(),t.paint()))},oninput:function(e){t.config.disabled||(e=e.target.value,t.events.fire(x.ComboboxEvents.input,[e]),t._state.value=e,t._filter(),e.length?t._state.canDelete=!1:(t._state.ignoreNext=!0,t._state.canDelete=!0),t.config.multiselection||(t.list.selection.remove(),t.paint()),t.popup.isVisible()||t._showOptions(),t._updatePopup())},oninputclick:function(e){if(!t.config.disabled){if(t.focus(),e.target.classList.contains("dhx_combobox__action-remove")){var i=null===(i=t.data.getItem(d.locate(e)))||void 0===i?void 0:i.id;return i?(t.list.selection.remove(i),t._changePopupPosition(),void t.paint()):void 0}if(e.target.classList.contains("dhx_combobox__action-clear-all"))return t.list.selection.getId().forEach((function(e){return t.list.selection.remove(e)})),t.config.selectAllButton&&t._state.unselectActive&&(t._layout.getCell("select-unselect-all").attach(b.selectAllView),t._state.unselectActive=!1),void t.paint();e.preventDefault(),t.popup.isVisible()?t.focus():t._showOptions()}},toggleIcon:function(){t.focus(),t.popup.isVisible()?t._hideOptions():t._showOptions()},onfocus:function(){var e;return null===(e=t.events)||void 0===e?void 0:e.fire(x.ComboboxEvents.focus,[])},onblur:function(){var e;return null===(e=t.events)||void 0===e?void 0:e.fire(x.ComboboxEvents.blur,[])}}},w.prototype._initEvents=function(){var t=this;this.data.events.on(f.DataEvents.load,(function(){t.config.value&&t._setValue(t.config.value,!0)})),this.data.events.on(f.DataEvents.afterAdd,(function(){t.config.multiselection?t._changePopupPosition():t._hideOptions()})),this.list.events.on(g.ListEvents.click,(function(){t.config.multiselection||t._hideOptions(),t._changePopupPosition()})),this.list.selection.events.on(y.SelectionEvents.beforeSelect,(function(e){return e=t.config.multiselection?r(t.getValue(t.config.multiselection),[e]):e,t.events.fire(x.ComboboxEvents.beforeChange,[e])})),this.list.selection.events.on(y.SelectionEvents.afterSelect,(function(){var e=t.getValue(t.config.multiselection);t.events.fire(x.ComboboxEvents.change,[e]),t._updateSelectedItem(e)})),this.list.selection.events.on(y.SelectionEvents.beforeUnSelect,(function(e){var i=t.config.multiselection?t.getValue(t.config.multiselection).filter((function(t){return t!=e})):e;return t.events.fire(x.ComboboxEvents.beforeChange,[i])})),this.list.selection.events.on(y.SelectionEvents.afterUnSelect,(function(){var e,i=t.config.multiselection;t.config.readOnly&&!i||(e=t.getValue(i),t.events.fire(x.ComboboxEvents.change,[e]),i&&t._updateSelectedItem(e))})),this.popup.events.on(_.PopupEvents.beforeShow,(function(){if(!t.popup.isVisible()&&!t._isPopupConfiqureted)return t._configurePopup(),!1})),this.config.readOnly&&this.popup.events.on(_.PopupEvents.afterShow,(function(){var e;t._state.value?(e=t.list.selection.getId(),t.list.setFocus(e)):t.list.setFocus(t.data.getId(0)),t._keyListener.startNewListen((function(e){return t._findBest(e)}))}))},w.prototype._showOptions=function(){this.events.fire(x.ComboboxEvents.beforeOpen)&&(this._state.value.length&&(this._state.canDelete=!0),this._filter(),this._configurePopup()&&(this.events.fire(x.ComboboxEvents.open),this.events.fire(x.ComboboxEvents.afterOpen)))},w.prototype._configurePopup=function(){this._isPopupConfiqureted=!0;var t=this.getRootView();return!!(t&&t.refs&&t.refs.holder)&&(this.popup.isVisible()||this._updatePopup(),!0)},w.prototype._hideOptions=function(){var t=this;this.events.fire(x.ComboboxEvents.beforeClose)&&(this.config.readOnly&&this._keyListener.endListen(),this.list.setFocus(this.data.getId(0)),this.config.multiselection||this.config.readOnly||this.list.selection.contains()||(this._state.value=""),l.awaitRedraw().then((function(){return t.popup.isVisible()&&t.popup.hide()})),this.events.fire(x.ComboboxEvents.afterClose),this.events.fire(x.ComboboxEvents.close),this._filter(),this.paint())},w.prototype._filter=function(){var t,e,i,n=this;this.config.readOnly||(this.data.filter((function(t){return n.config.filter?n.config.filter(t,n._state.value):a.isEqualString(n._state.value,n._getItemText(t))})),this.config.multiselection?this.list.setFocus(this.data.getId(0)):(e=this.data.getIndex(this.list.selection.getId()),this.list.setFocus(this.data.getId(-1<e?e:0))),t=this._layout.getCell("list"),e=this._layout.getCell("not-found"),0===this.data.getLength()?(this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").hide(),t.hide(),this._state.creatingState=!0,i=this.config.newOptions?this._state.value:"",e.height=b.emptyListHeight(i,this.getRootView().refs.holder.el.offsetWidth),e.attach(b.emptyListView,i),e.show()):(this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").show(),this._state.value&&this.data.find((function(t){return t.value===n._state.value}))||!this._state.value?(this._state.creatingState=!1,e.isVisible()&&(t.show(),e.hide())):(this._state.creatingState=this.config.newOptions,t.show(),this.config.newOptions?(i=this._state.value,e.height=b.emptyListHeight(i,this.getRootView().refs.holder.el.offsetWidth),e.attach(b.emptyListView,i),e.show()):e.hide())))},w.prototype._findBest=function(t){var e=this,i=this.data.find((function(i){return a.isEqualString(t,e._getItemText(i))}));i&&this.list.selection.getId()!==i.id&&(this.list.setFocus(i.id),this.paint())},w.prototype._exsistId=function(t){var e=this;return t instanceof Array?t.every((function(t){return e.data.exists(t)})):this.data.exists(t)},w.prototype._draw=function(){if(!this.config)return l.el("div");var t=(f=this.config).multiselection,e=f.labelPosition,i=f.hiddenLabel,n=f.required,o=f.disabled,s=f.css,a=f.helpMessage,c=f.readOnly,u=f.placeholder,h=t?null:this.data.getItem(this.list.selection.getId()),f=!this.list.selection.getId()||"object"==typeof this.list.selection.getId()&&0===this.list.selection.getId().length;return t=d.getLabelStyle(this.config),l.el("div",{"data-dhx-widget-id":this._uid,onkeydown:this._handlers.onkeydown,onkeyup:this._handlers.onkeyup,class:"dhx_widget dhx_combobox"+("left"===e?" dhx_combobox--label-inline":"")+(i?" dhx_combobox--sr_only":"")+(n?" dhx_combobox--required":"")+(o?" dhx_combobox--disabled":"")+(s?" "+s:"")},[t?l.el("label.dhx_label.dhx_combobox__label",{style:t.style,class:a?"dhx_label--with-help":"",onclick:this._handlers.oninputclick},a?[(t.label||n)&&l.el("span.dhx_label__holder",t.label),l.el("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,id:"dhx_label__help_"+this._uid})]:t.label):null,l.el("div.dhx_combobox-input-box"+(o?".dhx_combobox-input-box--disabled":"")+(c?".dhx_combobox-input-box--readonly":"")+(this._state.currentState===x.ComboState.error?".dhx_combobox-input-box--state_error":"")+(this._state.currentState===x.ComboState.success?".dhx_combobox-input-box--state_success":""),{_ref:"holder"},[l.el("div.dhx_combobox-input__icon",{onclick:this._handlers.toggleIcon},[l.el("span"+(this.popup.isVisible()?".dxi.dxi-menu-up":".dxi.dxi-menu-down"))]),l.el("div.dhx_combobox-input-list-wrapper",{onclick:this._handlers.oninputclick},[l.el("ul.dhx_combobox-input-list",r(this._drawSelectedItems(),[l.el("li.dhx_combobox-input-list__item.dhx_combobox-input-list__item--input",[l.el("input.dhx_combobox-input",{oninput:this._handlers.oninput,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_ref:"input",_key:this._uid,type:"text",placeHolder:f&&u?u:void 0,value:c&&h?this._getItemText(h):this._state.value,readOnly:c||o,required:n,"aria-label":c?"Select value":"Type or select value","aria-describedby":a?"dhx_label__help_"+this._uid:null,"aria-expanded":!0})])]))])])])},w.prototype._drawSelectedItems=function(){var t,e=this;if(!this.config.multiselection)return[];if(this.config.itemsCount){var i=this.list.selection.getId().length;return i?[l.el("li.dhx_combobox-input-list__item.dhx_combobox-tag",[l.el("span.dhx_combobox-tag__value",(t=i,"function"==typeof(i=this.config.itemsCount)?i(t):t+" "+m.default.selectedItems)),l.el("button.dhx_button.dhx_combobox-tag__action.dhx_combobox__action-clear-all",{"aria-label":"clear all"},[l.el("span.dhx_button__icon.dxi.dxi-close-circle")])])]:[]}return this.list.selection.getId().map((function(t){var i=e.data.getItem(t);return i?l.el("li.dhx_combobox-input-list__item.dhx_combobox-tag",{"data-dhx-id":t},[e._drawImageOrIcon(i),l.el("span.dhx_combobox-tag__value",e._getItemText(i)),l.el("button.dhx_button.dhx_button--icon.dhx_combobox-tag__action.dhx_combobox__action-remove",{type:"button","aria-label":"remove"},[l.el("span.dhx_button__icon.dxi.dxi-close-circle")])]):null}))},w.prototype._drawImageOrIcon=function(t){return t.src?l.el("img.dhx_combobox-tag__image",{src:t.src,alt:""}):t.icon?l.el("span.dhx_combobox-tag__icon",{class:t.icon}):null},w.prototype._getItemText=function(t){return t?t.value:null},w.prototype._updateSelectedItem=function(t){this.config.multiselection?(this.config.selectAllButton&&!this._state.unselectActive&&this.data.getLength()===t.length?(this._layout.getCell("select-unselect-all").attach(b.unselectAllView),this._state.unselectActive=!0):this.config.selectAllButton&&this._state.unselectActive&&(this._layout.getCell("select-unselect-all").attach(b.selectAllView),this._state.unselectActive=!1),this._state.value&&(this._state.value="",this._state.canDelete=0===t.length,this._filter())):this._state.value=null!==(t=this._getItemText(this.data.getItem(t)))&&void 0!==t?t:"",this.paint()},w.prototype._changePopupPosition=function(){var t=this;this.config.multiselection&&l.awaitRedraw().then((function(){t._updatePopup()}))},w.prototype._updatePopup=function(){var t=this.getRootView().refs.holder.el;this.popup.getContainer().style.width=t.offsetWidth+"px";var e=this.data.getLength()*(this.config.itemHeight||36);"string"==typeof this.config.listHeight&&this.config.listHeight.includes("px")&&(this.config.listHeight=this.config.listHeight.replace("px","")),e=e<this.config.listHeight?e:this.config.listHeight,this.popup.getContainer().style.height=Number(e)+(this.config.selectAllButton&&this.config.multiselection&&this._layout.getCell("select-unselect-all").isVisible()?33:0)+(this._state.creatingState?this._layout.getCell("not-found").height:0)+"px",this.popup.show(t,{mode:"bottom",theme:this.getRootNode()})},o=w,e.Combobox=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(1),c=i(6),d=i(0),u=i(12),h=i(29),f=i(7),p=i(74),g=i(2),_=i(46),v=i(143);function m(t,e){void 0===e&&(e={});var i=this,n=e.itemHeight||(e.virtual?37:null);if(n&&"number"==typeof n&&(n=n.toString()+"px"),(i=a.call(this,t,l.extend({itemHeight:n,keyNavigation:!0,editable:!1,selection:!0,htmlEnable:!0},e))||this)._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null},(e=i.config.data)instanceof c.DataCollection?(i.data=e,i.events=e.events):(i.data=new c.DataCollection({}),i.events=i.data.events,e&&i.data.parse(e)),i.selection=new p.Selection({disabled:!i.config.selection,multiselection:i.config.multiselection},i.data,i.events),i.config.keyNavigation&&(i.keyManager=new u.KeyManager((function(t,e){return e==i._uid&&(!i._edited||i._edited&&"escape"!==t.key)})),i._initHotKey()),i.events.on(c.DataEvents.change,(function(t,e,n){"setPage"===e&&i.showItem(i.data.getId(n[0])),i.paint()})),i.events.on(h.SelectionEvents.afterUnSelect,(function(){return i.paint()})),i.events.on(h.SelectionEvents.afterSelect,(function(t){t&&i.config.selection&&(i._focus=t),i.paint()})),i.events.on(_.ListEvents.afterEditEnd,i.editEnd.bind(i)),e=function(t){return function(e){i.data.setMeta(i.data.getItem(e.target),"drop",t),i.paint()}},i.events.on(c.DragEvents.canDrop,e(!0)),i.events.on(c.DragEvents.cancelDrop,e(!1)),e=function(t){return function(e){e.source.map((function(e){return i.data.setMeta(i.data.getItem(e),"drag",t)})),i.paint()}},i.events.on(c.DragEvents.dragStart,e(!0)),i.events.on(c.DragEvents.afterDrag,e(!1)),i._handlers={onmousedown:function(t){i._dragStart(t)},ontouchstart:function(t){i._touch.timer=setTimeout((function(){i._dragStart(t)}),i._touch.duration),i._touch.timeStamp?(i._touch.dblDuration>=i._touch.timeStamp-+t.timeStamp.toFixed()&&(t.preventDefault(),i._dblClick(t)),i._touch.timeStamp=null):i._touch.timeStamp=+t.timeStamp.toFixed(),setTimeout((function(){i._touch.timeStamp=null}),i._touch.dblDuration)},ontouchmove:function(t){i._touch.start&&t.preventDefault(),i._clearTouchTimer()},ontouchend:function(){i._touch.start=!1,i._clearTouchTimer()},ondragstart:function(){return!(i.config.dragMode&&!i._edited)&&null},oncontextmenu:function(t){var e=null===(e=i.data.getItem(g.locate(t)))||void 0===e?void 0:e.id;e&&i.events.fire(_.ListEvents.itemRightClick,[e,t])},onclick:function(t){var e=null===(e=i.data.getItem(g.locate(t)))||void 0===e?void 0:e.id;e&&(i.selection.add(e,t.ctrlKey||t.metaKey,t.shiftKey),i.config.selection&&(i._focus=e),i.events.fire(_.ListEvents.click,[e,t]),i.paint())},ondblclick:function(t){i._dblClick(t)},onscroll:function(t){i.config.virtual&&(i._topOffset=t.target.scrollTop,i._visibleHeight=t.target.offsetHeight,i.paint())},onmouseover:function(t){var e=null===(e=i.data.getItem(g.locate(t)))||void 0===e?void 0:e.id;e&&e!==g.locate(t.relatedTarget)&&i.events.fire(_.ListEvents.itemMouseOver,[e,t])}},e=i.config.eventHandlers)for(var o=0,r=Object.entries(e);o<r.length;o++){var s=(f=r[o])[0],f=f[1];i._handlers[s]=g.eventHandler((function(t){return g.locate(t)}),f,i._handlers[s])}return i.config.dragMode&&c.dragManager.setItem(i._uid,i),i._topOffset=i._visibleHeight=0,e=d.create({render:function(){return i._renderList()},hooks:{didMount:function(t){i.config.virtual&&(i._visibleHeight=t.node.el.offsetHeight)},didRedraw:function(t){return i._didRedraw(t)}}}),i.mount(t,e),i}e.MOVE_UP=1,e.MOVE_DOWN=2,o(m,a=f.View),m.prototype._didRedraw=function(t){},m.prototype._dblClick=function(t){var e=g.locate(t);e&&(e=this.data.getItem(e).id,this.config.editable&&this.editItem(e),this.events.fire(_.ListEvents.doubleClick,[e,t]))},m.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},m.prototype._dragStart=function(t){var e=this;this._touch.start=!0;var i=[],n=(o=g.locateNode(t,"data-dhx-id"))&&o.getAttribute("data-dhx-id"),o=this.selection.getId();return this.config.multiselection&&o instanceof Array&&(o.map((function(t){t!==n&&e.getRootView().refs[t]&&i.push(e.getRootView().refs[t].el)})),o=s(o)),"string"==typeof o&&(o=[o]),this.config.dragMode&&!this._edited?c.dragManager.onMouseDown(t,o||[n],i):null},m.prototype.disableSelection=function(){this.selection.disable()},m.prototype.enableSelection=function(){this.selection.enable()},m.prototype.editItem=function(t){this._edited=t,this.data.getItem(this._edited)&&this.events.fire(_.ListEvents.beforeEditStart,[t])?(this.paint(),this.events.fire(_.ListEvents.afterEditStart,[t])):this._edited=null},m.prototype.editEnd=function(t,e){var i;this._edited&&(null!==t&&(i=this.data.getItem(e),this.data.update(e,r(r({},i),{value:t})),this._changed=!0),this._edited=null,this.paint())},m.prototype.getFocusItem=function(){return this.data.getItem(this._focus)},m.prototype.setFocus=function(t){this._focus!=t&&this.data.exists(t)&&(this._focus=t,this.showItem(t),this.events.fire(_.ListEvents.focusChange,[this.data.getIndex(this._focus),this._focus]),this.paint())},m.prototype.getFocus=function(){return this._focus},m.prototype.destructor=function(){this.events&&this.events.clear(),this.keyManager&&this.keyManager.destructor(),this.selection&&this.selection.destructor(),this.config=this.events=this.selection=this.keyManager=null,this._handlers=this._focus=this._edited=this._events=this._topOffset=this._visibleHeight=this._touch=null,this.unmount()},m.prototype.showItem=function(t){var e,i,n,o=this.getRootView();o&&o.node&&o.node.el&&void 0!==t&&(e=this.getRootNode())&&(i=this.config.virtual,n=this.data.getIndex(t),o=Math.floor(n/e.children.length)||0,t=e.children[n-e.children.length*o],(i||t)&&(o=i?parseInt(this.config.itemHeight):t.clientHeight,(t=i?n*o:t.offsetTop)>=e.scrollTop+e.clientHeight-o?e.scrollTo(0,t-e.clientHeight+o):t<e.scrollTop&&e.scrollTo(0,t)))},m.prototype._renderItem=function(t,e){var i=this.config.itemHeight;if(t.$empty)return d.el("li",{class:"dhx_list-item",style:{height:i}});var n="";this.config.template&&(n=this.config.template(t)),t.html&&(n=t.html);var o=t.id==this._focus&&this.config.keyNavigation;if(t.id==this._edited)return v.getEditor(t,this).toHTML();var s=this.data.getMetaMap(t);return o=r(r(r(r({},this._events),{class:"dhx_list-item"+(s&&s.selected?" dhx_list-item--selected":"")+(o?" dhx_list-item--focus":"")+(s&&s.drop&&!this._edited?" dhx_list-item--drophere":"")+(s&&s.drag&&!this._edited?" dhx_list-item--dragtarget":"")+(this.config.dragMode&&!this._edited?" dhx_list-item--drag":"")+(t.css?" "+t.css:""),"data-dhx-id":t.id,_ref:t.id.toString(),style:{height:i},_key:t.id}),this.getItemAriaAttrs(this,t)),{tabindex:o?0:-1}),n?n===t.html||this.config.htmlEnable?(o[".innerHTML"]=n,d.el("li",o)):d.el("li",o,n):this.config.$template?d.el("li",o,[this.config.$template(t)]):(t=t.text||t.value,this.config.htmlEnable?o[".innerHTML"]=t:o.class+=" dhx_list-item--text",this.config.htmlEnable?d.el("li",o):d.el("li",o,t))},m.prototype._renderList=function(){var t=this,e=this._getRange(),i=this.data.getRawData(e[0],e[1]).map((function(e,i){return t._renderItem(e,i)}));return this.config.virtual&&(i=s([d.el(".div",{style:{height:e[2]+"px"}})],i,[d.el(".div",{style:{height:e[3]+"px"}})])),d.el("ul.dhx_widget.dhx_list",r(r({style:{"max-height":this.config.height,position:"relative"},tabindex:0,class:(this.config.css||"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":""),"data-dhx-widget-id":this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),i)},m.prototype.moveFocus=function(t,i){var n,o,r=this.data.getLength();r&&(o=(n=this._focus)?this.data.getIndex(n):-1,i=i||1,t===e.MOVE_DOWN?n=this.data.getId(Math.min(o+i,r-1)):t===e.MOVE_UP&&(n=this.data.getId(Math.max(o-i,0))),this.setFocus(n))},m.prototype._getRange=function(){if(this.config.virtual){var t=this._visibleHeight||parseInt(this.config.height),e=parseInt(this.config.itemHeight),i=this.data.getRawData(0,-1).length,n=i*e,o=this._topOffset,r=(o=Math.max(0,Math.min(o,n-t)),Math.floor(o/e));return t=Math.min(i-r,Math.floor(t/e)+5),this._topOffset=o,[r,t+r,r*e,n-e*(t+r)]}return[0,-1,0,0]},m.prototype._getHotkeys=function(){var t=this;return{arrowDown:function(i){t.moveFocus(e.MOVE_DOWN),t._changed&&(t._changed=!1),i.preventDefault()},arrowUp:function(i){t.moveFocus(e.MOVE_UP),t._changed&&(t._changed=!1),i.preventDefault()},escape:function(){t.editEnd(null),t._changed&&(t._changed=!1)},enter:function(e){var i,n;t._changed?t._changed=!1:(n=(i=t.selection.getItem())instanceof Array?null===(n=i[0])||void 0===n?void 0:n.id:null==i?void 0:i.id,t.config.editable&&!t._edited&&(i&&n===t._focus||!i)?t.editItem(t._focus):t.selection.add(t._focus),t.events.fire(_.ListEvents.click,[t._focus,e]))},"shift+enter":function(e){t.selection.add(t._focus,!1,!0),t.events.fire(_.ListEvents.click,[t._focus,e])},"ctrl+enter":function(e){t.selection.add(t._focus,!0,!1),t.events.fire(_.ListEvents.click,[t._focus,e])},"ctrl+a":function(e){t.config.multiselection&&(e.preventDefault(),t.selection.remove(),t.data.map((function(t){return t.id})).forEach((function(e){"ctrlClick"===t.config.multiselection?t.selection.add(e,!0):t.selection.add(e)})))}}},m.prototype._initHotKey=function(){var t,e=this._getHotkeys();for(t in e)this.keyManager.addHotKey(t,e[t]);for(t in this.config.hotkeys)this.keyManager.addHotKey(t,this.config.hotkeys[t])},m.prototype.getItemAriaAttrs=function(t,e){var i,n,o;return r(r({role:"option","aria-selected":e.$selected?"true":"false"},(o=e,(n=t).config.dragMode&&!n._edited?{"aria-grabbed":Boolean(o.$dragtarget&&!n._edited).toString()}:{})),(i=t).config.editable?{"aria-roledescription":i._edited?"Press Enter to stop editing":"Double click to edit content"}:{})},m.prototype._getListAriaAttrs=function(t,e){return{role:"listbox","aria-label":"Listbox "+(t.title||"")+", count of options = "+e+"."+(t.editable?" Content is editable.":""),"aria-multiselectable":t.selection&&t.multiselection?"true":"false","aria-readonly":t.editable?"false":"true"}},o=m,e.List=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(29),o=i(6);function r(t,e,i){var n=this;this.config=t,this.events=i,this._data=e,this._selected=[],this._data.events.on(o.DataEvents.removeAll,(function(){n._selected=[]})),"string"==typeof this.config.multiselection&&(["click","ctrlClick"].includes(this.config.multiselection)||(this.config.multiselection=!1)),this._data.events.on(o.DataEvents.beforeRemove,(function(t){var e;n._nextSelection=null,1===n._selected.length&&(e=n._data.getIndex(t.id),1<(t=n._data.getLength())&&(e=t==e-1?e-1:e+1,n._nextSelection=n._data.getId(e)))})),this._data.events.on(o.DataEvents.afterRemove,(function(t){-1!==(t=n._selected.indexOf(t.id))&&n._selected.splice(t,1),n._nextSelection&&(n.add(n._nextSelection),n._nextSelection=null)}))}r.prototype.enable=function(){this.config.disabled=!1},r.prototype.disable=function(){this.remove(),this.config.disabled=!0},r.prototype.getId=function(){return this.config.multiselection?this._selected:this._selected[0]},r.prototype.getItem=function(){var t=this;return this.config.multiselection?this._selected.map((function(e){return t._data.getItem(e)})):this._selected.length?this._data.getItem(this._selected[0]):null},r.prototype.contains=function(t){return t?this._selected.includes(t):0<this._selected.length},r.prototype.remove=function(t){var e=this;t?this._unselectItem(t):(this._selected.forEach((function(t){return e._unselectItem(t)})),this._selected=[])},r.prototype.add=function(t,e,i,n){var o,r=this;this.config.disabled||(void 0!==t?(o=this.config.multiselection,i&&this._selected.length&&o?this._addMulti(t,n):this._addSingle(t,o&&("ctrlClick"!==o||e),n)):this._data.serialize().filter((function(t){return t=t.id,!r._selected.includes(t)})).forEach((function(t){t=t.id,r._addMulti(t,n)})))},r.prototype.destructor=function(){var t=this;this._selected.forEach((function(e){return t._unselectItem(e,!0)}))},r.prototype._addMulti=function(t,e){var i=this._selected[this._selected.length-1],n=this._data.getIndex(i),o=this._data.getIndex(t);for(o<n&&(n=(t=[o,n])[0],o=t[1]);n<=o;n++){var r=this._data.getId(n);this._selectItem(r,e)}},r.prototype._addSingle=function(t,e,i){var n=this;e||this._selected.forEach((function(e){e!=t&&n._unselectItem(e)})),e&&this._selected.includes(t)?this._unselectItem(t,i):this._selectItem(t,i)},r.prototype._selectItem=function(t,e){var i=this._data.getItem(t);i&&!this._data.getMeta(i,"selected")&&(e||this.events.fire(n.SelectionEvents.beforeSelect,[t]))&&(this._selected.push(t),this._data.setMeta(i,"selected",!0),e||this.events.fire(n.SelectionEvents.afterSelect,[t]))},r.prototype._unselectItem=function(t,e){(e||this.events.fire(n.SelectionEvents.beforeUnSelect,[t]))&&(this._selected=this._selected.filter((function(e){return e!==t})),this._data.setMeta(this._data.getItem(t),"selected",!1),e||this.events.fire(n.SelectionEvents.afterUnSelect,[t]))},i=r,e.Selection=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(47);e.selectAllView=function(){return n.el(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",o.default.selectAll)},e.unselectAllView=function(){return n.el(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",o.default.unselectAll)},e.emptyListView=function(t){return n.el("ul.dhx_list",[n.el("li.dhx_list-item.dhx_combobox-options__item"+(t?".dhx_combobox-options__action-create-option":""),{},t?o.default.createItem+' "'+t+'"':o.default.notFound)])},e.emptyListHeight=function(t,e){var i=document.createElement("canvas").getContext("2d",{alpha:!1});return i.font="normal 14px Roboto",t=t?o.default.createItem+' "'+t+'"':o.default.notFound,13+20*Math.ceil(i.measureText(t).width/(e-16))}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.ComboboxEvents||(e.ComboboxEvents={})).beforeChange="beforeChange",n.change="change",n.focus="focus",n.blur="blur",n.keydown="keydown",n.input="input",n.beforeOpen="beforeOpen",n.afterOpen="afterOpen",n.beforeClose="beforeClose",n.afterClose="afterClose",n.open="open",n.close="close",(e=e.ComboState||(e.ComboState={}))[e.default=0]="default",e[e.error=1]="error",e[e.success=2]="success"},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(8),a=i(27),l=i(78),c=i(14),d=i(19);e.getFixedColsHeader=function(t,e,i){if((i!==s.Split.left||"number"==typeof t.leftSplit&&t.fixedColumns.left.length)&&(i!==s.Split.right||"number"==typeof t.rightSplit&&t.fixedColumns.right.length)){var o=t.leftSplit,a=t.rightSplit,u=t.$positions,h=t.$totalWidth,f=t.$scrollBarWidth,p=i===s.Split.right,g=p?t.fixedColumns.right:t.fixedColumns.left;return i=c.getTotalWidth(g),o=l.getFixedRows(n(n({},t),{currentColumns:g,$positions:n(n({},u),{xStart:0,xEnd:p?a:o}),scroll:{top:0,left:0},columns:g}),n(n({},e),{name:"header",position:"top",shifts:{x:0,y:0}})),g=n(n({},e),{name:"header",position:"top"}),r.el(".dhx_"+g.name+"-fixed-cols",n({onwheel:c.scrollFixedColsAndRows,class:p?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{position:"absolute",top:0,left:p?h<e.wrapper.width-f.y-d.BORDERS?h-i:e.wrapper.width-i-f.y-d.BORDERS:0,width:i,overflow:"hidden"}},{role:"rowgroup","aria-rowcount":o.length}),o.body)}},e.getFixedCols=function(t,e,i,u){if((i!==s.Split.left||"number"==typeof t.leftSplit&&t.fixedColumns.left.length)&&(i!==s.Split.right||"number"==typeof t.rightSplit&&t.fixedColumns.right.length)){var h=t.leftSplit,f=t.rightSplit,p=t.$totalWidth,g=t.$totalHeight,_=t.headerHeight,v=t.footerHeight,m=t.$positions,y=t.scroll,b=t.data,x=t.$scrollBarWidth,w=i===s.Split.right,E=(I=g+_+v)>e.gridBodyHeight?t.$footer?I-x.x:e.gridBodyHeight:I<e.gridBodyHeight-x.x?I:t.$footer?e.gridBodyHeight:e.gridBodyHeight-x.x,C=w?t.fixedColumns.right:t.fixedColumns.left,S=c.getTotalWidth(C),k=w?"rightFixedCols":"leftFixedCols",I=(i=a.getCells(n(n({},t),{columns:C,$renderFrom:k,$positions:n(n({},m),{xStart:0,xEnd:w?f:h})})),v=e.sticky,n(n({},e),{name:"footer",position:"bottom"})),O=(f=l.getRows(n(n({},t),{currentColumns:C,$positions:n(n({},m),{xStart:0,xEnd:w?f:h})}),n(n({},e),{name:"footer",position:"bottom"})),0);return f.forEach((function(t){return O+=t.attrs.style.height})),h=function(t){return{role:"rowgroup","aria-rowcount":t}},I=v?r.el(".dhx_"+I.name+"-fixed-cols",n({onwheel:c.scrollFixedColsAndRows,class:w?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{position:"absolute",top:E<e.gridBodyHeight?E-O:null,left:w?p<e.wrapper.width-x.y-d.BORDERS?p-S:e.wrapper.width-S-x.y-d.BORDERS:0,bottom:E>=e.gridBodyHeight?(v?x.x:0)+"px":null}},h(f.length)),f):null,f=m,m=d.getEvents(t,w?s.Split.right:s.Split.left),u=a.getSpans(n(n({},t),{$renderFrom:k}),u||(w?s.Split.right:s.Split.left)),[r.el(".dhx_grid-fixed-cols-wrap",n(n({style:{left:w?p<e.wrapper.width-x.y-d.BORDERS?p-S:e.wrapper.width-S-x.y-d.BORDERS:0,height:E>=e.gridBodyHeight?(v?e.gridBodyHeight:e.gridBodyHeight+_)-x.x:E,paddingTop:_,overflow:"hidden",width:S}},m),{role:"presentation","aria-label":"Fixed column"}),[r.el(".dhx_grid-fixed-cols",n(n({onwheel:c.scrollFixedColsAndRows,class:w?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{top:-y.top+_-1+"px",paddingTop:e.shifts.y,height:g,position:"absolute"},_flags:r.KEYED_LIST},a.getHandlers(f.yStart,f.xStart,t)),h(b.length)),o(i,[u&&r.el("span.dhx_span-spans",{role:"presentation"},[u])])),w?r.el(".dhx_grid__cols-border--frozen",{role:"presentation",style:{left:0}}):r.el(".dhx_grid__cols-border--frozen",{role:"presentation",style:{right:0}})]),t.$footer?I:null]}}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(33),a=i(14),l=i(8),c=i(27),d=i(77),u=i(19);function h(t,e,i,n){i&&(i.toLocaleLowerCase().includes("touch")?e._events:e.events).fire(i,[t,n])}function f(t,e,i){return{onclick:[h,t,i,l.GridEvents[e+"CellClick"]],onmouseover:[h,t,i,l.GridEvents[e+"CellMouseOver"]],onmousedown:[h,t,i,l.GridEvents[e+"CellMouseDown"]],ontouchstart:[h,t,i,l.GridEvents[e+"CellMouseDown"]],ondblclick:[h,t,i,l.GridEvents[e+"CellDblClick"]],oncontextmenu:[h,t,i,l.GridEvents[e+"CellRightClick"]],ontouchmove:[h,t,i,l.GridSystemEvents[e+"CellTouchMove"]],ontouchend:[h,t,i,l.GridSystemEvents[e+"CelltouchEnd"]]}}function p(t,e,i,n,o,s){void 0===o&&(o="");var a=e.type?"dhx_"+e.type+"-cell":"dhx_string-cell",l=(t=i.content[t.content]&&i.content[t.content].toHtml(e,i),{});return i.columns.forEach((function(t){var e=!!i.content[t[n][s].content];l[t.id]=e&&i.content[t[n][s].content].toHtml(t,i)||t[n][s].text})),r.el("."+a,{style:{class:o.trim(),padding:0}},[t&&("string"==typeof t||"number"==typeof t?r.el("div",{class:"dhx_grid-footer-cell-text",role:"presentation",".innerHTML":e.template&&"string"==typeof t?e.template(t,l,e):t}):t)])}function g(t,e){if(!t.data||!t.columns)return[];var i,o,s=t.$positions,l=e.name,c=t.currentColumns,d=t[l+"RowHeight"]||40,u=(i=l,e=(e=c).map((function(t){return t[i]||[{}]})),a.transpose(e)),h=1;return u.map((function(e,i){return r.el(".dhx_"+l+"-row",n({style:{height:d}},{role:"row","aria-rowindex":i+1}),e.map((function(e,g){var _=e.css||"",v=c[g],m=s.xStart+g+1,y="dxi dxi-sort-variant dhx_grid-sort-icon",b="none";t.sortBy&&""+v.id===t.sortBy&&!e.content&&(y+=" dhx_grid-sort-icon--"+(E=t.sortDir||"asc"),_+=" dhx_grid-"+l+"-cell--sorted ",b="asc"===E?"ascending":"descending");var x=a.isSortable(t,v)&&e.text&&"footer"!==l&&!1!==e.headerSort;x&&(_+=" dhx_grid-header-cell--sortable");var w=0===g?"dhx_first-column-cell":"",E=g===c.length-1?"dhx_last-column-cell":"";e.content||(e.align?_+=" dhx_grid-header-cell--align_"+e.align+" ":_+=" dhx_grid-header-cell--"+("number"===v.type||"percent"===v.type||"date"===v.type?"align_right":"align_left")+" "),_+=w+" "+E,(E=(void 0!==v.resizable?v:t).resizable)&&(k=t.rightSplit&&t.$scrollBarWidth.xState&&t.fixedColumns.right.includes(v),E=r.el("div",{class:"dhx_resizer_grip_wrap","aria-hidden":"true"},[r.el("div",{class:"dhx_resizer_grip"+(k?" dhx_resizer_grip--left":" dhx_resizer_grip--right"),dhx_resized:v.id,style:{height:100*u.length+"%"}},[r.el("div",{class:"dhx_resizer_grip_line"})])]),(k=v.header&&(null===(C=v.header[0])||void 0===C?void 0:C.colspan))&&(o=k,h=1),o&&h!==o&&(0===i&&(E=null),h++),"footer"===l&&(E=null)),e.align&&(_+=" dhx_align-"+e.align);var C=function(t,i,n){return i={"aria-colindex":i},"footer"===t||e.content?i.role="gridcell":(i.role="columnheader",i["aria-sort"]=n),i};if(e.content)return r.el(".dhx_grid-"+l+"-cell.dhx_grid-custom-content-cell",n(n({class:_.trim(),"data-dhx-id":v.id,_key:g,style:{width:v.$width,height:"footer"===l?d+1+"px":d+"px"}},f(v,l,t)),C(l,m,b)),[p(e,v,t,l,"",i),E||null]);var S,k="dhx_grid-header-cell-text_content";return t.autoHeight&&(k+=" dhx_grid-header-cell-text_content-auto-height"),r.el(".dhx_grid-"+l+"-cell",n(n({class:_.trim(),"data-dhx-id":v.id,_key:g,style:{width:v.$width,height:"footer"===l?d+1+"px":d+"px"}},f(v,l,t)),C(l,m,b)),[r.el("div.dhx_grid-header-cell-text",{role:"presentation"},[r.el("span",n(n({class:k},(S=e.text,x?{role:"button","aria-label":"Sort by "+S}:{})),{".innerHTML":e.text})),E||null]),x&&r.el("div",{class:y,"aria-hidden":"true"})])})))}))}function _(t,e){var i=t.columns,o=a.transpose(i.map((function(t){return t[e.name]||[]}))),l=t[e.name+"RowHeight"]||40,c=e.name,d=0;return o.map((function(o,u){return d=0,r.el(".dhx_span-row",{style:{top:l*u+"px",height:l},class:"dhx_header-row","aria-hidden":"true"},o.map((function(o,h){var g=i[h];d+=g.hidden?0:g.$width;var _=0===h?"dhx_first-column-cell":"",v=h===i.length-1||(o.colspan||0)+(h-1)>=i.length-1?"dhx_last-column-cell":"",m=l;o.rowspan&&(m=m*o.rowspan-1);var y=a.isSortable(t,g)&&o.rowspan&&o.text&&"footer"!==e.name&&!1!==o.headerSort,b="dxi dxi-sort-variant dhx_grid-sort-icon";t.sortBy&&""+g.id===t.sortBy&&!o.content&&(b+=" dhx_grid-sort-icon--"+(t.sortDir||"asc"));var x=g.align?"dhx_align-"+g.align:"number"!==g.type&&"percent"!==g.type&&"date"!==g.type||o.colspan?"dhx_align-left":"dhx_align-right",w="dhx_grid-header-cell "+_+" "+v+" "+(o.rowspan?"dhx_span-cell__rowspan":"")+" "+(o.align?"dhx_align-"+o.align:x)+" "+(o.css||"");return y&&(w+=" dhx_grid-header-cell--sortable"),o.content||(o.align?w+=" dhx_grid-header-cell--align_"+o.align+" ":w+=" dhx_grid-header-cell--"+("number"===g.type||"percent"===g.type||"date"===g.type?"align_right":"align_left")+" "),_=null,o.content&&((_=p(o,g,t,c,w,u)).attrs.style=n(n({},_.attrs.style),{width:"100%",borderRight:"0"})),v="",0<d-g.$width&&(v="var(--dhx-border)"),x="dhx_grid-header-cell-text_content",t.autoHeight&&(x+=" dhx_grid-header-cell-text_content-auto-height"),o.colspan||o.rowspan?r.el(".dhx_span-cell",n({style:{width:s.getWidth(i,o.colspan,h),height:"footer"===c?m+1:m,left:d-g.$width,borderLeft:v,top:l*u},class:w.trim(),"data-dhx-id":g.id},f(g,c,t)),[_||o.rowspan?r.el("div.dhx_grid-header-cell-text",{role:"presentation"},[r.el("span",{class:x,".innerHTML":o.text})]):r.el("span",{class:x,".innerHTML":o.text}),y&&r.el("div",{class:b})]):null})).filter((function(t){return t})))}))}function v(t){return{role:"rowgroup","aria-rowcount":t}}e.getRows=g,e.getFixedSpans=_,e.getFixedRows=function(t,e){var i,s,a=t.leftSplit,l=t.$totalWidth,c=g(t,e),d=_(t,e),u=null;"footer"!==e.name||e.sticky||(i=t.rightSplit,s=t.columns,u=o((f=function(o){void 0===o&&(o=!1);var r=o?s.slice(-i):s.slice(0,a);return!o&&0<=a||o&&0<=i?g(n(n({},t),{columns:r,$positions:n(n({},t.$positions),{xStart:0,xEnd:o?i:a})}),e):[]})(),f(!0)));var h,f=((f={position:"sticky"})[e.position]=0,f);return e.sticky||(f.left=-t.scroll.left,h=-t.scroll.left,f.position="relative"),r.el(".dhx_"+e.name+"-wrapper"+(t.rightSplit?".dhx_grid__rows_right--fixed":""),{class:e.sticky?"":"dhx_compatible-"+e.name,style:n(n({},f),{left:e.sticky?h:0,height:"footer"===e.name?t[e.name+"Height"]+1:t[e.name+"Height"],width:e.sticky?l:e.wrapper.width-2}),role:"presentation"},[r.el(".dhx_grid-"+e.name+(a?".dhx_grid_fixed_left":""),{style:{height:"footer"===e.name?t[e.name+"Height"]+1:t[e.name+"Height"],left:h,paddingLeft:e.shifts.x,width:l},role:"presentation"},[r.el(".dhx_"+e.name+"-rows",n({},v(o(c).length)),o(c)),r.el(".dhx_"+e.name+"-spans",{style:{marginLeft:-e.shifts.x},class:"dhx_"+e.name+"-rows",role:"presentation"},d),u&&r.el(".dhx_"+e.name+"-fixed-cols",{style:{position:"absolute",top:0,left:t.scroll.left+"px",height:"100%"}},u)]),r.el("div",{style:{width:l},role:"presentation"})])},e.getFixedDataRows=function(t,e,i){if(!(i===l.Split.top&&"number"!=typeof t.topSplit||i===l.Split.bottom&&"number"!=typeof t.bottomSplit)){var s=t.$totalWidth,h=t.topSplit,f=t.bottomSplit,p=t.$positions,g=t.data,_=t.$totalHeight,m=t.width,y=t.headerHeight,b=t.footerHeight,x=t.$scrollBarWidth,w=i===l.Split.bottom,E=w?t.fixedRows.bottom:t.fixedRows.top,C=w?"bottomFixedRows":"topFixedRows",S=c.getCells(n(n({},t),{data:E,$renderFrom:C,$positions:n(n({},p),{yStart:0,yEnd:w?f:h})})),k=u.getEvents(t,w?l.Split.bottom:l.Split.top),I=E.reduce((function(t,e){return t+e.$height}),0),O=c.getSpans(n(n({},t),{$renderFrom:C,data:g}),w?l.Split.bottom:l.Split.top),P=a.getTotalHeight(t.fixedRows.bottom),M=function(o){return d.getFixedCols(n(n({},t),{headerHeight:0,data:E,$renderFrom:C,scroll:n(n({},t.scroll),{top:-1}),$positions:n(n({},p),{yStart:0,yEnd:w?f:h}),$totalHeight:I,$data:g}),n(n({},e),{shifts:n(n({},e.shifts),{y:0})}),o,i)||[]};return M=o(M(l.Split.left),M(l.Split.right)),[r.el(".dhx_grid-fixed-data-rows-wrap",{class:w?"dhx_grid__rows_bottom--fixed":"",style:{top:w?_<e.wrapper.height-x.x-2?_+y-P+1:e.wrapper.height-P-b-1-x.x:y,overflow:"hidden",height:I>e.wrapper.height?e.wrapper.height:I,width:s+x.y+2<m?s:m-x.y-2}},o([r.el(".dhx_grid-fixed-cols",n(n({onwheel:a.scrollFixedColsAndRows,style:{left:-t.scroll.left+"px",paddingLeft:e.shifts.x,position:"absolute",width:s},_flags:r.KEYED_LIST},c.getHandlers(0,p.xStart,t)),v(g.length)),[r.el(".dhx_grid-fixed-rows",n({class:t.rightSplit?"dhx_grid__rows_right--fixed":""},k),o(S,[O&&r.el(".dhx_span-spans",{role:"presentation"},[O])]))])],M,[t.bottomSplit?r.el(".dhx_grid__rows-border--frozen",{role:"presentation"}):null]))]}}},function(t,e,i){"use strict";function n(t){var e=document.activeElement;e.classList.contains("dhx_alert__apply-button")&&"Enter"===t.key||e.classList.contains("dhx_alert__confirm-reject")||e.classList.contains("dhx_alert__confirm-aply")||t.preventDefault()}Object.defineProperty(e,"__esModule",{value:!0}),e.blockScreen=function(t){var e=document.createElement("div");return e.className="dhx_alert__overlay "+(t||""),document.body.appendChild(e),document.addEventListener("keydown",n),function(){document.body.removeChild(e),document.removeEventListener("keydown",n)}}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),r=i(48);function s(t,e,i,n,o,a){var l,c,d;switch(void 0===o&&(o=8),void 0===a&&(a=0),1<a&&(e=r.Position.center),e){case r.Position.center:return(c=t.left+window.pageXOffset+(t.width-i)/2)+o<window.pageXOffset&&(c=t.left+window.pageXOffset),{left:c,top:d=t.top+window.pageYOffset+(t.height-n)/2,pos:l=r.RealPosition.center};case r.Position.right:return l=r.RealPosition.right,(c=t.right+window.pageXOffset+o)+i>window.innerWidth+window.pageXOffset?s(t,r.Position.left,i,n,o,++a):{left:c,top:d=window.pageYOffset+t.top+(t.height-n)/2,pos:l};case r.Position.left:return l=r.RealPosition.left,(c=window.pageXOffset+t.left-i-o)<0?s(t,r.Position.right,i,n,o,++a):{left:c,top:d=window.pageYOffset+t.top+(t.height-n)/2,pos:l};case r.Position.top:return l=r.RealPosition.top,(c=window.pageXOffset+t.left+(t.width-i)/2)+i>window.innerWidth+window.pageXOffset?c=window.innerWidth+window.pageXOffset-i:c<0&&(c=0),(d=window.pageYOffset+t.top-n-o)-n<0?s(t,r.Position.bottom,i,n,o,++a):{left:c,top:d,pos:l};case r.Position.bottom:default:return(c=window.pageXOffset+t.left+(t.width-i)/2)+i>window.innerWidth+window.pageXOffset?c=window.innerWidth+window.pageXOffset-i:c<0&&(c=0),l=r.RealPosition.bottom,(d=window.pageYOffset+t.bottom+o)+n>window.innerHeight+window.pageYOffset?s(t,r.Position.top,i,n,o,++a):{left:c,top:d,pos:l}}}e.findPosition=s;var a=document.createElement("div"),l=document.createElement("span");l.className="dhx_tooltip__text",a.appendChild(l),a.setAttribute("role","tooltip"),a.style.position="absolute";var c,d=null,u=!1,h=null,f=null;function p(t){return t&&(t.classList.contains("dhx_popup--window")&&t.classList.contains("dhx_popup--window_active")||t.classList.contains("dhx_popup--window_modal")||t.classList.contains("dhx_popup"))?2147483647:null!=t&&t.classList.contains("dhx_popup--window")?2147483646:t&&t.offsetParent?p(t.offsetParent):null}function g(t,e,i,n,o,c,d){void 0===o&&(o=!1),void 0===c&&(c=8);var h=t.getBoundingClientRect();d?l.innerHTML=e:l.textContent=e,document.body.appendChild(a),a.className="dhx_widget dhx_tooltip"+(o?" dhx_tooltip--forced":"");var f=(c=s(h,i,(e=a.getBoundingClientRect()).width,e.height,c)).left,g=c.top;switch(c=c.pos,(t=p(t))&&(a.style.zIndex=t.toString()),c){case r.RealPosition.bottom:case r.RealPosition.top:case r.RealPosition.left:case r.RealPosition.right:case r.RealPosition.center:a.style.left=f+"px",a.style.top=g+"px"}a.className+=" dhx_tooltip--"+c+" "+(n||""),u=!0,o||setTimeout((function(){a.className+=" dhx_tooltip--animate"}))}function _(t,e,i){var n=i.force,o=i.showDelay,s=i.hideDelay,l=i.position,p=i.css,_=i.htmlEnable,v=i.margin;n||(f=setTimeout((function(){g(t,e,l||r.Position.bottom,p,!1,v,_)}),o||750));var m=function(){u&&d&&(h=setTimeout((function(){document.body.removeChild(a),u=!1,h=null}),s||200)),clearTimeout(f),t.removeEventListener("mouseleave",m),t.removeEventListener("blur",m),document.removeEventListener("mousedown",m),c=d=null};n&&g(t,e,l,p,n,v,_),t.addEventListener("mouseleave",m),t.addEventListener("blur",m),document.addEventListener("mousedown",m),c=m}function v(t,e){var i=o.toNode(e.node);i!==d&&(c&&(c(),c=null),d=i,h?(clearTimeout(h),h=null,_(i,t,n(n({},e),{force:!0}))):_(i,t,e))}function m(t){(t=o.locateNode(t,"dhx_tooltip_text"))&&v(t.getAttribute("dhx_tooltip_text"),{position:t.getAttribute("dhx_tooltip_position")||r.Position.bottom,node:t})}e.getZIndex=p,e.tooltip=v,e.enableTooltip=function(){document.addEventListener("mousemove",m)},e.disableTooltip=function(){document.removeEventListener("mousemove",m)}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(2),d=i(13),u=i(21);function h(t,e){var i=s.call(this,t,a.extend({navigationType:"click",$name:"toolbar"},e))||this;return i._currentRoot=null,i.mount(t,l.create({render:function(){return i._draw(t)}})),i}o(h,s=u.Navbar),h.prototype.getState=function(t){if(!a.isDefined(t)||this.data.getItem(t)){var e,i={};for(e in this.data.eachChild(this.data.getRoot(),(function(t){t.twoState&&!t.group?i[t.id]=t.active:"input"!==t.type&&"selectButton"!==t.type&&"datePicker"!==t.type||(i[t.id]=t.value)}),!1),this._groups)this._groups[e].active&&(i[e]=this._groups[e].active);return t?i[t]:i}},h.prototype.setState=function(t){var e,i,n=this;for(i in t)!function(i){if(n._groups&&n._groups[i])n._groups[i].active&&(n.data.update(n._groups[i].active,{active:!1}),n._groups[i].active=t[i],n.data.update(t[i],{active:!0}));else{var o=n.data.getItem(i);switch(o.type){case"input":n.data.update(i,{value:t[i]});break;case"selectButton":var r=null===(e=o.items)||void 0===e?void 0:e.find((function(e){return e.value===t[i]}));n.data.update(i,{value:t[i],icon:null==r?void 0:r.icon});break;default:n.data.update(i,{active:t[i]})}}}(i)},h.prototype.setFocus=function(t){!this.data.getItem(t)||"input"!==this.data.getItem(t).type||(t=this.getRootNode().querySelector('[data-dhx-id="'+t+'"]'))&&t.focus()},h.prototype._customHandlers=function(){var t=this;return{input:function(e){var i=c.locate(e);t.data.update(i,{value:e.target.value})},tooltip:function(e){var i=c.locateNode(e);i&&(e=i.getAttribute("data-dhx-id"),null!=(e=t.data.getItem(e))&&e.tooltip&&d.tooltip(e.tooltip,{node:i,position:d.Position.bottom}))}}},h.prototype._getFactory=function(){return u.createFactory({widget:this,defaultType:"navItem",allowedTypes:["button","imageButton","selectButton","navItem","menuItem","separator","spacer","title","input","customHTML","datePicker","customHTMLButton"],widgetName:"toolbar"})},h.prototype._draw=function(t){var e=this,i=this.data.getLength()?this.data.reduce((function(t,e){switch(e.type){case"title":return t||20;case"button":return"small"===e.size&&(!t||t<=28)?28:t||32;default:return 32}}),0)+24:null;return l.el("nav.dhx_widget.dhx_toolbar",{style:{height:i},class:this.config.css||""},[l.el("ul.dhx_navbar.dhx_navbar--horizontal",r(r({"data-dhx-widget-id":this._uid,tabindex:0},{role:"toolbar","aria-label":t||""}),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,_hooks:{didInsert:function(t){t.el.addEventListener("keyup",(function(t){var i;9!==t.which||(i=c.locateNode(document.activeElement))&&(t=i.getAttribute("data-dhx-id"),null!=(t=e.data.getItem(t))&&t.tooltip&&d.tooltip(t.tooltip,{node:i,position:d.Position.bottom,force:!0}))}),!0)}}}),this.data.map((function(t){return e._factory(t)}),this.data.getRoot(),!1))])},h.prototype._getMode=function(t,e){return t.id===e?"bottom":"right"},h.prototype._close=function(t){this._activePosition=null,this._currentRoot=null,s.prototype._close.call(this,t)},h.prototype._setRoot=function(t){this.data.getParent(t)===this.data.getRoot()&&(this._currentRoot=t)},o=h,e.Toolbar=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.grayShades=["#000000","#4C4C4C","#666666","#808080","#999999","#B3B3B3","#CCCCCC","#E6E6E6","#F2F2F2","#FFFFFF"],e.palette=[["#D4DAE4","#B0B8CD","#949DB1","#727A8C","#5E6677","#3F4757","#1D2534"],["#FFCDD2","#FE9998","#F35C4E","#E94633","#D73C2D","#CA3626","#BB2B1A"],["#F9E6AD","#F4D679","#EDB90F","#EAA100","#EA8F00","#EA7E00","#EA5D00"],["#BCE4CE","#90D2AF","#33B579","#36955F","#247346","#1D5B38","#17492D"],["#BDF0E9","#92E7DC","#02D7C5","#11B3A5","#018B80","#026B60","#024F43"],["#B3E5FC","#81D4FA","#29B6F6","#039BE5","#0288D1","#0277BD","#01579B"],["#AEC1FF","#88A3F9","#5874CD","#2349AE","#163FA2","#083596","#002381"],["#C5C0DA","#9F97C1","#7E6BAD","#584A8F","#4F4083","#473776","#3A265F"],["#D6BDCC","#C492AC","#A9537C","#963A64","#81355A","#6E3051","#4C2640"],["#D2C5C1","#B4A09A","#826358","#624339","#5D4037","#4E342E","#3E2723"]]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.ColorpickerEvents||(e.ColorpickerEvents={})).beforeChange="beforeChange",e.change="change",e.apply="apply",e.cancelClick="cancelClick",e.modeChange="modeChange",e.selectClick="selectClick",e.colorChange="colorChange",e.viewChange="viewChange"},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(3),c=i(7),d=i(6),u=i(184),h=i(85),f=i(25),p=i(187),g=i(87),_=i(92),v=i(4),m=i(201),y=i(1),b=i(202);function x(t,e){var i;void 0===e&&(e={});var n=s.call(this,null,e)||this;n._width=0,n._height=0,n._left=0,n._top=0;var o={};return e.maxPoints&&(o.approximate={value:null===(i=e.series)||void 0===i?void 0:i.map((function(t){return t.value})),maxNum:e.maxPoints}),Array.isArray(e.data)?(n.events=new l.EventSystem(n),n.data=new("treeMap"===e.type?d.TreeCollection:d.DataCollection)(o,n.events),n.data.parse(e.data)):e.data&&e.data.events?(n.data=e.data,n.events=n.data.events,n.events.context=n):(n.events=new l.EventSystem(n),n.data=new("treeMap"===e.type?d.TreeCollection:d.DataCollection)(o,n.events)),n._globalHTMLHandlers={onmousemove:function(t){var e=(a=n._layers.getSizes()).left,i=a.top,o=a.bottom,r=a.right,s=t.pageX,a=t.pageY;t=n.getRootView().node.el.getBoundingClientRect(),n._left=t.left+window.pageXOffset,n._top=t.top+window.pageYOffset,s=s-e-n._left,a=a-i-n._top,0<=s&&s<=n._width-r-e&&0<=a&&a<=n._height-o-i?n.events.fire(f.ChartEvents.chartMouseMove,[s,a,n._left+e,n._top+i]):n.events.fire(f.ChartEvents.chartMouseLeave)},onmouseleave:function(){return n.events.fire(f.ChartEvents.chartMouseLeave)}},n._layers=new u.ComposeLayer,n.setConfig(e),n._initEvents(),n._tooltip=new m.Tooltip(n),o=a.create({render:function(){if(!n.data.getLength())return a.el("div");var t=[a.resizer((function(t,e){n._width=t,n._height=e||400,(e=n.getRootView())&&e.node&&e.node.el&&(e=e.node.el.getBoundingClientRect(),n._left=e.left+window.pageXOffset,n._top=e.top+window.pageYOffset),n.events.fire(f.ChartEvents.resize,[n._width,n._height]),n.paint(),!document.querySelector(".dhx_widget.dhx_chart")&&n._tooltip&&n._tooltip.destructor()}))];return n._width&&n._height&&t.push(n._layers.toVDOM(n._width,n._height)),a.el(".dhx_widget.dhx_chart",r(r({class:e.css||"",onmousemove:n._globalHTMLHandlers.onmousemove,onmouseleave:n._globalHTMLHandlers.onmouseleave},{"aria-label":function(t){function e(t){return t._isXDirection?"X":"Y"}function i(t){return t.title||t.text||t.value||""}function o(t){return t.steps&&t.steps.length?t.steps[0]:t.min||0}function r(t){return t.steps&&t.steps.length?t.steps[t.steps.length-1]:t.max||t.maxPoints||"max"}function s(t,e){return e[t]}var a=n._scales,l=t.series,c=t.type,d=((c=c||l&&l.length&&l[0]&&l[0].type||"")||"")+" chart.";return a&&Object.keys(a).forEach((function(t){var n,l=a[t],c=l._axis||l.config;"radial"===t?(n=l._data._order,d+=" X scale "+i(l.config)+": "+t+" axis from "+s(l.config.value,n[0])+" to "+s(l.config.value,n[n.length-1])+".",d+=" "+e(l)+" scale: axis from "+o(c)+" to "+r(c)+"."):d+=" "+e(l)+" scale "+i(l.config)+": "+t+" axis from "+o(c)+" to "+r(c)+"."})),l&&l.length&&(d+=" Series:",l.forEach((function(t,e){d+=" "+("pie"===c||"pie3D"===c||"donut"===c?t.text:t.value),d+=e===l.length-1?".":","}))),d}(e)}),{tabIndex:0}),t)},hooks:{didMount:function(t){t&&t.node&&t.node.parent&&t.node.parent.el&&(n._width=t.node.parent.el.offsetWidth,n._height=t.node.parent.el.offsetHeight||400,n.paint())}}}),n.mount(t,o),n.export=new b.Exporter("chart",n),n}o(x,s=c.View),x.prototype.getSeries=function(t){return this._series[t]},x.prototype.eachSeries=function(t){var e,i=[];for(e in this._series)i.push(t.call(this,this._series[e]));return i},x.prototype.destructor=function(){this._tooltip.destructor(),this.events.clear(),this.unmount()},x.prototype.setConfig=function(t){var e,i=this;if("calendarHeatMap"===t.type)throw new TypeError("The calendarHeatMap chart type is a pro functionality");if(this.config=t,this._layers.clear(),this._series={},this._scales={},t.scales)for(var n in t.scales){var o=r({},t.scales[n]);void 0!==t.scales[n].min&&(e=t.scales[n].min),o.type=o.type||this._detectScaleType(o,n),t.scales.radial&&"radial"!==n&&(o.hidden=!0),this._setScale(o,n)}var s,a=new _.default;this._layers.add(a),null!==(s=t.series)&&void 0!==s&&s.forEach((function(n,o){var s;void 0!==n.baseLine&&n.baseLine<e&&(n.baseLine=void 0);var l=r({},n);switch(l.type=l.type||t.type,l.type){case"bar":case"xbar":case"area":case"splineArea":l.color||(l.color=l.fill||v.getDefaultColor(o)),l.fill||(l.fill=l.color||v.getDefaultColor(o));break;case"treeMap":l.legendType=(null===(s=t.legend)||void 0===s?void 0:s.type)||"groupName",null!==(s=null===(s=t.legend)||void 0===s?void 0:s.treeSeries)&&void 0!==s&&s.map((function(t,e){var i;t.active=null===(i=t.active)||void 0===i||i,t.id=null!==(i=t.id)&&void 0!==i?i:y.uid(),t.color||(t.color=v.getDefaultColor(e,"range"===l.legendType))})),l.treeSeries=null===(s=t.legend)||void 0===s?void 0:s.treeSeries;break;case"scatter":l.pointColor||(l.pointColor=l.color||v.getDefaultColor(o))}n=g.default[l.type],(l.barWidth||i.config.barWidth)&&(l.barWidth=l.barWidth||i.config.barWidth);var c=new n(i.data,l,i.events);(1<(n=v.getScales(t.scales)).length&&"radial"!==n[0]||"radial"===n[0]?n:["bottom","left"]).forEach((function(t){var e=i._scales[t];e&&(c.addScale(t,e),l.stacked?e.add(a):e.add(c))})),i._series[c.id]=c,(l.stacked?a:i._layers).add(c)})),t.legend&&((s=r({},t.legend)).series&&(s.$seriesInfo=s.series.map((function(t){return i._series[t]}))),s=new h.Legend(this.data,s,this.events),this._layers.add(s)),this.paint()},x.prototype._setScale=function(t,e){t.type&&("radial"!==(t=new p.default[t.type](this.data,t,e)).config.type&&this._layers.add(t.scaleGrid()),this._layers.add(t),this._scales[e]=t)},x.prototype._detectScaleType=function(t,e){return"radial"===e?e:t.text?"text":"numeric"},x.prototype._initEvents=function(){var t=this;this.events.on(f.ChartEvents.toggleSeries,(function(e,i){"treeMap"===t.config.type?(Object.values(t._series)[0].toggle(e),t.paint()):i?(i=t._series[Object.keys(t._series)[0]])&&(i.toggle(e),t.paint()):t._series[e]&&(t._series[e].toggle(),t.paint())}),this),this.events.on(d.DataEvents.change,(function(){return t.paint()}))},o=x,e.Chart=o},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(25),s=i(0),a=i(4),l=i(186),c=i(1);function d(t,e,i){var s=this;this._data=t,this._events=i,this.config=n(n({},{form:"rect",itemPadding:20,halign:"right",valign:"top",direction:"row",type:"groupName"}),e),this.config.margin=e.margin||function(t,e,i,n){switch(e){case"middle":switch(t){case"right":return i?20:60;case"left":return 120;case"center":throw new Error("cant place legend on center, middle")}case"top":return 20;case"bottom":return i||"line"===n?20:60}}(this.config.halign,this.config.valign,o.isTreeCollection(this._data),this.config.form),this._handlers={onclick:function(t,e){return s._events.fire(r.ChartEvents.toggleSeries,[t,e])},onkeyup:function(t,e,i){i.preventDefault(),"Enter"!==i.key&&" "!==i.key||s._events.fire(r.ChartEvents.toggleSeries,[t,e])}}}d.prototype.scaleReady=function(t){var e="column"===this.config.direction&&("left"===this.config.halign||"right"===this.config.halign);switch(this.config.valign){case"middle":"right"===this.config.halign?t.right+=0<=this.config.size?this.config.size:200:"left"===this.config.halign&&(t.left+=0<=this.config.size?this.config.size:200);break;case"top":e?t[this.config.halign]+=0<=this.config.size?this.config.size:200:t.top+=0<=this.config.size?this.config.size:40;break;case"bottom":e?t[this.config.halign]+=0<=this.config.size?this.config.size:200:t.bottom+=0<=this.config.size?this.config.size:40}},d.prototype.paint=function(t,e){var i,o,r=this,c=this._getData(),d=this.config;d.$sizes={width:0,height:0};var u=a.getFontStyle("legend-text"),h=d.margin,f=d.itemPadding,p=[],g="middle"===d.valign,_=0,v=0,m=0,y=0;switch(c.forEach((function(e,i){var o;g||"row"!==d.direction||(o=a.getTextWidth(e.text,u),t<_+o+15&&0!==i&&(_=0,v+=f+2)),p.push(s.sv("g",n(n({transform:"translate("+_+","+v+")",onclick:[r._handlers.onclick,e.id,r.config.values],onkeyup:[r._handlers.onkeyup,e.id,r.config.values],class:"legend-item "+(e.active?"":"not-active")},{role:"button","aria-label":(i=e).active?"Hide chart "+i.text:"Show chart "+i.text}),{tabindex:0}),[s.sv("text",{x:e.maxValue?0:10,y:0,class:"start-text legend-text"},[a.verticalCenteredText(e.text)]),[l.legendShape(d.form,e),!isNaN(e.maxValue)&&!isNaN(e.minValue)&&l.legendTicks(d.form,e)]])),e="line"!==d.form?15+a.getTextWidth(e.text,u):0,g||"row"!==d.direction?(_=0,m=e<m?m:e,y=(v+=f+2)<y?y:v):m=(_+=e+f)<m?m:_})),d.valign){case"top":o="row"===d.direction?-h-v-5-("line"===d.form?15:0):"center"===d.halign?5-y:h+5;break;case"middle":o=(e-y)/2+f/2;break;case"bottom":o="row"===d.direction?e+("line"!==d.form?h:10):e+10-("center"===d.halign?0:h+y)}switch(d.halign){case"left":i=g?-m:5-("row"===d.direction?0:d.size||200);break;case"center":i=(t-m-("line"===d.form?500:0))/2;break;case"right":i=g||"row"!==d.direction?t+h+5:t-m+f+("line"===d.form?-500-h:5)}return s.sv("g",{transform:"translate("+(0<i?i:0)+", "+o+")","aria-label":"Legend",tabindex:0},p)},d.prototype._getData=function(){var t=[];if("scale"===this.config.type){var e=(f=this.config.values).color,i=f.positiveColor,n=f.negativeColor,o=f.text,r=f.minValue,s=f.maxValue,l=f.tick,d=f.majorTick,u=f.step,h=f.tickTemplate,f=(p=this.setCriticals())[0],p=p[1];t.push({id:c.uid(),text:o,alpha:1,fill:e,minValue:null!=r?r:f,maxValue:null!=s?s:p,positiveColor:i,negativeColor:n,active:!0,tick:l,majorTick:d,step:u,tickTemplate:h})}else if(this.config.values){var g=a.locator(this.config.values.text),_=a.locator(this.config.values.color);this._data.map((function(e,i){t.push({id:e.id,text:g(e).toString(),alpha:1,fill:_(e).toString()||a.getDefaultColor(i),active:!e.$hidden})}))}else if(this.config.treeSeries){var v=this.config.treeSeries;"groupName"===this.config.type?v.forEach((function(e){t.push({id:e.id,text:e.name||e.id,alpha:1,fill:e.color,active:e.active})})):v.forEach((function(e){var i;t.push({id:e.id,text:(i=e).from&&i.to?i.from+" - "+i.to:i.less?"<= "+i.less:i.greater?">= "+i.greater:void 0,alpha:1,fill:e.color,active:e.active})}))}else for(var m=0,y=v=this.config.$seriesInfo;m<y.length;m++){var b=y[m].config,x=b.fill&&b.color;t.push({id:b.id,text:b.name||b.value,alpha:b.alpha,fill:b.fill||b.color,color:x&&b.color,active:b.active})}return t},d.prototype.setCriticals=function(){var t,e,i=this.config.values.value;return this._data.forEach((function(n){n[i]&&(t=!t||n[i]<t?n[i]:t,e=!e||n[i]>e?n[i]:e)})),e=10*Math.ceil(e/10),(t=10*Math.floor(t/10))===e&&(t-=10),[t,e]},i=d,e.Legend=i},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(0),s=i(4),a=function(t){return t.toString()},l=function(t,e){return{role:"graphics-object","aria-label":t+"-axis"+(e?", "+e:"")}};e.bottom=function(t,e,i,c){var d,u,h=e.title,f=e.textPadding,p=e.scalePadding,g=e.textTemplate,_=e.showText,v=e.scaleRotate,m=g||a,y=[];return g=0,_&&(g=f,d=v&&!isNaN(v),u=c+f,y=t.map((function(t){var e,i=t[0],n=d?"rotate("+v+" "+i+" "+u+")":"",o=["scale-text","top-text"];return d&&(e=v%360,o.push(s.getClassesForRotateScale("bottom",e))),r.sv("text",{x:i,y:u,class:o.join(" "),transform:n},[s.verticalCenteredText(m(t[1]))])}))),f=o.uid(),t=null,c=r.sv("path",{class:"main-scale",d:"M0 "+c+" H"+(i-.5),id:f}),h&&(t=r.sv("text",{dx:i/2,dy:p+g},[r.sv("textPath",{href:"#"+f,class:"scale-title "},h)])),r.sv("g",n({},l("x",h||e.text)),[c,t].concat(y))},e.bottomGrid=function(t,e,i,n){for(var o,s,a,l=n.dashed,c=n.grid,d=n.targetLine,u=n.targetValue,h=t.length,f=[],p="grid-line "+(l?"dash-line":"")+" "+(c?"":"hidden-line"),g=0;g<h;g++)0===g&&0===t[g][0]&&!n.hidden||(g!==d?(s="M"+t[g][0]+" 0 V "+i,a=r.sv("path",{d:s,class:p,_ref:"line"+Math.round(t[g][0])}),f.push(a),g===h-1&&t[g][0]!==e&&(o="M"+e+" 0 V "+i,o=r.sv("path",{d:o,class:p}),f.push(o))):(o="M"+t[g][0]+" 0 V "+i,o=r.sv("path",{d:o,class:p+" spec-grid-line"}),f.push(o)));return u&&(s="M"+u*e+" 0 V "+i,a=r.sv("path",{d:s,class:p+" spec-grid-line"}),f.push(a)),r.sv("g",f)},e.top=function(t,e,i,c){var d,u,h=e.title,f=e.textPadding,p=e.scalePadding,g=e.textTemplate,_=e.showText,v=e.scaleRotate,m=g||a,y=[];return g=0,_&&(g=f,d=v&&!isNaN(v),u=-f,y=t.map((function(t){var e,i=["scale-text"],n=t[0],o=d?"rotate("+v+" "+n+" "+u+")":"";return d&&(e=v%360,i.push(s.getClassesForRotateScale("top",e))),r.sv("text",{x:n,y:u,class:i.join(" "),transform:o},[s.verticalCenteredText(m(t[1]))])}))),_=o.uid(),f=r.sv("path",{d:"M0 0 H"+i,class:"main-scale",id:_}),t=null,h&&(t=r.sv("text",{dx:i/2,dy:-p-g},[r.sv("textPath",{href:"#"+_,class:"scale-title"},h)])),r.sv("g",n({},l("x",h||e.text)),[f,t].concat(y))},e.topGrid=function(t,e,i,n){for(var o,s,a=n.dashed,l=n.grid,c=n.targetLine,d=t.length,u=[],h="grid-line "+(a?"dash-line":"")+" "+(l?"":"hidden-line"),f=0;f<d;f++)0===f&&0===t[f][0]&&!n.hidden||(f!==c?(o="M"+t[f][0]+" 0 V "+i,o=r.sv("path",{d:o,class:h,_ref:"line"+Math.round(t[f][0])}),u.push(o),f===d-1&&0!==t[f][0]&&(s="M0 0 V "+i,s=r.sv("path",{d:s,class:h}),u.push(s))):(s="M"+t[f][0]+" 0 V "+i,s=r.sv("path",{d:s,class:h+" spec-grid-line"}),u.push(s)));return r.sv("g",u)},e.left=function(t,e,i,c){var d,u,h,f=e.title,p=e.textPadding,g=e.scalePadding,_=e.textTemplate,v=e.showText,m=e.scaleRotate,y=_||a,b=[],x=0;return v&&(d=s.getFontStyle("scale-text"),u=0,h=m&&!isNaN(m),b=t.map((function(t){var e,i=t[0],n=-p,o=h?"rotate("+m+" "+n+" "+i+")":"",a=["scale-text"];return t=y(t[1]),f&&(e=s.getTextWidth(t,d),u<e&&(u=e)),h?(e=m%360,a.push(s.getClassesForRotateScale("left",e))):a.push("end-text"),r.sv("text",{x:n,y:i,class:a.join(" "),transform:o},[s.verticalCenteredText(t)])})),x=u+p),_=o.uid(),v=r.sv("path",{class:"main-scale",d:"M0 "+c+" V 0.5",id:_,_ref:t.length?"line0":null}),t=null,f&&(t=r.sv("text",{dx:c/2,dy:-g-x},[r.sv("textPath",{href:"#"+_,class:"scale-title"},f)])),r.sv("g",n({},l("y",f||e.text)),[v,t].concat(b))},e.leftGrid=function(t,e,i,n){for(var o,s,a,l=n.dashed,c=n.grid,d=n.targetLine,u=n.targetValue,h=t.length,f=[],p="grid-line "+(l?"dash-line":""),g=0;g<h;g++)0===g&&t[g][0]===i&&!n.hidden||(d!==g?c&&(s="M0 "+t[g][0]+" H "+e,a=r.sv("path",{d:s,class:p}),f.push(a),g===h-1&&t[g][0]!==e&&(o="M0 0 H"+e,o=r.sv("path",{d:o,class:p}),f.push(o))):(s="M0 "+t[g][0]+" H "+e,a=r.sv("path",{d:s,class:p+" spec-grid-line"}),f.push(a)));return u&&(s="M0 "+u*i+" H "+e,a=r.sv("path",{d:s,class:p+" spec-grid-line"}),f.push(a)),r.sv("g",f)},e.right=function(t,e,i,c){var d,u,h,f=e.title,p=e.textPadding,g=e.scalePadding,_=e.textTemplate,v=e.showText,m=e.scaleRotate,y=_||a,b=[],x=0;return v&&(d=s.getFontStyle("scale-text"),u=0,h=m&&!isNaN(m),b=t.map((function(t){var e,n=y(t[1]),o=t[0],a=i+p,l=h?"rotate("+m+" "+a+" "+o+")":"";return t=["scale-text"],f&&(e=s.getTextWidth(n,d),u<e&&(u=e)),h?(e=m%360,t.push(s.getClassesForRotateScale("right",e))):t.push("start-text"),r.sv("text",{x:a,y:o,class:t.join(" "),transform:l},[s.verticalCenteredText(n)])})),x=p+u),_=o.uid(),v=r.sv("path",{d:"M"+i+" "+c+" V 0",class:"main-scale",id:_,_ref:t.length?"line0":null}),t=null,f&&(t=r.sv("text",{dx:c/2,dy:g+x},[r.sv("textPath",{href:"#"+_,class:"scale-title"},f)])),r.sv("g",n({},l("y",f||e.text)),[v,t].concat(b))},e.rightGrid=function(t,e,i,n){for(var o,s,a,l=n.dashed,c=n.grid,d=n.targetLine,u=t.length,h=[],f="grid-line "+(l?"dash-line":""),p=0;p<u;p++)0===p&&t[p][0]===i&&!n.hidden||(d!==p?c&&(s="M0 "+t[p][0]+" H "+e,a=r.sv("path",{d:s,class:f}),h.push(a),p===u-1&&t[p][0]!==e&&(o="M0 0 H"+e,o=r.sv("path",{d:o,class:f}),h.push(o))):(s="M0 "+t[p][0]+" H "+e,a=r.sv("path",{d:s,class:f+" spec-grid-line"}),h.push(a)));return r.sv("g",h)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(88),o=i(90),r=i(191),s=i(192),a=i(57),l=i(193),c=i(194),d=i(195),u=i(196),h=i(197),f=i(198),p=i(199);i=i(200),i={line:a.default,spline:h.default,area:n.default,splineArea:f.default,scatter:u.default,pie:l.default,pie3D:c.default,donut:s.default,radar:d.default,bar:o.default,xbar:r.default,treeMap:p.default,calendarHeatMap:i.default},e.default=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(4);function c(){return null!==s&&s.apply(this,arguments)||this}i=i(55),o(c,s=i.default),c.prototype.paint=function(t,e,i){s.prototype.paint.call(this,t,e);var n=[];return this._form(t,e,n,i),this._markers(n),a.sv("g",r(r({class:"seria",_key:this.id},{"aria-label":"chart "+(this.config.value||"")}),{tabindex:0}),n)},c.prototype.paintformAndMarkers=function(t,e,i){s.prototype.paint.call(this,t,e);var n=[],o=[];return this._form(t,e,n,i),this._markers(o),[a.sv("g",{class:"seria",_key:this.id},n),a.sv("g",{class:"seria_markers",_key:this.id+"_markers"},o)]},c.prototype._markers=function(t){var e,i,n=this;this.config.pointType&&(e=this.config.pointColor||this.config.color,i=this._getPointType(this.config.pointType,e),t.push.apply(t,this._points.map((function(t){return i(t[0],t[1],l.calcPointRef(t[2],n.id))}))))},c.prototype._form=function(t,e,i,n){var o,r,s="chart "+this.config.type+" "+(this.config.css||"")+" "+(this.config.dashed?"dash-line":""),l=(p=this.config).id,c=p.fill,d=p.alpha,u=p.color,h=p.strokeWidth,f=this._points,p=f[f.length-1],g="";if(n){for(var _=n.length-1;0<=_;_--){var v=n[_];g+=_===f.length-1?"M"+v[0]+" "+v[1]+" ":"L"+v[0]+" "+v[1]+" "}g+=f.map((function(t,e){return e?"L "+t[0]+" "+t[1]:"V "+t[1]})).join(" ")+"Z"}else g+=f.map((function(t,i){return i?"L"+t[0]+" "+t[1]:"M0 "+e+" L0 "+t[1]+" L"+t[0]+" "+t[1]})).join(" ")+"L"+t+" "+p[1]+" V "+e;return h&&(o=f.length-1,r=function(t){return t===o?-.5:t?0:.5},p=f.map((function(t,e){return e?"L"+(t[0]+r(e))+" "+t[1]:"M0 "+t[1]+" L0 "+(t[1]+r(e))+" L"+(t[0]+r(e))+" "+t[1]})).join(" ")+"L"+t+" "+p[1],u=a.sv("path",{d:p,"stroke-width":h,stroke:u,fill:"none",class:s}),i.push(u)),d=a.sv("path",{id:"seria"+l,d:g,class:s,fill:c,_ref:l,"fill-opacity":d,stroke:"none"}),i.push(d),i},c.prototype._setDefaults=function(t){var e={alpha:.3,strokeWidth:2,fill:t.color||"#5E83BA",color:"#5E83BA",active:!0,tooltip:!0,pointType:"empty"};this.config=r(r({},e),t),e=this.config.pointType,t=this.config.pointColor||this.config.color,e&&(this._drawPointType=this._getPointType(e,t))},o=c,e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(4),r={circle:function(t,e,i,o,r,s){return t={_ref:s,cx:o,cy:r,r:4,class:"figure point-circle",fill:e,stroke:t,"stroke-width":2},n.sv("circle",t)},rect:function(t,e,i,o,r,s){return t={_ref:s,x:o-4,y:r-4,width:8,height:8,class:"figure point-rect",fill:e,stroke:t,"stroke-width":2},n.sv("rect",t)},rhombus:function(t,e,i,o,r,s){return t={_ref:s,points:o-5+","+r+" "+o+","+(r+5)+" "+(o+5)+","+r+" "+o+","+(r-5),class:"figure point-rhombus",fill:e,stroke:t,"stroke-width":2},n.sv("polygon",t)},triangle:function(t,e,i,o,r,s){return t={_ref:s,points:o+","+(r-5)+" "+(o+5)+","+(r+5)+" "+(o-5)+","+(r+5),class:"figure point-triangle",fill:e,stroke:t,"stroke-width":2},n.sv("polygon",t)},simpleCircle:function(t,e,i,o,r,s){return t={_ref:s,cx:o,cy:r,r:3,class:"figure point-simple-circle",fill:t},n.sv("circle",t)},simpleRect:function(t,e,i,o,r,s){return t={_ref:s,x:o-3,y:r-3,width:6,height:6,class:"figure point-simple-rect",fill:t},n.sv("rect",t)},empty:function(){return null}},s={circle:function(t,e,i,n,o,r){return'<circle class="figure point-circle" _ref="'+r+'" cx="'+n+'" cy="'+o+'" r="4" fill="'+e+'" stroke="'+t+'" stroke-width="2"/>'},rect:function(t,e,i,n,o,r){return'<rect _ref="'+r+'" x="'+(n-4)+'" y="'+(o-4)+'" width="8" height="8" class="figure point-rect" fill="'+e+'" stroke="'+t+'" stroke-width="2"/>'},rhombus:function(t,e,i,n,o,r){return'<polygon _ref="'+r+'" points="'+(n-5)+","+o+" "+n+","+(o+5)+" "+(n+5)+","+o+" "+n+","+(o-5)+'" class="figure point-rhombus" fill="'+e+'" stroke="'+t+'" stroke-width="2"/>'},triangle:function(t,e,i,n,o,r){return'<polygon _ref="'+r+'" points="'+n+","+(o-5)+" "+(n+5)+","+(o+5)+" "+(n-5)+","+(o+5)+'" class="figure point-triangle" fill="'+e+'" stroke="'+t+'" stroke-width="2"/>'},simpleCircle:function(t,e,i,n,o,r){return'<circle _ref="'+r+'" cx="'+n+'" cy="'+o+'" r="3" class="figure point-simple-circle" fill="'+t+'"/>'},simpleRect:function(t,e,i,n,o,r){return'<rect _ref="id" x="'+(n-3)+'" y="'+(o-3)+'" width="6" height="6" class="figure point-simple-rect" fill="'+t+'"/>'},empty:function(){return null}};function a(t){if(!(t=r[t.toString()]))throw new Error("unknown point type");return t}function l(t){if(!(t=s[t.toString()]))throw new Error("unknown point type");return t}e.getHelper=a,e.getHTMLHelper=l,e.getShadeHelper=function(t,e){var i=a(t);e=e||"none";var n=o.getColorShade(e,.2);return function(t,o,r){return i(e,n,"",t,o,r)}},e.getShadeHTMLHelper=function(t,e){var i=l(t);e=e||"none";var n=o.getColorShade(e,.2);return function(t,o,r){return i(e,n,"",t,o,r)}}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(4);function d(){var t=null!==s&&s.apply(this,arguments)||this;return t._shift=0,t}i=i(55),o(d,s=i.default),d.prototype.addScale=function(t,e){s.prototype.addScale.call(this,t,e),e.addPadding()},d.prototype.seriesShift=function(t){return this._shift=t,this.config.barWidth},d.prototype.paint=function(t,e,i){if(s.prototype.paint.call(this,t,e),!this.config.active)return null;var n=[];this._gradient&&n.push(l.sv("defs",[this._gradient()]));var o="chart "+this.config.type+" "+(this.config.css||"")+" "+(this.config.dashed?"dash-line":"");return i=this._getForm(this._points,o,t,e,i),n=n.concat(i),l.sv("g",r(r({class:"seria",_key:this.id},{"aria-label":"chart "+(this.config.value||"")}),{tabindex:0}),n)},d.prototype.getTooltipType=function(t,e,i){return void 0!==this.config.baseLine&&this._baseLinePosition<i?"bot":"top"},d.prototype._getClosestDist=function(t,e,i,n){return this.config.stacked&&e<n?1/0:Math.abs(t-i)},d.prototype._path=function(t,e){return t[0]+=this._shift,"\nM "+(t[0]-this.config.barWidth/2)+" "+e+"\nV "+t[1]+"\nh "+this.config.barWidth+"\nV "+e},d.prototype._base=function(t){var e=this.config.baseLine;return this._baseLinePosition=void 0!==e?this.yScale.point(e)*t:t-1},d.prototype._text=function(t,e,i){var n=t[0];return{x:n,y:t=(e+t[1])/2,class:"bar-text",transform:i&&!isNaN(i)?"rotate("+i+" "+n+" "+t+")":""}},d.prototype._getForm=function(t,e,i,n,o){function s(t){return o?o[t][1]:v}var a=this,d=(_=this.config).baseLine,u=_.fill,h=_.alpha,f=_.showText,p=_.showTextTemplate,g=_.showTextRotate,_=[],v=this._base(n);return n=t.map((function(t,i){return l.sv("path",r(r({_key:"seria"+a.config.id+i,_ref:c.calcPointRef(t[2],a.config.id),d:a._path(t,s(i)),class:e,fill:u,onclick:[a._handlers.onclick,t[2],a.config.value],onmousemove:[a._handlers.onmousemove,t[2],a.config.id],onmouseleave:[a._handlers.onmouseleave,t[2],a.config.id],"fill-opacity":h},{role:"graphics-symbol","aria-roledescription":"bar","aria-label":function(t,e,i){void 0===i&&(i=0);var n=e[3],o=i;return(e=e[4])<i&&(o=e,e=i),"xbar"===t?"bar y="+n+", x from "+o+" to "+e:"bar x="+n+", y from "+o+" to "+e}(a.config.type,t,d)}),{tabindex:0}))})),_.push.apply(_,n),(f||p||g)&&!1!==f&&(t=t.map((function(t,e){var i,n,o=a._getText(t);return i=t,n=e,16<Math.abs(s(n)-i[1])?l.sv("text",r(r({},a._text(t,s(e),g)),{"aria-hidden":"true"}),[p?c.verticalCenteredText(p(o)):c.verticalCenteredText(o)]):null})),_.push.apply(_,t)),_},d.prototype._getText=function(t){return t[4].toString()},d.prototype._setDefaults=function(t){this.config=r(r({},{barWidth:30,alpha:1,active:!0,tooltip:!0,pointType:"empty"}),t);var e,i,n=this.config.pointType;t=this.config.pointColor||this.config.color,n&&(this.config.pointType=n,this._drawPointType=this._getPointType(n,t)),this.config.gradient&&(e="gradient"+a.uid(),i=this.config.gradient(this.config.fill),this._gradient=function(){return c.linearGradient(i,e)},this.config.fill="url(#"+e+")")},o=d,e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=t.length;if(i<3)a=t;else for(var n=t[0],o=t[0],r=t[1],s=t[2],a=[t[0].slice(0,2)],l=1;l<i;l++)a.push([(-n[0]+6*o[0]+r[0])/6,(-n[1]+6*o[1]+r[1])/6,(o[0]+6*r[0]-s[0])/6,(o[1]+6*r[1]-s[1])/6,r[0],r[1]]),n=o,o=r,r=s,s=t[l+2]||s;var c="";for(l=0;l<a.length;l++){var d=a[l],u=d.length;l?c+=5<u?"C"+d[0]+" "+d[1]+"\n\t\t\t\t"+d[2]+" "+d[3]+"\n\t\t\t\t"+d[4]+" "+d[5]:5===u?"L"+d[0]+" "+d[1]:"S"+d[0]+" "+d[1]+"\n\t\t\t\t"+d[2]+" "+d[3]:(c+=e?"L":"M",c+=5===u?d[0]+" "+d[1]:d[u-2]+" "+d[u-1])}return c}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);function o(){this._series=[]}o.prototype.add=function(t){this._series.push(t)},o.prototype.dataReady=function(t){return this._toPaint=this._series.filter((function(e){return!!(e=e.dataReady(t)).length&&(t=e,!0)})),t||[]},o.prototype.getPoints=function(){return this._toPaint.length?this._toPaint[0].getPoints().concat(this._toPaint[this._toPaint.length-1].getPoints()):[]},o.prototype.paint=function(t,e,i){var o=[],r=[];return this._toPaint.forEach((function(n){var s,a;n.paintformAndMarkers?(a=(s=n.paintformAndMarkers(t,e,i))[0],s=s[1],o.push(a),r.push(s)):(a=n.paint(t,e,i),o.push(a)),i=n.getPoints()})),n.sv("g",o.concat(r))},i=o,e.default=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(35),d=i(205);function u(t,e){return void 0===e&&(e={}),s.call(this,t,a.extend({itemsInRow:1,gap:"0px"},e))||this}o(u,s=c.List),u.prototype.showItem=function(t){var e,i,n,o=this.getRootView();o&&o.node&&o.node.el&&void 0!==t&&(e=this.getRootNode())&&(i=this.config.virtual,n=this.data.getIndex(t),o=Math.floor(n/this.config.itemsInRow),t=Math.ceil(o/e.children.length)||0,t=e.children[o-e.children.length*t],(i||t)&&(t=t.children[n%this.config.itemsInRow],n=parseInt(this.config.gap.toString().replace("px",""),null),t.offsetTop>=e.clientHeight+e.scrollTop-t.clientHeight?e.scrollTop=t.offsetTop-e.clientHeight+t.clientHeight+n:t.offsetTop<e.scrollTop-n&&(e.scrollTop=t.offsetTop-n)))},u.prototype._didRedraw=function(t){var e=(i=t.node.el).scrollHeight>i.offsetHeight,i=t.node.attrs.class.replace(" dhx_dataview--has-scroll","");i=e?i+" dhx_dataview--has-scroll":i,t.node.patch({class:i})},u.prototype._renderItem=function(t,e){function i(t){return parseFloat(t)}var n=this.config,o=n.itemsInRow,s=n.gap,a=n.template,c=n.itemHeight,u=a?a(t):t.htmlContent,h=t.id==this._focus,f=(e+1)%this.config.itemsInRow==0;return t.id==this._edited?d.getEditor(t,this).toHTML(f):(n=t.id.toString(),e=this.data.getMetaMap(t),l.el("div",r(r({class:"dhx_dataview-item"+(e&&e.selected?" dhx_dataview-item--selected":"")+(h?" dhx_dataview-item--focus":"")+(e&&e.drop&&!this._edited?" dhx_dataview-item--drophere":"")+(e&&e.drag&&!this._edited?" dhx_dataview-item--dragtarget":"")+(this.config.dragMode&&!this._edited?" dhx_dataview-item--drag":"")+(i(s)?" dhx_dataview-item--with-gap":"")+(t.css?" "+t.css:"")+(f?" dhx_dataview-item--last-item-in-row":""),style:{width:"calc("+100/o+"% - "+i(s)+" * "+(o-1)/o+"px)","margin-right":f?"":s,height:a?null:c},_key:n,"data-dhx-id":n,_ref:n},this.getDataViewItemAriaAttrs(this,t)),{tabindex:h?0:-1}),u?[l.el(".dhx_dataview-item__inner-html",{".innerHTML":u,role:"presentation"})]:t.value||t.text||t.value))},u.prototype._renderList=function(){var t=this,e=this.data.getRawData(0,-1),i=this.config,n=i.itemsInRow,o=i.css,s=i.gap,a=0;return e=e.reduce((function(e,i,o){return 0===a&&e.push([]),e[e.length-1].push(t._renderItem(i,o)),a=(a+1)%n,e}),[]),l.el("",r(r(r(r({},this._handlers),{"data-dhx-widget-id":this._uid,class:(o||"")+" dhx_widget dhx_dataview"+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":""),style:{height:this.config.height}}),this.getDataViewAriaAttrs(this.config,this.data.getLength(),e.length,n)),{tabindex:0}),e.map((function(t,e){return l.el(".dhx_dataview-row",{style:{margin:s},"aria-label":"Row "+(e+1)},t)})))},u.prototype._getHotkeys=function(){var t=this,e=s.prototype._getHotkeys.call(this);return e.arrowUp=function(e){t.moveFocus(c.MOVE_UP,t.config.itemsInRow),t._changed&&(t._changed=!1),e.preventDefault()},e.arrowDown=function(e){t.moveFocus(c.MOVE_DOWN,t.config.itemsInRow),t._changed&&(t._changed=!1),e.preventDefault()},e.arrowLeft=function(e){t.moveFocus(c.MOVE_UP),t._changed&&(t._changed=!1),e.preventDefault()},e.arrowRight=function(e){t.moveFocus(c.MOVE_DOWN),t._changed&&(t._changed=!1),e.preventDefault()},e},u.prototype.getDataViewItemAriaAttrs=function(t,e){var i,n,o;return r(r({role:"option","aria-selected":e.$selected?"true":"false"},(o=e,(n=t).config.dragMode&&!n._edited?{"aria-grabbed":Boolean(o.$dragtarget&&!n._edited).toString()}:{})),(i=t).config.editable?{"aria-roledescription":i._edited?"Press Enter to stop editing":"Double click to edit content"}:{})},u.prototype.getDataViewAriaAttrs=function(t,e,i,n){return{role:"listbox","aria-label":"Dataview, "+e+" options on "+i+" rows, "+n+" options per row."+(t.editable?" Content is editable.":""),"aria-multiselectable":t.selection&&t.multiselection?"true":"false","aria-readonly":t.editable?"false":"true"}},o=u,e.DataView=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.DataViewEvents||(e.DataViewEvents={})).click="click",e.doubleClick="doubleclick",e.focusChange="focuschange",e.beforeEditStart="beforeEditStart",e.afterEditStart="afterEditStart",e.beforeEditEnd="beforeEditEnd",e.afterEditEnd="afterEditEnd",e.itemRightClick="itemRightClick",e.itemMouseOver="itemMouseOver",e.contextmenu="contextmenu"},function(t,e,i){"use strict";(function(t){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__rest||function(t,e){var i={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(i[o[n]]=t[o[n]]);return i},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var l,c=i(3),d=i(7),u=i(10),h=i(1),f=i(209),p=i(210),g=i(96),_=i(211),v=i(58),m=i(212),y=i(214),b=i(215),x=i(216),w=i(217),E=i(218),C=i(9),S=i(219),k=i(220),I=i(221),O=i(222),P=i(5),M=i(0);function D(t,e){var i=l.call(this,null,h.extend({disabled:!1,hidden:!1},e))||this;return i._isValid=!0,i._state={},i.events=new c.EventSystem(i),i.container=t,i._initUI(t),i.config.hidden&&i.hide(!0),i.config.disabled&&i.disable(),i.events.on(P.FormEvents.afterShow,(function(){i._formContainerShow()})),i.events.on(P.FormEvents.afterHide,(function(){Object.values(i._attachments).some((function(t){return!t.config.hidden}))||i._formContainerHide()})),i.events.on(P.FormEvents.change,(function(){return i.paint()})),M.awaitRedraw().then((function(){var t=i.layout.getRootNode();t&&(t.setAttribute("role","form"),i.config.title&&t.setAttribute("aria-label",i.config.title))})),i}o(D,l=d.View),D.prototype.paint=function(){l.prototype.paint.call(this),this.layout.paint()},D.prototype.send=function(e,i,n){var o=this;if(void 0===i&&(i="POST"),this.events.fire(P.FormEvents.beforeSend))return new t((function(t,r){var s=new XMLHttpRequest;switch(s.onload=function(){200<=s.status&&s.status<300?t(s.response||s.responseText):r({status:s.status,statusText:s.statusText})},s.onloadend=function(){s.readyState===XMLHttpRequest.DONE&&200===s.status&&o.events.fire(P.FormEvents.afterSend)},s.onerror=function(){r({status:s.status,statusText:s.statusText})},"GET"===i&&(e+="?"+encodeURIComponent(JSON.stringify(o.getValue()))),s.open(i,e),n||s.setRequestHeader("Content-Type","application/json"),i){case"POST":o._send(),s.send(n?o.getValue(!0):JSON.stringify(o.getValue()));break;case"DELETE":case"PUT":s.send(n?o.getValue(!0):JSON.stringify(o.getValue()));break;default:s.send()}}))},D.prototype.clear=function(t){switch(t){case P.ClearMethod.value:this._clear();break;case P.ClearMethod.validation:this._clearValidate();break;default:this._clear(),this._clearValidate()}this.paint()},D.prototype.setValue=function(t){for(var e in t)for(var i in this._attachments)"function"==typeof this._attachments[i].setValue&&this._attachments[i].config.name===e&&this._attachments[i].setValue(t[e])},D.prototype.getValue=function(t){if(t){var e,i=new FormData,n=this;for(e in this._state)!function(t){Array.isArray(n._state[t])?n._state[t].forEach((function(e,n){return i.append(t+"["+n+"]",e)})):i.append(t,n._state[t])}(e);return i}return r({},this._state)},D.prototype.getItem=function(t){for(var e in this._attachments)if(e==t)return this._attachments[e]},D.prototype.validate=function(t){for(var e in void 0===t&&(t=!1),this._isValid=!0,this._attachments)"function"==typeof this._attachments[e].validate&&C.isVerify(this._attachments[e].config)&&!this._attachments[e].validate(t)&&(this._isValid=!1,t||this.events.fire(P.FormEvents.validationFail,[e,this._attachments[e]]));return this._isValid},D.prototype.setProperties=function(t,e){if("string"==typeof t&&e&&!h.isEmptyObj(e))for(var i in this._attachments)"function"==typeof this._attachments[i].setProperties&&i===t&&this._attachments[i].setProperties(e);if("object"==typeof t&&!h.isEmptyObj(t))for(var i in this._attachments)"function"!=typeof this._attachments[i].setProperties||h.isEmptyObj(t[i])||this._attachments[i].setProperties(t[i])},D.prototype.getProperties=function(t){if(t)for(var e in this._attachments)if("function"==typeof this._attachments[e].getProperties&&e===t)return this._attachments[e].getProperties();var i={};for(e in this._attachments)"function"==typeof this._attachments[e].getProperties&&(i[e]=this._attachments[e].getProperties());return i},D.prototype.show=function(){if(this.config.hidden||Object.values(this._attachments).some((function(t){return!t.config.hidden})))for(var t in this._formContainerShow(),this._attachments)"function"==typeof this._attachments[t].show&&this._attachments[t].show()},D.prototype.hide=function(t){if(!this.config.hidden||t)for(var e in this._formContainerHide(),this._attachments)"function"==typeof this._attachments[e].hide&&this._attachments[e].hide(t)},D.prototype.setFocus=function(t){for(var e in this._attachments){var i=this._attachments[e];"radiogroup"!==i.config.type&&"checkboxgroup"!==i.config.type||i.focus(t),i.config.name===t&&i.focus()}},D.prototype.blur=function(t){for(var e in t||this.forEach((function(t){"function"==typeof t.blur&&t.blur()})),this._attachments){var i=this._attachments[e];"radiogroup"!==i.config.type&&"checkboxgroup"!==i.config.type||i.blur(t),i.config.name===t&&i.blur()}},D.prototype.isVisible=function(t){if(!t)return!this.config.hidden;for(var e in this._attachments)if(e===t)return!this._attachments[e].config.hidden},D.prototype.disable=function(){for(var t in this.config.disabled=!0,this._attachments)"function"==typeof this._attachments[t].disable&&this._attachments[t].disable()},D.prototype.enable=function(){for(var t in this.config.disabled=!1,this._attachments)"function"==typeof this._attachments[t].enable&&this._attachments[t].enable()},D.prototype.isDisabled=function(t){if(!t)return this.config.disabled;for(var e in this._attachments)if(e===t)return this._attachments[e].config.disabled},D.prototype.forEach=function(t){for(var e=Object.values(this._attachments),i=0;i<e.length;i++)t.call(this,e[i],i,e)},D.prototype.destructor=function(){this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this._attachments=this._state=this._uid=this.container=this.events=this._isValid=null,this.unmount()},D.prototype.getRootView=function(){return this.layout.getRootView()},D.prototype._addLayoutItem=function(t){var e=t.id=t.id||h.uid(),i=t.name=t.name||e.toString();t.type=t.type&&t.type.toLowerCase();var n=t.css,o=(e=t.padding,s(t,["css","padding"])),r=t.width,a=t.height,l=n?n+" dhx_form-element":"dhx_form-element";switch((n="spacer"!==t.type)&&!r&&(r="content"),n&&!a&&(a="content"),o.type){case"button":o.full&&(l+=" dhx_button--full-gravity");break;case"text":"content"===r&&(l+=" dhx_form-element--fit-content");break;case"simplevault":o.$vaultHeight=a}return this._initItemHandlers(t,i),e={id:i,width:r,height:a,padding:e,css:l},"gravity"in t&&(e.gravity=t.gravity),e},D.prototype._initItemHandlers=function(t,e){var i=this;switch(t.type){case"button":var n=this._attachments[e]=new p.Button(null,t);n.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),n.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),n.events.on(P.ItemEvent.click,(function(t){t.preventDefault(),i.events.fire(P.FormEvents.click,[e,t]),i.events.fire(P.FormEvents.buttonClick,[e,t]),n.config.submit&&i.validate()&&n.config.url&&i.send(n.config.url)})),n.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),n.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),n.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),n.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),n.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),n.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),n.events.on(P.ItemEvent.keydown,(function(t){i.events.fire(P.FormEvents.keydown,[t,e])}));break;case"datepicker":var o=this._attachments[e]=new f.DatePicker(null,t);this._state[e]=o.getValue("Date"===t.valueFormat),o.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),o.events.on(P.ItemEvent.afterChangeProperties,(function(n){i._changeProps(e,n),i._state[e]=o.getValue("Date"===t.valueFormat),i.events.fire(P.FormEvents.afterChangeProperties,[e,n]),i.paint()})),o.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),o.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),o.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),o.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),o.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),o.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),o.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),o.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),o.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),o.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),o.events.on(P.ItemEvent.keydown,(function(t){i.events.fire(P.FormEvents.keydown,[t,e])}));break;case"checkbox":var r=this._attachments[e]=new g.Checkbox(null,t);this._state[e]=r.getValue(),r.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),r.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=r.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),r.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),r.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),r.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),r.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),r.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),r.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),r.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),r.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),r.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),r.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),r.events.on(P.ItemEvent.keydown,(function(t){i.events.fire(P.FormEvents.keydown,[t,e])}));break;case"checkboxgroup":var s=this._attachments[e]=new _.CheckboxGroup(null,t);this._state[e]=s.getValue(),s.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),s.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=s.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),s.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),s.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),s.events.on(P.ItemEvent.beforeHide,(function(t,n,o){if(!o)return i.events.fire(P.FormEvents.beforeHide,[e,t,n])})),s.events.on(P.ItemEvent.beforeShow,(function(t,n){return i.events.fire(P.FormEvents.beforeShow,[e,t,n])})),s.events.on(P.ItemEvent.afterHide,(function(t,n,o){s.isVisible()||i.layout.getCell(e).hide(),o||i.events.fire(P.FormEvents.afterHide,[e,t,n])})),s.events.on(P.ItemEvent.afterShow,(function(t,n){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t,n])})),s.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),s.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),s.events.on(P.ItemEvent.focus,(function(t,n){i.events.fire(P.FormEvents.focus,[e,t,n])})),s.events.on(P.ItemEvent.blur,(function(t,n){i.events.fire(P.FormEvents.blur,[e,t,n])})),s.events.on(P.ItemEvent.keydown,(function(t,n){i.events.fire(P.FormEvents.keydown,[t,e,n])}));break;case"combo":var l=this._attachments[e]=new w.Combo(null,t);this._state[e]=l.getValue(),l.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),l.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=l.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),l.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),l.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),l.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),l.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),l.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),l.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),l.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),l.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),l.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),l.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),l.events.on(P.ItemEvent.keydown,(function(t,n){i.events.fire(P.FormEvents.keydown,[t,e,n])}));break;case"input":var c=this._attachments[e]=new v.Input(null,t);this._state[e]=c.getValue(),c.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),c.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=c.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),c.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),c.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),c.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),c.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),c.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),c.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),c.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),c.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),c.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),c.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),c.events.on(P.ItemEvent.keydown,(function(t){i.events.fire(P.FormEvents.keydown,[t,e])}));break;case"radiogroup":var d=this._attachments[e]=new m.RadioGroup(null,t);this._state[e]=d.getValue(),d.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),d.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=d.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),d.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),d.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),d.events.on(P.ItemEvent.beforeHide,(function(t,n,o){if(!o)return i.events.fire(P.FormEvents.beforeHide,[e,t,n])})),d.events.on(P.ItemEvent.beforeShow,(function(t,n){return i.events.fire(P.FormEvents.beforeShow,[e,t,n])})),d.events.on(P.ItemEvent.afterHide,(function(t,n,o){d.isVisible()||i.layout.getCell(e).hide(),o||i.events.fire(P.FormEvents.afterHide,[e,t,n])})),d.events.on(P.ItemEvent.afterShow,(function(t,n){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t,n])})),d.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),d.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),d.events.on(P.ItemEvent.focus,(function(t,n){i.events.fire(P.FormEvents.focus,[e,t,n])})),d.events.on(P.ItemEvent.blur,(function(t,n){i.events.fire(P.FormEvents.blur,[e,t,n])})),d.events.on(P.ItemEvent.keydown,(function(t,n){i.events.fire(P.FormEvents.keydown,[t,e,n])}));break;case"select":var u=this._attachments[e]=new y.Select(null,t);this._state[e]=u.getValue(),u.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),u.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=u.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),u.events.on(P.ItemEvent.changeOptions,(function(t){i.layout.getCell(e).config.options=a(t)})),u.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),u.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),u.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),u.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),u.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),u.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),u.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),u.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),u.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),u.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),u.events.on(P.ItemEvent.keydown,(function(t){i.events.fire(P.FormEvents.keydown,[t,e])}));break;case"simplevault":var h=this._attachments[e]=new S.SimpleVault(null,t);this._state[e]=h.getValue(),h.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),h.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=h.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),h.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),h.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),h.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),h.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),h.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),h.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),h.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),h.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])}));break;case"slider":var C=this._attachments[e]=new E.SliderForm(null,t);this._state[e]=C.getValue(),C.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),C.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),C.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),C.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),C.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),C.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),C.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),C.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),C.events.on(P.ItemEvent.keydown,(function(t){i.events.fire(P.FormEvents.keydown,[t,e])}));break;case"textarea":var M=this._attachments[e]=new b.Textarea(null,t);this._state[e]=M.getValue(),M.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),M.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=M.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),M.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),M.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),M.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),M.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),M.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),M.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),M.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),M.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),M.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),M.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),M.events.on(P.ItemEvent.keydown,(function(t){i.events.fire(P.FormEvents.keydown,[t,e])}));break;case"text":var D=this._attachments[e]=new x.Text(null,t);this._state[e]=D.getValue(),D.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),D.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=D.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),D.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),D.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),D.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),D.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),D.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),D.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),D.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),D.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])}));break;case"timepicker":var V=this._attachments[e]=new k.TimePicker(null,t);this._state[e]=t.value&&V.getValue("timeObject"===t.valueFormat)||"",V.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),V.events.on(P.ItemEvent.afterChangeProperties,(function(n){i._changeProps(e,n),i._state[e]=V.getValue("timeObject"===t.valueFormat),i.events.fire(P.FormEvents.afterChangeProperties,[e,n]),i.paint()})),V.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),V.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),V.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),V.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),V.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),V.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),V.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),V.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),V.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),V.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),V.events.on(P.ItemEvent.keydown,(function(t){i.events.fire(P.FormEvents.keydown,[t,e])}));break;case"colorpicker":var T=this._attachments[e]=new I.ColorPicker(null,t);this._state[e]=T.getValue(),T.events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),T.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i._state[e]=T.getValue(),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),T.events.on(P.ItemEvent.beforeChange,(function(t){return i.events.fire(P.FormEvents.beforeChange,[e,t])})),T.events.on(P.ItemEvent.change,(function(t){i._state[e]=t,i.events.fire(P.FormEvents.change,[e,t])})),T.events.on(P.ItemEvent.beforeHide,(function(t,n){if(!n)return i.events.fire(P.FormEvents.beforeHide,[e,t])})),T.events.on(P.ItemEvent.beforeShow,(function(t){return i.events.fire(P.FormEvents.beforeShow,[e,t])})),T.events.on(P.ItemEvent.afterHide,(function(t,n){i.layout.getCell(e).hide(),n||i.events.fire(P.FormEvents.afterHide,[e,t])})),T.events.on(P.ItemEvent.afterShow,(function(t){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e,t])})),T.events.on(P.ItemEvent.beforeValidate,(function(t){return i.events.fire(P.FormEvents.beforeValidate,[e,t])})),T.events.on(P.ItemEvent.afterValidate,(function(t,n){i.events.fire(P.FormEvents.afterValidate,[e,t,n])})),T.events.on(P.ItemEvent.focus,(function(t){i.events.fire(P.FormEvents.focus,[e,t])})),T.events.on(P.ItemEvent.blur,(function(t){i.events.fire(P.FormEvents.blur,[e,t])})),T.events.on(P.ItemEvent.keydown,(function(t){i.events.fire(P.FormEvents.keydown,[t,e])}));break;default:(C=this._attachments[e]=new O.Spacer(null,t)).events.on(P.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(P.FormEvents.beforeChangeProperties,[e,t])})),C.events.on(P.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i.events.fire(P.FormEvents.afterChangeProperties,[e,t]),i.paint()})),C.events.on(P.ItemEvent.beforeHide,(function(t){if(!t)return i.events.fire(P.FormEvents.beforeHide,[e])})),C.events.on(P.ItemEvent.beforeShow,(function(){return i.events.fire(P.FormEvents.beforeShow,[e])})),C.events.on(P.ItemEvent.afterHide,(function(t){i.layout.getCell(e).hide(),t||i.events.fire(P.FormEvents.afterHide,[e])})),C.events.on(P.ItemEvent.afterShow,(function(){i.layout.getCell(e).show(),i.events.fire(P.FormEvents.afterShow,[e])}))}},D.prototype._changeProps=function(t,e){var i,n=["width","height","css","padding"];for(i in e)n.includes(i)&&(this.layout.getCell(t).config[i]=e[i])},D.prototype._addLayoutItems=function(t){var e=this;return t.map((function(t){if(C.isBlock(t)){var i={width:"content",height:"content"};return e._createLayoutConfig(t,i),i}return e._addLayoutItem(t)}))},D.prototype._checkLayoutConfig=function(t,e){return h.isDefined(t.css)&&(e.css=t.css),h.isDefined(t.title)&&(e.header=t.title),h.isDefined(t.padding)&&(e.padding=t.padding),h.isDefined(t.gravity)&&(e.gravity=t.gravity),h.isDefined(t.width)&&(e.width=t.width),h.isDefined(t.height)&&(e.height=t.height),h.isDefined(t.align)&&(e.align=t.align),e},D.prototype._createLayoutConfig=function(t,e){e=this._checkLayoutConfig(t,e),h.isDefined(t.rows)?e.rows=this._addLayoutItems(t.rows):h.isDefined(t.cols)&&(e.cols=this._addLayoutItems(t.cols))},D.prototype._initUI=function(t){var e=this._attachments={},i={padding:"8px"};this.config.css+=" dhx_form",this._createLayoutConfig(this.config,i);var n,o=this.layout=new u.Layout(t,i);for(n in e)o.getCell(n).attach(e[n])},D.prototype._clear=function(){for(var t in this._state={},this._attachments){var e=this._attachments[t].config.name;"function"==typeof this._attachments[t].clear&&(this._attachments[t].clear(),e?this._state[e]=this._attachments[t].getValue():this._state[t]=this._attachments[t].getValue())}},D.prototype._clearValidate=function(){for(var t in this._attachments)"function"==typeof this._attachments[t].clearValidate&&this._attachments[t].clearValidate()},D.prototype._formContainerShow=function(){this.config.hidden=!1,this.getRootView().node&&(this.getRootView().node.el.style.display="flex")},D.prototype._formContainerHide=function(){this.config.hidden=!0,this.getRootView().node&&(this.getRootView().node.el.style.display="none")},D.prototype._send=function(){for(var t in this._attachments)"function"==typeof this._attachments[t].send&&this._attachments[t].send()},o=D,e.Form=o}).call(this,i(17))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(3),c=i(9),d=i(11),u=i(5),h=i(16),f=i(1);function p(t,e){void 0===e&&(e={});var i=s.call(this,t,e)||this;return i.events=new l.EventSystem,i._isValid=!0,i._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","text"],i._props=r(c.baseProps,i._propsItem),i._initView(e),i._initHandlers(),i.mount(t,a.create({render:function(){return i._draw()}})),i}o(p,s=h.Label),p.prototype.setProperties=function(t,e){if(void 0===e&&(e=!1),t&&!f.isEmptyObj(t)&&(e||this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()]))){for(var i in t)this._props.includes(i)&&(this.config[i]=t[i]);e||this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},p.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},p.prototype.show=function(){this.config.hidden&&this.events.fire(u.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[this.getValue()]))},p.prototype.hide=function(t){this.config.hidden&&!t||!this.events.fire(u.ItemEvent.beforeHide,[this.getValue(),t])||(this.config.hidden=!0,this.events.fire(u.ItemEvent.afterHide,[this.getValue(),t]))},p.prototype.isVisible=function(){return!this.config.hidden},p.prototype.disable=function(){this.config.disabled=!0,this.paint()},p.prototype.enable=function(){this.config.disabled=!1,this.paint()},p.prototype.isDisabled=function(){return!!this.config.disabled},p.prototype.validate=function(t){if(void 0===t&&(t=!1),t||this.events.fire(u.ItemEvent.beforeValidate,[this.getValue()]))return(this.config.required||this.config.$required)&&(this._isValid=!!this.config.checked),t||(this.config.$validationStatus=this._isValid?u.ValidationStatus.success:u.ValidationStatus.error,this.events.fire(u.ItemEvent.afterValidate,[this.getValue(),this._isValid])),this._isValid},p.prototype.clearValidate=function(){this.config.$validationStatus=u.ValidationStatus.pre,this.paint()},p.prototype.setValue=function(t,e){void 0===e&&(e=!1),void 0!==t&&t!==this.config.checked&&(e||this.events.fire(u.ItemEvent.beforeChange,[this._getValue(t)]))&&(this.config.checked=!!t,e||(this.events.fire(u.ItemEvent.change,[this.getValue()]),c.isVerify(this.config)&&this.validate()))},p.prototype.getValue=function(){return this._getValue(this.config.checked)},p.prototype.clear=function(t){this.config.checked&&(t||this.events.fire(u.ItemEvent.beforeChange,[this._getValue(!1)]))&&(this.config.checked=!1,t||(this.events.fire(u.ItemEvent.change,[this.getValue()]),c.isVerify(this.config)&&this.validate()))},p.prototype.destructor=function(){this.events&&this.events.clear(),this._inGroup=this._propsItem=this._props=this._isValid=this._uid=this.events=null,s.prototype._destructor.call(this),this.unmount()},p.prototype.focus=function(){var t=this;a.awaitRedraw().then((function(){t.getRootView().refs.input.el.focus()}))},p.prototype.blur=function(){var t=this;a.awaitRedraw().then((function(){t.getRootView().refs.input.el.blur()}))},p.prototype.isChecked=function(){return!!this.config.checked},p.prototype._getValue=function(t){return"string"==typeof this.config.value?t&&this.config.value||"":!!t},p.prototype._initView=function(t){var e=this;if(this._inGroup=this.config.$group,this._inGroup){for(var i in this.config={type:t.type,id:t.id,text:"",width:"content",height:"content",padding:0},t)"id"!==i&&"type"!==i&&"name"!==i&&(this.config[i]=t[i]);this._handlers={onchange:function(t){t=t.target.checked,e.events.fire(u.ItemEvent.beforeChange,[e._getValue(t)])?(e.config.checked=t,e.events.fire(u.ItemEvent.change,[e.getValue()]),c.isVerify(e.config)&&e.validate()):e.getRootView().refs.input.el.checked=!t},onfocus:function(){return e.events.fire(u.ItemEvent.focus,[e.getValue(),e.config.id])},onblur:function(){return e.events.fire(u.ItemEvent.blur,[e.getValue(),e.config.id])},onkeydown:function(t){e.events.fire(u.ItemEvent.keydown,[t,e.config.id])}}}else{for(var i in this.config={type:t.type,id:t.id,name:t.name,disabled:!1,required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)"id"!==i&&"type"!==i&&"name"!==i&&(this.config[i]=t[i]);this.config.helpMessage&&(this._helper=new d.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(t){t.preventDefault(),t.stopPropagation(),e._helper.show(t.target,{mode:"left"===e.config.labelPosition?"bottom":"right",theme:e.getRootNode()})},hideHelper:function(t){t.preventDefault(),t.stopPropagation(),e._helper.hide()},onchange:function(t){t=t.target.checked,e.events.fire(u.ItemEvent.beforeChange,[e._getValue(t)])?(e.config.checked=t,e.events.fire(u.ItemEvent.change,[e.getValue()]),c.isVerify(e.config)&&e.validate()):e.getRootView().refs.input.el.checked=!t},onfocus:function(){return e.events.fire(u.ItemEvent.focus,[e.getValue()])},onblur:function(){var t;return null===(t=e.events)||void 0===t?void 0:t.fire(u.ItemEvent.blur,[e.getValue()])},onkeydown:function(t){e.events.fire(u.ItemEvent.keydown,[t])}}}this.config.hidden&&a.awaitRedraw().then((function(){e.hide(!0)}))},p.prototype._initHandlers=function(){var t=this;this.events.on(u.ItemEvent.change,(function(){return t.paint()})),this.events.on(u.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?u.ValidationStatus.success:u.ValidationStatus.error,t.paint()}))},p.prototype._draw=function(){var t=(h=this.config).id,e=h.value,i=h.checked,n=h.disabled,o=h.name,r=h.required,s=h.$required,l=h.text,d=h.label,u=h.labelWidth,h=h.helpMessage;return a.el("label.dhx_checkbox.dhx_form-group.dhx_form-group--checkbox",{class:c.getFormItemCss(this.config,c.isVerify(this.config)||!!s)},this._inGroup?[a.el(".dhx_checkbox__holder",[a.el("input.dhx_checkbox__input",{type:"checkbox",id:t,value:e||"",name:o||"",disabled:n,checked:i,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:r,_ref:"input"}),a.el("span.dhx_checkbox__visual-input"),a.el("span.dhx_text",[l])])]:[d||u||h||r?this._drawLabel():null,a.el(".dhx_checkbox__container",[a.el(".dhx_checkbox__holder",[a.el("input.dhx_checkbox__input",{type:"checkbox","data-dhx-id":o||t,id:t,value:e,name:o,disabled:n,checked:i,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:r,_ref:"input","aria-label":d||"checkbox "+(l||""),"aria-describedby":h?"dhx_label__help_"+(t||this._uid):null}),a.el("span.dhx_checkbox__visual-input"),a.el("span.dhx_text",[l])]),r&&c.getValidationMessage(this.config)&&a.el("span.dhx_input__caption",c.getValidationMessage(this.config))])])},o=p,e.Checkbox=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={simpleVaultText:"Drag & drop files or folders here or",simpleVaultLabel:"browse files"}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(0),a=i(21),l=i(1),c=i(2),d=i(13);function u(t,e){var i=r.call(this,t,l.extend({navigationType:"click",$name:"ribbon"},e))||this;return i._widgetHeight=[],i._listeners={input:function(t){var e=c.locate(t);i.data.update(e,{value:t.target.value})},tooltip:function(t){var e=c.locateNode(t);e&&(t=e.getAttribute("data-dhx-id"),(t=i.data.getItem(t)).tooltip&&d.tooltip(t.tooltip,{node:e,position:d.Position.bottom}))}},i._currentRoot=null,i.mount(t,s.create({render:function(){return i._draw()}})),i}o(u,r=a.Navbar),u.prototype.getState=function(){var t,e={};for(t in this.data.eachChild(this.data.getRoot(),(function(t){t.twoState&&!t.group?e[t.id]=t.active:"input"!==t.type&&"selectButton"!==t.type||(e[t.id]=t.value)}),!0),this._groups)this._groups[t].active&&(e[t]=this._groups[t].active);return e},u.prototype.setState=function(t){for(var e in t){var i;this._groups&&this._groups[e]?this._groups[e].active&&(this.data.update(this._groups[e].active,{active:!1}),this._groups[e].active=t[e],this.data.update(t[e],{active:!0})):"input"===(i=this.data.getItem(e)).type||"selectButton"===i.type?this.data.update(e,{value:t[e]}):this.data.update(e,{active:t[e]})}},u.prototype._getFactory=function(){return a.createFactory({widget:this,defaultType:"navItem",allowedTypes:["navItem","button","imageButton","selectButton","customHTML","input","separator","spacer","title","block","customHTMLButton"],widgetName:"ribbon"})},u.prototype._getMode=function(t,e){return t.id===e?"bottom":"right"},u.prototype._close=function(t){this._activePosition=null,this._currentRoot=null,r.prototype._close.call(this,t)},u.prototype._draw=function(){var t=this;this._heightCalculate();var e=Math.max.apply(Math,this._widgetHeight);return s.el("ul.dhx_ribbon.dhx_widget",{"data-dhx-widget-id":this._uid,class:this.config.css||"",tabindex:0,onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._listeners.input,onmouseover:this._listeners.tooltip,_hooks:{didInsert:function(e){e.el.addEventListener("keyup",(function(e){var i;9!==e.which||(i=c.locateNode(document.activeElement))&&(e=i.getAttribute("data-dhx-id"),(e=t.data.getItem(e)).tooltip&&d.tooltip(e.tooltip,{node:i,position:d.Position.bottom,force:!0}))}),!0)}}},[s.el("li",{class:"dhx_ribbon-block dhx_ribbon-block--root",style:{height:this._haveTitle?e+24:e}},[s.el("ul.dhx_ribbon-content.dhx_ribbon-content--full-width",{style:{height:e}},this.data.map((function(e){return"block"===e.type?t._drawBlock(e,!0):t._factory(e)}),this.data.getRoot(),!1))])])},u.prototype._setRoot=function(t){var e=this.data.getParent(t);"block"===this.data.getItem(e).type&&(this._currentRoot=t)},u.prototype._drawBlock=function(t,e){var i=this;if(!t||t.hidden)return null;var n="dhx_ribbon-block dhx_ribbon-block"+("col"===t.direction?"--col":"--row")+(t.title?" dhx_ribbon-block--title":"")+(t.css?" "+t.css:"")+(e?" dhx_ribbon-block--indented":"");return e=t.items.map((function(t){return"block"===t.type?i._drawBlock(t):"separator"!==t.type&&"spacer"!==t.type?i._factory(t):null}),t.id,!1),s.el("li",{class:n},[s.el("ul.dhx_ribbon-content",e),t.title?s.el("span.dhx_ribbon-content-label-wrapper",[s.el("span.dhx_ribbon-content-label",t.title)]):null])},u.prototype._getBlockHeight=function(t){return t.hidden?0:"medium"===t.size&&"button"!==t.type?72:36},u.prototype._heightCalculate=function(t){var e=this;void 0===t&&(t=this.data),t.forEach((function(t){var i;"block"===t.type&&"col"===t.direction?(i=t.items.reduce((function(t,i){return t+e._getBlockHeight(i)}),0),e._heightCalculate(t.items)):i=e._getBlockHeight(t),t.title&&(e._haveTitle=!0),e._widgetHeight.push(i)}))},o=u,e.Ribbon=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(0),a=i(2),l=i(100),c=i(13),d=i(21),u=i(1);function h(t,e){var i=r.call(this,t,u.extend({navigationType:"click",width:"200",minWidth:"44",collapsed:!1,$name:"sidebar"},e))||this;return i._currentRoot=null,i.mount(t,s.create({render:function(){return i._draw()}})),i}o(h,r=d.Navbar),h.prototype.toggle=function(){this.config.collapsed?this.expand():this.collapse(),this.events.fire(l.SidebarEvents.toggle,[this.config.collapsed]),this.paint()},h.prototype.collapse=function(){this.events.fire(l.SidebarEvents.beforeCollapse,[])&&(this.config.collapsed=!0,this.events.fire(l.SidebarEvents.afterCollapse,[]),this.paint())},h.prototype.expand=function(){this.events.fire(l.SidebarEvents.beforeExpand,[])&&(this.config.collapsed=!1,this.events.fire(l.SidebarEvents.afterExpand,[]),this.paint())},h.prototype.isCollapsed=function(){return this.config.collapsed},h.prototype._getFactory=function(){return d.createFactory({widget:this,defaultType:"navItem",allowedTypes:["navItem","menuItem","customHTML","separator","spacer","title","customHTMLButton"],widgetName:"sidebar"})},h.prototype._close=function(t){this._activePosition=null,this._currentRoot=null,r.prototype._close.call(this,t)},h.prototype._setRoot=function(t){this.data.getParent(t)===this.data.getRoot()&&(this._currentRoot=t)},h.prototype._customHandlers=function(){var t=this;return{tooltip:function(e){var i=a.locateNode(e);i&&(e=i.getAttribute("data-dhx-id"),((e=t.data.getItem(e)).tooltip||t.config.collapsed&&e.value)&&c.tooltip(e.tooltip||e.value,{node:i,position:c.Position.right}))}}},h.prototype._draw=function(){var t=this,e=(i=this.config).width,i=i.minWidth;return e=this.config.collapsed?i:e,s.el("nav.dhx_widget.dhx_sidebar",{class:(this.config.css||"")+(this.config.collapsed?" dhx_sidebar--minimized":""),style:{width:e+"px"}},[s.el("ul.dhx_navbar.dhx_navbar--vertical",{"data-dhx-widget-id":this._uid,tabindex:0,onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,_hooks:{didInsert:function(e){e.el.addEventListener("keyup",(function(e){var i;9!==e.which||(i=a.locateNode(document.activeElement))&&(e=i.getAttribute("data-dhx-id"),((e=t.data.getItem(e)).tooltip||t.config.collapsed&&e.value)&&c.tooltip(e.tooltip||e.value,{node:i,position:c.Position.right,force:!0}))}),!0)}}},this.data.map((function(e){return t._factory(e,!1)}),this.data.getRoot(),!1))])},h.prototype._getMode=function(){return"right"},h.prototype._customInitEvents=function(){var t=this;this.events.on(d.NavigationBarEvents.inputBlur,(function(){t._waitRestore&&(t.toggle(),t._waitRestore=!1)})),this.events.on(d.NavigationBarEvents.inputFocus,(function(){t.config.collapsed&&(t._waitRestore=!0,t.toggle())}))},o=h,e.Sidebar=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.SidebarEvents||(e.SidebarEvents={})).beforeCollapse="beforeCollapse",e.afterCollapse="afterCollapse",e.beforeExpand="beforeExpand",e.afterExpand="afterExpand",e.toggle="toggle"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.TabbarEvents||(e.TabbarEvents={})).beforeChange="beforeChange",e.change="change",e.beforeClose="beforeClose",e.afterClose="afterClose",e.close="close"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o,r=i(0),s=i(3),a=i(2),l=i(12);function c(){var t=this;this.events=new s.EventSystem,this._keyManager=new l.KeyManager,this._documentClick=function(e){a.locate(e,"id")!=="input_"+t._item.id&&(t._removeClickListener(),t._finishEdit())},this._handlers={editText:function(e){t._currentValue=e.target.innerText},itemSelected:function(e){t._currentValue=e.target.value,t._finishEdit()},didInsert:function(t){var e,i=null==t?void 0:t.el;i&&(i.childNodes.length&&(e=document.createRange(),t=window.getSelection(),e.setStart(i.childNodes[0],i.innerText.length),e.collapse(!0),t.removeAllRanges(),t.addRange(e)),i.focus())}}}(i=n=e.EditorMode||(e.EditorMode={})).editText="text",i.selectItem="select",(i=o=e.EditorEvents||(e.EditorEvents={})).begin="begin",i.end="end",c.prototype.edit=function(t,e){return this._active&&this._item!==e.item&&this._finishEdit(),this._active=!0,this._targetId=t,this.config=e,this._item=e.item,this._currentValue=this._item.value,this.events.fire(o.begin,[t]),this._initOuterClick(),this._addHotkeys(),this._draw()},c.prototype.isEditable=function(){return this._active},c.prototype._draw=function(){var t=this;if(this.config.mode!==n.selectItem)return r.el("div.dhx_tree-editor",{_hooks:{didInsert:this._handlers.didInsert},id:"input_"+this._item.id,oninput:this._handlers.editText,contentEditable:!0},this._currentValue);var e=this.config.options;return r.el("select",{id:"input_"+this._item.id,"data-dhx-id":this._item.id,onchange:this._handlers.itemSelected},e.map((function(e){return r.el("option",{class:"editor-select",value:e,selected:t._currentValue===e,style:{border:"1px solid"}},e)})))},c.prototype._addHotkeys=function(){var t=this;this._keyManager.addHotKey("escape",(function(){t._finishEdit()})),this._keyManager.addHotKey("enter",(function(){t._finishEdit()}))},c.prototype._removeHotkeys=function(){this._keyManager.removeHotKey()},c.prototype._finishEdit=function(){this.events.fire(o.end,[this._targetId,this._item.id,this._currentValue])&&this._clear()},c.prototype._clear=function(){this._active=!1,this._removeClickListener(),this._removeHotkeys()},c.prototype._initOuterClick=function(){document.addEventListener("click",this._documentClick)},c.prototype._removeClickListener=function(){document.removeEventListener("click",this._documentClick)},i=c,e.Editor=i},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.SelectStatus||(e.SelectStatus={}))[n.unselected=0]="unselected",n[n.selected=1]="selected",n[n.indeterminate=2]="indeterminate",(n=e.TreeEvents||(e.TreeEvents={})).itemClick="itemclick",n.itemDblClick="itemdblclick",n.itemRightClick="itemrightclick",n.beforeCollapse="beforeCollapse",n.afterCollapse="afterCollapse",n.beforeExpand="beforeExpand",n.afterExpand="afterExpand",n.beforeEditStart="beforeEditStart",n.afterEditStart="afterEditStart",n.beforeEditEnd="beforeEditEnd",n.afterEditEnd="afterEditEnd",n.focusChange="focusChange",n.beforeCheck="beforeCheck",n.afterCheck="afterCheck",n.itemContextMenu="itemcontextmenu",(e=e.Direction||(e.Direction={})).up="up",e.down="down"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=i(3),s=i(12),a=i(18),l=i(10),c=i(37),d=i(237),u=i(105),h=i(238),f=i(21);function p(t){var e=this;this.config=n.extend({movable:!1,resizable:!1,closable:t.modal},t),this.config.node&&"string"==typeof this.config.node?this.config.node=document.getElementById(this.config.node):this.config.node||(this.config.node=document.body),this._uid=n.uid(),this.events=new r.EventSystem(this),(t=this._popup=document.createElement("div")).tabIndex=1,t.setAttribute("role","dialog"),t.setAttribute("aria-modal",""+(this.config.modal||!1)),this.config.modal||h.default.add(this._uid,this._popup),this._fullScreen=!1,this._isActive=!1,this._keyManager=new s.KeyManager((function(t,i){return i===e._uid})),this._initHandlers(),this._initUI(),this.config.html&&this.attachHTML(this.config.html)}p.prototype.paint=function(){this._layout.paint()},p.prototype.isFullScreen=function(){return this._fullScreen},p.prototype.setFullScreen=function(){this._fullScreen||(this._fullScreen=!0,this.setSize(window.innerWidth,window.innerHeight),this.setPosition(window.pageXOffset,window.pageYOffset))},p.prototype.unsetFullScreen=function(){this._fullScreen&&(this._fullScreen=!1,this.setSize(this._oldSizes.width,this._oldSizes.height),this.setPosition(this._oldPosition.left,this._oldPosition.top))},p.prototype.setSize=function(t,e){this._oldSizes={width:this._popup.offsetWidth,height:this._popup.offsetHeight};var i={width:this._oldSizes.width,height:this._oldSizes.height};n.isDefined(t)&&(this.config.width=i.width=t),n.isDefined(e)&&(this.config.height=i.height=e),this._popup.style.width=i.width+"px",this._popup.style.height=i.height+"px",this.events.fire(u.WindowEvents.resize,[i,this._oldSizes,{left:!0,top:!0,bottom:!0,right:!0}])},p.prototype.getSize=function(){return{width:this._popup.offsetWidth,height:this._popup.offsetHeight}},p.prototype.setPosition=function(t,e){this._oldPosition={left:this._popup.offsetLeft,top:this._popup.offsetTop};var i={left:this._oldPosition.left,top:this._oldPosition.top};n.isDefined(t)&&(this.config.left=i.left=t),n.isDefined(e)&&(this.config.top=i.top=e),this._popup.style.left=i.left+"px",this._popup.style.top=i.top+"px",this.events.fire(u.WindowEvents.resize,[i,this._oldPosition,{left:!0,top:!0,bottom:!0,right:!0}])},p.prototype.getPosition=function(){return{left:this._popup.offsetLeft,top:this._popup.offsetTop}},p.prototype.show=function(t,e){if(void 0===t&&(t=this.config.left),void 0===e&&(e=this.config.top),this.events.fire(u.WindowEvents.beforeShow,[{left:t,top:e}])){this.isVisible()&&this.hide(),h.default.setActive(this._uid),this._popup.className+=" dhx_popup dhx_widget"+(this.config.modal?" dhx_popup--window_modal":" dhx_popup--window")+(this.config.css?" "+this.config.css:""),this._popup.style.position=this.config.modal?"fixed":"absolute",this._popup.setAttribute("data-dhx-widget-id",this._uid);var i=(c=this._getContainerParams()).containerInnerWidth,o=c.containerInnerHeight,r=c.containerXOffset,s=c.containerYOffset,l=this.config.width="number"==typeof this.config.width&&this.config.width||"number"==typeof this.config.minWidth&&this.config.minWidth||i/2,c=this.config.height="number"==typeof this.config.height&&this.config.height||"number"==typeof this.config.minHeight&&this.config.minHeight||o/2;if(this.config.left=t=n.isDefined(t)?t:(i-l)/(this.config.modal?2:2+r),this.config.top=e=n.isDefined(e)?e:(o-c)/(this.config.modal?2:2+s),this._isActive)return this._popup.style.left=t+"px",void(this._popup.style.top=e+"px");this.config.viewportOverflow&&h.default.openFreeWindow(this.config.node),this.config.modal&&this._blockScreen(),this._popup.style.width=l+"px",this._popup.style.height=c+"px",this._popup.style.left=t+"px",this._popup.style.top=e+"px",this.config.node.appendChild(this._popup),this._popup.focus(),this._isActive=!0,this.events.fire(u.WindowEvents.afterShow,[{left:t,top:e}]),a.focusManager.setFocusId(this._uid)}},p.prototype.hide=function(){this._hide()},p.prototype._hide=function(t){this._isActive&&this.events.fire(u.WindowEvents.beforeHide,[{left:this.config.left,top:this.config.top},t])&&(this.config.viewportOverflow&&h.default.closeFreeWindow(this.config.node),this._blocker&&(this.config.node.removeChild(this._blocker),this.config.closable&&this._keyManager.removeHotKey(null,this),this._blocker=null),this.config.node.removeChild(this._popup),this._isActive=!1,this.events.fire(u.WindowEvents.afterHide,[{left:this.config.left,top:this.config.top},t]))},p.prototype.isVisible=function(){return this._isActive},p.prototype.getWidget=function(){return this._layout.getCell("content").getWidget()},p.prototype.getContainer=function(){return this.getRootView().data._container},p.prototype.attach=function(t,e){this._layout.getCell("content").attach(t,e)},p.prototype.attachHTML=function(t){this._layout.getCell("content").attachHTML(t)},p.prototype.getRootView=function(){return this._layout.getRootView()},p.prototype.destructor=function(){this._isActive&&this.hide(),this.header&&this.header.destructor(),this.footer&&this.footer.destructor(),this.events&&this.events.clear(),this._keyManager&&this._keyManager.destructor(),this._layout&&this._layout.destructor(),this.config=this.header=this.footer=this.events=null,this._popup=this._uid=this._handlers=this._isActive=this._keyManager=this._fullScreen=this._oldSizes=this._oldPosition=null},p.prototype.fullScreen=function(){this.setFullScreen()},p.prototype._initHandlers=function(){var t=this;this._handlers={headerDblClick:function(e){return t.events.fire(u.WindowEvents.headerDoubleClick,[e])},move:function(e){3!==e.which&&(e.preventDefault(),d.detectDrag(e).then((function(e){e&&t._startDrag(e.x,e.y)})))},resize:{".dhx_window-resizer":function(e){3!==e.which&&(e.preventDefault(),h.default.setActive(t._uid),d.detectDrag(e).then((function(i){i&&((i=e.target.classList).contains("dhx_window-resizer--left")?t._startResize({left:!0}):i.contains("dhx_window-resizer--right")?t._startResize({right:!0}):i.contains("dhx_window-resizer--top")?t._startResize({top:!0}):i.contains("dhx_window-resizer--bottom")?t._startResize({bottom:!0}):i.contains("dhx_window-resizer--bottom_left")?t._startResize({left:!0,bottom:!0}):i.contains("dhx_window-resizer--bottom_right")?t._startResize({bottom:!0,right:!0}):i.contains("dhx_window-resizer--top_left")?t._startResize({top:!0,left:!0}):i.contains("dhx_window-resizer--top_right")&&t._startResize({top:!0,right:!0}))})))}},setActive:function(){h.default.setActive(t._uid)}}},p.prototype._initUI=function(){var t,e=this,i=[],n=(this.config.header||this.config.title||this.config.closable||this.config.movable)&&!1!==this.config.header;n&&i.push({id:"header",height:"content",css:"dhx_window-header "+(this.config.movable?"dhx_window-header--movable":""),on:{mousedown:this.config.movable&&this._handlers.move,dblclick:this._handlers.headerDblClick}}),i.push({id:"content",css:n?"dhx_window-content":"dhx_window-content-without-header"}),this.config.footer&&i.push({id:"footer",height:"content",css:"dhx_window-footer"}),this.config.resizable&&i.push({id:"resizers",height:"content",css:"resizers"}),i=this._layout=new l.Layout(this._popup,{css:"dhx_window"+(this.config.modal?" dhx_window--modal":""),rows:i,on:{mousedown:this._handlers.setActive},id:this._uid}),n&&(t=this.header=new c.Toolbar,this.config.title&&(this.header.data.add({type:"title",value:this.config.title,id:"title",css:"title_max"}),this._popup.setAttribute("aria-label",this.config.title)),this.config.closable&&(this.header.data.add({type:"spacer"}),this.header.data.add({id:"close",type:"button",view:"link",size:"medium",color:"secondary",circle:!0,icon:"dxi dxi-close"}),t.events.on(f.NavigationBarEvents.click,(function(t,i){"close"===t&&e._hide(i)}))),i.getCell("header").attach(t)),this.config.footer&&(t=this.footer=new c.Toolbar,i.getCell("footer").attach(t)),this.config.resizable&&i.getCell("resizers").attach((function(){return e._drawResizers()}))},p.prototype._drawResizers=function(){return o.el(".dhx-resizers",{onmousedown:this._handlers.resize},[o.el(".dhx_window-resizer.dhx_window-resizer--left",{_ref:"left"}),o.el(".dhx_window-resizer.dhx_window-resizer--right",{_ref:"right"}),o.el(".dhx_window-resizer.dhx_window-resizer--bottom",{_ref:"bottom"}),o.el(".dhx_window-resizer.dhx_window-resizer--top",{_ref:"top"}),o.el(".dhx_window-resizer.dhx_window-resizer--bottom_right",{_ref:"bottomRight"}),o.el(".dhx_window-resizer.dhx_window-resizer--bottom_left",{_ref:"bottomLeft"}),o.el(".dhx_window-resizer.dhx_window-resizer--top_right",{_ref:"topRight"}),o.el(".dhx_window-resizer.dhx_window-resizer--top_left",{_ref:"topLeft"})])},p.prototype._startDrag=function(t,e){var i=this;function n(t){var e,n,l,c={left:i._popup.offsetLeft,top:i._popup.offsetTop},d=t.pageX-o,h=t.pageY-r;i.config.viewportOverflow||(e=(l=i._getContainerParams()).containerXOffset,n=l.containerYOffset,t=l.containerInnerWidth,l=l.containerInnerHeight,d<e?d=e:e+t-s<d&&(d=e+t-s),h<n?h=n:n+l-a<h&&(h=n+l-a)),i.config.left=d,i.config.top=h,i._popup.style.left=d+"px",i._popup.style.top=h+"px",h={left:d,top:h},i.events.fire(u.WindowEvents.move,[h,c,{left:!0,top:!0,bottom:!0,right:!0}])}this.config.node.classList.add("dhx_window--stop_selection");var o=t-this._popup.offsetLeft,r=e-this._popup.offsetTop,s=this._popup.offsetWidth,a=this._popup.offsetHeight,l=function(){document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",n),i.config.node.classList.remove("dhx_window--stop_selection")};document.addEventListener("mouseup",l),document.addEventListener("mousemove",n)},p.prototype._startResize=function(t){var e,i,n=this,o=100|this.config.minWidth,r=100|this.config.minHeight,s=this._popup.offsetLeft,a=this._popup.offsetTop,l=this._popup.offsetWidth,c=this._popup.offsetHeight,d=this.getRootView().refs;switch(!0){case t.bottom&&t.left:i="dhx_window-body-pointer--bottom_left",e=d.bottomLeft;break;case t.bottom&&t.right:i="dhx_window-body-pointer--bottom_right",e=d.bottomLeft;break;case t.top&&t.left:i="dhx_window-body-pointer--top_left",e=d.bottomLeft;break;case t.top&&t.right:i="dhx_window-body-pointer--top-right",e=d.right;break;case t.top:i="dhx_window-body-pointer--top",e=d.bottomLeft;break;case t.bottom:i="dhx_window-body-pointer--bottom",e=d.bottomLeft;break;case t.left:i="dhx_window-body-pointer--left",e=d.bottomLeft;break;case t.right:i="dhx_window-body-pointer--right",e=d.right}function h(e){var i=(f=n._getContainerParams()).containerInnerWidth,d=f.containerInnerHeight,h=f.containerXOffset,f=f.containerYOffset;e={width:n._notInNode()?e.pageX-s:e.pageX-n.config.node.offsetLeft-s,height:n._notInNode()?e.pageY-a:e.pageY-n.config.node.offsetTop-a,left:n._notInNode()?e.pageX:e.pageX-n.config.node.offsetLeft,top:n._notInNode()?e.pageY:e.pageY-n.config.node.offsetTop},t.right&&(e.width<o?e.width=o:e.width>h+i-s&&(e.width=h+i-s),n._popup.style.width=e.width+"px"),t.bottom&&(e.height<r?e.height=r:e.height>f+d-a&&(e.height=f+d-a),n._popup.style.height=e.height+"px"),t.left&&(s+l-e.left<o&&(e.left=s+l-o),e.width=s+l-e.left,n.config.left=e.left,n._popup.style.left=e.left+"px",n._popup.style.width=e.width+"px"),t.top&&(e.top<f?e.top=f:a+c-e.top<r&&(e.top=a+c-r),e.height=a+c-e.top,n.config.top=e.top,n._popup.style.top=e.top+"px",n._popup.style.height=e.height+"px"),n.config.width=n._popup.offsetWidth,n.config.height=n._popup.offsetHeight,n.events.fire(u.WindowEvents.resize,[e,{left:s,top:a,height:c,width:l},t])}e.el.classList.add("dhx_window-resizer--active"),this.config.node.classList.add("dhx_window--stop_selection"),this.config.node.classList.add(i);var f=function(){document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",h),n.config.node.classList.remove("dhx_window--stop_selection"),n.config.node.classList.remove(i),e.el.classList.remove("dhx_window-resizer--active")};document.addEventListener("mouseup",f),document.addEventListener("mousemove",h)},p.prototype._blockScreen=function(){var t=this,e=document.createElement("div");e.className="dhx_window__overlay",this.config.node.appendChild(e),this._blocker=e,this.config.closable&&(e.addEventListener("click",(function(e){return t._hide(e)})),this._keyManager.addHotKey("escape",(function(e){var i=Array.prototype.slice.call(document.querySelectorAll(".dhx_popup--window_modal")),n=Array.prototype.slice.call(document.querySelectorAll(".dhx_popup--window"));1!==(n=i.concat(n)).length?(n.sort((function(t,e){return+window.getComputedStyle(e).zIndex-+window.getComputedStyle(t).zIndex})),n[n.length-1]===t._popup&&t._hide(e)):t._hide(e)})))},p.prototype._notInNode=function(){return this.config.node===document.body||this.config.modal},p.prototype._getContainerParams=function(){var t=this._notInNode();return{containerInnerWidth:t?window.innerWidth:this.config.node.offsetWidth,containerInnerHeight:t?window.innerHeight:this.config.node.offsetHeight,containerXOffset:t?window.pageXOffset:this.config.node.scrollLeft,containerYOffset:t?window.pageYOffset:this.config.node.scrollTop}},i=p,e.Window=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.WindowEvents||(e.WindowEvents={})).resize="resize",e.headerDoubleClick="headerdoubleclick",e.move="move",e.afterShow="aftershow",e.afterHide="afterhide",e.beforeShow="beforeshow",e.beforeHide="beforehide"},function(t,e,i){i(107),i(108),i(109),i(110),i(111),t.exports=i(112)},function(t,e){Object.values=Object.values||function(t){var e=Object.prototype.toString.call(t);if(null==t)throw new TypeError("Cannot convert undefined or null to object");if(~["[object String]","[object Object]","[object Array]","[object Function]"].indexOf(e)){if(Object.keys)return Object.keys(t).map((function(e){return t[e]}));var i,n=[];for(i in t)t.hasOwnProperty(i)&&n.push(t[i]);return n}return[]},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){"use strict";for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),o=0;o<e.length;o++){var r=e[o];if(null!=r)for(var s=Object.keys(Object(r)),a=0,l=s.length;a<l;a++){var c=s[a],d=Object.getOwnPropertyDescriptor(r,c);void 0!==d&&d.enumerable&&(n[c]=r[c])}}return n}})},function(t,e){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0==n)return!1;e|=0;for(var o,r,s=Math.max(0<=e?e:n-Math.abs(e),0);s<n;){if((o=i[s])===(r=t)||"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))return!0;s++}return!1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<i;){var r=e[o];if(t.call(n,r,o,e))return r;o++}},configurable:!0,writable:!0}),Array.prototype.findIndex||(Array.prototype.findIndex=function(t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,o=arguments[1],r=0;r<n;r++)if(e=i[r],t.call(o,e,r,i))return r;return-1})},function(t,e){String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){return e=e||0,this.indexOf(t,e)===e}}),String.prototype.padStart||(String.prototype.padStart=function(t,e){return t>>=0,e=String(e||" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),e.slice(0,t)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(e||" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))})},function(t,e){var i,n,o,r;Element&&!Element.prototype.matches&&((i=Element.prototype).matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector),"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var t=this;return{contains:function(e){return-1!==t.className.baseVal.split(" ").indexOf(e)},add:function(e){return t.setAttribute("class",t.getAttribute("class")+" "+e)},remove:function(e){var i=t.getAttribute("class").replace(new RegExp("(\\s|^)".concat(e,"(\\s|$)"),"g"),"$2");t.classList.contains(e)&&t.setAttribute("class",i)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)}}},configurable:!0}),Object.entries||(n=Function.bind.call(Function.call,Array.prototype.reduce),o=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),r=Function.bind.call(Function.call,Array.prototype.concat),Object.entries=function(t){return n(Object.keys(t),(function(e,i){return r(e,"string"==typeof i&&o(t,i)?[[i,t[i]]]:[])}),[])}),Event.prototype.composedPath||(Event.prototype.composedPath=function(){if(this.path)return this.path;var t=this.target;for(this.path=[];null!==t.parentNode;)this.path.push(t),t=t.parentNode;return this.path.push(document,window),this.path})},function(t,e){Math.sign=Math.sign||function(t){return 0==(t=+t)||isNaN(t)?t:0<t?1:-1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(113);var n=i(114);e.cssManager=n.cssManager;var o=i(3);e.EventSystem=o.EventSystem;var r=i(0);e.awaitRedraw=r.awaitRedraw,e.resizeHandler=r.resizeHandler,e.setTheme=r.setTheme;var s=i(59);e.Uploader=s.Uploader;var a=i(6);e.DataCollection=a.DataCollection,e.TreeCollection=a.TreeCollection,e.DataProxy=a.DataProxy,e.dataDrivers=a.dataDrivers,e.ajax=a.ajax;var l=i(10);e.Layout=l.Layout,n=i(35),e.List=n.List,o=i(34),e.Calendar=o.Calendar,r=i(51),e.Colorpicker=r.Colorpicker,s=i(183),e.Chart=s.Chart,a=i(28),e.Combobox=a.Combobox,l=i(204),e.DataView=l.DataView,n=i(208),e.Form=n.Form,o=i(41),e.Grid=o.Grid,r=i(13),e.message=r.message,e.alert=r.alert,e.confirm=r.confirm,e.enableTooltip=r.enableTooltip,e.disableTooltip=r.disableTooltip,e.tooltip=r.tooltip,s=i(225),e.Menu=s.Menu,e.ContextMenu=s.ContextMenu,a=i(11),e.Popup=a.Popup,l=i(228),e.Ribbon=l.Ribbon,n=i(230),e.Sidebar=n.Sidebar,o=i(45),e.Slider=o.Slider,r=i(232),e.Tabbar=r.Tabbar,s=i(42),e.Timepicker=s.Timepicker,a=i(37),e.Toolbar=a.Toolbar,l=i(234),e.Tree=l.Tree,n=i(236),e.Window=n.Window,o=i(51),r=i(49),s=i(15),a=i(47),l=i(97),n=i(69),i=window,e.i18n=i.dhx&&i.dhx.i18n?i.dhx.i18n:{},e.i18n.setLocale=function(t,i){var n,o=e.i18n[t];for(n in i)o[n]=i[n]},e.i18n.colorpicker=e.i18n.colorpicker||o.locale,e.i18n.message=e.i18n.message||r.default,e.i18n.calendar=e.i18n.calendar||s.locale,e.i18n.combobox=e.i18n.combobox||a.default,e.i18n.form=e.i18n.form||l.default,e.i18n.timepicker=e.i18n.timepicker||n.default},function(t,e,i){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);function o(){this._classes={};var t=document.createElement("style");t.id="dhx_generated_styles",this._styleCont=document.head.appendChild(t)}o.prototype.update=function(){this._styleCont.innerHTML!==this._generateCss()&&(document.head.appendChild(this._styleCont),this._styleCont.innerHTML=this._generateCss())},o.prototype.remove=function(t){delete this._classes[t],this.update()},o.prototype.add=function(t,e,i){void 0===i&&(i=!1);var n=this._toCssString(t);return(t=this._findSameClassId(n))&&e&&e!==t?(this._classes[e]=this._classes[t],e):t||this._addNewClass(n,e,i)},o.prototype.get=function(t){if(this._classes[t]){for(var e={},i=0,n=this._classes[t].split(";");i<n.length;i++){var o=n[i];o&&(e[(o=o.split(":"))[0]]=o[1])}return e}return null},o.prototype.destructor=function(){this._classes=this._styleCont=null},o.prototype._findSameClassId=function(t){for(var e in this._classes)if(t===this._classes[e])return e;return null},o.prototype._addNewClass=function(t,e,i){return e=e||"dhx_generated_class_"+n.uid(),this._classes[e]=t,i||this.update(),e},o.prototype._toCssString=function(t){var e,i="";for(e in t){var n=t[e];i+=e.replace(/[A-Z]{1}/g,(function(t){return"-"+t.toLowerCase()}))+":"+n+";"}return i},o.prototype._generateCss=function(){var t,e="";for(t in this._classes)e+="."+t+"{"+this._classes[t]+"}\n";return e},i=o,e.CssManager=i,e.cssManager=new i},function(t,e,i){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i(116),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(39))},function(t,e,i){(function(t,e){!function(t){"use strict";var i,n,o,r,s,a,l,c,d;function u(t){delete n[t]}function h(t){if(o)setTimeout(h,0,t);else{var e=n[t];if(e){o=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(void 0,i)}}(e)}finally{u(t),o=!1}}}}function f(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(c)&&h(+e.data.slice(c.length))}t.setImmediate||(i=1,o=!(n={}),r=t.document,d=(d=Object.getPrototypeOf&&Object.getPrototypeOf(t))&&d.setTimeout?d:t,s="[object process]"==={}.toString.call(t.process)?function(t){e.nextTick((function(){h(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?(c="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",f,!1):t.attachEvent("onmessage",f),function(e){t.postMessage(c+e,"*")}):t.MessageChannel?((l=new MessageChannel).port1.onmessage=function(t){h(t.data)},function(t){l.port2.postMessage(t)}):r&&"onreadystatechange"in r.createElement("script")?(a=r.documentElement,function(t){var e=r.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,a.removeChild(e),e=null},a.appendChild(e)}):function(t){setTimeout(h,0,t)},d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),o=0;o<e.length;o++)e[o]=arguments[o+1];return t={callback:t,args:e},n[i]=t,s(i),i++},d.clearImmediate=u)}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(39),i(117))},function(t,e){var i,n;function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}t=t.exports={},function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(t){n=r}}();var a,l=[],c=!1,d=-1;function u(){c&&a&&(c=!1,a.length?l=a.concat(l):d=-1,l.length&&h())}function h(){if(!c){var t=s(u);c=!0;for(var e=l.length;e;){for(a=l,l=[];++d<e;)a&&a[d].run();d=-1,e=l.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new f(t,e)),1!==l.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e,i){t.exports=function(){"use strict";var t="undefined"!=typeof window,e=(t?window:{}).requestAnimationFrame,i={};function n(){}var o=Array.isArray;function r(t){return null!=t}function s(t){return null!=t&&t.constructor===Object}function a(t,e,i,n){t.splice.apply(t,[i,n].concat(e))}function l(t){var e=typeof t;return"string"===e||"number"===e}function c(t){return"function"==typeof t}function d(t){for(var e=arguments,i=1;i<e.length;i++)for(var n in e[i])t[n]=e[i][n];return t}function u(t,e){for(var i=[],n=e;n<t.length;n++)i.push(t[n]);return i}function h(t,e){for(var i in t)if(t[i]!==e[i])return!1;return!0}function f(t,e){var i=t.length;if(e.length!==i)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function p(t){if(!e)return t;var i,n,o;function r(){i=0,t.apply(n,o)}return function(){n=this,o=arguments,i||(i=e(r))}}function g(t){return"o"===t[0]&&"n"===t[1]}function _(t){return"_"===t[0]}function v(t){return"style"===t}function m(t){t&&t.el&&t.el.offsetHeight}function y(t){return null!=t.node&&null!=t.node.el}function b(t,e){switch(e){case"value":case"checked":case"selected":return!0}return!1}function x(t){for(t=t||i;null==t.vm&&t.parent;)t=t.parent;return t.vm}function w(){}var E=w.prototype={constructor:w,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_class:null,_diff:null,_dead:!1,_lis:!1,idx:null,parent:null};function C(t){var e=new w;return e.type=2,e.body=t,e}var S={},k=/\[(\w+)(?:=(\w+))?\]/g;function I(t,e,i,n){var o=new w;o.type=1,r(n)&&(o.flags=n),o.attrs=e;var s=function(t){var e,i,n,o,r=S[t];if(null==r)for(S[t]=r={tag:(e=t.match(/^[-\w]+/))?e[0]:"div",id:(i=t.match(/#([-\w]+)/))?i[1]:null,class:(n=t.match(/\.([-\w.]+)/))?n[1].replace(/\./g," "):null,attrs:null};o=k.exec(t);)null==r.attrs&&(r.attrs={}),r.attrs[o[1]]=o[2]||"";return r}(t);if(o.tag=s.tag,s.id||s.class||s.attrs){var a=o.attrs||{};if(s.id&&!r(a.id)&&(a.id=s.id),s.class&&(o._class=s.class,a.class=s.class+(r(a.class)?" "+a.class:"")),s.attrs)for(var l in s.attrs)r(a[l])||(a[l]=s.attrs[l]);o.attrs=a}var c=o.attrs;return r(c)&&(r(c._key)&&(o.key=c._key),r(c._ref)&&(o.ref=c._ref),r(c._hooks)&&(o.hooks=c._hooks),r(c._data)&&(o.data=c._data),r(c._flags)&&(o.flags=c._flags),r(o.key)||(r(o.ref)?o.key=o.ref:r(c.id)?o.key=c.id:r(c.name)&&(o.key=c.name+("radio"===c.type||"checkbox"===c.type?c.value:"")))),null!=i&&(o.body=i),o}function O(t,e,i,n){if(5!==t.type&&4!==t.type){t.parent=e,t.idx=i,t.vm=n,null!=t.ref&&function(t,e,i){!function(t,e,i){for(var n;n=e.shift();)0===e.length?t[n]=i:t[n]=t=t[n]||{}}(t,["refs"].concat(e.split(".")),i)}(x(t),t.ref,t);var r=t.hooks,s=n&&n.hooks;(r&&(r.willRemove||r.didRemove)||s&&(s.willUnmount||s.didUnmount))&&function(t){for(;t=t.parent;)t.flags|=1}(t),o(t.body)&&P(t)}}function P(t){for(var e=t.body,i=0;i<e.length;i++){var n=e[i];!1===n||null==n?e.splice(i--,1):o(n)?a(e,n,i--,1):(null==n.type&&(e[i]=n=C(""+n)),2===n.type?null==n.body||""===n.body?e.splice(i--,1):i>0&&2===e[i-1].type?(e[i-1].body+=n.body,e.splice(i--,1)):O(n,t,i,null):O(n,t,i,null))}}var M={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,order:!0,lineClamp:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function D(t,e){return isNaN(e)||M[t]?e:e+"px"}function V(t,e){var n=(t.attrs||i).style,o=e?(e.attrs||i).style:null;if(null==n||l(n))t.el.style.cssText=n;else{for(var r in n){var s=n[r];(null==o||null!=s&&s!==o[r])&&(t.el.style[r]=D(r,s))}if(o)for(var a in o)null==n[a]&&(t.el.style[a]="")}}var T=[];function H(t,e,i,n,o){if(null!=t){var r=i.hooks[e];if(r){if("d"!==e[0]||"i"!==e[1]||"d"!==e[2])return r(i,n);o?m(i.parent)&&r(i,n):T.push([r,i,n])}}}function F(t){var e;if(T.length)for(m(t.node);e=T.shift();)e[0](e[1],e[2])}var R=t?document:null;function L(t){return t.nextSibling}function A(t){var e=t.vm,i=null!=e&&H(e.hooks,"willUnmount",e,e.data),n=H(t.hooks,"willRemove",t);if(!(1&~t.flags)&&o(t.body))for(var r=0;r<t.body.length;r++)A(t.body[r]);return i||n}function j(t,e,i){var n=e._node,r=n.vm;if(o(n.body))if(1&~n.flags)N(n);else for(var s=0;s<n.body.length;s++)j(e,n.body[s].el);delete e._node,t.removeChild(e),H(n.hooks,"didRemove",n,null,i),null!=r&&(H(r.hooks,"didUnmount",r,r.data,i),r.node=null)}function $(t,e){var i=e._node;if(!i._dead){var n=A(i);null!=n&&function(t){return"object"==typeof t&&c(t.then)}(n)?(i._dead=!0,n.then(function(t,e){return function(){return t.apply(undefined,e)}}(j,[t,e,!0]))):j(t,e)}}function N(t){for(var e=t.body,i=0;i<e.length;i++){var n=e[i];delete n.el._node,null!=n.vm&&(n.vm.node=null),o(n.body)&&N(n)}}function z(t){var e=t.el;if(1&t.flags){var i=e.firstChild;do{var n=L(i);$(e,i)}while(i=n)}else o(t.body)&&N(t),e.textContent=null}function W(t,e,i){var n=e._node,o=null!=e.parentNode,r=e!==i&&o?null:n.vm;null!=r&&H(r.hooks,"willMount",r,r.data),H(n.hooks,o?"willReinsert":"willInsert",n),t.insertBefore(e,i),H(n.hooks,o?"didReinsert":"didInsert",n),null!=r&&H(r.hooks,"didMount",r,r.data)}function B(t,e,i){W(t,e,i?L(i):null)}var G={},q=n;function Y(t,e,i){t[e]=i}function X(t,e,i,n,o){var r=t.apply(o,e.concat([i,n,o,o.data]));o.onevent(i,n,o,o.data,e),q.call(null,i,n,o,o.data,e),!1===r&&(i.preventDefault(),i.stopPropagation())}function U(t){var e,i,n=function(t){for(;null==t._node;)t=t.parentNode;return t._node}(t.target),r=x(n),s=t.currentTarget._node.attrs["on"+t.type];if(o(s))X(e=s[0],i=s.slice(1),t,n,r);else for(var a in s)if(t.target.matches(a)){var l=s[a];o(l)?(e=l[0],i=l.slice(1)):(e=l,i=[]),X(e,i,t,n,r)}}function K(t,e,i,n){if(i!==n){var o=t.el;null==i||c(i)?Y(o,e,i):null==n&&Y(o,e,U)}}function J(t,e,i){"."===e[0]&&(e=e.substr(1),i=!0),i?t.el[e]="":t.el.removeAttribute(e)}function Z(t,e,i,n,o){var r=t.el;null==i?!o&&J(t,e,!1):null!=t.ns?r.setAttribute(e,i):"class"===e?r.className=i:"id"===e||"boolean"==typeof i||n?r[e]=i:"."===e[0]?r[e.substr(1)]=i:r.setAttribute(e,i)}function Q(t,e,n){var o=t.attrs||i,r=e.attrs||i;if(o===r);else{for(var s in o){var a=o[s],l=b(t.tag,s),c=l?t.el[s]:r[s];a===c||(v(s)?V(t,e):_(s)||(g(s)?K(t,s,a,c):Z(t,s,a,l,n)))}for(var s in r)!(s in o)&&!_(s)&&J(t,s,b(t.tag,s)||g(s))}}function tt(t,e,i,n){return 4===t.type&&(e=t.data,i=t.key,n=t.opts,t=t.view),new pt(t,e,i,n)}function et(t){for(var e=0;e<t.body.length;e++){var i=t.body[e],n=i.type;if(n<=3)W(t.el,it(i));else if(4===n)n=(o=tt(i.view,i.data,i.key,i.opts)._redraw(t,e,!1)).node.type,W(t.el,it(o.node));else if(5===n){var o;(o=i.vm)._redraw(t,e),n=o.node.type,W(t.el,o.node.el)}}}function it(t,e){return null==t.el&&(1===t.type?(t.el=e||function(t,e){return null!=e?R.createElementNS(e,t):R.createElement(t)}(t.tag,t.ns),null!=t.attrs&&Q(t,i,!0),8&~t.flags||t.body.body(t),o(t.body)?et(t):null!=t.body&&""!==t.body&&(t.el.textContent=t.body)):2===t.type?t.el=e||function(t){return R.createTextNode(t)}(t.body):3===t.type&&(t.el=e||function(t){return R.createComment(t)}(t.body))),t.el._node=t,t.el}function nt(t,e,i,n,o,r,s,a){return function(l,c,d,u,h,f){var p,g;if(null!=u[n]){if(null==(p=u[n]._node))return void(u[n]=t(u[n]));if(function(t){return t.parent}(p)!==l)return g=t(u[n]),null!=p.vm?p.vm.unmount(!0):$(c,u[n]),void(u[n]=g)}if(u[o]==h)return 2;if(null==u[o].el)i(c,it(u[o]),u[n]),u[o]=e(u[o],d);else if(u[o].el===u[n])u[o]=e(u[o],d),u[n]=t(u[n]);else{if(f||p!==u[s])return f&&null!=u[n]?ot(t,e,i,n,o,c,d,p,u):1;g=u[n],u[n]=t(g),a(c,g,u[r]),u[r]=g}}}function ot(t,e,i,n,o,r,s,a,l){if(a._lis)i(r,l[o].el,l[n]),l[o]=e(l[o],s);else{var c=function(t,e){var i,n=0,o=e.length-1;if(o<=2147483647)for(;n<=o;){if(e[i=n+o>>1]===t)return i;e[i]<t?n=i+1:o=i-1}else for(;n<=o;){if(e[i=Math.floor((n+o)/2)]===t)return i;e[i]<t?n=i+1:o=i-1}return n==e.length?null:n}(a.idx,l.tombs);a._lis=!0;var d=t(l[n]);i(r,l[n],null!=c?s[l.tombs[c]].el:c),null==c?l.tombs.push(a.idx):l.tombs.splice(c,0,a.idx),l[n]=d}}window.lisMove=ot;var rt=nt(L,(function(t,e){return e[t.idx+1]}),W,"lftSib","lftNode","rgtSib","rgtNode",B),st=nt((function(t){return t.previousSibling}),(function(t,e){return e[t.idx-1]}),B,"rgtSib","rgtNode","lftSib","lftNode",W);function at(t,e){var n=e.body,o=t.el,r=t.body,s={lftNode:r[0],rgtNode:r[r.length-1],lftSib:(n[0]||i).el,rgtSib:(n[n.length-1]||i).el};t:for(;;){for(;;){var a=rt(t,o,r,s,null,!1);if(1===a)break;if(2===a)break t}for(;;){var l=st(t,o,r,s,s.lftNode,!1);if(1===l)break;if(2===l)break t}lt(t,o,r,s);break}}function lt(t,e,i,n){for(var o=Array.prototype.slice.call(e.childNodes),r=[],s=0;s<o.length;s++){var a=o[s]._node;a.parent===t&&r.push(a.idx)}for(var l=function(t){var e,i,n=t.slice(),o=[];o.push(0);for(var r=0,s=t.length;r<s;++r){var a=o[o.length-1];if(t[a]<t[r])n[r]=a,o.push(r);else{for(e=0,i=o.length-1;e<i;){var l=(e+i)/2|0;t[o[l]]<t[r]?e=l+1:i=l}t[r]<t[o[e]]&&(e>0&&(n[r]=o[e-1]),o[e]=r)}}for(i=o[(e=o.length)-1];e-- >0;)o[e]=i,i=n[i];return o}(r).map((function(t){return r[t]})),c=0;c<l.length;c++)i[l[c]]._lis=!0;for(n.tombs=l;2!==rt(t,e,i,n,null,!0););}function ct(t){return t.el._node.parent!==t.parent}function dt(t,e,i){return e[i]}function ut(t,e,i){for(;i<e.length;i++){var n=e[i];if(null!=n.vm){if(4===t.type&&n.vm.view===t.view&&n.vm.key===t.key||5===t.type&&n.vm===t.vm)return n}else if(!ct(n)&&t.tag===n.tag&&t.type===n.type&&t.key===n.key&&(-2&t.flags)==(-2&n.flags))return n}return null}function ht(t,e,i){return e[e._keys[t.key]]}function ft(t,e){H(e.hooks,"willRecycle",e,t);var i=t.el=e.el,n=e.body,r=t.body;if(i._node=t,2!==t.type||r===n){null==t.attrs&&null==e.attrs||Q(t,e,!1);var s=o(n),a=o(r),l=!(8&~t.flags);s?a||l?function(t,e){var i=t.body,n=i.length,o=e.body,r=o.length,s=!(8&~t.flags),a=!(2&~t.flags),l=!(4&~t.flags),c=!a&&1===t.type,d=!0,u=l?ht:a||s?dt:ut;if(l){for(var h={},f=0;f<o.length;f++)h[o[f].key]=f;o._keys=h}if(c&&0===n)return z(e),void(s&&(t.body=[]));var p,g,_=0,v=!1,m=0;if(s)var b={key:null},x=Array(n);for(f=0;f<n;f++){if(s){var w=!1,E=null;d&&(l&&(b.key=i.key(f)),p=u(b,o,m)),null!=p?(g=p.idx,!0===(E=i.diff(f,p))?((C=p).parent=t,C.idx=f,C._lis=!1):w=!0):w=!0,w&&(O(C=i.tpl(f),t,f),C._diff=null!=E?E:i.diff(f),null!=p&&ft(C,p)),x[f]=C}else{var C,S=(C=i[f]).type;if(S<=3)(p=d&&u(C,o,m))&&(ft(C,p),g=p.idx);else if(4===S){if(p=d&&u(C,o,m)){g=p.idx;var k=p.vm._update(C.data,t,f)}else k=tt(C.view,C.data,C.key,C.opts)._redraw(t,f,!1);S=k.node.type}else if(5===S){var I=y(C.vm);S=(k=C.vm._update(C.data,t,f,I)).node.type}}if(!l&&null!=p&&(g===m?++m===r&&n>r&&(p=null,d=!1):v=!0,r>100&&v&&++_%10==0))for(;m<r&&ct(o[m]);)m++}s&&(t.body=x),c&&at(t,e)}(t,e):r!==n&&(null!=r?i.textContent=r:z(e)):a?(z(e),et(t)):r!==n&&(i.firstChild?i.firstChild.nodeValue=r:i.textContent=r),H(e.hooks,"didRecycle",e,t)}else i.nodeValue=r}function pt(t,e,i,n){var o=this;o.view=t,o.data=e,o.key=i,n&&(o.opts=n,o.config(n));var r=s(t)?t:t.call(o,o,e,i,n);c(r)?o.render=r:(o.render=r.render,o.config(r)),o._redrawAsync=p((function(t){return o.redraw(!0)})),o._updateAsync=p((function(t){return o.update(t,!0)})),o.init&&o.init.call(o,o,o.data,o.key,n)}var gt=pt.prototype={constructor:pt,_diff:null,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,onevent:n,refs:null,render:null,mount:function(t,e){var i=this;return e?(z({el:t,flags:0}),i._redraw(null,null,!1),t.nodeName.toLowerCase()!==i.node.tag?(it(i.node),W(t.parentNode,i.node.el,t),t.parentNode.removeChild(t)):W(t.parentNode,it(i.node,t),t)):(i._redraw(null,null),t&&W(t,i.node.el)),t&&F(i),i},unmount:function(t){var e=this.node;$(e.el.parentNode,e.el),t||F(this)},config:function(t){var e=this;t.init&&(e.init=t.init),t.diff&&(e.diff=t.diff),t.onevent&&(e.onevent=t.onevent),t.hooks&&(e.hooks=d(e.hooks||{},t.hooks)),t.onemit&&(e.onemit=d(e.onemit||{},t.onemit))},parent:function(){return x(this.node.parent)},root:function(){for(var t=this.node;t.parent;)t=t.parent;return t.vm},redraw:function(t){var e=this;return t?e._redraw(null,null,y(e)):e._redrawAsync(),e},update:function(t,e){var i=this;return e?i._update(t,null,null,y(i)):i._updateAsync(t),i},_update:function(t,e,i,n){var o=this;return null!=t&&o.data!==t&&(H(o.hooks,"willUpdate",o,t),o.data=t),o._redraw(e,i,n)},_redraw:function(t,e,i){var n,r,s=null==t,a=this,l=a.node&&a.node.el&&a.node.el.parentNode,c=a.node;if(null!=a.diff&&(n=a._diff,a._diff=r=a.diff(a,a.data),null!=c)){var d=o(n)?f:h;if(n===r||d(n,r))return _t(a,c,t,e)}l&&H(a.hooks,"willRedraw",a,a.data);var u=a.render.call(a,a,a.data,n,r);if(u===c)return _t(a,c,t,e);if(a.refs=null,null!=a.key&&u.key!==a.key&&(u.key=a.key),a.node=u,t?(O(u,t,e,a),t.body[e]=u):c&&c.parent?(O(u,c.parent,c.idx,a),c.parent.body[c.idx]=u):O(u,null,null,a),!1!==i)if(c)if(c.tag!==u.tag||c.key!==u.key){c.vm=u.vm=null;var p=c.el.parentNode,g=L(c.el);$(p,c.el),W(p,it(u),g),c.el=u.el,u.vm=a}else ft(u,c);else it(u);return l&&H(a.hooks,"didRedraw",a,a.data),s&&l&&F(a),a},_redrawAsync:null,_updateAsync:null};function _t(t,e,i,n){return null!=i&&(i.body[n]=e,e.idx=n,e.parent=i,e._lis=!1),t}function vt(t,e,i,n){var o,r;return null==i?s(e)?o=e:r=e:(o=e,r=i),I(t,o,r,n)}var mt="http://www.w3.org/2000/svg";function yt(t,e,i,n){this.view=t,this.data=e,this.key=i,this.opts=n}function bt(t){this.vm=t}yt.prototype={constructor:yt,type:4,view:null,data:null,key:null,opts:null},bt.prototype={constructor:bt,type:5,vm:null};var xt={config:function(t){q=t.onevent||q,t.onemit&&function(t){d(G,t)}(t.onemit)},ViewModel:pt,VNode:w,createView:tt,defineElement:vt,defineSvgElement:function(t,e,i,n){var o=vt(t,e,i,n);return o.ns=mt,o},defineText:C,defineComment:function(t){var e=new w;return e.type=3,e.body=t,e},defineView:function(t,e,i,n){return new yt(t,e,i,n)},injectView:function(t){return new bt(t)},injectElement:function(t){var e=new w;return e.type=1,e.el=e.key=t,e},lazyList:function(t,e){var i=t.length,n={items:t,length:i,key:function(i){return e.key(t[i],i)},diff:function(i,n){var r=e.diff(t[i],i);if(null==n)return r;var s=n._diff;return(r===s||o(s)?f(r,s):h(r,s))||r},tpl:function(i){return e.tpl(t[i],i)},map:function(t){return e.tpl=t,n},body:function(t){for(var e=Array(i),o=0;o<i;o++){var r=n.tpl(o);r._diff=n.diff(o),e[o]=r,O(r,t,o)}t.body=e}};return n},FIXED_BODY:2,DEEP_REMOVE:1,KEYED_LIST:4,LAZY_LIST:8};function wt(t){var e,i,n=arguments,r=n.length;if(r>1){var a=1;s(n[1])&&(i=n[1],a=2),e=r===a+1&&(l(n[a])||o(n[a])||i&&!(8&~i._flags))?n[a]:u(n,a)}return I(t,i,e)}return E.patch=function(t,e){!function(t,e,i){var n,o;null!=e.type?null==t.vm&&(O(e,t.parent,t.idx,null),ft(t.parent.body[t.idx]=e,t),i&&m(e),F(x(e))):((n=Object.create(t)).attrs=d({},t.attrs),o=d(t.attrs,e),null!=t._class&&(e=o.class,o.class=null!=e&&""!==e?t._class+" "+e:t._class),Q(t,n),i&&m(t))}(this,t,e)},gt.emit=function(t){var e=this,i=e,n=u(arguments,1).concat(i,i.data);do{var o;if(o=(o=e.onemit)?o[t]:null){o.apply(e,n);break}}while(e=e.parent());G[t]&&G[t].apply(e,n)},gt.onemit=null,gt.body=function(){return function t(e,i){var n=e.body;if(o(n))for(var r=0;r<n.length;r++){var s=n[r];null!=s.vm?i.push(s.vm):t(s,i)}return i}(this.node,[])},xt.defineElementSpread=wt,xt.defineSvgElementSpread=function(){var t=wt.apply(null,arguments);return t.ns=mt,t},xt}()},function(t,e,i){"use strict";(function(t){var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),r=i(22),s=(a.prototype.load=function(t,e){var i=this;if(!t.config||this._parent.events.fire(r.DataEvents.beforeLazyLoad,[]))return this._parent.loadData=t.load().then((function(t){return t?i.parse(t,e):[]})).catch((function(t){i._parent.events.fire(r.DataEvents.loadError,[t])}))},a.prototype.parse=function(t,e){var i=this;if(void 0===e&&(e=r.DataDriver.json),"json"!==e||o.hasJsonOrArrayStructure(t)||this._parent.events.fire(r.DataEvents.loadError,["Uncaught SyntaxError: Unexpected end of input"]),!((t=(e=o.toDataDriver(e)).toJsonArray(t))instanceof Array)){var s=t.total_count-1,a=t.from;if(t=t.data,0!==this._parent.getLength())return t.forEach((function(t,e){var r=a+e;(e=i._parent.getId(r))?(r=i._parent.getItem(e))&&r.$empty&&(i._parent.changeId(e,t.id,!0),i._parent.update(t.id,n(n({},t),{$empty:void 0}),!0)):o.dhxWarning("item not found")})),this._parent.events.fire(r.DataEvents.afterLazyLoad,[a,t.length]),this._parent.events.fire(r.DataEvents.change),t;for(var l=[],c=0,d=0;c<=s;c++)a<=c&&c<=a+t.length-1?(l.push(t[d]),d++):l.push({$empty:!0});t=l}return this._parent.getInitialData()&&this._parent.removeAll(),this._parent.$parse(t),t},a.prototype.save=function(e){for(var i=this,n=this._getUniqueOrder(),r=this,s=0,a=n;s<a.length;s++)!function(n){var s,a;n.saving||n.pending?o.dhxWarning("item is saving"):(s=r._findPrevState(n.id))&&s.saving?(a=new t((function(t,r){s.promise.then((function(){n.pending=!1,t(i._setPromise(n,e))})).catch((function(t){i._removeFromOrder(s),i._setPromise(n,e),o.dhxWarning(t),r(t)}))})),r._addToChain(a),n.pending=!0):r._setPromise(n,e)}(a[s]);n.length&&this._parent.saveData.then((function(){i._saving=!1}))},a.prototype.updateChanges=function(t){this._changes=t},a.prototype._setPromise=function(t,e){var i,n=this;switch(t.status){case"remove":i="delete";break;case"add":i="insert";break;default:i=t.status}return t.promise=e.save(t.obj,i),t.promise.then((function(){n._removeFromOrder(t)})).catch((function(e){t.saving=!1,t.error=!0,o.dhxError(e)})),t.saving=!0,this._saving=!0,this._addToChain(t.promise),t.promise},a.prototype._addToChain=function(t){this._parent.saveData&&this._saving?this._parent.saveData=this._parent.saveData.then((function(){return t})):this._parent.saveData=t},a.prototype._findPrevState=function(t){for(var e=0,i=this._changes.order;e<i.length;e++){var n=i[e];if(n.id===t)return n}return null},a.prototype._removeFromOrder=function(t){this._changes.order=this._changes.order.filter((function(e){return!o.isEqualObj(e,t)}))},a.prototype._getUniqueOrder=function(){return this._changes.order.reduce((function(t,e){var i=t.findIndex((function(t){return t.id===e.id})),n=-1<i?t[i]:null;return n&&!1===n.saving&&"add"===n.status?"remove"===e.status?t.splice(i,1):n.obj=e.obj:n&&!1===n.saving&&"update"===n.status?t.splice(i,1,e):t.push(e),t}),[])},a);function a(t,e){this._parent=t,this._changes=e}e.Loader=s}).call(this,i(17))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(121);function o(){}o.prototype.toJsonArray=function(t){return this.getRows(t)},o.prototype.toJsonObject=function(t){var e;return"string"==typeof t&&(e=this._fromString(t)),function t(e,i){i=i||{};var n=e.attributes;if(n&&n.length)for(var o=0;o<n.length;o++)i[n[o].name]=n[o].value;var r,s=e.childNodes;for(o=0;o<s.length;o++)1===s[o].nodeType&&(i[r=s[o].tagName]?("function"!=typeof i[r].push&&(i[r]=[i[r]]),i[r].push(t(s[o],{}))):i[r]=t(s[o],{}));return i}(e)},o.prototype.serialize=function(t){return n.jsonToXML(t)},o.prototype.getFields=function(t){return t},o.prototype.getRows=function(t){return"string"==typeof t&&(t=this._fromString(t)),t?(t=t.childNodes&&t.childNodes[0]&&t.childNodes[0].childNodes)&&t.length?this._getRows(t):null:[]},o.prototype._getRows=function(t){for(var e=[],i=0;i<t.length;i++)"item"===t[i].tagName&&e.push(this._nodeToJS(t[i]));return e},o.prototype._fromString=function(t){try{return(new DOMParser).parseFromString(t,"text/xml")}catch(t){return null}},o.prototype._nodeToJS=function(t){var e={};if(this._haveAttrs(t))for(var i=t.attributes,n=0;n<i.length;n++){var o=(r=i[n]).name,r=r.value;e[o]=this._toType(r)}if(3===t.nodeType)return e.value=e.value||this._toType(t.textContent),e;var s=t.childNodes;if(s)for(n=0;n<s.length;n++){var a=s[n],l=a.tagName;l&&("items"===l&&a.childNodes?e[l]=this._getRows(a.childNodes):this._haveAttrs(a)?e[l]=this._nodeToJS(a):e[l]=this._toType(a.textContent))}return e},o.prototype._toType=function(t){return"false"===t||"true"===t?"true"===t:t},o.prototype._haveAttrs=function(t){return t.attributes&&t.attributes.length},i=o,e.XMLDriver=i},function(t,e,i){"use strict";function n(t){return" ".repeat(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.jsonToXML=function(t,e){void 0===e&&(e="root");for(var i='<?xml version="1.0" encoding="iso-8859-1"?>\n<'+e+">",o=0;o<t.length;o++)i+="\n"+function t(e,i){void 0===i&&(i=4);var o,r=n(i)+"<item>\n";for(o in e)Array.isArray(e[o])?(r+=n(i+4)+"<"+o+">\n",r+=e[o].map((function(e){return t(e,i+8)})).join("\n")+"\n",r+=n(i+4)+"</"+o+">\n"):r+=n(i+4)+"<"+o+">"+e[o]+"</"+o+">\n";return r+(n(i)+"</item>")}(t[o]);return i+"\n</"+e+">"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(23);function o(){}o.prototype.sort=function(t,e,i){this._createSorter(e),i===e&&(e=null),(i||e)&&this._sort(t,i,e)},o.prototype._createSorter=function(t){var e=this;t&&!t.rule&&(t.rule=function(i,o){return i=null!==(i=e._checkVal(t.as,i[t.by]))&&void 0!==i?i:"",o=null!==(o=e._checkVal(t.as,o[t.by]))&&void 0!==o?o:"",n.naturalCompare(i.toString(),o.toString())})},o.prototype._checkVal=function(t,e){return t?t.call(this,e):e},o.prototype._sort=function(t,e,i){var n=this,o={asc:1,desc:-1};return t.sort((function(t,r){var s=0;return e&&(s=e.rule.call(n,t,r)*(o[e.dir]||o.asc)),0===s&&i&&(s=i.rule.call(n,t,r)*(o[i.dir]||o.asc)),s}))},i=o,e.Sort=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(61),c=i(26),d=i(23),u=i(22);function h(t,e,i,n){void 0!==n&&-1!==n&&t[i]&&t[i][n]?t[i].splice(n,0,e):(t[i]||(t[i]=[]),t[i].push(e))}function f(t,e){var i=s.call(this,t,e)||this;return i._childs={},e=i._root=t&&t.rootId||"_ROOT_"+a.uid(),i._childs=((t={})[e]=[],t),i._initChilds=null,i}o(f,s=l.DataCollection),f.prototype.add=function(t,e,i){var n=this;if(void 0===e&&(e=-1),void 0===i&&(i=this._root),this.events.fire(u.DataEvents.beforeAdd,[t]))return"object"!=typeof t&&(t={value:t}),t=Array.isArray(t)?t.map((function(t,o){return n._add(t,e,i,o)})):this._add(t,e,i),this._applySmart(),t},f.prototype.getRoot=function(){return this._root},f.prototype.getParent=function(t,e){return void 0===e&&(e=!1),this._pull[t]?(t=this._pull[t].parent,e?this._pull[t]:t):null},f.prototype.getItems=function(t){return this._childs&&this._childs[t]?this._childs[t]:[]},f.prototype.getLength=function(t){return void 0===t&&(t=this._root),this._childs[t]?this._childs[t].length:null},f.prototype.removeAll=function(t){if(t){if(this._childs[t])for(var e=0,i=r(this._childs[t]);e<i.length;e++){var n=i[e];this.remove(n.id)}}else{s.prototype.removeAll.call(this);var o=this._root;this._initChilds=null,this._childs=((t={})[o]=[],t)}},f.prototype.getIndex=function(t){var e=this.getParent(t);return e&&this._childs[e]?a.findIndex(this._childs[e],(function(e){return e.id===t})):-1},f.prototype.sort=function(t){var e=this;if(t){for(var i in this._childs)this._sort.sort(this._childs[i],t);if(this._initChilds&&Object.keys(this._initChilds).length)for(var i in this._initChilds)this._sort.sort(this._initChilds[i],t)}else this._childs={},this._parse_data(Object.keys(this._pull).map((function(t){return e._pull[t]}))),this._filters&&this.filter(this._filters.filters,this._filters.config);this.events.fire(u.DataEvents.change,[void 0,"sort",t])},f.prototype.filter=function(t,e){var i=this;if(void 0===e&&(e={}),t&&e.add||(this.restoreOrder(),t)){if(this._initOrder||(this._initOrder=this._order),this._initChilds||(this._initChilds=this._childs),e.type=e.type||u.TreeFilterType.all,this._filters={filters:{},config:e},"function"!=typeof t)if(t.by)this._filters.filters[t.by]=t;else for(var n in t)this._filters.filters[n]=t[n];else this._filters.filters=t;var o={};this._recursiveFilter(this._filters.filters,e,this._root,0,o),e&&!e.smartFilter&&(this._filters=null),Object.keys(o).forEach((function(t){for(var e=i.getParent(t),n=i.getItem(t);e;)o[e]||(o[e]=[]),n&&!o[e].find((function(t){return t.id===n.id}))&&o[e].push(n),n=i.getItem(e),e=i.getParent(e)})),this._childs=o,this.events.fire(u.DataEvents.change)}},f.prototype.restoreOrder=function(){this._initChilds&&(this._childs=this._initChilds,this._initChilds=null),this.events.fire(u.DataEvents.change)},f.prototype.copy=function(t,e,i,n){var o=this;return void 0===i&&(i=this),void 0===n&&(n=this._root),t instanceof Array?t.map((function(t,r){return o._copy(t,e,i,n,r)})):this._copy(t,e,i,n)},f.prototype.move=function(t,e,i,n){var o=this;return void 0===i&&(i=this),void 0===n&&(n=this._root),t instanceof Array?t.map((function(t,r){return o._move(t,e,i,n,r)})):this._move(t,e,i,n)},f.prototype.forEach=function(t,e,i){if(void 0===e&&(e=this._root),void 0===i&&(i=1/0),this.haveItems(e)&&!(i<1))for(var n=this._childs[e],o=0;o<n.length;o++)t.call(this,n[o],o,n),this.haveItems(n[o].id)&&this.forEach(t,n[o].id,--i)},f.prototype.eachChild=function(t,e,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=function(){return!0}),this.haveItems(t))for(var o=0;o<this._childs[t].length;o++)e.call(this,this._childs[t][o],o),i&&n(this._childs[t][o])&&this.eachChild(this._childs[t][o].id,e,i,n)},f.prototype.getNearId=function(t){return t},f.prototype.loadItems=function(t,e){var i,n=this;void 0===e&&(e=u.DataDriver.json),this.events.fire(u.DataEvents.beforeItemLoad,[t])&&(i=(i=this.config.autoload.toString())+(i.includes("?")?"&id="+t:"?id="+t),new c.DataProxy(i).load().then((function(i){i=(e=d.toDataDriver(e)).toJsonArray(i),n._parse_data(i,t),n.events.fire(u.DataEvents.change),n.events.fire(u.DataEvents.afterItemLoad,[t])})).catch((function(t){n.events.fire(u.DataEvents.loadError,[t])})))},f.prototype.refreshItems=function(t,e){void 0===e&&(e=u.DataDriver.json),this.removeAll(t),this.loadItems(t,e)},f.prototype.eachParent=function(t,e,i){void 0===i&&(i=!1),(t=this.getItem(t))&&(i&&e.call(this,t),t.parent!==this._root&&(i=this.getItem(t.parent),e.call(this,i),this.eachParent(t.parent,e)))},f.prototype.haveItems=function(t){return t in this._childs},f.prototype.canCopy=function(t,e){if(t===e)return!1;var i=!0;return this.eachParent(e,(function(e){return e.id===t?i=!1:null})),i},f.prototype.serialize=function(t,e){if(void 0===t&&(t=u.DataDriver.json),e=this._serialize(this._root,e),t=d.toDataDriver(t))return t.serialize(e)},f.prototype.getId=function(t,e){if(void 0===e&&(e=this._root),this._childs[e]&&this._childs[e][t])return this._childs[e][t].id},f.prototype.map=function(t,e,i){void 0===e&&(e=this._root),void 0===i&&(i=!0);var n=[];if(!this.haveItems(e))return n;for(var o,r=0;r<this._childs[e].length;r++)n.push(t.call(this,this._childs[e][r],r,this._childs)),i&&(o=this.map(t,this._childs[e][r].id,i),n=n.concat(o));return n},f.prototype.getRawData=function(t,e,i,n,o){return o=o||this._root,this._childs[o]?(o=o===this._root?s.prototype.getRawData.call(this,t,e,this._childs[o]):this._childs[o],2===n?this.flatten(o):o):[]},f.prototype.flatten=function(t){var e=this,i=[];return t.forEach((function(t){i.push(t);var n=e._childs[t.id];n&&t.$opened&&(i=i.concat(e.flatten(n)))})),i},f.prototype._add=function(t,e,i,n){if(void 0===e&&(e=-1),void 0===i&&(i=this._root),t.parent=t.parent?t.parent.toString():i,0<n&&-1!==e&&(e+=1),e=s.prototype._add.call(this,t,e),Array.isArray(t.items))for(var o=0,r=t.items;o<r.length;o++){var a=r[o];this.add(a,-1,t.id)}return e},f.prototype._copy=function(t,e,i,n,o){if(void 0===i&&(i=this),void 0===n&&(n=this._root),!this.exists(t))return null;var r=this._childs[t];if(o&&(e=-1===e?-1:e+o),i===this&&!this.canCopy(t,n))return null;if(o=d.copyWithoutInner(this.getItem(t),{items:!0}),i.exists(t)&&(o.id=a.uid()),d.isTreeCollection(i)){if(this.exists(t)&&(o.parent=n,i!==this&&n===this._root&&(o.parent=i.getRoot()),i.add(o,e),t=o.id),r)for(var s=0,l=r;s<l.length;s++){var c=l[s].id,u=this.getIndex(c);"string"==typeof t&&this.copy(c,u,i,t)}return t}i.add(o,e)},f.prototype._move=function(t,e,i,n,o){if(void 0===i&&(i=this),void 0===n&&(n=this._root),!this.exists(t))return null;if(o&&(e=-1===e?-1:e+o),i!==this){if(!d.isTreeCollection(i))return i.add(d.copyWithoutInner(this.getItem(t)),e),void this.remove(t);var r=this.copy(t,e,i,n);return this.remove(t),r}return this.canCopy(t,n)?(i=this.getParent(t),r=this.getIndex(t),(r=this._childs[i].splice(r,1)[0]).parent=n,this._childs[i].length||delete this._childs[i],this.haveItems(n)||(this._childs[n]=[]),-1===e?e=this._childs[n].push(r):this._childs[n].splice(e,0,r),this.events.fire(u.DataEvents.change,[t,"update",this.getItem(t)]),t):null},f.prototype._reset=function(t){if(t)for(var e=0,i=r(this._childs[t]);e<i.length;e++){var n=i[e];this.remove(n.id)}else{s.prototype._reset.call(this);var o=this._root;this._initChilds=null,this._childs=((t={})[o]=[],t)}},f.prototype._removeCore=function(t){var e;this._pull[t]&&(e=this.getParent(t),this._childs[e]=this._childs[e].filter((function(e){return e.id!==t})),e===this._root||this._childs[e].length||delete this._childs[e],this._initChilds&&this._initChilds[e]&&(this._initChilds[e]=this._initChilds[e].filter((function(e){return e.id!==t})),e===this._root||this._initChilds[e].length||delete this._initChilds[e]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter((function(e){return e.id!==t}))),this._fastDeleteChilds(this._childs,t),this._initChilds&&this._fastDeleteChilds(this._initChilds,t))},f.prototype._addToOrder=function(t,e,i){var n=this._childs,o=this._initChilds,r=e.parent;(this._pull[e.id]=e).parent&&this._pull[e.parent]&&this._pull[e.parent].items&&!this._pull[e.parent].items.find((function(t){return t.id===e.id}))&&this._pull[e.parent].items.push(e),s.prototype._addToOrder.call(this,t,e,i),h(n,e,r,i),o&&h(o,e,r,i)},f.prototype._parse_data=function(t,e){var i;void 0===e&&(e=this._root);for(var n=this._order.length,o=0,r=t;o<r.length;o++){var s=r[o];this.config.init&&(s=this.config.init(s)),s&&"object"!=typeof s&&(s={value:s}),s.id=null!==(i=s.id)&&void 0!==i?i:a.uid(),s.parent=void 0===s.parent||null===s.parent||s.parent&&s.$items?e:s.parent,this._pull[s.id]&&d.dhxError("Item "+s.id+" already exist"),this._pull[s.id]=s,this._order[n++]=s,this._childs[s.parent]||(this._childs[s.parent]=[]),this._childs[s.parent].push(s),s.items&&s.items instanceof Object&&this._parse_data(s.items,s.id)}},f.prototype._applySmart=function(){this._filters&&this.filter(this._filters.filters,this._filters.config)},f.prototype._fastDeleteChilds=function(t,e){if(this._pull[e]&&delete this._pull[e],t[e]){for(var i=0;i<t[e].length;i++)this._fastDeleteChilds(t,t[e][i].id);delete t[e]}},f.prototype._recursiveFilter=function(t,e,i,n,o){var r=this,s=this._childs[i];if(s){var a,l=function(t){switch(e.type){case u.TreeFilterType.all:return!0;case u.TreeFilterType.level:return n===e.level;case u.TreeFilterType.leafs:return!r.haveItems(t.id)}};a="function"==typeof t?function(e){return l(e)&&t(e)}:function(e){var i,n,o=!0;for(n in t)if(t[n].by&&""!==t[n].match&&(o=t[n].compare?t[n].compare(e[t[n].by],t[n].match,e):-1!==(null===(i=e[t[n].by])||void 0===i?void 0:i.toString().toLocaleLowerCase().indexOf(t[n].match.toString().toLowerCase()))),!o)break;return l(e)&&o},(a=s.filter(a)).length?o[i]=a:i===this._root&&(o[i]=[]);for(var c=0,d=s;c<d.length;c++){var h=d[c];this._recursiveFilter(t,e,h.id,n+1,o)}}},f.prototype._serialize=function(t,e){var i=this;return void 0===t&&(t=this._root),this.map((function(t){var n,o={};for(n in t)"parent"===n||"items"===n||n.startsWith("$")||(o[n]=t[n]);return e&&(o=e(o)),i.haveItems(t.id)&&(o.items=i._serialize(t.id,e)),o}),t,!1)},o=f,e.TreeCollection=o},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(41),a=i(159),l=i(22),c=i(23),d=i(1),u=(h.prototype.setItem=function(t,e){a.collectionStore.setItem(t,e)},h.prototype.onMouseDown=function(t,e,i){var n,s,a,l;1!==t.which&&!t.targetTouches||(t.targetTouches?(document.addEventListener("touchmove",this._onMouseMove,!1),document.addEventListener("touchend",this._onMouseUp,!1)):(document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp)),s=(n=r.locateNode(t,"data-dhx-id"))&&n.getAttribute("data-dhx-id"),a=r.locate(t,"data-dhx-widget-id"),Array.isArray(e)&&e.includes(s)?(this._transferData.source=o(e),this._itemsForGhost=i):(this._transferData.source=[s],this._itemsForGhost=null),s&&a&&(e=(l=r.getBox(n)).left,i=l.top,l=(t.targetTouches?t.targetTouches[0]:t).pageX,t=(t.targetTouches?t.targetTouches[0]:t).pageY,this._transferData.initXOffset=l-e,this._transferData.initYOffset=t-i,this._transferData.x=l,this._transferData.y=t,this._transferData.componentId=a,this._transferData.start=s,this._transferData.item=n))},h.prototype.isDrag=function(){return this._isDrag},h.prototype.cancelCanDrop=function(t){this._canMove=!1,this._isDrag=!1;var e=(o=this._transferData).start,i=o.source,n=o.target,o=o.dropComponentId;i={start:e,source:i,target:n},(o=a.collectionStore.getItem(o))&&n&&o.events.fire(l.DragEvents.cancelDrop,[i,t]),this._transferData.dropComponentId=null,this._transferData.target=null},h.prototype._moveGhost=function(t,e){this._transferData.ghost&&(this._transferData.ghost.style.left=t-this._transferData.initXOffset+"px",this._transferData.ghost.style.top=e-this._transferData.initYOffset+"px")},h.prototype._removeGhost=function(){document.body.removeChild(this._transferData.ghost)},h.prototype._onDrop=function(t){var e,i,n,o,r;this._canMove&&(r=(o=this._transferData).start,i=o.source,e=o.target,n=o.dropComponentId,i={start:r,source:i,target:e,dropPosition:o.dropPosition},n=(o=a.collectionStore.getItem(n))&&o.config,o&&"source"!==n.dragMode&&o.events.fire(l.DragEvents.beforeDrop,[i,t])&&(o={id:e,component:o},r={id:r,component:this._transferData.component,newId:null},this._move(r,o),r.newId&&r.component!==o.component&&(i.start=r.newId),o.component.events.fire(l.DragEvents.afterDrop,[i,t]))),this._endDrop(t)},h.prototype._onDragStart=function(t,e,i){var n=a.collectionStore.getItem(e),o=n.config,r=this._transferData;return e={start:r.start,source:r.source,target:r.target},"target"===o.dragMode||n._pregroupData?null:(r=function(t,e,i){void 0===i&&(i=!1);var n=t.getBoundingClientRect(),o=document.createElement("div"),r=t.cloneNode(!0);return r.style.width=n.width+"px",r.style.height=n.height+"px",r.style.maxHeight=n.height+"px",r.style.fontSize=window.getComputedStyle(t.parentElement).fontSize,r.style.opacity="0.8",r.style.fontSize=window.getComputedStyle(t.parentElement).fontSize,i||e&&e.length||o.appendChild(r),e&&e.length&&e.forEach((function(t,e){(t=t.cloneNode(!0)).style.width=n.width+"px",t.style.height=n.height+"px",t.style.maxHeight=n.height+"px",t.style.top=12*(e+1)-n.height-n.height*e+"px",t.style.left=12*(e+1)+"px",t.style.opacity="0.6",t.style.zIndex=""+(-e-1),o.appendChild(t)})),o.className="dhx_drag-ghost",o}(this._transferData.item,this._itemsForGhost,"column"===o.dragItem||"both"===o.dragItem),n.events.fire(l.DragEvents.beforeDrag,[e,i,r])&&t?(n.events.fire(l.DragEvents.dragStart,[e,i]),this._isDrag=!0,this._toggleTextSelection(!0),this._transferData.component=n,this._transferData.dragConfig=o,r):null)},h.prototype._onDrag=function(t){var e=(t.targetTouches?t.targetTouches[0]:t).clientX,i=(t.targetTouches?t.targetTouches[0]:t).clientY,n=document.elementFromPoint(e,i),o=r.locate(n,"data-dhx-widget-id");if(o){var s=a.collectionStore.getItem(o),d=!!r.locateNodeByClassName(n,"dhx_grid-header")||!!r.locateNodeByClassName(n,"dhx_grid-footer"),u=(g=s&&s.config.columns?s.config:void 0)&&("both"===g.dragItem||"column"===g.dragItem);if(!d||u){var h=r.locate(n,"data-dhx-id"),f=r.locate(n,"data-dhx-root-id");if(!h&&!f)return this.cancelCanDrop(t),this._transferData.dropComponentId=o,this._transferData.target=null,void this._canDrop(t);var p=this._transferData,g=(e=p.dropComponentId,i=p.start,p.source);if(d=p.target,u=p.componentId,n=p.dropPosition,"complex"===s.config.dropBehaviour)p=function(t){var e=t.clientY;return(t=r.locateNode(t))?(t=t.childNodes[0])?(e-(t=t.getBoundingClientRect()).top)/t.height:void 0:null}(t),this._transferData.dropPosition=p<=.25?"top":.75<=p?"bottom":"in";else if((d===h||!h&&d===f)&&e===o)return;e={id:i,component:this._transferData.component},"source"!==s.config.dragMode&&(e.component.events.fire(l.DragEvents.dragOut,[{start:i,source:g,target:d},t]),o!==u||!c.isTreeCollection(e.component.data)||c.isTreeCollection(e.component.data)&&e.component.data.canCopy(e.id,h)?(this.cancelCanDrop(t),this._transferData.target=h||f,this._transferData.dropComponentId=o,e.component.events.fire(l.DragEvents.dragIn,[{start:i,source:g,target:d,dropPosition:n},t])&&this._canDrop(t)):this.cancelCanDrop(t))}else this._canMove&&this.cancelCanDrop(t)}else this._canMove&&this.cancelCanDrop(t)},h.prototype._move=function(t,e){var i=t.component,r=e.component,a=t.component.data,l=e.component.data,u=0,h=e.id,f=c.isTreeCollection(l)?e.component.config.dropBehaviour:void 0,p=(v=t.component.config.columns?t.component.config:void 0)&&("both"===v.dragItem||"column"===v.dragItem)&&v.columns.map((function(t){return t.id})).filter((function(i){return i===t.id||i===e.id})).length;if(p&&t.component===e.component){if(t.id===e.id)return;var g=(_=i.config.columns.map((function(t){return n({},t)}))).findIndex((function(e){return e.id===t.id}));return-1===(m=_.findIndex((function(t){return t.id===e.id})))?void 0:(_.splice(m,0,_.splice(g,1)[0]),i.setColumns(_),void i.paint())}if(p&&t.component instanceof s.ProGrid&&e.component instanceof s.ProGrid){g=(_=i.config.columns.map((function(t){return n({},t)}))).findIndex((function(e){return e.id===t.id}));var _,v=r.config.columns.map((function(t){return n({},t)})),m=(p=r.data.getLength(),v.findIndex((function(t){return t.id===e.id}))),y=[],b=t.id;return i.data.forEach((function(e){var i;y.push(((i={id:e.id})[b]=e[t.id],i))})),p?i.data.forEach((function(t,e){(t=r.data.getItem(t.id))?r.data.update(t.id,n(n({},t),y[e])):r.data.add(y[e])})):r.data.parse(y),g=_.splice(g,1)[0],v.find((function(t){return t.id===b}))||v.splice(m,0,g),r.setColumns(v),r.paint(),i.setColumns(_),void i.paint()}var x=e.id===r.config.rootParent;switch(f){case"child":break;case"sibling":h=l.getParent(h),u=l.getIndex(e.id)+1;break;case"complex":var w=this._transferData.dropPosition;x?(h=e.id,u=l.getLength()):"top"===w?(h=l.getParent(h),u=l.getIndex(e.id)):"bottom"===w&&(h=l.getParent(h),u=l.getIndex(e.id)+1);break;default:u=e.id?t.component===e.component&&l.getIndex(t.id)<l.getIndex(e.id)?l.getIndex(e.id)-1:(-1<l.getIndex(t.id)&&(t.newId=d.uid()),l.getIndex(e.id)):-1}this._transferData.dragConfig.dragCopy?this._transferData.source instanceof Array&&1<this._transferData.source.length?this._transferData.source.map((function(t){a.copy(t,u,l,h),-1<u&&u++})):a.copy(t.id,u,l,h):this._transferData.source instanceof Array&&1<this._transferData.source.length?a.move(this._transferData.source,u,l,h):r instanceof s.Grid&&!r.config.columns.length?(f=i.data.getItem(t.id),r.data.parse([n({},f)]),r.setColumns(o(i.config.columns)),r.paint(),i.data.remove(t.id),i.paint()):a.move(t.id,u,l,h,t.newId)},h.prototype._endDrop=function(t){var e;this._toggleTextSelection(!1),this._transferData.component&&(e={start:(e=this._transferData).start,source:e.source,target:e.target},this._transferData.component.events.fire(l.DragEvents.afterDrag,[e,t])),this.cancelCanDrop(t),this._canMove=!0,this._transferData={},this._transferData.target=null,this._transferData.dropComponentId=null},h.prototype._canDrop=function(t){this._canMove=!0;var e,i={start:(e=this._transferData).start,source:e.source,target:e.target,dropPosition:e.dropPosition};(e=a.collectionStore.getItem(this._transferData.dropComponentId))&&this._transferData.target&&(e instanceof s.Grid&&(i.dragItem=this._transferData.item.classList.contains("dhx_grid-row")?"row":"column"),e.events.fire(l.DragEvents.canDrop,[i,t]))},h.prototype._toggleTextSelection=function(t){t?document.body.classList.add("dhx_no-select"):document.body.classList.remove("dhx_no-select")},h);function h(){var t=this;this._transferData={},this._canMove=!0,this._isDrag=!1,this._onMouseMove=function(e){if(t._transferData.start){var i=(e.targetTouches?e.targetTouches[0]:e).pageX,n=(e.targetTouches?e.targetTouches[0]:e).pageY,o=(a=t._transferData).x,r=a.y,s=a.start,a=a.componentId;if(!t._transferData.ghost){if(Math.abs(o-i)<3&&Math.abs(r-n)<3)return;if(!(a=t._onDragStart(s,a,e)))return void t._endDrop(e);t._transferData.ghost=a,document.body.appendChild(t._transferData.ghost)}t._moveGhost(i,n),t._onDrag(e)}},this._onMouseUp=function(e){t._transferData.x&&(t._transferData.ghost?(t._removeGhost(),t._onDrop(e)):t._endDrop(e),e.targetTouches?(document.removeEventListener("touchmove",t._onMouseMove),document.removeEventListener("touchend",t._onMouseUp)):(document.removeEventListener("mousemove",t._onMouseMove),document.removeEventListener("mouseup",t._onMouseUp)))}}(i=window.dhxHelpers=window.dhxHelpers||{}).dragManager=i.dragManager||new u,e.dragManager=i.dragManager},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var r=i(14),s=i(6),a=i(1),l=i(15);function c(t){this._view=t}c.prototype.xlsx=function(t){return this._export(t)},c.prototype.csv=function(t){var e;void 0===t&&(t={}),t=n({asFile:!0,rowDelimiter:"\n",columnDelimiter:",",skipHeader:0},t),e="getRoot"in this._view.data&&t.flat?this.getFlatCSV(t):this._getCSV(t);var i=t.name||"grid_export";return t.asFile&&a.downloadFile(e,i+".csv","text/csv"),e},c.prototype._export=function(t){void 0===t&&(t={});for(var e=this._view.config.columns.filter((function(t){return!t.hidden})),i={},n=r.transpose(e.map((function(t){return t.header.map((function(t){return t.text||" "}))}))),o=[],s={default:{color:"#000000",background:"#FFFFFF",fontSize:14}},a=[],c={},d=this._view.data.serialize().map((function(t,n){return i[t.id]=n,e.map((function(e,i){var n;return c[e.id]=i,t[e.id]instanceof Date&&(n=e.format||"%M %d %Y","string"==typeof t[e.id]?t[e.id]=l.getFormattedDate(n,l.stringToDate(t[e.id],n)):"object"==typeof t[e.id]&&(t[e.id]=l.getFormattedDate(n,t[e.id]))),t[e.id]||i||!t.$groupName?r.removeHTMLTags(t[e.id]):"^ "+t.$groupName}))})),u=[],h=this._view.content,f=this,p=0,g=e;p<g.length;p++)!function(t){var n,l,c,d,p;for(p in t.footer&&(n=t.id,d=l=f._view.data.serialize().reduce((function(t,e){return void 0===e[n]||""===e[n]||isNaN(e[n])||t.push(parseFloat(e[n])),t}),[]),"tree"===f._view.config.type&&(d=(c=f._view.data).serialize().reduce((function(t,e){var i;return 0===e.$level&&(void 0===e[n]||""===e[n]||isNaN(e[n])?(i=0,c.eachChild(e.id,(function(t){c.haveItems(t.id)||(i+=parseFloat(t[n]))})),t.push(i)):t.push(parseFloat(e[n])||0)),t}),[])),t.footer[0].content?(d=h[t.footer[0].content].calculate(l,d),u.push(d.toString())):u.push(t.footer[0].css||t.footer[0].text||" ")),o.push({width:t.width}),t.$cellCss){var g,_=t.$cellCss[p],v=_.split("").reduce((function(t,e){return e=(t<<5)-t+e.charCodeAt(0),Math.abs(0|e)}),0).toString();s[v]||(g=document.body,(g=r.getStyleByClass(_,g,"dhx_grid-row",s.default))&&(s[v]=g)),s[v]&&a.push([i[p],e.indexOf(t),v])}}(g[p]);var _;return u.length&&d.push(u),d={name:t.name||"data",columns:o,header:n,data:d,styles:{cells:a,css:s}},t.url&&((_=document.createElement("form")).setAttribute("target","_blank"),_.setAttribute("action",t.url),_.setAttribute("method","POST"),_.style.visibility="hidden",(t=document.createElement("textarea")).setAttribute("name","data"),t.value=JSON.stringify(d),_.appendChild(t),document.body.appendChild(_),_.submit(),setTimeout((function(){_.parentNode.removeChild(_)}),100)),d},c.prototype.getFlatCSV=function(t){var e=this._view.data,i=e.getRoot(),n=this._view.config.columns[0],r=e.getMaxLevel(),a="";e.eachChild(i,(function(i){var o=function(t,e){for(var i,o=[],s=0;s<=r;s++)t&&t[n.id]?(o[t.$level]=t[n.id],t=(i=e.getParent(t.id,!0))&&i.id?i:null):o[s]="";return o}(i,e).join(t.columnDelimiter);a+=o+Object.keys(i).reduce((function(e,n,o){return"id"===n||"parent"===n||n.startsWith("$")||0===o?e:e+t.columnDelimiter+(null===i[n]?"":i[n])}),""),a+=t.rowDelimiter})),i=this._export(t);var l=function(t){for(var e=0;e<t.length;e++)t[e]="";return t}(new Array(r+1));return i=i.header.map((function(t){return t.splice.apply(t,o([0,1],l)),t})),new s.CsvDriver(t).serialize(i,!0)+t.rowDelimiter+a},c.prototype._getCSV=function(t){var e=this._export(t),i=e.header;return(t=new s.CsvDriver(t)).serialize(i,!0)+"\n"+t.serialize(e.data,!0)},i=c,e.Exporter=i},function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),s=i(6),a=i(3),l=i(8),c=i(18),d=i(19),u=i(19),h=i(14);function f(t,e,i,n){this._grid=t,this.config=e,this._gridId=n,this._selectedCell,this._selectedCells=[],this._type=["cell","row","complex"].includes(this._grid.config.selection)&&this._grid.config.selection||"complex",this._multiselection=!!t.config.multiselection,this.events=i||new a.EventSystem(this),this._init()}f.prototype.setCell=function(t,e,i,r){var s,a=this;if(void 0===i&&(i=!1),void 0===r&&(r=!1),this._gridId&&c.focusManager.getFocusId()!==this._gridId&&c.focusManager.setFocusId(this._gridId),!(this.config.disabled||this._grid.config.$editable||(null===(s=this._selectedCells[0])||void 0===s?void 0:s.row.id)===((null===(s=t)||void 0===s?void 0:s.id)||t)&&(null===(u=this._selectedCells[0])||void 0===u?void 0:u.column.id)===((null===(u=e)||void 0===u?void 0:u.id)||e))&&(this._multiselection||!this._selectedCells.length||this._removeCell(null===(l=this._selectedCell)||void 0===l?void 0:l.row,null===(f=this._selectedCell)||void 0===f?void 0:f.column))){if(this._multiselection){if(i||r||this._removeCells(),this._selectedCells.find((function(i){return i.row.id===((null==t?void 0:t.id)||t)&&i.column.id===((null==e?void 0:e.id)||e)})))return void this.removeCell((null==t?void 0:t.id)||t,(null==e?void 0:e.id)||e);r&&1<this._selectedCells.length&&n(this._selectedCells).forEach((function(t,e){var i=t.row;t=t.column,0<e&&a.removeCell(i.id,t.id)}))}t=this._grid.data.getItem(t&&t.id||t);var l,d,u,h,f=null===(l=null===(u=this._grid.config)||void 0===u?void 0:u.columns)||void 0===l?void 0:l.filter((function(t){return!t.hidden}));e=e||(null==f?void 0:f[0]),(e=this._grid.getColumn(e.id||e))&&t&&(this._multiselection&&r&&this._selectedCells.length?(u=null===(i=this._selectedCells)||void 0===i?void 0:i[0],l=this._grid.data.getIndex(u.row.id),(r=this._grid.data.getIndex(t.id))<l&&(l=(d=[r,l])[0],r=d[1]),"cell"===this._type||"complex"===this._type?(d=(i=f.map((function(t){return t.id}))).indexOf(u.column.id),u=i.indexOf(e.id),-1!==d&&-1!==u&&(u<d&&(d=(i=[u,d])[0],u=i[1]),h=f.slice(d,u+1),this._grid.data.mapRange(l,r,(function(t){h.forEach((function(e){-1===a._findIndex({row:t,column:e})&&a._setCell(t,e)}))})))):this._grid.data.mapRange(l,r,(function(t){-1===a._findIndex({row:t,column:e})&&a._setCell(t,e)}))):this._setCell(t,e),o.awaitRedraw().then((function(){a._grid.paint(),a._setBrowserFocus()})))}},f.prototype.removeCell=function(t,e){var i,n=this;t&&e&&("cell"===this._type||"complex"===this._type)?(i=this._selectedCells.find((function(i){var n=i.row;return i=i.column,n.id==t&&i.id==e})))&&this._removeCell(i.row,i.column):t?this._selectedCells.filter((function(e){return e.row.id==t})).forEach((function(t){var e=t.row;t=t.column,n._removeCell(e,t)})):this._removeCells(),o.awaitRedraw().then((function(){n._grid.paint()}))},f.prototype.getCell=function(){return this._selectedCell},f.prototype.getCells=function(){return this._selectedCells},f.prototype.disable=function(){this.removeCell(),this.config.disabled=!0,this._grid.paint()},f.prototype.enable=function(){this.config.disabled=!1,this._grid.paint()},f.prototype.toHTML=function(){var t=this;if(!this._isUnselected()){if(this._multiselection){var e=[],i={};return this._selectedCells.forEach((function(n,o,r){var s=t._normalizeCell(n);e.push(t._toHTML(s.row,s.column,o===r.length-1||"cell"===t._type||"complex"===t._type,i[n.row.id])),i[n.row.id]=!0})),e}var n=this._normalizeCell(this._selectedCell);return this._toHTML(n.row,n.column,!0)}},f.prototype._setCell=function(t,e){t&&e&&r.isDefined(t.id)&&r.isDefined(e.id)&&this.events.fire(l.GridSelectionEvents.beforeSelect,[t,e])&&(this._selectedCell={row:t,column:e},this._multiselection?this._selectedCells.push(this._selectedCell):this._selectedCells=[this._selectedCell],this.events.fire(l.GridSelectionEvents.afterSelect,[t,e]))},f.prototype._removeCell=function(t,e){if(!(t&&e&&r.isDefined(t.id)&&r.isDefined(e.id)))return!1;if(!this.events.fire(l.GridSelectionEvents.beforeUnSelect,[t,e]))return!1;var i=this._selectedCells.findIndex((function(i){return i.row.id===t.id&&i.column.id===e.id}));return this._selectedCells.splice(i,1),this._selectedCell&&e.id===this._selectedCell.column.id&&t.id===this._selectedCell.row.id&&(this._selectedCell=null===(i=this._selectedCells)||void 0===i?void 0:i[(null===(i=this._selectedCells)||void 0===i?void 0:i.length)-1]),this.events.fire(l.GridSelectionEvents.afterUnSelect,[t,e]),!0},f.prototype._removeCells=function(){var t=this;n(this._selectedCells).forEach((function(e){t._removeCell(null==e?void 0:e.row,null==e?void 0:e.column)}))},f.prototype._init=function(){var t=this;this._grid.events.on(l.GridEvents.cellClick,(function(e,i,n){t.setCell(e,i,n.ctrlKey||n.metaKey,n.shiftKey)})),this._grid.data.events.on(s.DataEvents.beforeRemove,(function(e){var i;e&&t._selectedCell&&t._selectedCell.row&&(i=t._grid.data.getIndex(String(t._selectedCell.row.id)),(e=t._grid.data.getId(i+1))?t.setCell(e):(i=t._grid.data.getId(i-1))&&t.setCell(i),t._grid.paint())}))},f.prototype._toHTML=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var s=this._grid.data.getRawData(0,-1,null,2);if(-1===r.findIndex(s,(function(e){return e.id==t.id})))return null;var a,c,u,f,p,g,_,v=(N=this._grid.config).topSplit,m=N.bottomSplit,y=N.$totalWidth,b=N.$totalHeight,x=null==(F=N.columns)?void 0:F.filter((function(t){return!t.hidden})),w={left:d.getCurrFixedCols(this._grid.config,l.Split.left),right:d.getCurrFixedCols(this._grid.config,l.Split.right)},E=this._grid.data.getLength(),C={top:v?this._grid.data.getRawData(0,v):[],bottom:m?this._grid.data.getRawData(E-m,E):[]},S={left:null===(R=null==w?void 0:w.left)||void 0===R?void 0:R.map((function(t){return t.id})),right:null===(L=null==w?void 0:w.right)||void 0===L?void 0:L.map((function(t){return t.id}))},k={top:C.top.map((function(t){return t.id})),bottom:C.bottom.map((function(t){return t.id}))},I=null===(A=null==w?void 0:w.left)||void 0===A?void 0:A.reduce((function(t,e){return t+(e.$width||0)}),0),O=null===(j=null==w?void 0:w.right)||void 0===j?void 0:j.reduce((function(t,e){return t+(e.$width||0)}),0),P=C.top.reduce((function(t,e){return t+e.$height}),0),M=C.bottom.reduce((function(t,e){return t+e.$height}),0),D=this._grid.getCellRect(t.id,e.id),V=this._grid.getScrollState(),T=D.y,H=null===($=k.top)||void 0===$?void 0:$.includes(t.id),F=null===(N=S.left)||void 0===N?void 0:N.includes(e.id),R=(E=w.left.length&&I>D.x-V.x,C.top.length&&P>D.y-V.y),L=D.width,A=D.height-1,j=null,$=null,N=E?I+V.x:D.x;return E&&(L-=(F?h.getTotalWidth(w.left.slice(0,x.indexOf(e))):I)-(D.x-V.x)),R&&(A-=(H?h.getTotalHeight(C.top.slice(0,s.indexOf(t))):P)-(D.y-V.y)-1,T+=D.height-A),H&&(T=D.y+V.y,(a=this._grid.getSpan(t.id,e.id))&&1<a.rowspan?(f=s.indexOf(t),j=h.getTotalHeight(C.top.slice(f,f+a.rowspan))):A=v===k.top.indexOf(t.id)+1?D.height-1:D.height),F&&(N=D.x+V.x,(a=this._grid.getSpan(t.id,e.id))&&1<a.colspan?(f=null==x?void 0:x.indexOf(e),$=h.getTotalWidth(w.left.slice(f,f+a.colspan))):L=w.left.length===S.left.indexOf(e.id)+1?D.width-1:D.width),(null!==(P=w.right)&&void 0!==P&&P.length||m)&&(a=this._grid.getSpan(t.id,e.id),v=this._getReverseScrollState(V),null!==(P=w.right)&&void 0!==P&&P.length&&(c=(null===(P=S.right)||void 0===P?void 0:P.includes(e.id))||a&&x.indexOf(e)+(a.colspan||1)>x.length-w.right.length,(u=y-O<v.x+D.x+D.width)&&!c&&(L-=v.x+D.x+D.width-y+O),c&&(L=!a||null!==(P=S.right)&&void 0!==P&&P.includes(a.column)?(p=null!==(p=S.right)&&void 0!==p&&p.indexOf(e.id)?0:1,N=D.x-v.x+p,D.width-p):(f=x.length-x.indexOf(e)-(a.colspan||1),O=y-O,N=D.x+v.x<1+O?D.x:O-v.x+1,$=h.getTotalWidth(f?w.right.slice(0,-f):w.right)-1,D.width-v.x))),m&&(g=k.bottom.includes(t.id)||a&&s.indexOf(t)+(a.rowspan||1)>s.length-m,(_=b-M<v.y+D.y+D.height)&&!g&&(A-=v.y+D.y+D.height-b+M),g&&(A=a&&!k.bottom.includes(a.row)?(M=b-M,p=(f=s.length-s.indexOf(t)-(a.rowspan||1))?0:1,T=D.y+v.y<M?D.y:M-v.y,j=h.getTotalHeight(f?C.bottom.slice(0,-f):C.bottom)-p,D.height-v.y-p):(T=D.y-v.y,D.height-(m===k.bottom.indexOf(t.id)+1?1:0))))),k=null,"row"!==this._type&&"complex"!==this._type||n||(k=o.el(".dhx_grid-selected-row",{style:{width:null!==(n=w.left)&&void 0!==n&&n.length?y-V.x:y,height:A,minHeight:j,minWidth:$,display:A<0&&!j?"none":"flex",top:T,left:null!==(w=w.left)&&void 0!==w&&w.length?V.x:0,position:"absolute"}})),V=null,"cell"!==this._type&&"complex"!==this._type||!i||(V=o.el(".dhx_grid-selected-cell",{style:{width:L,height:A,top:T,minHeight:j,minWidth:$,left:N,position:"absolute",display:L<0&&!$||A<0&&!j?"none":"flex",borderLeft:E&&!F?"none":null,borderRight:u&&!c?"none":null,borderTop:R&&!H?"none":null,borderBottom:_&&!g?"none":null}})),o.el(".dhx_grid-selection",{style:{zIndex:20}},[k,V])},f.prototype._isUnselected=function(){return!this._selectedCell||!this._selectedCell.row||!this._selectedCell.column||0===this._selectedCells.length},f.prototype._findIndex=function(t){var e=this;void 0===t&&(t=this._selectedCell);var i=-1;return this._selectedCells.some((function(n,o){if("cell"===e._type||"complex"===e._type){if(r.compare(n.row,t.row)&&r.compare(n.column,t.column))return i=o,!0}else if("row"===e._type&&r.compare(n.row,t.row))return i=o,!0})),i},f.prototype._setBrowserFocus=function(){var t,e,i=this._grid.getRootView().data.getRootNode();!i||(t=i.querySelector(".dhx_grid_data"))&&this._selectedCell&&this._selectedCell.row&&this._selectedCell.column&&(e=t.querySelector('[data-dhx-id="'+this._selectedCell.row.id+'"]'),t=this._grid.getSpan(this._selectedCell.row.id,this._selectedCell.column.id),!e||(e=(i=t?i.querySelector(".dhx_span-spans"):null)?i.querySelector('[data-dhx-col-id="'+t.column+'"][data-dhx-id="'+t.row+'"]'):e.querySelector('[data-dhx-col-id="'+this._selectedCell.column.id+'"]'))&&(e.tabIndex=0,e.focus({preventScroll:!0})))},f.prototype._getReverseScrollState=function(t){var e=this._grid.config.$headerLevel*this._grid.config.headerRowHeight,i=this._grid.config.$footerLevel*this._grid.config.footerRowHeight,n=u.calcScrollBarWidth(this._grid.config,!(null===(o=this._grid.scrollView)||void 0===o||!o.config.enable)),o=this._grid.config.$totalWidth-this._grid.config.width+d.BORDERS+n.y;return n=this._grid.config.$totalHeight-this._grid.config.height+e+i+d.BORDERS+n.x,{x:0<o?o-t.x:0,y:0<n?n-t.y:0}},f.prototype._normalizeCell=function(t){var e=t.row,i=(t=t.column,this._grid.getSpan(e.id,t.id));return{row:i&&e.id!==i.row?this._grid.data.getItem(i.row):e,column:i&&t.id!==i.column?this._grid.config.columns.find((function(t){return t.id===i.column})):t}},i=f,e.Selection=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(8),r=i(128),s=i(129),a=i(130),l=i(140),c=i(141),d=i(148),u={cell:{row:null,col:null},editor:null,gridId:null};e.getEditor=function(t,e,i){var h="boolean"===e.type?"checkbox":i.$editable.editorType;if(void 0===h&&(h=i.autoHeight?"textarea":"input"),u.cell.row===t.id&&u.cell.col===e.id&&u.gridId===i.gridId&&i.$editable.editor)return u.editor;switch("checkbox"!==h&&(u={cell:{row:t.id,col:e.id},editor:u.editor,gridId:i.gridId}),n||(n=function(){u={cell:{row:null,col:null},editor:null,gridId:null}},i.events.on(o.GridEvents.afterEditEnd,n)),h){case"input":default:return u.editor=new r.InputEditor(t,e,i);case"textarea":return u.editor=new d.TextAreaEditor(t,e,i);case"select":return u.editor=new s.SelectEditor(t,e,i);case"datePicker":return u.editor=new a.DateEditor(t,e,i);case"checkbox":return new l.CheckboxEditor(t,e,i);case"multiselect":case"combobox":return u.editor=new c.ComboboxEditor(t,e,i)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8),r=i(1);function s(t,e,i){this._config=i,this._cell={row:t,col:e},this._initHandlers()}s.prototype.endEdit=function(t){var e;t||(e=this._input.value),this._config.events.fire(o.GridEvents.beforeEditEnd,[e,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),"string"!==this._cell.col.type&&r.isNumeric(e)&&(e=parseFloat(e)),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(o.GridEvents.afterEditEnd,[e,this._cell.row,this._cell.col])):this._input.focus()},s.prototype.toHTML=function(t){var e=this._cell.row[this._cell.col.id];return this._input&&(e=this._input.value),this._config.$editable.editor=this,n.el("input.dhx_cell-editor.dhx_cell-editor__input",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor",value:null!=t?t:e})},s.prototype._initHandlers=function(){var t=this;this._handlers={onBlur:function(){t.endEdit()},onChange:function(){t.endEdit()},didInsert:function(e){e=e.el,(t._input=e).focus(),e.setSelectionRange(0,e.value.length),e.addEventListener("change",t._handlers.onChange),e.addEventListener("blur",t._handlers.onBlur)}}},i=s,e.InputEditor=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(8);function r(t,e,i){this._config=i,this._cell={row:t,col:e},this._initHandlers()}r.prototype.endEdit=function(t){var e;t||(e=this._input.value),this._config.events.fire(o.GridEvents.beforeEditEnd,[e,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("keydown",this._handlers.onkeydown),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(o.GridEvents.afterEditEnd,[e,this._cell.row,this._cell.col])):this._input.focus()},r.prototype.toHTML=function(){var t=this._cell.col.options.map((function(t){return"string"==typeof t?{id:""+t,value:t}:t}))||[],e=this._cell.row[this._cell.col.id];return this._input&&(e=this._input.options[this._input.selectedIndex].value),t=t.map((function(t){return n.el("option",{selected:t.id.toString()===(null==e?void 0:e.toString()),value:t.id},t.value)})),this._config.$editable.editor=this,n.el("select.dhx_cell-editor.dhx_cell-editor__select",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor"},t)},r.prototype._initHandlers=function(){var t=this;this._handlers={onBlur:function(){t.endEdit()},onkeydown:function(e){"Escape"===e.key&&t.endEdit()},didInsert:function(e){e=e.el,(t._input=e).focus(),e.addEventListener("blur",t._handlers.onBlur),e.addEventListener("keydown",t._handlers.onkeydown)}}},i=r,e.SelectEditor=i},function(t,e,i){"use strict";var n=this&&this.__rest||function(t,e){var i={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(i[o[n]]=t[o[n]]);return i};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(34),a=i(15),l=i(11);function c(t,e,i){var n=this;this._config=i,this._cell={row:t,col:e},this._calendar=new s.Calendar(null,this._cleanConfig(e)),t=this._cell.row[this._cell.col.id],e=this._calendar.config.dateFormat,(a.stringToDate(t,e,!0)||t instanceof Date)&&(this._calendar.setValue(t),this._value=this._calendar.getValue(),this._cell.row[this._cell.col.id]=this._value),this._popup=new l.Popup,this._popup.attach(this._calendar),this._calendar.events.on(s.CalendarEvents.change,(function(){n.endEdit(!1,!0)})),this._popup.events.on(l.PopupEvents.afterHide,(function(){n.endEdit()})),this._initHandlers()}c.prototype.endEdit=function(t,e){var i=this;if(this._handlers){var n=this._calendar.config.dateFormat,s=this._cell.row[this._cell.col.id],l=this._input.value;if(!t){if(s instanceof Date||e)return this._value=this._calendar.getValue(),this._input.value=this._value,void this._popup.hide();!a.stringToDate(l,n,!0)&&l||(!s||l.length!==s.length)&&s&&l||(this._value=l)}this._config.events.fire(r.GridEvents.beforeEditEnd,[this._value,this._cell.row,this._cell.col])?(this._input.removeEventListener("focus",this._handlers.onFocus),this._input.removeEventListener("change",this._handlers.onChange),document.removeEventListener("mousedown",this._handlers.onOuterClick),o.awaitRedraw().then((function(){i._popup.destructor(),i._calendar.destructor()})),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(r.GridEvents.afterEditEnd,[this._value,this._cell.row,this._cell.col])):this._input.focus()}},c.prototype.toHTML=function(){var t=this._cell.row[this._cell.col.id];return this._config.$editable.editor=this,document.addEventListener("mousedown",this._handlers.onOuterClick),o.el("input.dhx_cell-editor.dhx_cell-editor__input.dhx_cell-editor__datepicker",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor",value:t})},c.prototype._cleanConfig=function(t){var e;return((e=t.editorConfig||{}).value,e.range,e.dateFormat,e=n(e,["value","range","dateFormat"])).dateFormat=t.format,e},c.prototype._initHandlers=function(){var t=this;this._handlers={onFocus:function(){o.awaitRedraw().then((function(){t._popup.show(t._input,{centering:!0,mode:"bottom",theme:t._input})}))},onChange:function(){t.endEdit()},onOuterClick:function(e){var i;e.target instanceof Node&&(i=t._input&&t._input.contains(e.target),e=t._popup&&t._popup.getRootNode()&&t._popup.getRootNode().contains(e.target),i||e||t._popup.hide())},didInsert:function(e){e=e.el,t._input=e,t._input.addEventListener("focus",t._handlers.onFocus),t._input.addEventListener("change",t._handlers.onChange),e.focus(),e.setSelectionRange(e.value.length,e.value.length)}}},i=c,e.DateEditor=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(1),c=i(0),d=i(3),u=i(7),h=i(42),f=i(139),p=i(15),g=i(71),_=i(2);function v(t,e){void 0===e&&(e={});var i=a.call(this,t,l.extend({weekStart:"sunday",thisMonthOnly:!1,width:"250px"},e))||this;switch(i._selected=[],i.events=new d.EventSystem,i.config.disabledDates=i.config.disabledDates||i.config.block,i.config.mode=i.config.mode||i.config.view,i.config.dateFormat||(i.config.timePicker?12===i.config.timeFormat?i.config.dateFormat="%d/%m/%y %h:%i %A":i.config.dateFormat="%d/%m/%y %H:%i":i.config.dateFormat="%d/%m/%y"),i.config.value&&i._setSelected(i.config.value),i.config.date?i._currentDate=p.DateHelper.toDateObject(i.config.date,i.config.dateFormat):i._getSelected()?i._currentDate=p.DateHelper.copy(i._getSelected()):i._currentDate=new Date,i.config.mode){case"month":i._currentViewMode="month";break;case"year":i._currentViewMode="year";break;case"timepicker":i._currentViewMode=i.config.timePicker?"timepicker":"calendar";break;default:i._currentViewMode="calendar"}return i._initHandlers(),i.config.timePicker&&(i._timepicker=new h.Timepicker(null,{timeFormat:i.config.timeFormat,controls:!0}),e=i._getSelected()||new Date,i._timepicker.setValue(e),i._time=i._timepicker.getValue(),i._timepicker.events.on(h.TimepickerEvents.afterClose,(function(){i._timepicker.setValue(i._time),i.showDate(null,"calendar")})),i._timepicker.events.on(h.TimepickerEvents.afterApply,(function(){var t=(o=i._timepicker.getValue(!0)).hour,e=o.minute,n=o.AM,o=i._getSelected();n=p.DateHelper.withHoursAndMinutes(i._getSelected()||new Date,t,e,n),i.events.fire(g.CalendarEvents.beforeChange,[n,o,!0])&&(i._selected[i._selected.length-1]=n,i.events.fire(g.CalendarEvents.change,[n,o,!0])),i._time=i._timepicker.getValue(),i.showDate(null,"calendar")}))),i.mount(t,c.create({render:function(){return i._draw()}})),i}o(v,a=u.View),v.prototype.setValue=function(t){if(!t||t instanceof Array&&0===t.length)return!1;var e=t instanceof Array?t[0]:t,i=p.DateHelper.toDateObject(e,this.config.dateFormat);return e=p.DateHelper.copy(this._getSelected()),!!this.events.fire(g.CalendarEvents.beforeChange,[i,e,!1])&&(this._selected=[],this._setSelected(t),this._timepicker&&(this._timepicker.setValue(i),this._time=this._timepicker.getValue()),this.showDate(this._getSelected()),this.events.fire(g.CalendarEvents.change,[i,e,!1]),this.paint(),!0)},v.prototype.getValue=function(t){var e=this;return void 0===t&&(t=!1),this._selected[0]?this.config.range?t?this._selected.map((function(t){return p.DateHelper.copy(t)})):this._selected.map((function(t){return p.getFormattedDate(e.config.dateFormat,t)})):t?p.DateHelper.copy(this._selected[0]):p.getFormattedDate(this.config.dateFormat,this._selected[0]):""},v.prototype.getCurrentMode=function(){return this._currentViewMode},v.prototype.showDate=function(t,e){t&&(this._currentDate=p.DateHelper.copy(t)),e&&(this._currentViewMode=e),this.paint()},v.prototype.destructor=function(){this._linkedCalendar&&this._unlink(),this._timepicker&&this._timepicker.destructor(),this.events&&this.events.clear(),this.config=this.events=null,this._uid=this._selected=this._currentDate=this._currentViewMode=this._handlers=this._timepicker=this._time=null,this.unmount()},v.prototype.clear=function(){var t=this.getValue(!0);this.events.fire(g.CalendarEvents.beforeChange,["",t,!1])&&(this.config.timePicker&&(this._timepicker.clear(),this._time=this._timepicker.getValue()),this._selected=[],this.showDate(null,this.config.mode),this.events.fire(g.CalendarEvents.change,[this.getValue(!0),t,!1]))},v.prototype.link=function(t){var e=this;this._linkedCalendar&&this._unlink(),this._linkedCalendar=t;var i=this.getValue(!0),n=t.getValue(!0),o=i&&p.DateHelper.dayStart(i),r=n&&p.DateHelper.dayStart(n);this.config.$rangeMark&&this._linkedCalendar.config.$rangeMark||(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=function(t){if(o&&r)return o<=t&&t<=r&&function(t){if(p.DateHelper.isSameDay(r,o))return null;var e="dhx_calendar-day--in-range";return p.DateHelper.isSameDay(t,o)&&(e+=" dhx_calendar-day--first-date"),p.DateHelper.isSameDay(t,r)&&(e+=" dhx_calendar-day--last-date"),e}(t)}),this.config.disabledDates&&this._linkedCalendar.config.disabledDates||(this.config.disabledDates=function(t){if(r)return r<t},this._linkedCalendar.config.disabledDates=function(t){if(o)return t<o}),this.config.thisMonthOnly=!0,t.config.thisMonthOnly=!0,this.events.on(g.CalendarEvents.change,(function(t){o=t?p.DateHelper.dayStart(t):null,e._linkedCalendar.paint()}),"link"),this._linkedCalendar.events.on(g.CalendarEvents.change,(function(t){r=t?p.DateHelper.dayStart(t):null,e.paint()}),"link"),this._linkedCalendar.paint(),this.paint()},v.prototype._unlink=function(){this._linkedCalendar&&(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=null,this.config.disabledDates=this._linkedCalendar.config.disabledDates=null,this.events.detach(g.CalendarEvents.change,"link"),this._linkedCalendar.events.detach(g.CalendarEvents.change,"link"),this._linkedCalendar.paint(),this._linkedCalendar=null)},v.prototype._setSelected=function(t){var e,i=this,n=t instanceof Array?t[0]:t;n=p.DateHelper.toDateObject(n,this.config.dateFormat),t instanceof Array&&this.config.range?(e=[],t.forEach((function(t,n){n<2&&e.push(p.DateHelper.toDateObject(t,i.config.dateFormat))})),2===e.length&&e[0]<e[1]?e.forEach((function(t){return i._selected.push(t)})):this._selected[0]=e[0]):this._selected[0]=n},v.prototype._getSelected=function(){return this._selected[this._selected.length-1]},v.prototype._draw=function(){switch(this._currentViewMode){case"calendar":return this.events.fire(g.CalendarEvents.modeChange,["calendar"]),this._drawCalendar();case"month":return this.events.fire(g.CalendarEvents.modeChange,["month"]),this._drawMonthSelector();case"year":return this.events.fire(g.CalendarEvents.modeChange,["year"]),this._drawYearSelector();case"timepicker":return this.events.fire(g.CalendarEvents.modeChange,["timepicker"]),this._drawTimepicker()}},v.prototype._initHandlers=function(){function t(t){void 0===t&&(t=!1);var i=0;switch(e._currentViewMode){case"calendar":i=t?-7:7;break;case"month":case"year":i=t?-4:4}return i}var e=this,i={Up:"ArrowUp",Down:"ArrowDown",Right:"ArrowRight",Left:"ArrowLeft",Esc:"Escape",Spacebar:"Space"};this._handlers={onkeydown:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(n,o){switch(48<=(r=n).which&&r.which<=57||65<=r.which&&r.which<=90?String.fromCharCode(r.which):(r=32===r.which?r.code:r.key,_.isIE()&&i[r]||r)){case"Enter":e._selectDate(n,o);break;case"ArrowLeft":e._moveBrowseFocus(n,o,-1);break;case"ArrowRight":e._moveBrowseFocus(n,o,1);break;case"ArrowUp":e._moveBrowseFocus(n,o,t(!0));break;case"ArrowDown":e._moveBrowseFocus(n,o,t())}var r}},onclick:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(t,i){e._selectDate(t,i)},".dhx_calendar-action__cancel":function(){e.showDate(e._getSelected(),"calendar"),e.events.fire(g.CalendarEvents.cancelClick,[])},".dhx_calendar-action__show-month":function(){return e.showDate(null,"month")},".dhx_calendar-action__show-year":function(){return e.showDate(null,"year")},".dhx_calendar-action__next":function(){var t;switch(e._currentViewMode){case"calendar":t=p.DateHelper.addMonth(e._currentDate,1);break;case"month":t=p.DateHelper.addYear(e._currentDate,1);break;case"year":t=p.DateHelper.addYear(e._currentDate,12)}e.showDate(t)},".dhx_calendar-action__prev":function(){var t;switch(e._currentViewMode){case"calendar":t=p.DateHelper.addMonth(e._currentDate,-1);break;case"month":t=p.DateHelper.addYear(e._currentDate,-1);break;case"year":t=p.DateHelper.addYear(e._currentDate,-12)}e.showDate(t)},".dhx_calendar-action__show-timepicker":function(){e._currentViewMode="timepicker",e.paint()}},onmouseover:{".dhx_calendar-day":function(t,i){e.events.fire(g.CalendarEvents.dateMouseOver,[new Date(i.attrs._date),t]),e.events.fire(g.CalendarEvents.dateHover,[new Date(i.attrs._date),t])}}}},v.prototype._getData=function(t){var e,i=this;switch(this._isSelectedInCurrentRange=!1,this.config.weekStart){case"saturday":e=-1;break;case"monday":e=1;break;default:e=0}for(var n=[],o=6,r=p.DateHelper.weekStart(p.DateHelper.monthStart(t),e);o--;){for(var s=p.DateHelper.getWeekNumber(r),a=0,l=7,c=[],d=function(){var e,n=p.DateHelper.isWeekEnd(r),o=t.getMonth()===r.getMonth(),s=u.config.disabledDates&&u.config.disabledDates(r),l=[];u.config.range&&u._selected[0]&&u._selected[1]&&(e=function(){if(i._selected[0]&&i._selected[1]){var t=p.DateHelper.dayStart(i._selected[0]),e=p.DateHelper.dayStart(i._selected[1]);return t<=r&&r<=e&&(p.DateHelper.isSameDay(i._selected[0],i._selected[1])?null:"dhx_calendar-day--in-range")}},u.config.$rangeMark=e),n&&l.push("dhx_calendar-day--weekend"),o||(u.config.thisMonthOnly?(a++,l.push("dhx_calendar-day--hidden")):l.push("dhx_calendar-day--muffled")),!u.config.mark||(o=u.config.mark(r))&&l.push(o),u.config.$rangeMark&&(e=u.config.$rangeMark(r))&&l.push(e),s&&(n?l.push("dhx_calendar-day--weekend-disabled"):l.push("dhx_calendar-day--disabled")),u._selected.forEach((function(t,e){t&&p.DateHelper.isSameDay(t,r)&&(i._isSelectedInCurrentRange=!0,t="dhx_calendar-day--selected",i.config.range&&(t+=" dhx_calendar-day--selected-"+(0===e?"first ":"last")),l.push(t))})),c.push({date:r,day:r.getDate(),css:l.join(" ")}),r=p.DateHelper.addDay(r)},u=this;l--;)d();n.push({weekNumber:s,days:c,disabledWeekNumber:7===a})}return n},v.prototype._drawCalendar=function(){var t,e=this,i=this._currentDate,n=(h=this.config).weekStart,o=h.thisMonthOnly,a=h.css,l=h.timePicker,d=h.width;switch(n){case"saturday":t=s([p.locale.daysShort[6]],p.locale.daysShort.slice(0,-1));break;case"monday":t=s(p.locale.daysShort.slice(1),[p.locale.daysShort[0]]);break;default:t=p.locale.daysShort}for(var u,h=t.map((function(t){return c.el(".dhx_calendar-weekday",t)})),f=(n=this._getData(i),!0),g=this._getSelected(),_=function(t){var i={role:"button",tabindex:-1,"aria-pressed":"false"};return t&&(e._isSelectedInCurrentRange?(t=t.date)&&g&&t.getTime()===g.getTime()&&(i.tabindex=0,i["aria-pressed"]="true"):f&&(i.tabindex=0),f=!1),i},v=[],m=[],y=0,b=n;y<b.length;y++){var x=b[y],w=x.days.map((function(t){return c.el("div.dhx_calendar-day",r({class:t.css,_date:t.date},_(t)),t.day)}));!this.config.weekNumbers||x.disabledWeekNumber&&o||m.push(c.el("div",{class:"dhx_calendar-week-number"},x.weekNumber)),v=v.concat(w)}return this.config.weekNumbers&&(u=c.el(".dhx_calendar__week-numbers",m)),a="dhx_calendar dhx_widget"+(a?" "+a:"")+(l?" dhx_calendar--with_timepicker":"")+(this.config.weekNumbers?" dhx_calendar--with_week-numbers":""),c.el("div",r({class:a,style:{width:this.config.weekNumbers?parseInt(d.toString())+48+"px":d}},this._handlers),[c.el(".dhx_calendar__wrapper",[this._drawHeader(c.el("button.dhx_calendar-action__show-month.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},p.locale.months[i.getMonth()]+" "+i.getFullYear())),this.config.weekNumbers&&c.el(".dhx_calendar__dates-wrapper",[c.el(".dhx_calendar__weekdays",h),c.el(".dhx_calendar__days",v),u]),!this.config.weekNumbers&&c.el(".dhx_calendar__weekdays",h),!this.config.weekNumbers&&c.el(".dhx_calendar__days",v),l?c.el(".dhx_timepicker__actions",[c.el("button.dhx_calendar__timepicker-button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__show-timepicker",{type:"button"},[c.el("span.dhx_button__icon.dxi.dxi-clock-outline"),c.el("span.dhx_button__text",this._time)])]):null])])},v.prototype._drawMonthSelector=function(){function t(t){return h&&i===t}var e=this._currentDate,i=e.getMonth(),n=this._getSelected()?this._getSelected().getFullYear():null,o=(d=this.config).css,s=d.timePicker,a=d.weekNumbers,l=d.width,d=d.mode,u=(s="dhx_calendar dhx_widget"+(o?" "+o:"")+(s?" dhx_calendar--with_timepicker":"")+(a?" dhx_calendar--with_week-numbers":""),!0),h=n===e.getFullYear();return c.el("div",r({class:s,style:{width:a?parseInt(l.toString())+48+"px":l}},this._handlers),[c.el(".dhx_calendar__wrapper",[this._drawHeader(c.el("button.dhx_calendar-action__show-year.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},e.getFullYear())),c.el(".dhx_calendar__months",p.locale.monthsShort.map((function(e,i){return c.el("div",r(r({class:"dhx_calendar-month"+(t(i)?" dhx_calendar-month--selected":"")},(n={role:"button",tabindex:-1,"aria-pressed":"false"},e&&(h?t(i)&&(n.tabindex=0,n["aria-pressed"]="true"):u&&(n.tabindex=0),u=!1),n)),{_date:i}),e);var n}))),"month"!==d?c.el(".dhx_calendar__actions",[c.el("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},p.locale.cancel)]):null])])},v.prototype._drawYearSelector=function(){function t(t){return e._getSelected()&&t===e._getSelected().getFullYear()}var e=this,i=this._currentDate,n=p.DateHelper.getTwelweYears(i),o=(l=this.config).css,s=l.timePicker,a=l.weekNumbers,l=(i=l.width,l.mode),d=(s="dhx_calendar dhx_widget"+(o?" "+o:"")+(s?" dhx_calendar--with_timepicker":"")+(a?" dhx_calendar--with_week-numbers":""),!0),u=this._getSelected()&&n.includes(this._getSelected().getFullYear());return c.el("div",r({class:s,style:{width:a?parseInt(i.toString())+48+"px":i}},this._handlers),[c.el(".dhx_calendar__wrapper",[this._drawHeader(c.el("button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},n[0]+"-"+n[n.length-1])),c.el(".dhx_calendar__years",n.map((function(e){return c.el("div",r({class:"dhx_calendar-year"+(t(e)?" dhx_calendar-year--selected":""),_date:e},(n={role:"button",tabindex:-1,"aria-pressed":"false"},(i=e)&&(u?t(i)&&(n.tabindex=0,n["aria-pressed"]="true"):d&&(n.tabindex=0),d=!1),n)),e);var i,n}))),"year"!==l&&"month"!==l?c.el(".dhx_calendar__actions",[c.el("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},p.locale.cancel)]):null])])},v.prototype._drawHeader=function(t){return c.el(".dhx_calendar__navigation",[c.el("button.dhx_calendar-navigation__button.dhx_calendar-action__prev"+f.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"prev",type:"button"},[c.el(".dhx_button__icon.dxi.dxi-chevron-left")]),t,c.el("button.dhx_calendar-navigation__button.dhx_calendar-action__next"+f.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"next",type:"button"},[c.el(".dhx_button__icon.dxi.dxi-chevron-right")])])},v.prototype._drawTimepicker=function(){var t=(i=this.config).css,e=i.weekNumbers,i=i.width;return c.el(".dhx_widget.dhx-calendar",{class:t?" "+t:"",style:{width:e?parseInt(i.toString())+48+"px":i}},[c.inject(this._timepicker.getRootView())])},v.prototype._selectDate=function(t,e){var i=e.attrs._date,n=p.DateHelper.copy(this._getSelected());switch(this._currentViewMode){case"calendar":var o=this.config.timePicker?p.DateHelper.mergeHoursAndMinutes(i,this._getSelected()||this._currentDate):i;if(!this.events.fire(g.CalendarEvents.beforeChange,[o,n,!0]))return;this.config.range&&1===this._selected.length&&this._selected[0]<o?this._selected.push(o):(this._selected=[],this._selected[0]=o),e.el.blur(),this.showDate(this._getSelected()),this.events.fire(g.CalendarEvents.change,[i,n,!0]);break;case"month":if("month"!==this.config.mode)p.DateHelper.setMonth(this._currentDate,i),this.showDate(null,"calendar"),this.events.fire(g.CalendarEvents.monthSelected,[i]);else{var r=p.DateHelper.fromYearAndMonth(this._currentDate.getFullYear()||this._getSelected().getFullYear(),i);if(!this.events.fire(g.CalendarEvents.beforeChange,[r,n,!0]))return;this._currentDate=r,this._selected[0]=r,this.events.fire(g.CalendarEvents.change,[this._getSelected(),n,!0]),this.events.fire(g.CalendarEvents.monthSelected,[i]),this.paint()}break;case"year":if("year"!==this.config.mode)p.DateHelper.setYear(this._currentDate,i),this.showDate(null,"month"),this.events.fire(g.CalendarEvents.yearSelected,[i]);else{if(r=p.DateHelper.fromYear(i),!this.events.fire(g.CalendarEvents.beforeChange,[r,n,!0]))return;this._currentDate=r,this._selected[0]=r,this.events.fire(g.CalendarEvents.change,[this._getSelected(),n,!0]),this.events.fire(g.CalendarEvents.yearSelected,[i]),this.paint()}}},v.prototype._moveBrowseFocus=function(t,e,i){e&&(!(i=e.parent.body[e.idx+i])||(i=i.el)&&(t.target.tabIndex=-1,i.tabIndex=0,i.focus({preventScroll:!0})))},o=v,e.Calendar=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(3),d=i(7),u=i(10),h=i(45),f=i(69),p=i(138),g=i(70),_=i(2);function v(t,e){return isNaN(t)?0:Math.min(e,Math.max(0,t))}function m(t,e){return void 0===e&&(e={}),(e=s.call(this,t,a.extend({timeFormat:24,controls:!1,valueFormat:"string",actions:!1},e))||this).events=new c.EventSystem(e),e._time={hour:0,minute:0,AM:!0},12===e.config.timeFormat&&(e._time.hour=12),e.config.controls=e.config.controls||e.config.actions,e.config.value&&e._setValue(e.config.value),e._initUI(t),e._initHandlers(),e._initEvents(),e}o(m,s=d.View),m.prototype.getValue=function(t){return 12===this.config.timeFormat&&(this._time.hour=this._time.hour%12||12),this._getValue(this._time,t)},m.prototype.setValue=function(t){this._setValue(t),this._hoursSlider.setValue(this._time.hour),this._minutesSlider.setValue(this._time.minute),this._inputsView.paint()},m.prototype.clear=function(){24===this.config.timeFormat?this.setValue("00:00"):this.setValue("12:00AM")},m.prototype.destructor=function(){this._minutesSlider&&this._minutesSlider.destructor(),this._hoursSlider&&this._hoursSlider.destructor(),this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this.events=null,this._handlers=this._time=this._inputsView=this._minutesSlider=this._hoursSlider=null,this.unmount()},m.prototype.getRootView=function(){return this.layout.getRootView()},m.prototype._getValue=function(t,e){var i=t.hour,n=t.minute;return t=t.AM,e?(e={hour:i,minute:n},12===this.config.timeFormat&&(e.AM=t),e):(i<10?"0"+i:i)+":"+(n<10?"0"+n:n)+(12===this.config.timeFormat?t?"AM":"PM":"")},m.prototype._setValue=function(t){var e,i,n=0,o=0;return"number"==typeof t&&(t=new Date(t)),t instanceof Date?(n=t.getMinutes(),o=t.getHours()):Array.isArray(t)?(o=v(t[0],23),n=v(t[1],59),t[2]&&"pm"===t[2].toLowerCase()&&(e=!0)):"string"==typeof t?(o=v(+(i=t.match(/\d+/g))[0],23),n=v(+i[1],59),t.toLowerCase().includes("pm")&&(e=!0)):"object"==typeof t&&t.hasOwnProperty("hour")&&t.hasOwnProperty("minute")&&(o=t.hour,n=t.minute,e=!t.AM),e&&o<12&&(o+=12),12===this.config.timeFormat&&!p.isTimeCheck(t)&&12<=o&&(e=!0),this._time={hour:o,minute:n,AM:!e}},m.prototype._initUI=function(t){var e=this,i={gravity:!1,css:"dhx_widget dhx_timepicker "+(this.config.css||"")+(this.config.controls?" dhx_timepicker--with-controls":""),rows:[{id:"timepicker",css:"dhx_timepicker__inputs"},{id:"hour-slider",css:"dhx_timepicker__hour"},{id:"minute-slider",css:"dhx_timepicker__minute"}]};this.config.controls&&(i.rows.unshift({id:"close-action",css:"dhx_timepicker__close"}),i.rows.push({id:"save-action",css:"dhx_timepicker__save"}));var n=this.layout=new u.Layout(t,i),o=l.create({render:function(){return e._draw()}});t=this._inputsView=d.toViewLike(o),i=this._minutesSlider=new h.Slider(null,{min:0,max:59,step:1,tooltip:!1,labelPosition:"top",label:f.default.minutes,value:this.config.value?this._time.minute:0}),o=this._hoursSlider=new h.Slider(null,{min:0,max:23,step:1,tooltip:!1,labelPosition:"top",label:f.default.hours,value:!this.config.value||12===this._time.hour&&this._time.AM?0:this._time.hour}),n.getCell("timepicker").attach(t),n.getCell("hour-slider").attach(o),n.getCell("minute-slider").attach(i),this.config.controls&&(n.getCell("save-action").attach((function(){return l.el("button.dhx_timepicker__button-save.dhx_button.dhx_button--view_flat.dhx_button--color_primary.dhx_button--size_small.dhx_button--circle.dhx_button--width_full",{onclick:e._outerHandlers.save,type:"button"},f.default.save)})),n.getCell("close-action").attach((function(){return l.el("button.dhx_timepicker__button-close.dhx_button.dhx_button--view_link.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary.dhx_button--icon.dhx_button--circle",{_ref:"close",onclick:e._outerHandlers.close,type:"button","aria-label":"close timepicker"},[l.el("span.dhx_button__icon.dxi.dxi-close")])})))},m.prototype._initHandlers=function(){function t(t){var e=v(parseInt(t.value,10),59);t.value=e.toString(),i._minutesSlider.setValue(e)}function e(t){var e=v(parseInt(t.value,10),23);t.value=e.toString(),i._hoursSlider.setValue(e)}var i=this;this._handlers={onchange:{".dhx_timepicker-input--hour":function(t){return e(t.target)},".dhx_timepicker-input--minutes":function(e){return t(e.target)}},oninput:{".dhx_timepicker-input--hour":function(t){(_.isSafari()||_.isFirefox())&&e(t.target)},".dhx_timepicker-input--minutes":function(e){(_.isSafari()||_.isFirefox())&&t(e.target)}}},this._outerHandlers={close:function(){i.events.fire(g.TimepickerEvents.beforeClose,[i.getValue(i._isTimeObj())])&&(i.events.fire(g.TimepickerEvents.afterClose,[i.getValue(i._isTimeObj())]),i.events.fire(g.TimepickerEvents.close,[]))},save:function(){i.events.fire(g.TimepickerEvents.beforeApply,[i.getValue(i._isTimeObj())])&&(i.events.fire(g.TimepickerEvents.afterApply,[i.getValue(i._isTimeObj())]),i.events.fire(g.TimepickerEvents.apply,[i.getValue()]),i.events.fire(g.TimepickerEvents.save,[i._time]))}}},m.prototype._initEvents=function(){var t=this;this._hoursSlider.events.on(h.SliderEvents.beforeChange,(function(e){if(!(e<t._hoursSlider.config.min||e>t._hoursSlider.config.max)){var i=r({},t._time);return 12===t.config.timeFormat?(i.AM=e<12,i.hour=e%12||12):i.hour=e,e=t._isTimeObj(),t.events.fire(g.TimepickerEvents.beforeChange,[t._getValue(i,e)])}})),this._hoursSlider.events.on(h.SliderEvents.change,(function(e){e<t._hoursSlider.config.min||e>t._hoursSlider.config.max||(12===t.config.timeFormat?(t._time.AM=e<12,t._time.hour=e%12||12):t._time.hour=e,e=t._isTimeObj(),t.events.fire(g.TimepickerEvents.change,[t.getValue(e)]),t._inputsView.paint())})),this._minutesSlider.events.on(h.SliderEvents.beforeChange,(function(e){if(!(e<t._minutesSlider.config.min||e>t._minutesSlider.config.max)){var i=r(r({},t._time),{minute:e});return e=t._isTimeObj(),t.events.fire(g.TimepickerEvents.beforeChange,[t._getValue(i,e)])}})),this._minutesSlider.events.on(h.SliderEvents.change,(function(e){e<t._minutesSlider.config.min||e>t._minutesSlider.config.max||(t._time.minute=e,e=t._isTimeObj(),t.events.fire(g.TimepickerEvents.change,[t.getValue(e)]),t._inputsView.paint())}))},m.prototype._draw=function(){return l.el(".dhx_timepicker-inputs",r({},this._handlers),[l.el("input.dhx_timepicker-input.dhx_timepicker-input--hour",{_key:"hour",_ref:"hour",value:1<this.getValue(!0).hour.toString().length?this.getValue(!0).hour:"0"+this.getValue(!0).hour,"aria-label":"hours"}),l.el("span.dhx_timepicker-delimer",":"),l.el("input.dhx_timepicker-input.dhx_timepicker-input--minutes",{_key:"minute",value:1<this.getValue(!0).minute.toString().length?this.getValue(!0).minute:"0"+this.getValue(!0).minute,"aria-label":"minutes"}),12===this.config.timeFormat?l.el(".dhx_timepicker-ampm",this._time.AM?"AM":"PM"):null])},m.prototype._isTimeObj=function(){var t;return"timeobject"===(null===(t=this.config.valueFormat)||void 0===t?void 0:t.toLowerCase())},o=m,e.Timepicker=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBlockRange=function(t,e,i){return void 0===i&&(i=!0),i?{min:t.left+window.pageXOffset,max:e.right+window.pageXOffset}:{min:t.top+window.pageYOffset,max:e.bottom+window.pageYOffset}},e.getMarginSize=function(t,e){return t&&("space"===t.type||"wide"===t.type&&e)?10:0}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(43),a=i(135);function l(t,e){return r.call(this,t,e)||this}o(l,r=s.Layout),l.prototype._createCell=function(t){var e=t.rows||t.cols||t.views?(t.parent=this._root,new l(this,t)):new a.ProCell(this,t);return this._root._all[e.id]=e,t.init&&t.init(e,t),e},o=l,e.ProLayout=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(20);function d(t,e){var i=s.call(this,t,e)||this;return i.scrollView=new c.ScrollView((function(){return i._getFirstRootView()})),i}i=i(66),o(d,s=i.Cell),d.prototype._getFirstRootView=function(t){return void 0===t&&(t=this),t.getParent()&&t.getParent().getRootView()?t.getParent().getRootView():this._getFirstRootView(t.getParent())},d.prototype.toVDOM=function(t){if(null===this.config&&(this.config={}),!this.config.hidden){var e,i=this._calculateStyle(),n=a.isDefined(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:this.config.padding+"px"}:"",o=this.config.full||this.config.html?i:r(r({},i),n);this.config.html||(e=this._ui?((h=this._ui.getRootView()).render&&(h=l.inject(h)),h?[this.scrollView.render(h)]:h||null):t?this.scrollView.render([t]):t||null);var s=this.config.resizable&&!this._isLastCell()&&this._getNextCell()&&!this.config.collapsed?l.el(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),r(r({},this._resizerHandlers),{_ref:"resizer_"+this._uid}),[l.el("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]):null,c={};if(this.config.on)for(var d in this.config.on)c["on"+d]=this.config.on[d];var u="";if(i=this.config.cols||this.config.rows,this.config.type&&i)switch(this.config.type){case"line":u=" dhx_layout-line";break;case"wide":u=" dhx_layout-wide";break;case"space":u=" dhx_layout-space"}var h=l.el(".dhx_layout-cell-content",{_key:this._uid+"_html",style:n},[l.el(".dhx_layout-cell-inner_html",{".innerHTML":this.config.html})]);return h=l.el("div",r(r(((t={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,t["data-cell-id"]=null!==(i=this.config.id)&&void 0!==i?i:null,t),c),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?u:""),style:o}),[this.config.full?[l.el("div",{tabindex:this.config.collapsable?"0":"-1",class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&l.el("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&l.el(".dhx_layout-cell-header__image-wrapper",[l.el("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&l.el("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?l.el("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):l.el("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:l.el("div",{style:r(r({},n),{height:"calc(100% - "+(this.config.headerHeight||37)+"px)"}),class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?u:"")},this.config.html?[l.el("div",{".innerHTML":this.config.html,class:"dhx_layout-cell dhx_layout-cell-inner_html"})]:e)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?e:[this.config.collapsed?null:this.scrollView&&this.scrollView.config.enable?this.scrollView.render([h],this._uid):h],this._checkProgress()&&this._getProgressBar()]),s?[h,s]:h}},o=d,e.ProCell=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(3),d=i(12),u=i(7),h=i(11),f=i(68),p=i(2);function g(t,e,i){return t<e?e:i<t?i:t}function _(t,e){var i=s.call(this,t,a.extend({mode:"horizontal",min:0,max:100,step:1,tooltip:!0},e))||this;return i._disabled=!1,i.config.helpMessage=i.config.helpMessage||i.config.help,void 0!==i.config.thumbLabel&&(i.config.tooltip=i.config.thumbLabel),i.config.labelInline&&(i.config.labelPosition="left"),i.events=new c.EventSystem(i),i._axis="horizontal"===i.config.mode?"clientX":"clientY",i._initStartPosition(),i._keyManager=new d.KeyManager((function(){var t;return document.activeElement===(null===(t=null===(t=i.getRootView().refs)||void 0===t?void 0:t[i._isExtraActive?"extraRunner":"runner"])||void 0===t?void 0:t.el)})),i._initHotkeys(),e=l.create({render:function(){return i._draw()},hooks:{didMount:function(){return i._calcSliderPosition()},didRedraw:function(){return i._calcSliderPosition()}}}),i._initHandlers(),i.mount(t,e),i}o(_,s=u.View),_.prototype.disable=function(){this._disabled=!0,this.paint()},_.prototype.enable=function(){this._disabled=!1,this.paint()},_.prototype.isDisabled=function(){return this._disabled},_.prototype.focus=function(t){this.getRootView().refs[t?"extraRunner":"runner"].el.focus()},_.prototype.blur=function(){this.getRootView().refs[this._isExtraActive?"extraRunner":"runner"].el.blur()},_.prototype.getValue=function(){var t,e;return this.config.range?(t=this._getValue(this._currentPosition))<(e=this._getValue(this._extraCurrentPosition))?[t,e]:[e,t]:[this._getValue(this._currentPosition)]},_.prototype.setValue=function(t){var e=this._getValue(this._currentPosition);if(Array.isArray(t)&&1<t.length){var i=this._getValue(this._extraCurrentPosition);this.events.fire(f.SliderEvents.beforeChange,[t[0],e,!1])&&(this._setValue(t[0],!1),this.events.fire(f.SliderEvents.change,[t[0],e,!1])),this.events.fire(f.SliderEvents.beforeChange,[t[1],i,!0])&&(this._setValue(t[1],!0),this.events.fire(f.SliderEvents.change,[t[1],i,!0]))}else{if(t=parseFloat(t),isNaN(t))throw new Error("Wrong value type, for more info check documentation https://docs.dhtmlx.com/suite/slider__api__slider_setvalue_method.html");this.events.fire(f.SliderEvents.beforeChange,[t,e,!1])&&(this._setValue(t),this.events.fire(f.SliderEvents.change,[t,e,!1]))}this.paint()},_.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),this._tooltip=null,this.unmount()},_.prototype._calcSliderPosition=function(){var t=this.getRootView();t&&(t=t.refs.track.el.getBoundingClientRect(),this._offsets={left:t.left+window.pageXOffset,top:t.top+window.pageYOffset},this._length="horizontal"===this.config.mode?t.width:t.height)},_.prototype._initHotkeys=function(){var t,e=this,i={arrowLeft:function(t){t.preventDefault(),e._move(-e.config.step,t.target.classList.contains("dhx_slider__thumb--extra"))},arrowRight:function(t){t.preventDefault(),e._move(e.config.step,t.target.classList.contains("dhx_slider__thumb--extra"))},arrowUp:function(t){t.preventDefault(),e._move(e.config.step,t.target.classList.contains("dhx_slider__thumb--extra"))},arrowDown:function(t){t.preventDefault(),e._move(-e.config.step,t.target.classList.contains("dhx_slider__thumb--extra"))}};for(t in i)this._keyManager.addHotKey(t,i[t])},_.prototype._move=function(t,e){void 0===e&&(e=!1),this.config.inverse&&(t=-t);var i,n=(i=this.config).max,o=i.min,r=e?this._getValue(this._extraCurrentPosition):this._getValue(this._currentPosition);(n<(i=r+t)||i<o)&&(i=r),this.events.fire(f.SliderEvents.beforeChange,[i,r,e])&&(this._setValue(r+t,e),this.events.fire(f.SliderEvents.change,[i,r,e]),this.paint())},_.prototype._initStartPosition=function(){var t,e=(r=this.config).max,i=r.min,n=r.range,o=(o=this.config.value,t=this.config.min,r=this.config.max,(o=void 0===o?[]:Array.isArray(o)?o:"string"==typeof o?o.split(",").map((function(t){return parseInt(t,10)})):[o])[0]=void 0===o[0]?t:g(o[0],t,r),o[1]=void 0===o[1]?r:g(o[1],t,r),r=o)[0],r=r[1];this._currentPosition=(o-i)/(e-i)*100,n&&(this._extraCurrentPosition=(e-r)/(e-i)*100),this._currentPosition=(o-i)/(e-i)*100,n&&(this._extraCurrentPosition=(r-i)/(e-i)*100),this._isInverse()&&(this._currentPosition=100-this._currentPosition,n&&(this._extraCurrentPosition=100-this._extraCurrentPosition))},_.prototype._getValue=function(t){this._isInverse()&&(t=100-t);var e=(n=this.config).min,i=n.max,n=n.step;return 100===t?i:0===t?e:(n=n/2<=(i=(t=t*(i-e)/100)%n)?n:0,+(Number(e)+Number(t)-i+n).toFixed(5))},_.prototype._setValue=function(t,e){void 0===e&&(e=!1);var i=(n=this.config).max,n=n.min;if(i<t||t<n)return!1;n=(t-n)/(i-n)*100,n=this._isInverse()?100-n:n,e?this._extraCurrentPosition=n:this._currentPosition=n},_.prototype._initHandlers=function(){function t(t){if(t.cancelable&&t.preventDefault(),t=((t.targetTouches?t.targetTouches[0]:t)[i._axis]-i._getBegining())/i._length*100,i._findNewDirection){if(Math.abs(i._currentPosition-t)<1)return;t>i._currentPosition?i._possibleRange=[i._currentPosition,100]:i._possibleRange=[0,i._currentPosition],i._findNewDirection=null}i._inSide(t)&&i._updatePosition(t,i._isExtraActive),i.paint()}function e(t){var e,n;i._disabled||3===t.which||(i.events.fire(f.SliderEvents.mousedown,[t]),i._isMouseMoving=!0,e=t.target.classList.contains("dhx_slider__thumb--extra")?(i._isExtraActive=!0,i._extraCurrentPosition):(i._isExtraActive=!1,i._currentPosition),i._findNewDirection=null,i.config.range?(t=(n=i._currentPosition>i._extraCurrentPosition?[i._currentPosition,i._extraCurrentPosition]:[i._extraCurrentPosition,i._currentPosition])[0],n=n[1],i._currentPosition===i._extraCurrentPosition?(i._findNewDirection=e,i._possibleRange=[0,100]):i._possibleRange=e<t?[0,t]:[n,100]):i._possibleRange=[0,100])}var i=this,n=function(e){i.events.fire(f.SliderEvents.mouseup,[e]),setTimeout((function(){i._isMouseMoving=!1,i.paint()}),4),e.targetTouches?(document.removeEventListener("touchend",n),document.removeEventListener("touchmove",t)):(document.removeEventListener("mouseup",n),document.removeEventListener("mousemove",t))};this.config.helpMessage&&(this._helper=new h.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(t){t.preventDefault(),t.stopPropagation(),i._helper.show(t.target,{theme:t.target})},onmousedown:function(i){e(i),document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)},ontouchstart:function(o){i._setTooltip(o),i._mouseIn=!1,e(o),document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n),i.paint()},ontouchend:function(t){i._setTooltip(t),i._mouseIn=!1,i.paint()},onlabelClick:function(){i.getRootView().refs.runner.el.focus()},onclick:function(t){var e;i._disabled||i._isMouseMoving||3===t.which||(e=(t[i._axis]-i._getBegining())/i._length*100,t=i.getRootView().refs,!i.config.range||Math.abs(i._currentPosition-e)<Math.abs(i._extraCurrentPosition-e)?(i._updatePosition(e,!1),t.runner.el.focus()):(i._updatePosition(e,!0),t.extraRunner.el.focus()),i.paint())},onmouseover:function(t){i._setTooltip(t),i._mouseIn=!0,i.paint()},onmouseout:function(t){i._setTooltip(t),i._mouseIn=!1,i.paint()},onfocus:function(t){i._setTooltip(t),i._focusIn=!0,i.events.fire(f.SliderEvents.focus,[]),i.paint()},onblur:function(t){i._setTooltip(t),i._focusIn=!1,i.events.fire(f.SliderEvents.blur,[]),i.paint()},onkeydown:function(t){i.events.fire(f.SliderEvents.keydown,[t])}}},_.prototype._getBegining=function(){return"horizontal"===this.config.mode?this._offsets.left-window.pageXOffset:this._offsets.top-window.pageYOffset},_.prototype._inSide=function(t){var e=this._possibleRange;return t<e[0]?(this._updatePosition(e[0],this._isExtraActive),!1):!(t>e[1]&&(this._updatePosition(e[1],this._isExtraActive),1))},_.prototype._updatePosition=function(t,e){void 0===e&&(e=!1),100<t&&(t=100),t<0&&(t=0);var i=(o=this.config).max,n=o.min,o=e?this._extraCurrentPosition:this._currentPosition;(o=this._getValue(o))!==(t=this._getValue(t))&&this.events.fire(f.SliderEvents.beforeChange,[t,o,e])&&(n=(t-n)/(i-n)*100,n=this._isInverse()?100-n:n,e?this._extraCurrentPosition=n:this._currentPosition=n,this.events.fire(f.SliderEvents.change,[t,o,e]))},_.prototype._getRunnerStyle=function(t){void 0===t&&(t=!1);var e="horizontal"===this.config.mode?"left":"top",i=t?this._extraCurrentPosition:this._currentPosition;return(t={})[e]=i+"%",t},_.prototype._isInverse=function(){return this.config.inverse&&"horizontal"===this.config.mode||!this.config.inverse&&"vertical"===this.config.mode},_.prototype._getRunnerCss=function(t){return void 0===t&&(t=!1),"dhx_slider__thumb"+(t?" dhx_slider__thumb--extra":"")+(this._isMouseMoving&&(t&&this._isExtraActive||!t&&!this._isExtraActive)?" dhx_slider__thumb--active":"")+(this._disabled?" dhx_slider__thumb--disabled":"")+(this._isNullable(t?this._extraCurrentPosition:this._currentPosition)&&!this.config.range?" dhx_slider__thumb--nullable":"")},_.prototype._draw=function(){var t=(c=this.config).labelPosition,e=c.mode,i=c.hiddenLabel,n=c.tick,o=c.majorTick,s=c.css,a=c.helpMessage,c=p.getLabelStyle(r(r({},this.config),{required:!1}));return!this._tooltip||this._mouseIn&&this._focusIn&&this._isMouseMoving||document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),l.el("div",{class:"dhx_slider dhx_slider--mode_"+e+("left"===t?" dhx_slider--label-inline":"")+(i?" dhx_slider--label_sr":"")+(n?" dhx_slider--ticks":"")+(o?" dhx_slider--major-ticks":"")+(s?" "+s:"")+(this._disabled?" dhx_slider--disabled":"")},[c?l.el("label.dhx_label.dhx_slider__label",{style:c.style,class:a?"dhx_label--with-help":"",onclick:this._handlers.onlabelClick},a?[c.label&&l.el("span.dhx_label__holder",c.label),l.el("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper})]:c.label):null,this._drawSlider()])},_.prototype._drawSlider=function(){return l.el(".dhx_widget.dhx_slider__track-holder",{"data-dhx-widget-id":this._uid},[l.el(".dhx_slider__track",{_ref:"track",onmouseover:this._handlers.onmouseover,onmouseout:this._handlers.onmouseout,onclick:this._handlers.onclick},[this._getDetector(),l.el("div",{_ref:"runner",class:this._getRunnerCss(),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(),tabindex:0}),this.config.tooltip&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip():null,this.config.tooltip&&this.config.range&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip(!0):null,this.config.range?l.el("div",{_ref:"extraRunner",class:this._getRunnerCss(!0),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(!0),tabindex:0}):null]),this.config.tick?this._drawTicks():null])},_.prototype._getDetector=function(){var t;if(this._disabled)return l.el(".dhx_slider__range");var e="horizontal"===this.config.mode?"left":"top",i="horizontal"===this.config.mode?"width":"height";if(this.config.range){var n=this._currentPosition>this._extraCurrentPosition?[this._currentPosition,this._extraCurrentPosition]:[this._extraCurrentPosition,this._currentPosition],o=n[0],r=n[1];return l.el(".dhx_slider__range",{style:((n={})[e]=r+"%",n[i]=o-r+"%",n)})}return this._isInverse()?l.el(".dhx_slider__range",{style:((t={})[e]=this._currentPosition+"%",t[i]=100-this._currentPosition+"%",t)}):l.el(".dhx_slider__range",{style:((t={})[e]=0,t[i]=this._currentPosition+"%",t)})},_.prototype._drawTooltip=function(t){var e,i,n;void 0===t&&(t=!1),"none"!==this._activeTooltip&&this.getRootView()&&(e="extraTooltip"===this._activeTooltip?this._extraCurrentPosition:this._currentPosition,i="horizontal"===this.config.mode?"left":"top",n="",(t&&this._isExtraActive||!t&&!this._isExtraActive)&&(n+=" dhx_slider__thumb-label--active"),this._tooltip||(this._tooltip=document.createElement("div")),t=("tooltip"===this._activeTooltip?this.getRootView().refs.runner:this.getRootView().refs.extraRunner).el.getBoundingClientRect(),this._tooltip.className="dhx_slider__thumb-label"+n,this._tooltip.style.left=t.x+("left"==i?6:-30)+window.pageXOffset+"px",this._tooltip.style.top=t.y+("left"==i?-30:6)+window.pageYOffset+"px",this._tooltip.innerText=this._getValue(e).toString(),document.body.appendChild(this._tooltip))},_.prototype._getTicks=function(){for(var t=this.config,e=t.max,i=t.min,n=t.step,o=t.tick,r=t.majorTick,s=e-i,a=n*o/s,l=[],c=0,d=0;c<1;){var u=+(Number(i)+c*s).toFixed(5),h=d%r==0;l.push({position:(this._isInverse()?100*(1-c):100*c)+"%",isMultiple:h,label:h&&"function"==typeof this.config.tickTemplate?this.config.tickTemplate(u):null}),c+=a,d++}return l.push({position:(this._isInverse()?0:100)+"%",isMultiple:!0,label:"function"==typeof this.config.tickTemplate?this.config.tickTemplate(e):null}),l},_.prototype._drawTicks=function(){var t="horizontal"===this.config.mode?"left":"top";return l.el(".dhx_slider__ticks-holder",this._getTicks().map((function(e){var i;return l.el("div",{class:"dhx_slider__tick"+(e.isMultiple?" dhx_slider__tick--major":""),style:((i={})[t]=e.position,i)},void 0!==e.label?[l.el(".dhx_slider__tick-label",e.label)]:null)})))},_.prototype._isNullable=function(t){return this._isInverse()?100===t:0===t},_.prototype._setTooltip=function(t){t.target.classList.contains("dhx_slider__thumb--extra")?this._activeTooltip="extraTooltip":t.target.classList.contains("dhx_slider__thumb")?this._activeTooltip="tooltip":this._activeTooltip="none"},o=_,e.Slider=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(3),d=i(2),u=i(7),h=i(67);function f(t){void 0===t&&(t={});var e=s.call(this,null,a.extend({},t))||this,i=e._popup=document.createElement("div");return i.className="dhx_widget dhx_popup"+(e.config.css?" "+e.config.css:""),i.style.position="absolute",i.setAttribute("role","dialog"),i.setAttribute("aria-modal","true"),i.setAttribute("aria-live","polite"),e.config.theme&&e._setTheme(e.config.theme),e.mount(i,l.create({render:function(){return e.toVDOM()}})),e._clickEvent=function(t){return e.events.fire(h.PopupEvents.click,[t])},e.events=t.events||new c.EventSystem(e),e._isActive=!1,e}o(f,s=u.View),f.prototype.show=function(t,e,i){var n=this;void 0===e&&(e={}),this.events.fire(h.PopupEvents.beforeShow,[t])&&(t=d.toNode(t),this._isActive?this._setPopupSize(t,e):(i&&this.attach(i),e.theme&&this._setTheme(e.theme),this._popup.style.left="0",this._popup.style.top="0",l.awaitRedraw().then((function(){n._setPopupSize(t,e),n._popup.style.position="fixed",document.body.appendChild(n._popup),n._isActive=!0})).then((function(){n._popup.style.position="absolute",n.events.fire(h.PopupEvents.afterShow,[t]),n._outerClickDestructor=n._detectOuterClick(t)}))))},f.prototype.hide=function(){this._hide(!1,null)},f.prototype.isVisible=function(){return this._isActive},f.prototype.attach=function(t,e){return this._html=null,"object"==typeof t?this._ui=t:"string"==typeof t?this._ui=new window.dhx[t](null,e):"function"==typeof t&&(t.prototype instanceof u.View?this._ui=new t(null,e):this._ui={getRootView:function(){return t(e)}}),this.paint(),this._ui},f.prototype.attachHTML=function(t){this._html=t,this.paint()},f.prototype.getWidget=function(){return this._ui},f.prototype.getContainer=function(){return this.getRootView().refs.content.el},f.prototype.toVDOM=function(){var t;return this._html?t=l.el(".dhx_popup__inner-html-content",{".innerHTML":this._html}):(t=this._ui?this._ui.getRootView():null)&&t.render&&(t=l.inject(t)),l.el("div",{class:"dhx_popup-content",tabindex:0,onclick:this._clickEvent,_key:this._uid,_ref:"content"},[t])},f.prototype.destructor=function(){this.hide(),this._outerClickDestructor&&this._outerClickDestructor(),this._popup=null},f.prototype._setTheme=function(t){("string"==typeof t||(t=null===(t=null==t?void 0:t.closest("[data-dhx-theme]"))||void 0===t?void 0:t.getAttribute("data-dhx-theme")))&&this._popup.setAttribute("data-dhx-theme",t)},f.prototype._setPopupSize=function(t,e,i){var n=this;void 0===i&&(i=3);var o=(s=this._popup.getBoundingClientRect()).width,s=s.height;if(this._timeout&&(clearTimeout(this._timeout),this._timeout=null),!i||0!==o&&0!==s){if(s=(o=d.fitPosition(t,r(r({centering:!0,mode:"bottom"},e),{width:o,height:s}))).left,o=o.top,this._popup.style.left=s,this._popup.style.top=o,e.indent&&0!==e.indent)switch(e.mode){case"top":this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)-parseInt(e.indent.toString(),null)+"px";break;case"bottom":default:this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)+parseInt(e.indent.toString(),null)+"px";break;case"left":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)-parseInt(e.indent.toString(),null)+"px";break;case"right":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)+parseInt(e.indent.toString(),null)+"px"}}else this._timeout=setTimeout((function(){n._isActive&&(n._setPopupSize(t,e,i-1),n._timeout=null)}))},f.prototype._detectOuterClick=function(t){var e=this,i=!1,n=new WeakMap,o=function(r){var s=r.target,a=document.querySelectorAll(".dhx_popup");for(i?a.forEach((function(t){return n.has(t)||n.set(t,e._popup)})):(i=Boolean(a.length))&&a.forEach((function(t){return n.set(t,!0)}));s;){if(s===t||s===e._popup||n.get(s)===e._popup)return;s=s.parentNode}e._hide(!0,r)&&document.removeEventListener("mousedown",o)};return document.addEventListener("mousedown",o),function(){return document.removeEventListener("mousedown",o)}},f.prototype._hide=function(t,e){if(this._isActive)return!!this.events.fire(h.PopupEvents.beforeHide,[t,e])&&(document.body.removeChild(this._popup),this._isActive=!1,this._outerClickDestructor&&(this._outerClickDestructor(),this._outerClickDestructor=null),this.events.fire(h.PopupEvents.afterHide,[e]),!0)},o=f,e.Popup=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeCheck=function(t){return/(^12:[0-5][0-9]?AM$)/i.test(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linkButtonClasses=".dhx_button.dhx_button--view_link.dhx_button--icon.dhx_button--size_medium.dhx_button--color_secondary"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=i(8);function s(t,e,i){this._config=i,this._cell={row:t,col:e},this._initHandlers()}s.prototype.endEdit=function(){var t=this._checked;this._config.events.fire(r.GridEvents.beforeEditEnd,[t,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(r.GridEvents.afterEditEnd,[t,this._cell.row,this._cell.col])):this._input.checked=!t},s.prototype.toHTML=function(){void 0===this._checked&&(this._checked=this._cell.row[this._cell.col.id]);var t=n.uid();return o.el("div.dhx_checkbox.dhx_cell-editor__checkbox",[o.el("label",{style:{display:"none"},for:t},this._checked||"false"),o.el("input.dhx_checkbox__input",{type:"checkbox",_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor",checked:this._checked,id:t,style:{userSelect:"none"}}),o.el("span.dhx_checkbox__visual-input")])},s.prototype._initHandlers=function(){var t=this;this._handlers={onClick:function(){var e=!t._input.checked;t._config.events.fire(r.GridEvents.beforeEditStart,[t._cell.row,t._cell.col,"checkbox"])?(t._checked=e,t._config.events.fire(r.GridEvents.afterEditStart,[t._cell.row,t._cell.col,"checkbox"]),t.endEdit()):t._input.checked=!e},didInsert:function(e){t._checkbox=e.el.parentNode.lastChild,t._input=e.el.parentNode.querySelector("input"),e.el.parentNode.addEventListener("click",t._handlers.onClick)}}},i=s,e.CheckboxEditor=i},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(28),a=i(18);function l(t,e,i){this._config=i,this._cell={row:t,col:e},this._initHandlers()}l.prototype.endEdit=function(t){var e,i,n=this;t||(e=this._input.getValue(),i="multiselect"===this._cell.col.editorType?e&&e.split(",").map((function(t){return n._input.data.getItem(t).value})).join(", "):null===(i=this._input.data.getItem(e))||void 0===i?void 0:i.value),this._config.events.fire(r.GridEvents.beforeEditEnd,[i,this._cell.row,this._cell.col])?(this._input.popup.hide(),document.removeEventListener("mousedown",this._handlers.onOuterClick),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),a.focusManager.setFocusId(this._config.gridId),null!=e&&e.toString().split(",").forEach((function(t){var e=n._cell.col.options.find((function(e){return"string"==typeof e?e===t:e.id.toString()===t}));t&&!e&&n._cell.col.options.push(n._input.data.getItem(t))})),this._config.events.fire(r.GridEvents.afterEditEnd,[i,this._cell.row,this._cell.col])):this._input.focus()},l.prototype.toHTML=function(){var t=this,e=this._cell.col.options.map((function(t){return"string"==typeof t?{id:""+t,value:t}:t}))||[];return this._input||(this._input=new s.Combobox(null,n({itemHeight:37,css:"dhx_cell-editor__combobox",multiselection:"multiselect"===this._cell.col.editorType},this._cell.col.editorConfig)),this._input.data.parse(e),e=this._cell.row[this._cell.col.id],e="multiselect"===this._cell.col.editorType?((null==e?void 0:e.toString())||"").split(", "):e,this._input.setValue(e),this._input.events.on("keydown",this._handlers.onkeydown)),document.addEventListener("mousedown",this._handlers.onOuterClick),this._config.$editable.editor=this,o.awaitRedraw().then((function(){var e=t._input.getRootView().refs.holder.el;t._input.popup.getContainer().style.width=e.offsetWidth+"px",t._input.popup.show(e)})),a.focusManager.setFocusId(this._input._uid),o.inject(this._input.getRootView())},l.prototype._initHandlers=function(){var t=this;this._handlers={onOuterClick:function(e){var i;e.target instanceof Node&&(i=t._input&&t._input.getRootNode()&&t._input.getRootNode().contains(e.target),e=t._input.popup&&t._input.popup.getRootNode()&&t._input.popup.getRootNode().contains(e.target),i||e||t.endEdit())},onkeydown:function(e){"Escape"!==e.key&&"Tab"!==e.key||t.endEdit()}}},i=l,e.ComboboxEditor=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KEY_CODES={BACKSPACE:8,ENTER:13,ESC:27,DOWN_ARROW:40,UP_ARROW:38,LEFT_ARROW:37,RIGHT_ARROW:39}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(144);e.getEditor=function(t,e){return new n.InputEditor(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(46);function r(t,e){var i=this;this._list=e,this._config=e.config,this._item=t,this._list.events.on(o.ListEvents.focusChange,(function(t,e){i._mode&&e!==i._item.id&&i.endEdit()})),this._initHandlers()}r.prototype.endEdit=function(){var t;this._input&&(t=this._input.value,this._list.events.fire(o.ListEvents.beforeEditEnd,[t,this._item.id])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._input.removeEventListener("keydown",this._handlers.onKeyDown),this._handlers={},this._mode=!1,this._list.events.fire(o.ListEvents.afterEditEnd,[t,this._item.id])):this._input.focus())},r.prototype.toHTML=function(){this._mode=!0;var t=this._config.itemHeight;return n.el(".dhx_input__wrapper",{role:"presentation"},[n.el("div.dhx_input__container",{role:"presentation"},[n.el("input.dhx_input",{class:this._item.css?" "+this._item.css:"",style:{height:t,width:"100%",padding:"8px 12px"},_hooks:{didInsert:this._handlers.didInsert},_key:this._item.id,"data-dhx-id":this._item.id})])])},r.prototype._initHandlers=function(){var t=this;this._handlers={onBlur:function(){t.endEdit()},onChange:function(){t.endEdit()},onKeyDown:function(e){"Enter"===e.key&&t._item.value===t._input.value&&t.endEdit(),"Escape"===e.key&&(t._input.value=t._item.value,t.endEdit())},didInsert:function(e){e=e.el,(t._input=e).focus(),e.value=t._item.value,e.setSelectionRange(0,e.value.length),e.addEventListener("change",t._handlers.onChange),e.addEventListener("blur",t._handlers.onBlur),e.addEventListener("keydown",t._handlers.onKeyDown)}}},i=r,e.InputEditor=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(0),c=i(20);function d(t,e){var i=a.call(this,t,e)||this;return i.scrollView=new c.ScrollView((function(){return i.getRootView()})),i.paint(),i}i=i(73),o(d,a=i.List),d.prototype.destructor=function(){a.prototype.destructor.call(this),this.scrollView=null},d.prototype.showItem=function(t){var e,i,n,o=this.getRootView();o&&o.node&&o.node.el&&void 0!==t&&(e=this.getRootNode())&&(i=this.config.virtual,n=this.data.getIndex(t),o=Math.floor(n/e.children.length)||0,t=e.children[n-e.children.length*o],(i||t)&&(o=i?parseInt(this.config.itemHeight):t.clientHeight,(t=i?n*o:t.offsetTop)>=e.scrollTop+e.clientHeight-o?e.scrollTo(0,t-e.clientHeight+o):t<e.scrollTop&&e.scrollTo(0,t)))},d.prototype._renderList=function(){var t=this,e=this._getRange(),i=this.data.getRawData(e[0],e[1]).map((function(e,i){return t._renderItem(e,i)}));this.config.virtual&&(i=s([l.el(".div",{style:{height:e[2]+"px"}})],i,[l.el(".div",{style:{height:e[3]+"px"}})]));var n=this.scrollView&&this.scrollView.config.enable;return e=(this.config.css||"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":"")+(n?" dhx_list--scroll-view":""),l.el("ul.dhx_widget.dhx_list",r(r({style:{"max-height":this.config.height,position:"relative"},class:e,"data-dhx-widget-id":this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),n?[].concat(this.scrollView.render(i)):i)},o=d,e.ProList=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.startNewListen=function(t){this._isActive=!0,this._sequence="",this._currentAction=t},o.prototype.endListen=function(){this._currentAction=null,this.reset(),this._isActive=!1},o.prototype.reset=function(){this._sequence=""},o.prototype._change=function(){this._currentAction(this._sequence),this._addClearTimeout()},o.prototype._addClearTimeout=function(){var t=this;this._clearTimeout&&clearTimeout(this._clearTimeout),this._clearTimeout=setTimeout((function(){t.reset(),t._clearTimeout=null}),2e3)},o);function o(){var t=this;this._sequence="",document.addEventListener("keydown",(function(e){t._isActive&&("Backspace"===(e=e.key)&&0<t._sequence.length&&(t._sequence=t._sequence.slice(0,t._sequence.length-1),t._change()),e.length<2&&(t._sequence+=e,t._change()))}))}e.KeyListener=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(72),a=i(35),l=i(10),c=i(75);function d(t,e){return r.call(this,t,e)||this}o(d,r=s.Combobox),d.prototype._createLayout=function(){var t=this.list=new a.ProList(null,{$template:s.$template,template:this.config.template,htmlEnable:this.config.htmlEnable,virtual:this.config.virtual,keyNavigation:!0,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),e=this._layout=new l.ProLayout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll,".dhx_combobox-options__action-create-option":this._handlers.addOption}}});e.getCell("list").attach(t),this.config.multiselection&&this.config.selectAllButton&&e.getCell("select-unselect-all").attach(c.selectAllView)},o=d,e.ProCombobox=o},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(8),s=i(1),a=i(24);function l(t,e,i){this._config=i,this._cell={row:t,col:e},this._width=this._cell.col.$width,e=0,this._config.firstColId===this._cell.col.id&&this._cell.row.hasOwnProperty("$level")&&(e=a.getTreeCellWidthOffset(this._cell.row)),this._width-=e-4,this._initHandlers()}l.prototype.endEdit=function(t){var e;t||(e=this._editor.value),this._config.events.fire(r.GridEvents.beforeEditEnd,[e,this._cell.row,this._cell.col])?(this._editor.removeEventListener("blur",this._handlers.onBlur),this._editor.removeEventListener("change",this._handlers.onChange),this._editor.removeEventListener("input",this._handlers.onInput),"string"!==this._cell.col.type&&s.isNumeric(e)&&(e=parseFloat(e)),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(r.GridEvents.afterEditEnd,[e,this._cell.row,this._cell.col])):this._editor.focus()},l.prototype.toHTML=function(){var t=this._cell.row[this._cell.col.id];this._editor&&(t=this._editor.value);var e=void 0!==(this._config.$editable.editor=this)._cell.row.height||this._cell.col.htmlEnable?"dhx_cell-editor dhx_cell-editor__textarea_constant-height":"dhx_cell-editor dhx_cell-editor__textarea";return o.el("textarea",{_hooks:{didInsert:this._handlers.didInsert},_ref:"textarea",_key:"cell_editor","data-dhx-id":"cell_editor",value:t,class:e,style:{width:this._width}})},l.prototype._initHandlers=function(){var t=this;this._handlers={onBlur:function(){t.endEdit()},onChange:function(){t.endEdit()},onInput:function(e){if(void 0===t._cell.row.height&&!t._cell.col.htmlEnable){var i=t._getCurrentHeight(t._editor.value,{width:t._cell.col.$width-2,maxHeight:t._config.rowHeight});t._cell.row[t._cell.col.id]=t._editor.value;var n=a.getCalculatedRowHeight(a.getMaxRowHeight(t._cell.row,t._config.columns)),o=a.getCalculatedRowHeight(a.getMaxRowHeight(((o={})[t._cell.col.id]=t._cell.row[t._cell.col.id],o),t._config.columns));if(t._minHeight=n===o?t._config.rowHeight:n,i>=t._minHeight&&i!==t._prevHeight){if(!t._config.events.fire(r.GridEvents.beforeRowResize,[t._cell.row,e,i]))return;t._config.events.fire(r.GridEvents.afterRowResize,[t._cell.row,e,i])}t._prevHeight=i}},didInsert:function(e){t._editor=e.el,t._editor.focus(),t._editor.setSelectionRange(0,t._editor.value.length),t._editor.addEventListener("change",t._handlers.onChange),t._editor.addEventListener("blur",t._handlers.onBlur),t._editor.addEventListener("input",t._handlers.onInput)}}},l.prototype._getCurrentHeight=function(t,e){e=n({width:100,maxHeight:40,lineHeight:20},e);var i=document.createElement("textarea");i.className="dhx_cell-editor dhx_cell-editor__textarea",i.value=t,i.style.width=e.width+"px",i.style.lineHeight=e.lineHeight+"px",i.style.maxHeight=e.maxHeight+"px",i.style.boxSizing="border-box",document.body.appendChild(i);var o=this._getElementHeight(i),r=i.value.split("\n").length;return t=Math.round(o/e.lineHeight),o=o<e.maxHeight?e.maxHeight:o,document.body.removeChild(i),1===r&&r===t?e.maxHeight:o},l.prototype._getElementHeight=function(t){return t.scrollHeight},i=l,e.TextAreaEditor=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(28),r=i(6),s=i(24),a=i(1),l=i(150),c=i(151),d=i(152);function u(t,e,i,n){if(t&&e&&i){var o=t.id;return t=n?n(o,e.data):e.data.reduce((function(t,e){return void 0===e[o]||""===e[o]||isNaN(e[o])||t.push(parseFloat(e[o])),t}),[]),n=t,"tree"===e.type&&(n=e.data.reduce((function(t,i){var n;return 0===i.$level&&(void 0===i[o]||""===i[o]||isNaN(i[o])?(n=0,e.datacollection.eachChild(i.id,(function(t){e.datacollection.haveItems(t.id)||(n+=parseFloat(t[o]))})),t.push(n)):t.push(parseFloat(i[o])||0)),t}),[])),i(t,n)}}e.getContent=function(){function t(t){var e=t.$uniqueData;return"combobox"!==t.editorType&&"select"!==t.editorType&&"multiselect"!==t.editorType||!t.options||(e=e.map((function(e){var i=t.options.find((function(t){return"string"==typeof t?e===t:e===t.id}));return i&&"string"!=typeof i?i.value:e}))),"string"!==t.type?Array.from(new Set(e.map((function(e){return s.toFormat(e,t.type,t.format)})))):e}var e=this;return{inputFilter:{element:{},toHtml:function(t,e){var i=this,n=a.uid(),o=t.id.toString();return(n=new d.InputFilter(t,e,n,this.value[o])).events.on("change",(function(t){i.value[o]=t})),(this.element[o]=n).getFilter()},match:function(t){for(var e=t.val,i=t.match,n=(t=t.col,t=s.toFormat(e,t.type,t.format),""),o=0;o<i.length;o++){var r=i.charCodeAt(o);n+=32<r&&r<48||63===r||90<r&&r<95||124===r?"\\"+i[o]:i[o]}return new RegExp(""+n,"i").test(t)},value:{}},selectFilter:{element:{},toHtml:function(e,i){var n=this,o=e.id.toString(),r=t(e);return(r=new c.SelectFilter(e,i,r,this.value[o])).events.on("change",(function(t){n.value[o]=t})),(this.element[o]=r).getFilter()},match:function(t){var e=t.val,i=t.match;return t=t.col,t=s.toFormat(e,t.type,t.format),!i||(t||"boolean"==typeof t)&&t.toString()==i},value:{}},comboFilter:{element:{},toHtml:function(e,i){var s,a,c,d=this,u=e.id.toString();return!this.element[u]&&i.events?(s=t(e),a=e.header.filter((function(t){return void 0!==t.filterConfig}))[0],(c=new l.ComboFilter(e,i,s,this.value[u],a)).events.on("change",(function(t){d.value[u]=t})),this.element[u]=c,i.events.on(r.DataEvents.change,(function(i,n){"add"!==n&&"update"!==n&&"remove"!==n||(n=t(e),c.getFilter().data.parse(n.map((function(t){return{value:t}}))),c.getFilter().events.fire(o.ComboboxEvents.change,[c.getFilter().list.selection.getItem()]))})),i.events.on(r.DataEvents.removeAll,(function(){c.getFilter().data.parse(e.$uniqueData.map((function(t){return{value:t}}))),c.getFilter().events.fire(o.ComboboxEvents.change,[c.getFilter().list.selection.getItem()])}))):c=this.element[e.id]||new l.ComboFilter(e),n.inject(c.getFilter().getRootView())},match:function(t){var e,i=t.val,n=void 0===(e=t.match)?"":e,o=void 0!==(e=t.multi)&&e,r=(t=t.col,s.toFormat(i,t.type,t.format));if(Array.isArray(n)){for(var a=void 0,l=0;l<n.length&&"break"!==function(t){if(a=o?!!r.split(", ").find((function(e){return e===n[t]})):n[t]===r)return"break"}(l);l++);return!n||!n.length||a}return""===n||r===n},destroy:function(){if(e.content&&e.content.comboFilter.element){var t,i=e.content.comboFilter.element;for(t in i)i[t].destructor(),delete i[t]}},value:{}},sum:{calculate:function(t,e){return e.reduce((function(t,e){return t+(parseFloat(e)||0)}),0)},toHtml:function(t,e){return e=u(t,e,this.calculate),t.format||"percent"===t.type?s.toFormat(e,t.type,t.format):e?e.toFixed(3):null}},avg:{calculate:function(t,e){return t.length?e.reduce((function(t,e){return t+e}),0)/t.length:null},toHtml:function(t,e){return e=u(t,e,this.calculate),t.format||"percent"===t.type?s.toFormat(e,t.type,t.format):e?e.toFixed(3):null}},min:{calculate:function(t){return t.length?Math.min.apply(Math,t):null},toHtml:function(t,e){return e=u(t,e,this.calculate),t.format||"percent"===t.type?s.toFormat(e,t.type,t.format):e?e.toFixed(3):null}},max:{calculate:function(t){return t.length?Math.max.apply(Math,t):null},toHtml:function(t,e){return e=u(t,e,this.calculate),t.format||"percent"===t.type?s.toFormat(e,t.type,t.format):e?e.toFixed(3):null}},count:{calculate:function(t,e){return e.length},validate:function(t,e){return e.reduce((function(e,i){return void 0!==i[t]&&""!==i[t]&&(isNaN(i)?e.push(1):e.push(i)),e}),[])},toHtml:function(t,e){return u(t,e,this.calculate,this.validate)}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(28),o=i(3),r=i(6),s=i(8);function a(t,e,i,n,r){this.events=new o.EventSystem,this.column=t,this.config=e,this.data=i,this.value=n,this.filterConfig=(null==r?void 0:r.filterConfig)||{},this.initFilter(),this.config&&this.initHandlers()}a.prototype.initFilter=function(){this._filter=new n.Combobox(null,Object.assign({},this.filterConfig)),this.data&&this._filter.data&&this._filter.data.parse(this.data.map((function(t){return{value:t}})))},a.prototype.initHandlers=function(){var t,e=this,i=this.column.id.toString();this._filter.events.on(r.DataEvents.load,(function(){e._filter.data.parse(e.column.$uniqueData.map((function(t){return{value:t}})))})),this._filter.events.on("change",(function(t){var n;t&&(n=void 0,(Array.isArray(t)?t.find((function(t){return e._filter.data.getItem(t)})):e._filter.data.getItem(t))?(n=e._filter.config.multiselection?e._filter.list.selection.getItem().map((function(t){if(t&&e._filter.data.getItem(t.id))return t.value})):e._filter.list.selection.getItem().value,null!==(t=e.config.events)&&void 0!==t&&t.fire(s.GridEvents.filterChange,[n,i,"comboFilter"])):null!==(n=e.config.events)&&void 0!==n&&n.fire(s.GridEvents.filterChange,["",i,"comboFilter"]))})),this._filter.popup.events.on("afterHide",(function(){e._filter.list.selection.getItem()&&(!e._filter.config.multiselection||e._filter.list.selection.getItem().length)||e.clear()})),null!==(t=this.config.events)&&void 0!==t&&t.on(s.GridEvents.scroll,(function(){var t;e._isFocused&&null!==(t=e._filter.getRootView().refs)&&void 0!==t&&t.input&&e._filter.focus()})),null!==(t=this.config.events)&&void 0!==t&&t.on(s.GridEvents.headerCellMouseDown,(function(t){t.id!==e.column.id&&e.blur()})),null!==(t=this.config.events)&&void 0!==t&&t.on(s.GridEvents.cellMouseDown,(function(){return e.blur()}))},a.prototype.getFilter=function(){return this._filter},a.prototype.setValue=function(t){var e,i=this;!this.filterConfig.multiselection&&Array.isArray(t)||(this.value=t,this._filter.clear(),e=this.filterConfig.multiselection&&Array.isArray(this.value)?this.value.map((function(t){var e;return null===(e=i._filter.data.find((function(e){return e.value===t})))||void 0===e?void 0:e.id})):null===(e=this._filter.data.find((function(t){return t.value===i.value})))||void 0===e?void 0:e.id,this._filter.setValue(e),this.events.fire(s.HeaderFilterEvent.change,[this.value]),null!==(e=this.config.events)&&void 0!==e&&e.fire(s.GridEvents.filterChange,[this.value,this.column.id,"comboFilter"]))},a.prototype.clear=function(){this.setValue("")},a.prototype.focus=function(){var t;this._isFocused=!0,null!==(t=this._filter.getRootView().refs)&&void 0!==t&&t.input&&this._filter.focus()},a.prototype.blur=function(){var t;this._isFocused=!1,null!==(t=this._filter.getRootView().refs)&&void 0!==t&&t.input&&this._filter.blur()},i=a,e.ComboFilter=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(3),r=i(8);function s(t,e,i,n){this.events=new o.EventSystem,this.column=t,this.config=e,this.data=i,this.value=n||"",this.initHandlers(),this.initFilter()}s.prototype.initHandlers=function(){var t=this;this._handlers={onchange:function(e){var i,n=(null===(i=e.target)||void 0===i?void 0:i.value)||(null===(i=null===(i=e.composedPath())||void 0===i?void 0:i[0])||void 0===i?void 0:i.value)||(null===(n=e.explicitOriginalTarget)||void 0===n?void 0:n.value);t.setValue(n)},onfocus:function(){t._isFocused=!0},onblur:function(){t._isFocused=!1}}},s.prototype.initFilter=function(){var t,e=this;this._filter=n.el("label.dhx_grid-filter__label.dxi.dxi-menu-down",{_ref:this.column.id+"_filter"},[n.el("select.dxi.dxi-menu-down",{type:"text",class:"dhx_input dhx_grid-filter dhx_grid-filter--select",onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_key:this.column.id},[n.el("option",{value:""},""),this.data.map((function(t){return""!==(t=null!=t?t:"")&&n.el("option",{value:t,selected:e.value===t.toString()},t)}))])]),null!==(t=this.config.events)&&void 0!==t&&t.on(r.GridEvents.scroll,(function(){var t,i=null===(t=null===(t=null===(t=null===(t=e.config.events)||void 0===t?void 0:t.context)||void 0===t?void 0:t.getRootView())||void 0===t?void 0:t.refs[e.column.id+"_filter"])||void 0===t?void 0:t.el;e._isFocused&&i&&n.awaitRedraw().then((function(){i.focus()}))})),null!==(t=this.config.events)&&void 0!==t&&t.on(r.GridEvents.headerCellMouseDown,(function(t){t.id!==e.column.id&&e.blur()})),null!==(t=this.config.events)&&void 0!==t&&t.on(r.GridEvents.cellMouseDown,(function(){return e.blur()}))},s.prototype.getFilter=function(){return this._filter},s.prototype.setValue=function(t){this.value=t||"",this.events.fire(r.HeaderFilterEvent.change,[t]),null!==(t=this.config.events)&&void 0!==t&&t.fire(r.GridEvents.filterChange,[this.value,this.column.id,"selectFilter"])},s.prototype.clear=function(){this.setValue("")},s.prototype.focus=function(){this._isFocused=!0;var t=null===(t=null===(t=null===(t=null===(t=this.config.events)||void 0===t?void 0:t.context)||void 0===t?void 0:t.getRootView())||void 0===t?void 0:t.refs[this.column.id+"_filter"])||void 0===t?void 0:t.el;t&&t.focus()},s.prototype.blur=function(){this._isFocused=!1;var t=null===(t=null===(t=null===(t=null===(t=this.config.events)||void 0===t?void 0:t.context)||void 0===t?void 0:t.getRootView())||void 0===t?void 0:t.refs[this.column.id+"_filter"])||void 0===t?void 0:t.el;t&&t.blur()},i=s,e.SelectFilter=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(3),r=i(8);function s(t,e,i,n){this.events=new o.EventSystem,this.column=t,this.config=e,this.id=i,this.value=n||"",this.initHandlers(),this.initFilter()}s.prototype.initHandlers=function(){var t=this;this._handlers={onchange:function(e){t._inputDelay&&clearTimeout(t._inputDelay),t._inputDelay=setTimeout((function(){var i,n=(null===(i=e.target)||void 0===i?void 0:i.value)||(null===(i=null===(i=e.composedPath())||void 0===i?void 0:i[0])||void 0===i?void 0:i.value)||(null===(n=e.explicitOriginalTarget)||void 0===n?void 0:n.value);t.setValue(n)}),500)},onfocus:function(){t._isFocused=!0},onblur:function(){t._isFocused=!1}}},s.prototype.initFilter=function(){var t,e=this;this._filter=n.el("div.dhx_grid-filter__label.dxi.dxi-magnify",{"aria-label":"Type to search",_ref:this.column.id+"_filter"},[n.el("label",{style:{display:"none"},"aria-label":"Type to search",for:this.id},"Type to search"),n.el("input",{type:"text",class:"dhx_input dhx_grid-filter",oninput:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_key:this.column.id,id:this.id,value:this.value})]),null!==(t=this.config.events)&&void 0!==t&&t.on(r.GridEvents.scroll,(function(){var t,i=null===(t=null===(t=null===(t=null===(t=e.config.events)||void 0===t?void 0:t.context)||void 0===t?void 0:t.getRootView())||void 0===t?void 0:t.refs[e.column.id+"_filter"])||void 0===t?void 0:t.el;e._isFocused&&i&&n.awaitRedraw().then((function(){var t;null!==(t=i.querySelector("input"))&&void 0!==t&&t.focus()}))})),null!==(t=this.config.events)&&void 0!==t&&t.on(r.GridEvents.headerCellMouseDown,(function(t){t.id!==e.column.id&&e.blur()})),null!==(t=this.config.events)&&void 0!==t&&t.on(r.GridEvents.cellMouseDown,(function(){return e.blur()}))},s.prototype.getFilter=function(){return this._filter},s.prototype.setValue=function(t){this.value=t||"",this.events.fire(r.HeaderFilterEvent.change,[this.value]),null!==(t=this.config.events)&&void 0!==t&&t.fire(r.GridEvents.filterChange,[this.value,this.column.id,"inputFilter"])},s.prototype.clear=function(){this.setValue("")},s.prototype.focus=function(){var t;this._isFocused=!0;var e=null===(e=null===(e=null===(e=null===(e=this.config.events)||void 0===e?void 0:e.context)||void 0===e?void 0:e.getRootView())||void 0===e?void 0:e.refs[this.column.id+"_filter"])||void 0===e?void 0:e.el;e&&null!==(t=e.querySelector("input"))&&void 0!==t&&t.focus()},s.prototype.blur=function(){var t;this._isFocused=!1;var e=null===(e=null===(e=null===(e=null===(e=this.config.events)||void 0===e?void 0:e.context)||void 0===e?void 0:e.getRootView())||void 0===e?void 0:e.refs[this.column.id+"_filter"])||void 0===e?void 0:e.el;e&&null!==(t=e.querySelector("input"))&&void 0!==t&&t.blur()},i=s,e.InputFilter=i},function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(8),s=i(19);e.startResize=function(t,e,i,a){var l,c=t.config.rightSplit;i.targetTouches&&i.preventDefault();var d=(i.targetTouches?i.targetTouches[0]:i).clientX,u=t.config.columns.filter((function(t){return!t.hidden})),h=c?u.slice(-c).map((function(t){return t.id})):[],f=!(null===(l=t.scrollView)||void 0===l||!l.config.enable),p=c?s.calcScrollBarWidth(t.config,f).xState:null,g=0;function _(i){var a,l,_=o.findIndex(u,(function(t){return t.id===e})),v=(i.targetTouches?i.targetTouches[0]:i).clientX,m=v-t.getRootNode().getBoundingClientRect().left,y=s.calcScrollBarWidth(t.config,f);t.config.leftSplit===_+1&&m>=t.config.width-y.y-2||c&&h.includes(e)&&y.xState!==p||(g=g||u[_].$width,a=u[_].minWidth||40,m=u[_].maxWidth,y=v-d,v=n(u),y=g+(p&&h.includes(e)?-y:y),m&&m<=y||y<=a?(y<=a&&(l=a),m<=y&&(l=m)):l=y,v[_].$width=l,v[_].$fixed=!0,t.events.fire(r.GridEvents.resize,[u[_],i]),t.paint())}t.config.$resizing=e;var v=function(){i.targetTouches?(document.removeEventListener("touchmove",_),document.removeEventListener("touchend",v)):(document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",v)),a()};i.targetTouches?(document.addEventListener("touchmove",_),document.addEventListener("touchend",v)):(document.addEventListener("mousemove",_),document.addEventListener("mouseup",v)),t.paint()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(2),r=i(48),s=new WeakMap,a=new Map;function l(t,e){var i=document.createElement("div");return i.setAttribute("data-position",e),i.className="dhx_message-container dhx_message-container--"+e+(t===document.body?" dhx_message-container--in-body":""),i}e.message=function(t){"string"==typeof t&&(t={text:t}),t.position=t.position||r.MessageContainerPosition.topRight;var e=document.createElement("div");e.className="dhx_widget dhx_message "+(t.css||""),e.setAttribute("role","alert"),(d=t.text&&n.uid())&&e.setAttribute("aria-describedby",d),t.html?e.innerHTML=t.html:(e.innerHTML='<span class="dhx_message__text" id='+d+"></span>\n\t\t"+(t.icon?'<span class="dhx_message__icon dxi '+t.icon+'"></span>':""),e.querySelector("#"+d).textContent=t.text);var i=t.node?o.toNode(t.node):document.body;"static"===getComputedStyle(i).position&&(i.style.position="relative"),(d=a.get(i))?d[t.position]||(d[t.position]={stack:[],container:l(i,t.position)}):a.set(i,((c={})[t.position]={stack:[],container:l(i,t.position)},c));var c=(d=a.get(i)[t.position]).stack,d=d.container;function u(t){void 0===t&&(t=!0),e&&(function(t,e){e&&clearTimeout(s.get(t));var i=t.parentNode,n=i.getAttribute("data-position"),o=i.parentNode;(e=a.get(o))&&(!(e=e[n])||-1!==(e=(n=e.stack).indexOf(t))&&(i.removeChild(t),n.splice(e,1),0===n.length&&o.removeChild(i)))}(e,t),e=null)}return 0===c.length&&i.appendChild(d),c.push(e),d.appendChild(e),t.expire&&(t=setTimeout((function(){return u(!1)}),t.expire),s.set(e,t)),e.onclick=function(){return u()},{close:function(){return u()}}}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(49),o=i(79),r=i(1);e.alert=function(e){var i=e.buttons&&e.buttons[0]?e.buttons[0]:n.default.apply,s=o.blockScreen(e.blockerCss);return new t((function(t){var n="dhx_alert__"+r.uid()+"_content",o="dhx_alert__"+r.uid()+"_header",a=document.createElement("div");a.setAttribute("role","alert"),a.setAttribute("aria-modal","true"),e.text&&a.setAttribute("aria-describedby",n),e.header&&a.setAttribute("aria-labelledby",o),a.className="dhx_widget dhx_alert "+(e.css||"");var l=function(e){"Escape"!==e.key&&"Esc"!==e.key||(c(e),t(!1))};function c(t){t.preventDefault(),s(),document.body.removeChild(a),document.removeEventListener("keydown",l)}a.innerHTML="\n\t\t\t"+(e.header?"<div id="+o+' class="dhx_alert__header"> '+(!1!==e.htmlEnable?e.header:"")+" </div>":"")+"\n\t\t\t"+(e.text?"<div id="+n+' class="dhx_alert__content">'+(!1!==e.htmlEnable?e.text:"")+"</div>":"")+'\n\t\t\t<div class="dhx_alert__footer '+(e.buttonsAlignment?"dhx_alert__footer--"+e.buttonsAlignment:"")+'">\n\t\t\t\t<button type="button" aria-label="confirm" class="dhx_alert__apply-button dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">'+i+"</button>\n\t\t\t</div>",!1===e.htmlEnable&&(e.header&&(a.querySelector("#"+o).textContent=e.header),e.text&&(a.querySelector("#"+n).textContent=e.text)),document.body.appendChild(a),a.querySelector(".dhx_alert__apply-button").focus(),a.querySelector("button").addEventListener("click",(function(e){c(e),t(!0)})),document.addEventListener("keydown",l)}))}}).call(this,i(17))},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(49),o=i(79),r=i(1);e.confirm=function(e){e.buttonsAlignment=e.buttonsAlignment||"right";var i=e.buttons&&e.buttons[1]?e.buttons[1]:n.default.apply,s=e.buttons&&e.buttons[0]?e.buttons[0]:n.default.reject,a=o.blockScreen("dhx_alert__overlay-confirm "+(e.blockerCss||""));return new t((function(t){var n=document.createElement("div");n.setAttribute("role","alertdialog"),n.setAttribute("aria-modal","true");var o,l=e.header&&r.uid(),c=e.header&&r.uid();function d(e){a(),n.removeEventListener("click",u),document.removeEventListener("keydown",h),document.body.removeChild(n),t(e)}c&&n.setAttribute("aria-describedby",c),l&&n.setAttribute("aria-labelledby",l);var u=function(t){"BUTTON"===t.target.tagName&&d(t.target.classList.contains("dhx_alert__confirm-aply"))},h=function(t){"Escape"===t.key||"Esc"===t.key?(n.querySelector(".dhx_alert__confirm-aply").focus(),d(t.target.classList.contains("dhx_alert__confirm-reject"))):"Tab"===t.key&&("aply"===o?(o="reject",n.querySelector(".dhx_alert__confirm-reject").focus()):(o="aply",n.querySelector(".dhx_alert__confirm-aply").focus()),t.preventDefault())};n.className="dhx_widget dhx_alert dhx_alert--confirm"+(e.css?" "+e.css:""),n.innerHTML="\n\t\t"+(e.header?'<div class="dhx_alert__header" id='+l+"> "+(!1!==e.htmlEnable?e.header:"")+" </div>":"")+"\n\t\t"+(e.text?'<div class="dhx_alert__content" id='+c+">"+(!1!==e.htmlEnable?e.text:"")+"</div>":"")+'\n\t\t\t<div class="dhx_alert__footer '+(e.buttonsAlignment?"dhx_alert__footer--"+e.buttonsAlignment:"")+'">\n\t\t\t\t<button type="button" aria-label="reject" class="dhx_alert__confirm-reject dhx_button dhx_button--view_link dhx_button--color_primary dhx_button--size_medium">'+s+'</button>\n\t\t\t\t<button type="button"  aria-label="aply"class="dhx_alert__confirm-aply dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">'+i+"</button>\n\t\t\t</div>",!1===e.htmlEnable&&(e.header&&(n.querySelector("#"+l).textContent=e.header),e.text&&(n.querySelector("#"+c).textContent=e.text)),document.body.appendChild(n),o="aply",n.querySelector(".dhx_alert__confirm-aply").focus(),n.addEventListener("click",u),document.addEventListener("keydown",h)}))}}).call(this,i(17))},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),r=i(2),s=i(14),a=i(1);function l(t,e,i,n,o,s,a){var l,c,d;void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===a&&(a=!1),e.config.$editable||!e.config.selection||r.locateNodeByClassName(t,"dhx_grid-header-cell")||(t&&t.preventDefault(),l=e.selection.getCell(),t=e.config.columns.filter((function(t){return!t.hidden})),l&&("vertical"===i?o?(c=1===n?e.data.getItem(e.data.getId(e.data.getLength()-1)):e.data.getItem(e.data.getId(0)),e.selection.setCell(c.id,l.column.id,s,a),e.scrollTo(c.id.toString(),l.column.id.toString())):0<=(d=e.data.getIndex(l.row.id.toString()))+n&&d+n<e.data.getLength()&&(c=e.data.getItem(e.data.getId(d+n)),e.selection.setCell(c.id,l.column.id,s,a),e.scrollTo(c.id.toString(),l.column.id.toString())):o?(c=1===n?t[t.length-1]:t[0],e.selection.setCell(l.row.id,c.id,s,a),e.scrollTo(l.row.id.toString(),c.id.toString())):0<=(d=t.indexOf(l.column))+n&&d+n<t.length&&(e.selection.setCell(l.row.id,t[d+n].id,s,a),e.scrollTo(l.row.id.toString(),t[d+n].id.toString()))))}function c(t,e){var i=t.selection.getCell(),n=i&&t.getSpan(i.row.id,i.column.id);if(n){if("up"===e||"down"===e){var o=a.findIndex(t.config.data,(function(t){return t.id===n.row})),r=a.findIndex(t.config.data,(function(t){return t.id===i.row.id}));return"up"===e?o-r-1:o+(n.rowspan||1)-r}return t=t.config.columns.filter((function(t){return!t.hidden})),o=a.findIndex(t,(function(t){return t.id===n.column})),r=a.findIndex(t,(function(t){return t.id===i.column.id})),"left"===e?o-r-1:o+(n.colspan||1)-r}return"down"===e||"right"===e?1:-1}e.selectionMove=l,e.getKeysHandlers=function(t){var e,i="cell"===t.config.selection||"complex"===t.config.selection||!0===t.config.selection,a={};if(t.getRootView()){var d=null===(e=null===(e=null===(e=t.getRootView())||void 0===e?void 0:e.refs)||void 0===e?void 0:e.grid_body)||void 0===e?void 0:e.el;if(!d)return;a={pageUp:function(t){t.preventDefault(),d.scrollTop-=d.clientHeight},pageDown:function(t){t.preventDefault(),d.scrollTop+=d.clientHeight},home:function(t){t.preventDefault(),d.scrollTop=0},end:function(t){t.preventDefault(),d.scrollTop+=d.scrollHeight}}}return n({enter:function(e){var n,a=r.locateNodeByClassName(e,"dhx_grid-header-cell");a&&(n=a.getAttribute("data-dhx-id"),a=e.target.getAttribute("dhx_resized"),!n||(e=t.getColumn(n))&&s.isSortable(t.config,e)&&!a&&t.events.fire(o.GridEvents.afterSort,[n])),i?(n=t.selection.getCell())&&(!1!==n.column.editable&&t.config.editable||n.column.editable)&&(t.config.$editable?t.editEnd():"boolean"!==n.column.type?t.editCell(n.row.id,n.column.id,n.column.editorType):t.events.fire(o.GridEvents.afterEditEnd,[!n.row[n.column.id],n.row,n.column])):t.config.$editable&&t.editEnd()},space:function(e){var n,r=t.selection.getCell();i&&(null!==(n=null==r?void 0:r.column.editable)&&void 0!==n?n:t.config.editable)&&!t.config.$editable&&r&&"boolean"===r.column.type&&(e.preventDefault(),t.events.fire(o.GridEvents.afterEditEnd,[!r.row[r.column.id],r.row,r.column]))},escape:function(){t.config.$editable&&t.editEnd(!0)},tab:function(e){var i,n,o;t.config.selection&&!r.locateNodeByClassName(e,"dhx_grid-header-cell")&&(t.config.$editable&&t.editEnd(),o=t.selection.getCell(),i=t.config.columns.filter((function(t){return!t.hidden})),o&&(0<=(n=i.indexOf(o.column)+1)&&n<i.length?(e&&e.preventDefault(),t.selection.setCell(o.row.id,i[n].id),t.scrollTo(o.row.id.toString(),i[n].id.toString())):0<=n&&(o=t.data.getIndex(o.row.id.toString())+1)<t.data.getLength()&&(e&&e.preventDefault(),t.selection.setCell(t.data.getId(o),i[0].id),t.scrollTo(t.data.getId(o).toString(),i[0].id.toString()))))},"shift+tab":function(e){var i,n,o;t.config.selection&&!r.locateNodeByClassName(e,"dhx_grid-header-cell")&&(t.config.$editable&&t.editEnd(),o=t.selection.getCell(),i=t.config.columns.filter((function(t){return!t.hidden})),o&&(0<=(n=i.indexOf(o.column)-1)&&n<i.length?(e&&e.preventDefault(),t.selection.setCell(o.row.id,i[n].id),t.scrollTo(o.row.id.toString(),i[n].id.toString())):n<t.data.getLength()&&0<=(o=t.data.getIndex(o.row.id.toString())-1)&&(e&&e.preventDefault(),t.selection.setCell(t.data.getId(o),i[i.length-1].id),t.scrollTo(t.data.getId(o).toString(),i[i.length-1].id.toString()))))},arrowUp:function(e){l(e,t,"vertical",c(t,"up"))},"ctrl+arrowUp":function(e){l(e,t,"vertical",-1,!0)},"shift+arrowUp":function(e){t.config.multiselection&&l(e,t,"vertical",-1,!1,!1,!0)},"ctrl+shift+arrowUp":function(e){t.config.multiselection&&l(e,t,"vertical",-1,!0,!1,!0)},arrowDown:function(e){l(e,t,"vertical",c(t,"down"))},"ctrl+arrowDown":function(e){l(e,t,"vertical",1,!0)},"shift+arrowDown":function(e){t.config.multiselection&&l(e,t,"vertical",1,!1,!1,!0)},"ctrl+shift+arrowDown":function(e){t.config.multiselection&&l(e,t,"vertical",1,!0,!1,!0)},arrowRight:function(e){l(e,t,"horizontal",c(t,"right"))},"ctrl+arrowRight":function(e){l(e,t,"horizontal",1,!0)},"shift+arrowRight":function(e){t.config.multiselection&&l(e,t,"horizontal",1,!1,!1,!0)},"ctrl+shift+arrowRight":function(e){t.config.multiselection&&l(e,t,"horizontal",1,!0,!1,!0)},arrowLeft:function(e){l(e,t,"horizontal",c(t,"left"))},"ctrl+arrowLeft":function(e){l(e,t,"horizontal",-1,!0)},"shift+arrowLeft":function(e){t.config.multiselection&&l(e,t,"horizontal",-1,!1,!1,!0)},"ctrl+shift+arrowLeft":function(e){t.config.multiselection&&l(e,t,"horizontal",-1,!0,!1,!0)}},a)}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(65),c=i(8),d=i(6),u=i(2),h=i(24),f=i(19),p=i(0),g=i(20);function _(t,e){var i=a.call(this,t,r({autoHeight:!1},e))||this;return i.scrollView=new g.ScrollView((function(){return i.getRootView()}),{scrollHandler:function(t){return i.events.fire(c.GridEvents.scroll,[{y:t.target.scrollTop,x:t.target.scrollLeft}])}}),i}o(_,a=l.Grid),_.prototype._createView=function(){var t=this;return p.create({render:function(e,i){return f.proRender(e,i,t._htmlEvents,t.selection,t._uid)}},this)},_.prototype._setEventHandlers=function(){var t=this;a.prototype._setEventHandlers.call(this),this.events.on(c.GridEvents.headerCellMouseDown,(function(e,i){var n=(n=u.locateNodeByClassName(i,"dhx_header-row"))&&n.getAttribute("aria-rowindex");null!==(n=e.header[Number(n)-1])&&void 0!==n&&n.content||(i.targetTouches?t._touch.timer=setTimeout((function(){t._dragStartColumn(i,e)}),t._touch.duration):t._dragStartColumn(i,e))})),this._events.on(c.GridSystemEvents.headerCellTouchMove,(function(e,i){t._touch.start&&i.preventDefault(),t._clearTouchTimer()})),this._events.on(c.GridSystemEvents.headerCellTouchEnd,(function(){t._touch.start=!1,t._clearTouchTimer()})),this.events.on(c.GridEvents.resize,(function(){t._parseColumns(),t._checkFilters()})),this.events.on(c.GridEvents.afterResizeEnd,(function(){t.config.autoHeight&&(t.config.data=t.data.map((function(e){var i=h.getMaxRowHeight(e,t.config.columns);return e.$height=h.getCalculatedRowHeight(i,{rowHeight:t.config.rowHeight,padding:8}),e})))})),this.events.on(c.GridEvents.afterRowResize,(function(e,i,n){var o=(r=t.data.getItem(e.id)).id,r=(e=r.height,r.$height);e&&e!==r&&t.data.update(o,{height:n}),t.data.update(o,{$height:n},!0),t.config.data=t.data.map((function(t){return t})),t.paint()})),this.events.on(c.GridEvents.scroll,(function(){t._lazyLoad()})),this.events.on(d.DataEvents.dataRequest,(function(e,i){var n=t.data.dataProxy;n&&n.config&&t._prepareDataFromTo(t.data,e,i)}))},_.prototype._prepareData=function(t){var e,i=this;return this._adjustColumns(),(Array.isArray(t)||d.isTreeCollection(t)?t:0!==(e=t.getInitialData()||[]).length?e:t.getRawData(0,t.getLength())).map((function(t){var e;return i.config.autoHeight&&void 0===t.height?(e=h.getMaxRowHeight(t,i.config.columns),t.$height=h.getCalculatedRowHeight(e,{rowHeight:i.config.rowHeight,padding:8})||i.config.rowHeight):t.$height=t.height||i.config.rowHeight,t}))},_.prototype._prepareDataFromTo=function(t,e,i){var n=this;return t.mapRange(e,i,(function(t){var e=h.getMaxRowHeight(t,n.config.columns);return t.$height=h.getCalculatedRowHeight(e,{rowHeight:n.config.rowHeight,padding:8})||n.config.rowHeight,t}))},_.prototype._dragStart=function(t){if(this.config.dragMode&&("row"===this.config.dragItem||"both"===this.config.dragItem)&&!this.config.$editable){var e=this.getColumn(t.target.getAttribute("data-dhx-col-id"));if(!1!==(null==e?void 0:e.draggable)){e=(e=u.locateNode(t,"data-dhx-id"))&&e.getAttribute("data-dhx-id"),t.targetTouches&&(this._touch.start=!0);var i=this.selection.getCells().map((function(t){return t.row.id}));if(i.includes(e)||i.push(e),1<i.length){for(var n=this.data.getInitialData(),o={},r=0;r<i.length;r++)!function(t){var e=i[t];t=null==n?void 0:n.findIndex((function(t){return t.id==e})),o[t]=e}(r);i=s(Object.values(o))}return d.dragManager.onMouseDown(t,i,[this._getRowGhost(i)])}}},_.prototype._lazyLoad=function(){var t=this,e=this.data.dataProxy;if(e&&e.config&&(u=this.data.getRawData(0,-1,null,2)).length){var i,n=f.getRenderConfig(this,u,{width:this.config.width,height:this.config.height}),o=e.config.limit,r=o,s=n.currentRows,a=s[0],l=s[s.length-1],c=this.data.getIndex(l.id),u=function(e){for(var i=1;i<s.length;i++)if("firstFilledRow"===e&&!s[i].$empty&&s[i-1].$empty||"firstEmptyRow"===e&&s[i].$empty&&!s[i-1].$empty)return t.data.getIndex(s[i].id)};if(a.$empty)if(l.$empty)i=this.data.getIndex(a.id);else{var h=u("firstFilledRow");(n=h-r)<0&&(n=0);for(var p=n;p<h;p++)if(this.data.getItem(this.data.getId(p)).$empty){r=h-(i=p);break}}else l.$empty?i=u("firstEmptyRow"):(i=null!==(l=u("firstEmptyRow"))&&void 0!==l?l:this.data.getIndex(a.id),r=(null!==(u=u("firstFilledRow"))&&void 0!==u?u:c)-i);!this.data.isDataLoaded(i,c)&&this.data.events.fire(d.DataEvents.beforeLazyLoad,[])&&(e.updateUrl(null,{from:i,limit:r}),e.config.limit=o,this.data.load(e).then((function(){t.config.autoHeight&&t._prepareDataFromTo(t.data,i,c)})))}},_.prototype._getColumnGhost=function(t){var e=this._container||u.toNode(this._uid),i=e.querySelector(".dhx_header-row"),n=i.querySelector('.dhx_grid-header-cell[data-dhx-id="'+t.id+'"]'),o=(n=Array.from(i.childNodes).indexOf(n)+1,t=e.querySelectorAll('.dhx_grid-header-cell[data-dhx-id="'+t.id+'"]:not(.dhx_span-cell)'),n=e.querySelectorAll(".dhx_grid_data .dhx_grid-cell:nth-child("+n+")"),document.createElement("div"));return t.forEach((function(t){return o.appendChild(t.cloneNode(!0))})),n.forEach((function(t){return o.appendChild(t.cloneNode(!0))})),o},_.prototype._dragStartColumn=function(t,e){function i(t){return t.classList.contains("dhx_grid-custom-content-cell")}var n=t.target;i(n.parentElement)||i(n.parentElement.parentElement)||!(e.draggable||"column"===this.config.dragItem&&!1!==e.draggable||"both"===this.config.dragItem&&!1!==e.draggable)||u.locateNodeByClassName(t,"dhx_resizer_grip_wrap")||(t.targetTouches&&(this._touch.start=!0),d.dragManager.onMouseDown(t,[e.id],[this._getColumnGhost(e)]))},o=_,e.ProGrid=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.setItem=function(t,e){this._store[t]=e},o.prototype.getItem=function(t){return this._store[t]||null},o);function o(){this._store={}}var r=window.dhxHelpers=window.dhxHelpers||{};r.collectionStore=r.collectionStore||new n,e.collectionStore=r.collectionStore},function(t,e,i){"use strict";(function(t){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(26),a=i(1),l=i(40);function c(t,e){var i=r.call(this,t)||this;return i.config=a.extend({from:0,limit:50,delay:50,prepare:0},e),i.updateUrl(t,{from:i.config.from,limit:i.config.limit}),i}o(c,r=s.DataProxy),c.prototype.load=function(){var e=this;return new t((function(t,i){e._timeout?(clearTimeout(e._timeout),e._timeout=setTimeout((function(){l.ajax.get(e.url,{responseType:"text"}).then(t).catch(i),e._cooling=!0}),e.config.delay),e._cooling&&(t(null),e._cooling=!1)):(l.ajax.get(e.url,{responseType:"text"}).then(t).catch(i),e._cooling=!0,e._timeout=setTimeout((function(){})))}))},o=c,e.LazyDataProxy=o}).call(this,i(17))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=i(29),r=i(22);function s(t,e,i){var o=this;this.events=i||new n.EventSystem(this),this._data=e,this.config=t,this._data.events.on(r.DataEvents.removeAll,(function(){o._selected=null})),this._data.events.on(r.DataEvents.change,(function(){var t;!o._selected||(t=o._data.getNearId(o._selected))!==o._selected&&(o._selected=null,t&&o.add(t))}))}s.prototype.getId=function(){return this._selected},s.prototype.getItem=function(){return this._selected?this._data.getItem(this._selected):null},s.prototype.remove=function(t){return!(t=t||this._selected)||!!this.events.fire(o.SelectionEvents.beforeUnSelect,[t])&&(this._data.update(t,{$selected:!1},!0),this._selected=null,this.events.fire(o.SelectionEvents.afterUnSelect,[t]),!0)},s.prototype.add=function(t){this._selected!==t&&!this.config.disabled&&this._data.exists(t)&&(this.remove(),this._addSingle(t))},s.prototype.enable=function(){this.config.disabled=!1},s.prototype.disable=function(){this.remove(),this.config.disabled=!0},s.prototype._addSingle=function(t){this.events.fire(o.SelectionEvents.beforeSelect,[t])&&(this._selected=t,this._data.update(t,{$selected:!0},!0),this.events.fire(o.SelectionEvents.afterSelect,[t]))},i=s,e.Selection=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(1),c=i(0),d=i(3),u=i(2),h=i(20),f=i(7),p=i(6),g=i(10),_=i(13),v=i(37),m=i(21),y=i(50),b=i(36),x=i(60),w=i(176),E=i(177),C=i(178),S=i(179);function k(t,e){void 0===e&&(e={});var i=a.call(this,null,l.extend({mode:b.VaultMode.list,toolbar:!0,updateFromResponse:!0,scaleFactor:4,customScroll:!0,uploader:{},progressBar:{}},e))||this;return i.config.toolbar||(i.config.uploader.autosend=!0),e.data?(i.data=e.data,i.events=e.data.events,i.events.context=i):(i.events=new d.EventSystem(i),i.data=new p.DataCollection({},i.events)),i.data.config.init=function(t){return t.status=t.status||b.FileStatus.uploaded,t.file?(t.size=t.file.size,t.name=t.file.name):(t.size=t.size||0,t.name=t.name||""),i.config.mode===b.VaultMode.grid&&t.file&&E.isImage(t)&&i._readStack.add(t,i.uploader.config.autosend),t},i._readStack=new S.ReadStackPreview(i.data),i.uploader=new x.Uploader(i.config.uploader,i.data,i.events),i._scrollView=new h.ScrollView((function(){return i._vaultView.getRootView()})),i._progressBar=new C.ProgressBar(i.events,i.config.progressBar),i.events.on(b.UploaderEvents.uploadProgress,(function(t,e,n){return i._progressBar.setState(t,{current:e,total:n})})),i._initHandlers(),i._initUI(t),i._initEvents(),i}o(k,a=f.View),k.prototype.destructor=function(){this.toolbar.destructor(),this._readStack.stop(),this.uploader.unlinkDropArea(),this.uploader.abort()},k.prototype.getRootView=function(){return this._layout.getRootView()},k.prototype._initUI=function(t){var e=this,i=this.config.toolbar?w.layoutConfig:w.layoutConfigWithoutTopbar;i.on=this._getDragEvents(),t=this._layout=new g.Layout(t,i),i=this.toolbar=new v.Toolbar(null,{css:"vault-toolbar"}),this.toolbar.data.parse([{id:"add",tooltip:y.default.add,type:"button",icon:"dxi-plus"},{id:"upload",tooltip:y.default.upload,type:"button",icon:"dxi icon-upload"},{id:"spacer",type:"spacer"},{id:"remove-all",tooltip:y.default.clearAll,type:"button",icon:"dxi-delete-forever"}]),this._hideUploadAndDeleteButtons(),this._vaultView=f.toViewLike(c.create({render:function(){return e._draw()}})),this.config.toolbar&&t.getCell("topbar").attach(i),t.getCell("vault").attach(this._vaultView)},k.prototype._initHandlers=function(){var t=this;this._handlers={onclick:{".action-add":function(){return t.uploader.selectFile()},".action-remove-file":function(e){var i=u.locate(e);i&&(t.data.update(i,{$toRemove:!0}),setTimeout((function(){t.data.update(i,{$toRemove:!1},!0),t.data.remove(i)}),200))}},onmouseover:{".action-download":function(t){_.tooltip(y.default.download,{node:t.target,position:_.Position.bottom})},".action-remove-file":function(t){_.tooltip(y.default.clear,{node:t.target,position:_.Position.bottom})},".title-content, .dhx-file-name":function(e){var i=u.locate(e);i=t.data.getItem(i),_.tooltip(i.name,{node:e.target,position:_.Position.bottom,css:"tooltip-light"})}}}},k.prototype._getDragEvents=function(){var t=this,e={left:null,top:null,width:null,height:null};return{dragleave:function(i){t._canDrop&&(i.pageX>e.left+e.width-1||i.pageX<e.left||i.pageY>e.top+e.height-1||i.pageY<e.top)&&(t._canDrop=!1,t.config.toolbar&&t._layout.getCell("topbar").show(),t._layout.config.css="vault-layout",t._layout.paint())},dragenter:function(i){if(i.preventDefault(),!t.uploader.isActive&&!t._canDrop){for(var n=0,o=i.dataTransfer.types;n<o.length;n++){var r=o[n];if("Files"!==r&&"application/x-moz-file"!==r)return void(t._canDrop=!1)}t._canDrop=!0,i=t.getRootView().node.el.getBoundingClientRect(),e.left=i.left+window.pageXOffset,e.top=i.top+window.pageYOffset,e.width=i.width,e.height=i.height,t._canDrop=!0,t.config.toolbar&&t._layout.getCell("topbar").hide(),t._layout.config.css="vault-layout dhx-dragin",t._layout.paint()}},dragover:function(t){t.preventDefault()},drop:function(e){e.preventDefault(),t._canDrop&&(e=e.dataTransfer,t.uploader.parseFiles(e),t._canDrop=!1,t.config.toolbar&&t._layout.getCell("topbar").show(),t._layout.config.css="vault-layout",t._layout.paint())}}},k.prototype._hideUploadAndDeleteButtons=function(){this.toolbar.hide(["upload","remove-all"])},k.prototype._showUploadAndDeleteButtons=function(){this.uploader.config.autosend?this.toolbar.show("remove-all"):this.toolbar.show(["upload","remove-all"])},k.prototype._initEvents=function(){var t=this;this.data.events.on(p.DataEvents.change,(function(){t.data.getLength()?t._showUploadAndDeleteButtons():t._hideUploadAndDeleteButtons(),t._vaultView.paint()})),this.events.on(b.UploaderEvents.uploadBegin,(function(){t.config.toolbar&&t._layout.getCell("topbar").attach(t._progressBar)})),this.events.on(b.UploaderEvents.uploadComplete,(function(){t.config.mode===b.VaultMode.grid&&t.uploader.config.autosend&&t._readStack.read(),t.config.toolbar&&t._layout.getCell("topbar").attach(t.toolbar)})),this.toolbar.events.on(m.NavigationBarEvents.click,(function(e){switch(e){case"add":t.uploader.selectFile();break;case"remove-all":t.data.removeAll();break;case"upload":t.uploader.send()}})),this.events.on(b.ProgressBarEvents.cancel,(function(){t.uploader.abort(),t._vaultView.paint()}))},k.prototype._draw=function(){var t=!this.data.getLength(),e=this.config.mode===b.VaultMode.grid?this._drawGrid():this._drawList();return c.el("div",r(r({class:"vault dhx_widget"+(this._canDrop?" drop-here":"")},this._handlers),{"data-dhx-widget-id":this._uid}),[this._canDrop||t?this._drawDropableArea():this.config.customScroll?this._scrollView.render(e):e])},k.prototype._getFileActions=function(t){var e,i=[],n=[],o=[c.el(".dhx-default-actions",i),c.el(".dhx-hover-actions",n)];if(t.status===b.FileStatus.inprogress)return o;t.status!==b.FileStatus.failed&&t.link&&(e=(r=(this.config.downloadURL||"")+t.link).split("/").pop().split("?")[0],r=c.el("a",{download:e,class:"download-link",href:r},[c.el(".icon-btn.dxi.dxi-download.action-download")]),n.push(r));var r=c.el(".icon-btn.dxi.dxi-delete-forever.action-remove-file");return n.push(r),t.status===b.FileStatus.failed&&(r=c.el(".dxi.dxi-alert-circle.warning-status"),i.push(r)),t.status===b.FileStatus.uploaded&&(t=c.el(".dxi.dxi-checkbox-marked-circle.uploaded-status"),i.push(t)),o},k.prototype._drawList=function(){var t=this;return c.el(".dhx-files-block.dhx-webkit-scroll",this.data.map((function(e){var i=e.status===b.FileStatus.failed&&e.request,n=e.status===b.FileStatus.inprogress,o=e.status===b.FileStatus.queue,r=e.status!==b.FileStatus.uploaded;return c.el("div",{class:"dhx-file-item"+(e.$toRemove?" to-remove":"")+(o?" in-queue":""),"data-dhx-id":e.id,_key:e.id},[c.el(".dhx-file-icon",[c.el("div",{class:"dhx-file-type "+E.getFileClassName(e)+(r?" not-loaded":"")})]),c.el(".dhx-file-title",[c.el(".dhx-title-content",e.name),c.el(".dhx-file-info",[i&&c.el(".warn-message",e.request.statusText||y.default.error),n?c.el(".progress-value",(100*e.progress).toFixed(1)+"%"):c.el(".dhx-size"+(i?".dhx-size-error":""),E.getBasis(e.size))])]),n&&c.el(".dhx-download-progress",{style:{width:(100*e.progress).toFixed(1)+"%"}}),!n&&c.el(".dhx-file-action",t._getFileActions(e))])})))},k.prototype._drawDropableArea=function(){return c.el(".dhx-dropable-area.drop-files-here",[c.el(".dhx-big-icon-block",[c.el(".dxi.icon-upload")]),!this._canDrop&&c.el(".drop-area-bold-text",y.default.dragAndDrop),!this._canDrop&&c.el(".drop-area-bold-text",y.default.filesOrFoldersHere),!this._canDrop&&c.el(".drop-area-light-text",y.default.or),!this._canDrop&&c.el("button.dhx_btn.dhx_btn--flat.dhx_btn--small.action-add",y.default.browse)])},k.prototype._drawGrid=function(){var t=this;return c.el("div",{class:"dhx-files-grid dhx-webkit-scroll"},[c.el(".dhx-grid-content",this.data.map((function(e){var i=e.status===b.FileStatus.inprogress,n=e.status===b.FileStatus.queue,o=e.status===b.FileStatus.failed;return c.el("div",{class:"dhx-file-grid-item"+(i?" in-progress":"")+(e.$toRemove?" to-remove":"")+(n?" in-queue":"")+(o?" failed":""),"data-dhx-id":e.id,_key:e.id},[c.el(".dhx-preview-wrapper",s([e.preview?c.el(".dhx-server-file-preview",[c.el("img",{src:e.preview})]):e.image?c.el("canvas",{width:98*t.config.scaleFactor,height:98*t.config.scaleFactor,_hooks:{didInsert:function(i){var n=(l=E.calculateCover(e.image)).dx,o=l.dy,r=l.sx,s=l.sy,a=l.sHeight,l=l.sWidth;i.el.getContext("2d").drawImage(e.image,r,s,l,a,n,o,98*t.config.scaleFactor,98*t.config.scaleFactor)}}}):c.el("div",{class:"dhx-file-preview dhx-file-type "+E.getFileClassName(e)}),i&&t._drawCircle(e.progress)],t._getFileActions(e),[c.el(".dhx-file-info",[o&&c.el(".warn-message",e.request.statusText||y.default.error),!i&&c.el(".dhx-size"+(o?".dhx-size-error":""),E.getBasis(e.size))])])),c.el(".dhx-file-name",E.truncateWord(e.name))])})))])},k.prototype._drawCircle=function(t){return c.el(".progress-layout",[c.el(".progress-amount",(100*t).toFixed(1)+"%"),c.sv("svg",{xmlns:"http://www.w3.org/2000/svg",class:"progress-circle",viewBox:"0 0 60 60"},[c.sv("circle",{cx:30,cy:30,r:28,"stroke-width":4,class:"progress-bar-background"}),c.sv("circle.active-circle",{cx:30,cy:30,r:28,"stroke-width":4,"stroke-dasharray":"175.9 175.9","stroke-dashoffset":175.9*(1-t),class:"progress-bar-active"})])])},o=k,e.Vault=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(3),d=i(2),u=i(12),h=i(7),f=i(6),p=i(38);function g(t,e){var i=s.call(this,t,e)||this;return i._isContextMenu=!1,i._documentHaveListener=!1,i.config=a.extend({rootId:"string"==typeof t&&t||i._uid},e),i._rootItem={},!Array.isArray(i.config.data)&&i.config.data&&i.config.data.events?(i.data=i.config.data,i.events=i.data.events,i.events.context=i):(i.events=new c.EventSystem(i),i.data=new f.TreeCollection({rootId:i.config.rootId},i.events)),i._documentClick=function(t){var e,n,o,r,s;i._documentHaveListener&&(e=d.locateNode(t),n=i.data.getRoot(),o=e&&e.getAttribute("data-dhx-id"),r=i.data.getParent(o),s="ontouchstart"in window||navigator.msMaxTouchPoints,document.removeEventListener("mousedown",i._documentClick),i._documentHaveListener=!1,((!s||e)&&i._isContextMenu||n!==r&&r&&i.data.getItem(o))&&r&&i.data.getItem(o)||i._close(t))},i._currentRoot=i.data.getRoot(),i._factory=i._getFactory(),i._initHandlers(),i._keyManager=new u.KeyManager((function(t,e){return e===i._uid})),i._initEvents(),Array.isArray(i.config.data)&&i.data.parse(i.config.data),i}o(g,s=h.View),g.prototype.paint=function(){s.prototype.paint.call(this),this._isContextMenu&&!this._vpopups&&this._init(),this._vpopups&&this._vpopups.redraw()},g.prototype.disable=function(t){var e=this;void 0!==t?this._setProp(t,"disabled",!0):this.data.forEach((function(t){return t=t.id,e._setProp(t,"disabled",!0)}))},g.prototype.enable=function(t){var e=this;void 0!==t?this._setProp(t,"disabled",!1):this.data.forEach((function(t){return t=t.id,e._setProp(t,"disabled",!1)}))},g.prototype.isDisabled=function(t){if(t=this.data.getItem(t))return t.disabled||!1},g.prototype.show=function(t){var e=this;void 0!==t?this._setProp(t,"hidden",!1):this.data.forEach((function(t){return t=t.id,e._setProp(t,"hidden",!1)}))},g.prototype.hide=function(t){var e=this;void 0!==t?this._setProp(t,"hidden",!0):this.data.forEach((function(t){return t=t.id,e._setProp(t,"hidden",!0)}))},g.prototype.destructor=function(){this.events.clear(),this._keyManager&&this._keyManager.destructor(),this._vpopups&&this._vpopups.node&&this._vpopups.unmount(),this.unmount()},g.prototype.select=function(t,e){var i=this;if(void 0===e&&(e=!0),!t)throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com");e&&this.unselect(),this.data.update(t,{active:!0}),this.data.eachParent(t,(function(t){i.data.update(t.id,{active:!0})}))},g.prototype.unselect=function(t){var e=this;t?(this.data.update(t,{active:!1}),this.data.eachChild(t,(function(t){e.data.update(t.id,{active:!1})}))):this.data.forEach((function(t){e.data.update(t.id,{active:!1})}))},g.prototype.isSelected=function(t){if(t&&this.data.getItem(t))return!!this.data.getItem(t).active},g.prototype.getSelected=function(){var t=[];return this.data.forEach((function(e){e.active&&t.push(e.id)})),t},g.prototype._customHandlers=function(){return{}},g.prototype._close=function(t){var e=this;this._popupActive&&this.events.fire(p.NavigationBarEvents.beforeHide,[this._activeMenu,t])&&(this._activeParents&&this._activeParents.forEach((function(t){return e.data.exists(t)&&e.data.update(t,{$activeParent:!1})})),"click"===this.config.navigationType&&(this._isActive=!1),clearTimeout(this._currentTimeout),this._popupActive=!1,this._activeMenu=null,this._vpopups.node&&this._vpopups.unmount(),this._vpopups=null,this.events.fire(p.NavigationBarEvents.afterHide,[t]),this.paint())},g.prototype._init=function(){var t=this,e=this.getRootNode()||document.documentElement,i=null===(e=null==e?void 0:e.closest("[data-dhx-theme]"))||void 0===e?void 0:e.getAttribute("data-dhx-theme");this._vpopups=l.create({render:function(){var e;return l.el("div",{"data-dhx-widget-id":t._uid,"data-dhx-theme":i||"light",class:"dhx_"+(null===(e=t.config)||void 0===e?void 0:e.$name)+"--popup-menu "+(t._isContextMenu?" dhx_context-menu":"")+" "+(t.config.css?t.config.css.split(" ").map((function(e){return t._isContextMenu?e:e+"--popup-menu"})).join(" "):""),onmousemove:t._handlers.onmousemove,onmouseleave:t._handlers.onmouseleave,onclick:t._handlers.onclick,onmousedown:t._handlers.onmousedown},t._drawPopups())}}),this._vpopups.mount(document.body)},g.prototype._initHandlers=function(){var t=this;this._isActive="click"!==this.config.navigationType,this._handlers=r({onmousemove:function(e){var i,n;!t._isActive||(n=d.locateNode(e))&&(i=n.getAttribute("data-dhx-id"),t._activeMenu!==i&&(t.data.haveItems(i)&&(t._vpopups||t._init(),n=d.getRealPosition(n),t.data.update(i,{$position:n},!1)),t._activeItemChange(i,e)))},onmouseleave:function(e){var i,n;"click"!==t.config.navigationType&&(t._popupActive?(n=d.locateNode(e,"data-dhx-id","relatedTarget"))?(i=n.getAttribute("data-dhx-id"),t.data.getItem(i)||(t._close(e),t._activeItemChange(null,e)),t.data.haveItems(i)&&(t._vpopups||t._init(),n=d.getRealPosition(n),t.data.update(i,{$position:n},!1),t._activeItemChange(i,e))):(t._close(e),t._activeItemChange(null,e)):t._activeItemChange(null,e))},onclick:function(e){var i=d.locateNode(e);if(i){var n=i.getAttribute("data-dhx-id");if(!t.isDisabled(n)){var o=t.data.getItem(n);if(null==o||!o.multiClick)if(t.data.haveItems(n))t._vpopups||t._init(),n!==t._currentRoot&&(t._isActive||(t._isActive=!0),t._setRoot(n),i=d.getRealPosition(i),t.data.update(n,{$position:i},!1),t._activeItemChange(n,e),t.events.fire(p.NavigationBarEvents.click,[n,e]));else switch(null==o?void 0:o.type){case"input":case"title":break;case"menuItem":case"selectButton":t._onMenuItemClick(n,e);break;case"imageButton":case"button":case"customButton":case"customHTML":case"navItem":o.twoState&&t.data.update(o.id,{active:!o.active}),t.events.fire(p.NavigationBarEvents.click,[n,e]),t._close(e);break;default:t._close(e)}}}},onmousedown:function(e){var i,n,o,r,s,a=d.locateNode(e);a&&(i=a.getAttribute("data-dhx-id"),null!=(a=t.data.getItem(i))&&a.multiClick&&(n=365,s=function(){clearTimeout(o),document.removeEventListener("mouseup",s)},(r=function(){t.events.fire(p.NavigationBarEvents.click,[i,e]),50<n&&(n-=55),o=setTimeout(r,n)})(),document.addEventListener("mouseup",s)))}},this._customHandlers())},g.prototype._initEvents=function(){var t=this,e=null;this.data.events.on(p.DataEvents.change,(function(){t.paint(),e&&clearTimeout(e),e=setTimeout((function(){var i={};t.data.eachChild(t.data.getRoot(),(function(t){var e;t.group&&(t.twoState=!0,(e=i)[t.group]?(t.active&&(e[t.group].active=t.id),e[t.group].elements.push(t.id)):e[t.group]={active:t.active?t.id:null,elements:[t.id]})}),!0),t._groups=i,t._resetHotkeys(),e=null,t.paint()}),100)})),this.events.on(p.NavigationBarEvents.click,(function(e){var i=t.data.getItem(e);(e=t.data.getItem(null==i?void 0:i.parent))&&"selectButton"===e.type&&t.data.update(i.parent,{value:i.value,icon:i.icon}),null!=i&&i.group&&((e=t._groups[i.group]).active&&t.data.update(e.active,{active:!1}),e.active=i.id,t.data.update(i.id,{active:!0}))})),this.events.on(p.NavigationBarEvents.inputChange,(function(e,i){t.data.update(e,{value:i})})),this._customInitEvents()},g.prototype._getMode=function(t,e,i){return void 0===i&&(i=!1),t.parent===e?"bottom":"right"},g.prototype._drawMenuItems=function(t,e){var i=this;return void 0===e&&(e=!0),this.data.map((function(t){return i._factory(t,e)}),t,!1)},g.prototype._setRoot=function(t){},g.prototype._getParents=function(t,e){var i=[],n=!1,o=(o=this.data.getItem(t))&&o.disabled;return this.data.eachParent(t,(function(t){t.id===e?(i.push(t.id),n=!0):n||i.push(t.id)}),!o),this._isContextMenu&&this._activePosition&&i.push(e),i},g.prototype._listenOuterClick=function(){this._documentHaveListener||(document.addEventListener("mousedown",this._documentClick,!0),this._documentHaveListener=!0)},g.prototype._customInitEvents=function(){},g.prototype._drawPopups=function(){var t=this,e=this._activeMenu;if(!this._isContextMenu&&!e)return null;var i=(i=this.getRootNode())&&i.offsetParent&&i.offsetParent.offsetParent,n=null;i&&i.classList.contains("dhx_popup--window")&&i.classList.contains("dhx_popup--window_active")&&(n=2147483647);var o=this._currentRoot;return this._isContextMenu&&!this._activePosition?null:(e=this._getParents(e,o),(this._activeParents=e).forEach((function(e){return t.data.exists(e)&&t.data.update(e,{$activeParent:!0},!1)})),e.map((function(e){if(!t.data.haveItems(e))return null;var i=t.data.getItem(e)||t._rootItem;return t._popupActive=!0,l.el("ul",r({class:"dhx_widget dhx_menu"+(t.config.menuCss?" "+t.config.menuCss:""),_key:e,_hooks:{didInsert:function(s){var a=(u=s.el.getBoundingClientRect()).width,l=u.height,c=t._isContextMenu&&t._activePosition&&e===o?t._activePosition:i.$position,u=t._getMode(i,o,c===t._activePosition);l=d.calculatePosition(c,{mode:u,auto:!0,width:a,height:l}),i.$style=r(r({},l),{zIndex:t._activePosition&&t._activePosition.zIndex||n}),s.patch({style:i.$style})},didRecycle:function(s,a){var l,c;t._isContextMenu&&t._activePosition&&e===o&&(l=(c=a.el.getBoundingClientRect()).width,c=c.height,c=d.calculatePosition(t._activePosition,{mode:t._getMode(i,o,!0),width:l,height:c}),i.$style=r(r({},c),{zIndex:t._activePosition.zIndex||n}),a.patch({style:i.$style}))}},tabindex:0,style:i.$style||{position:"absolute"}},{role:"menu","aria-labeledby":i.id,"aria-live":"polite"}),t._drawMenuItems(e))})).reverse())},g.prototype._onMenuItemClick=function(t,e){var i=this.data.getItem(t);i.disabled||(i.twoState&&this.data.update(i.id,{active:!i.active}),this.events.fire(p.NavigationBarEvents.click,[t,e]),this._close(e))},g.prototype._activeItemChange=function(t,e){var i,n=this;this._activeParents&&(i=this._getParents(t,this._currentRoot),this._activeParents.forEach((function(t){n.data.exists(t)&&!i.includes(t)&&n.data.update(t,{$activeParent:!1},!1)}))),t&&!this._documentHaveListener&&this._listenOuterClick(),t&&this.data.haveItems(t)?(this._activeMenu===t&&this._popupActive||this.events.fire(p.NavigationBarEvents.openMenu,[t]),clearTimeout(this._currentTimeout),this.paint()):(clearTimeout(this._currentTimeout),this._currentTimeout=setTimeout((function(){return n.paint()}),400)),this._activeMenu=t},g.prototype._resetHotkeys=function(){var t=this;this._keyManager.removeHotKey(null,this),this.data.map((function(e){e.hotkey&&t._keyManager.addHotKey(e.hotkey,(function(){return t._onMenuItemClick(e.id,null)}))}))},g.prototype._setProp=function(t,e,i){var n=this;Array.isArray(t)?t.forEach((function(t){return n.data.update(t,((t={})[e]=i,t))})):this.data.update(t,((t={})[e]=i,t))},o=g,e.Navbar=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(165),o=i(166),r=i(167),s=i(168),a=i(169),l=i(170),c=i(171),d=i(172),u=i(173),h=i(174),f=i(30);e.createFactory=function(t){for(var e=t.defaultType,i=t.allowedTypes,p=t.widgetName,g=(t=t.widget,new Set),_=0,v=i;_<v.length;_++){var m=v[_];g.add(m)}var y=t.config,b=t.events,x=t.data;return function(t,i){if(t.hidden)return null;if(!(t.type&&"button"!==t.type&&"navItem"!==t.type&&"menuItem"!==t.type||t.value||t.icon||t.html))return null;t.type=t.type||e,g&&!g.has(t.type)&&(t.type=e),"imageButton"===t.type&&"ribbon"!==p&&(t.active=!1),i&&"spacer"!==t.type&&"separator"!==t.type&&"customHTML"!==t.type&&(t.type="menuItem"),x.haveItems(t.id)&&function(t,e,i){switch(t){case"sidebar":case"context-menu":e.$openIcon="right";break;case"toolbar":e.parent===i.getRoot()?e.$openIcon="right":e.$openIcon="bottom";break;case"menu":e.parent!==this.data.getRoot()&&(e.$openIcon="right");break;case"ribbon":var n=i.getItem(e.parent);n&&"block"!==e.type&&("block"===n.type?e.$openIcon="bottom":e.$openIcon="right")}}(p,t,x),"toolbar"===p&&t.items&&t.items.forEach((function(t){t.type||(t.type="menuItem")}));var _="customHTML"!==t.type&&function(t,e,i,f){switch(t.type){case"navItem":case"selectButton":return o.navItem(t,i,f.collapsed);case"button":return n.button(t,i);case"title":return u.title(t,i);case"separator":return c.separator(t,i);case"spacer":return d.spacer(t,i);case"input":return a.input(t,e,i);case"imageButton":return s.imageButton(t,i);case"menuItem":return l.menuItem(t,i,f.asMenuItem);case"customHTMLButton":return r.customHTMLButton(t,i,f.asMenuItem);case"datePicker":return h.datePicker(t,e,i);default:throw new Error("unknown item type "+t.type)}}(t,b,p,{asMenuItem:i,collapsed:"sidebar"!==p||y.collapsed});return f.navbarComponentMixin(p,t,i,_)}}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(30);e.button=function(t,e){var i,s,a=t.icon&&!t.value,l=a?" dhx_navbar-count--absolute":" dhx_navbar-count--button-inline";return o.el("button.dhx_button",n({class:r.getNavbarButtonCSS(t,e),"data-dhx-id":t.id,disabled:t.disabled,type:"button"},(s=(i=t).active||i.$activeParent,e={"aria-disabled":i.disabled?"true":"false","aria-label":i.value||i.tooltip||i.id||" "+(i.count||"")},i.items&&(e.id=i.id,e["aria-haspopup"]="menu",s&&(e["aria-expanded"]="true")),e)),[t.icon?r.getIcon(t.icon,"button"):null,t.html?o.el("div.dhx_button__text",{".innerHTML":t.html}):t.value&&o.el("span.dhx_button__text",t.value),0<t.count&&r.getCount(t,l,a),t.value&&t.$openIcon?o.el("span.dhx_button__icon.dhx_button__icon--menu.dxi.dxi-menu-right",{"aria-hidden":"true"}):null,t.loading&&o.el("span.dhx_button__loading",{"aria-hidden":"true"},[o.el("span.dhx_button__loading-icon.dxi.dxi-loading")])])}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(30);e.navItem=function(t,e,i){var s,a,l;return e=" dhx_"+e+"-button",o.el("button",n({class:"dhx_button"+e+(t.active||t.$activeParent?e+"--active":"")+(t.disabled?e+"--disabled":"")+(t.$openIcon?e+"--select":"")+(t.circle?e+"--circle":"")+(t.size?" "+e+"--"+t.size:"")+(!t.value&&t.icon?e+"--icon":"")+(t.css?" "+t.css:""),"data-dhx-id":t.id,disabled:t.disabled,type:"button"},(a={"aria-disabled":(s=t).disabled?"true":"false","aria-label":s.value||" "},l=s.active||s.$activeParent,"selectButton"===s.type||s.items?(a.id=s.id,a["aria-haspopup"]="menu",l&&(a["aria-expanded"]="true")):((s.twoState||l)&&(a["aria-pressed"]=l?"true":"false"),!s.value&&s.icon&&s.tooltip&&(a["aria-label"]=s.tooltip+" "+(s.count||""))),a)),[t.icon&&o.el("span",{class:t.icon+e+"__icon","aria-hidden":"true"}),t.html&&o.el("div",{class:e.trim()+"__html",".innerHTML":t.html}),!t.html&&t.value&&o.el("span",{class:e.trim()+"__text"},t.value),0<t.count&&r.getCount(t,e+"__count",i),t.$openIcon&&o.el("span.dxi.dxi-menu-right",{class:e+"__caret","aria-hidden":"true"})])}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);e.customHTMLButton=function(t,e,i){var r;return i=i?" dhx_button dhx_menu-button":" dhx_button dhx_nav-menu-button",o.el("button",n({class:"dhx_custom-button"+i+(t.$activeParent?i+"--active":""),"data-dhx-id":t.id,type:"button",".innerHTML":t.html},(i={"aria-disabled":(r=t).disabled?"true":"false"},(r.twoState||r.active||r.$activeParent)&&(i["aria-pressed"]=r.active||r.$activeParent?"true":"false"),i)),t.html?"":t.value)}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(30);e.imageButton=function(t,e){var i,s,a="dhx_"+e+"-button-image";return e="ribbon"===e,o.el("button.dhx_button",n({class:a+(t.size?" "+a+"--"+t.size:"")+(!t.value&&t.src?" "+a+"--icon":"")+(e&&t.$openIcon?" "+a+"--select":"")+(t.active?" "+a+"--active":""),"data-dhx-id":t.id,type:"button"},(s={"aria-disabled":(i=t).disabled?"true":"false"},(i.twoState||i.active)&&(s["aria-pressed"]=i.active?"true":"false"),!i.value&&i.src&&i.tooltip&&(s["aria-label"]=i.tooltip+" "+(i.count||"")),s)),[e&&t.value&&t.$openIcon&&o.el("span.dxi.dxi-menu-right",{class:a+"__caret","aria-hidden":"true"}),t.html?o.el("div",{class:a+"__text",".innerHTML":t.html}):t.value&&o.el("span",{class:a+"__text"},t.value),t.src&&o.el("span",{class:a+"__image",style:{backgroundImage:"url("+t.src+")"},role:"presentation"}),0<t.count&&r.getCount(t,a+"__count",!0)])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(38);function r(t,e){t.fire(o.NavigationBarEvents.inputBlur,[e])}function s(t,e){t.fire(o.NavigationBarEvents.inputFocus,[e])}function a(t,e,i){t.fire(o.NavigationBarEvents.inputChange,[e,i.target.value])}e.input=function(t,e,i){return n.el(".dhx_form-group.dhx_form-group--no-message-holder"+(t.hiddenLabel?".dhx_form-group--label_sr":".dhx_form-group--inline")+".dhx_"+i+"__input",{style:{width:t.width||"200px"},role:"presentation"},[t.label&&n.el("label.dhx_label",{for:t.id,style:{maxWidth:t.hiddenLabel?null:"100%"}},t.label),n.el(".dhx_input__wrapper",{role:"presentation"},[n.el("input.dhx_input",{id:t.id,placeholder:t.placeholder,class:t.icon?"dhx_input--icon-padding":"",autocomplete:t.autocomplete?"on":"off",value:t.value,disabled:t.disabled,onblur:[r,e,t.id],onfocus:[s,e,t.id],oninput:[a,e,t.id],"data-dhx-id":t.id,_hooks:{didInsert:function(i){e&&e.fire(o.NavigationBarEvents.inputCreated,[t.id,i.el])}},_key:t.id,"aria-label":t.label||t.helpMessage||"type "+(t.placeholder?"text like "+t.placeholder:"text")}),t.icon?n.el(".dhx_input__icon",{class:t.icon,"aria-hidden":"true"}):null])])}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(30);e.menuItem=function(t,e,i){var s,a=i?" dhx_menu-button":" dhx_nav-menu-button";return o.el("button",n({class:"dhx_button"+a+(t.disabled?a+"--disabled":"")+(t.active||t.$activeParent?a+"--active":""),disabled:t.disabled,"data-dhx-id":t.id,type:"button"},(a={role:"menuitem","aria-disabled":(s=t).disabled?"true":"false"},s.items&&(a["aria-haspopup"]="true"),a)),i?[t.icon||t.value||t.html?o.el("span.dhx_menu-button__block.dhx_menu-button__block--left",[t.icon&&o.el("span.dhx_menu-button__icon",{class:t.icon}),t.html?o.el("div.dhx_menu-button__text",{".innerHTML":t.html}):t.value&&o.el("span.dhx_menu-button__text",t.value)]):null,0<t.count||t.hotkey||t.items?o.el("span.dhx_menu-button__block.dhx_menu-button__block--right",[0<t.count&&r.getCount(t," dhx_menu-button__count",!1),t.hotkey&&o.el("span.dhx_menu-button__hotkey",t.hotkey),t.items&&o.el("span.dhx_menu-button__caret.dxi.dxi-menu-right")]):null]:[t.icon&&o.el("span.dhx_menu-button__icon",{class:t.icon}),t.html?o.el("div.dhx_menu-button__text",{".innerHTML":t.html}):t.value&&o.el("span.dhx_nav-menu-button__text",t.value)])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.separator=function(t,e){return null}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spacer=function(t,e){return null}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.title=function(t,e){return n.el("span",{class:"dhx_navbar-title dhx_navbar-title--"+e,"data-dhx-id":t.id,".innerHTML":t.html,"aria-label":t.value||""},t.html?null:t.value)}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(34),s=i(11),a=i(38),l=i(15);function c(t,e,i){(i=i.target)&&(i.value=e.$calendar.getValue()),t.fire(a.NavigationBarEvents.inputBlur,[null==e?void 0:e.id])}function d(t,e,i){o.awaitRedraw().then((function(){return e.$popup.show(i.target,{theme:i.target})})),t.fire(a.NavigationBarEvents.inputFocus,[null==e?void 0:e.id])}function u(t,e){var i=e.target.value;return e=t.$calendar.config.dateFormat,i.length?l.stringToDate(i,e,!0)&&t.$calendar.setValue(l.stringToDate(i,e)):t.$calendar.clear(),!1}e.datePicker=function(t,e,i){t.$popup||(t.$popup=new s.Popup),t.$calendar||(t.$calendar=new r.Calendar(null,n(n({},t),{css:"dhx_widget--bordered"})),t.$popup.attach(t.$calendar),t.$calendar.events.on("change",(function(i,n,o){o&&t.$popup.isVisible()&&t.$popup.hide(),o="date"===(null===(o=t.valueFormat)||void 0===o?void 0:o.toLowerCase()),e.fire(a.NavigationBarEvents.inputChange,[t.id,t.$calendar.getValue(o)])})));var l=t.$calendar.getValue();return t.mode&&"calendar"!==t.mode&&t.$calendar.showDate(void 0,t.mode),o.el(".dhx_form-group.dhx_form-group--no-message-holder"+(t.hiddenLabel?".dhx_form-group--label_sr":".dhx_form-group--inline")+".dhx_"+i+"__input",{style:{width:t.width||"200px"},role:"presentation"},[t.label&&o.el("label.dhx_label",{for:t.id,style:{maxWidth:t.hiddenLabel?null:"100%"}},t.label),o.el(".dhx_input__wrapper",{role:"presentation"},[o.el("input.dhx_input",{id:t.id,placeholder:t.placeholder,class:t.icon?"dhx_input--icon-padding":"",value:l,disabled:t.disabled,onblur:[c,e,t],onfocus:[d,e,t],oninput:[u,t],"data-dhx-id":t.id,readOnly:!0!==t.editable,_hooks:{didInsert:function(i){e&&e.fire(a.NavigationBarEvents.inputCreated,[t.id,i.el])}},_key:t.id,"aria-label":t.label||t.helpMessage||"type "+(t.placeholder?"text like "+t.placeholder:"text")}),t.icon?o.el(".dhx_input__icon",{class:t.icon,"aria-hidden":"true"}):null])])}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(81),l=i(20),c=i(0),d=i(2),u=i(13);function h(t,e){var i=s.call(this,t,e)||this;return i.scrollView=new l.ScrollView((function(){return i.getRootView()})),i}o(h,s=a.Toolbar),h.prototype._draw=function(t){var e=this,i=this.data.getLength()?this.data.reduce((function(t,e){switch(e.type){case"title":return t||20;case"button":return"small"===e.size&&(!t||t<=28)?28:t||32;default:return 32}}),0)+24:null;return t=[c.el("ul.dhx_navbar.dhx_navbar--horizontal",r(r({"data-dhx-widget-id":this._uid,tabindex:0},{role:"toolbar","aria-label":t||""}),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,_hooks:{didInsert:function(t){t.el.addEventListener("keyup",(function(t){var i;9!==t.which||(i=d.locateNode(document.activeElement))&&(t=i.getAttribute("data-dhx-id"),null!=(t=e.data.getItem(t))&&t.tooltip&&u.tooltip(t.tooltip,{node:i,position:u.Position.bottom,force:!0}))}),!0)}}}),this.data.map((function(t){return e._factory(t)}),this.data.getRoot(),!1))],c.el("nav.dhx_widget.dhx_toolbar",{style:{height:i},class:this.config.css||""},this.scrollView&&this.scrollView.config.enable?[].concat(this.scrollView.render(t)):t)},o=h,e.ProToolbar=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.layoutConfig={css:"vault-layout",rows:[{id:"topbar",css:"vault-topbar"},{id:"vault",css:"vault-file-grid"}]},e.layoutConfigWithoutTopbar={css:"vault-layout",rows:[{id:"vault",css:"vault-file-grid"}]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(50),r=["byte","kilobyte","megabyte","gigabyte"];function s(t){return{extension:t.name.split(".").pop()||"none",mime:t.file?t.file.type:""}}function a(t,e){switch(t){case"jpg":case"jpeg":case"gif":case"png":case"bmp":case"tiff":case"pcx":case"svg":case"ico":return n.image;case"avi":case"mpg":case"mpeg":case"rm":case"move":case"mov":case"mkv":case"flv":case"f4v":case"mp4":case"3gp":case"wmv":case"webm":case"vob":return n.video;case"rar":case"zip":case"tar":case"tgz":case"arj":case"gzip":case"bzip2":case"7z":case"ace":case"apk":case"deb":case"zipx":case"cab":case"tar-gz":case"rpm":case"xar":return n.archive;case"xlr":case"xls":case"xlsm":case"xlsx":case"ods":case"csv":case"tsv":return n.table;case"doc":case"docx":case"docm":case"dot":case"dotx":case"odt":case"wpd":case"wps":case"pages":return n.document;case"wav":case"aiff":case"au":case"mp3":case"aac":case"wma":case"ogg":case"flac":case"ape":case"wv":case"m4a":case"mid":case"midi":return n.audio;case"pot":case"potm":case"potx":case"pps":case"ppsm":case"ppsx":case"ppt":case"pptx":case"pptm":case"odp":return n.presentation;case"html":case"htm":case"eml":return n.web;case"exe":return n.application;case"dmg":return n.apple;case"pdf":case"ps":case"eps":return n.pdf;case"psd":return n.psd;case"txt":case"djvu":case"nfo":case"xml":return n.text;default:switch(e.split("/")[0]){case"image":return n.image;case"audio":return n.audio;case"video":return n.video;default:return n.other}}}e.getBasis=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t<1024?t+" "+o.default[r[e]]:this.getBasis(Math.round(t/1024),e+1)},e.truncateWord=function(t,e){if(void 0===e&&(e=13),t.length<=e)return t;var i,n=t.lastIndexOf(".");return(-1===n?(i=t.substr(t.length-4),t.substr(0,e-7)):(n-=3,i=t.substr(n),t.substr(0,e-(t.length-n))))+"..."+i},e.calculateCover=function(t){var e,i,n,o=t.width,r=t.height;return o=1<(t=o/r)?(e=i=r,n=(o-i)/2,0):t<1?(n=0,(r-(e=i=o))/2):(i=e=o,n=0),{sx:n,sy:o,sWidth:i,sHeight:e,dx:0,dy:0}},(i=n=e.FileType||(e.FileType={})).image="image",i.video="video",i.archive="archive",i.table="table",i.document="document",i.presentation="presentation",i.application="application",i.web="web",i.apple="apple",i.pdf="pdf",i.psd="psd",i.audio="audio",i.other="other",i.text="text",e.getFileType=a,e.getFileClassName=function(t){var e=s(t);return t=e.mime,a(e=e.extension,t)+" extension-"+e},e.isImage=function(t){var e=s(t);return t=e.mime,a(e.extension,t)===n.image}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(0),a=i(7),l=i(50),c=i(36);function d(t,e){var i=r.call(this,null,e)||this;return i.events=t,i._progress=0,i.mount(null,s.create({render:function(){return i._draw()}})),i._abortUpload=function(){i.events.fire(c.ProgressBarEvents.cancel)},i}o(d,r=a.View),d.prototype.setState=function(t,e){this._progress=t,this.config.template?this._progressText=this.config.template(t,e):this._progressText=this._progress.toFixed(1)+"%",this.paint()},d.prototype._draw=function(){return s.el(".progress-bar",{_key:this._uid},[s.el(".progress-indicator",{style:{width:this._progress+"%"}}),s.el(".progress-text",{".innerHTML":this._progressText}),s.el("button",{class:"dhx_btn dhx_btn--flat dhx_btn_small action-abort-all",onclick:this._abortUpload},l.default.cancel)])},o=d,e.ProgressBar=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o.prototype.add=function(t,e){void 0===e&&(e=!1),this._readerStack.push(t),e||this.read()},o.prototype.read=function(){var t,e,i=this;this._readerStack.length&&!this._isActive&&(t=this._readerStack.shift(),this._isActive=!0,(e=new FileReader).readAsDataURL(t.file),e.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){i._data.exists(t.id)&&i._data.update(t.id,{image:n}),i._isActive=!1,i.read()}},e.onerror=function(){i._isActive=!1,i.read()})},o.prototype.stop=function(){this._readerStack=[]},o);function o(t){this._readerStack=[],this._isActive=!1,this._data=t}e.ReadStackPreview=n},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(3),c=i(2),d=i(7),u=i(1),h=i(52),f=i(82),p=i(53),g=i(83),_=i(80),v=i(13),m=i(181),y=i(182),b=i(12),x=i(18),w=i(1);function E(t,e){var i=s.call(this,t,e)||this;return i._setPaletteGrip=function(t){var e=i.getRootView().refs.picker_palette.el.getBoundingClientRect(),n=(t.targetTouches?t.targetTouches[0]:t).clientX;t=(t.targetTouches?t.targetTouches[0]:t).clientY-e.top,n-=e.left,n=(t=y.calculatePaletteGrip(e,t,n)).s,t=t.v,i._pickerState.hsv.s=n,i._pickerState.hsv.v=t,i.paint()},i._setRangeGrip=function(t){var e=i.getRootView().refs.hue_range.el.getBoundingClientRect();t=(t.targetTouches?t.targetTouches[0]:t).clientX-e.left,t=(e=y.calculateRangeGrip(e,t)).h,e=e.rangeLeft,i._pickerState.hsv.h=t,i._pickerState.rangeLeft=e,i.paint()},i._onColorClick=function(t,e){e=e.data.color.toUpperCase(),i.events.fire(g.ColorpickerEvents.beforeChange,[e])&&(i._selected=e,i.events.fire(g.ColorpickerEvents.change,[i._selected]),i.events.fire(g.ColorpickerEvents.colorChange,[i._selected]))},i._container=t,i.config=u.extend({css:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:f.palette,width:"238px",mode:"palette"},i.config),i.config.palette||(i.config.palette=f.palette),i.config.customColors&&(i.config.customColors=i.config.customColors.map((function(t){return t.toUpperCase()}))),i._pickerState={hsv:{h:0,s:1,v:1},customHex:""},i.events=new l.EventSystem(i),i._setHandlers(),i._keyManager=new b.KeyManager((function(t,e){return e===i._uid})),i._initHotKey(),t=a.create({render:function(){return i._getContent()}}),i.mount(i._container,t),i}o(E,s=d.View),E.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this._selected=this._handlers=this._pickerState=this._inputTimeout=null,this.unmount()},E.prototype.clear=function(){this.events.fire(g.ColorpickerEvents.beforeChange,[""])&&(this._selected="",this.events.fire(g.ColorpickerEvents.change,[this._selected]),this.paint())},E.prototype.setValue=function(t){this.events.fire(g.ColorpickerEvents.beforeChange,[t])&&(!this._focusColor(t)&&x.focusManager.getFocusId()!==this._uid||(this.events.fire(g.ColorpickerEvents.change,[this._selected]),this.events.fire(g.ColorpickerEvents.colorChange,[this._selected])))},E.prototype.setFocus=function(t){this._focusColor(t)&&this.paint()},E.prototype.getValue=function(){return this._selected||""},E.prototype.getCustomColors=function(){return this.config.customColors},E.prototype.setCustomColors=function(t){this.config.customColors=t.map((function(t){return t.toUpperCase()})),this.paint()},E.prototype.setCurrentMode=function(t){"palette"!==t&&"picker"!==t||(this.config.mode=t,this.events.fire(g.ColorpickerEvents.modeChange,[t]),this.events.fire(g.ColorpickerEvents.viewChange,[t]),this.paint())},E.prototype.getCurrentMode=function(){return this.config.mode},E.prototype.getView=function(){return this.getCurrentMode()},E.prototype.setView=function(t){this.setCurrentMode(t)},E.prototype.focusValue=function(t){this.setFocus(t)},E.prototype._setHandlers=function(){var t=this;this._handlers={click:{".dhx_palette__cell":this._onColorClick},mousedown:function(e){t._pickerMove(e)},touchstart:function(e){t._pickerMove(e)},buttonsClick:function(e){t.setCurrentMode("palette"),"cancel"!==e?"apply"!==e||t.config.customColors.includes(t._pickerState.background)||(t.setValue(t._pickerState.background),t.events.fire(g.ColorpickerEvents.apply,[]),t.events.fire(g.ColorpickerEvents.selectClick,[])):t.events.fire(g.ColorpickerEvents.cancelClick,[])},customColorClick:function(){t.setView("picker")},oninput:function(e){t._inputTimeout&&clearTimeout(t._inputTimeout),t._inputTimeout=setTimeout((function(){var i=e.target.value;-1===i.indexOf("#")&&(i="#"+i),t._pickerState.customHex=i,h.isHex(i)&&(t._pickerState.hsv=h.HexToHSV(i),t.paint())}),100)},contextmenu:{".dhx_palette__cell":function(e,i){e.preventDefault(),-1!==(i=t.config.customColors.indexOf(i.data.color))&&t._removeCustomColor(i),t.paint()}},mouseover:{".dhx_palette__cell":function(t){t.target&&_.tooltip(p.default.rightClickToDelete,{node:t.target,position:v.Position.bottom})},".dhx_colorpicker-custom-colors__picker":function(t){t.target&&_.tooltip(p.default.addNewColor,{node:t.target,position:v.Position.bottom})}}},this.events.on(g.ColorpickerEvents.change,(function(){t.paint()})),this.events.on(g.ColorpickerEvents.colorChange,(function(){t.paint()}))},E.prototype._pickerMove=function(t){var e=c.locate(t);this._pickerState.customHex="","picker_palette"===e?this._setPaletteGrip(t):this._setRangeGrip(t);var i="picker_palette"===e?this._setPaletteGrip:this._setRangeGrip,n=t.targetTouches?"touchmove":"mousemove";t=t.targetTouches?"touchend":"mouseup",document.addEventListener(n,i),document.addEventListener(t,(function(){document.removeEventListener(n,i)})),this.paint()},E.prototype._focusColor=function(t){if(void 0===t||t.length<4)return!1;var e=t.toUpperCase();if(!h.isHex(e))return!1;var i=this.config.palette.reduce((function(t,i){return t||(i.forEach((function(i){i.toUpperCase()===e&&(t=!0)})),t)}),!1);return t=f.grayShades.includes(e),i||t||(t=this.getCustomColors()).includes(e.toUpperCase())||t.push(e.toUpperCase()),this._selected=e||null,this._pickerState.hsv=h.HexToHSV(e),!0},E.prototype._removeCustomColor=function(t){this.config.customColors.splice(t,1)},E.prototype._getCells=function(t,e){var i=this;return void 0===e&&(e=""),t.reduce((function(t,n){var o=(i._selected||"").toUpperCase()===n.toUpperCase()?"dhx_palette__cell--selected":"";return t.push(a.el(".dhx_palette__cell",{class:o+" "+e,_data:{color:n},style:"background:"+n,tabindex:0})),t}),[])},E.prototype._getGrayShades=function(){return a.el(".dhx_palette__row",this._getCells(f.grayShades))},E.prototype._getPalette=function(){var t=this;return this.config.palette.reduce((function(e,i){return e.push(a.el(".dhx_palette__col",t._getCells(i))),e}),[])},E.prototype._getContent=function(){var t=this.config.pickerOnly||"palette"!==this.config.mode?[m.getPicker(this,this._pickerState,this._handlers)]:r([this.config.grayShades&&this._getGrayShades()],this._getPalette(),[!this.config.paletteOnly&&a.el(".dhx_colorpicker-custom-colors",{onmouseover:this._handlers.mouseover},[a.el(".dhx_colorpicker-custom-colors__header",[p.default.customColors]),a.el(".dhx_palette--custom.dhx_palette__row",r(this._getCells(this.config.customColors,"dhx_custom-color__cell"),[a.el(".dhx_colorpicker-custom-colors__picker",{class:"dxi dxi-plus",onclick:this._handlers.customColorClick,onmouseover:this._handlers.mouseover,tabindex:0})]))])]);return a.el(".dhx_widget.dhx_colorpicker",{class:this.config.css,style:{width:this.config.width},"data-dhx-widget-id":this._uid},[a.el(".dhx_palette",{onclick:this._handlers.click,oncontextmenu:this._handlers.contextmenu},t)])},E.prototype._initHotKey=function(){var t,e=this,i={enter:function(t){if(c.locateNodeByClassName(t,"dhx_palette__cell")){var i=w.rgbToHex(t.target.style.background);if(!e.events.fire(g.ColorpickerEvents.beforeChange,[i]))return;e._selected=i,e.events.fire(g.ColorpickerEvents.change,[e._selected]),e.events.fire(g.ColorpickerEvents.colorChange,[e._selected])}c.locateNodeByClassName(t,"dhx_colorpicker-custom-colors__picker")&&e.setCurrentMode("picker")}};for(t in i)this._keyManager.addHotKey(t,i[t])},o=E,e.Colorpicker=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(52),o=i(0),r=i(53);e.getPicker=function(t,e,i){var s=n.HSVtoRGB(e.hsv);e.background=n.RGBToHex(s);var a=n.RGBToHex(n.HSVtoRGB({h:e.hsv.h,s:1,v:1})),l=(d=(c=t.getRootView()).refs?c.refs.picker_palette.el.getBoundingClientRect():{height:200,width:218,x:0,y:0}).height-2,c=(s=d.width-2,l-e.hsv.v*l-4),d=(l=e.hsv.s*s-4,(s=d.width-6)-(360-e.hsv.h)/360*s);return s=(n.isHex(e.customHex)?e.customHex:e.background).replace("#",""),o.el(".dhx_colorpicker-picker",{},[o.el(".dhx_colorpicker-picker__palette",{style:{height:132,background:a},onmousedown:i.mousedown,ontouchstart:i.touchstart,"data-dhx-id":"picker_palette",_ref:"picker_palette"},[o.el(".dhx_palette_grip",{style:{top:c,left:l},tabindex:0})]),o.el(".dhx_colorpicker-hue-range",{style:{height:16},onmousedown:i.mousedown,ontouchstart:i.touchstart,"data-dhx-id":"hue_range",_key:"hue_range",_ref:"hue_range"},[o.el(".dhx_colorpicker-hue-range__grip",{style:{left:d},tabindex:0})]),o.el(".dhx_colorpicker-value",[o.el(".dhx_colorpicker-value__color",{style:{background:e.background}}),o.el(".dhx_colorpicker-value__input__wrapper",[o.el("input",{class:"dhx_colorpicker-value__input",value:s,oninput:i.oninput,maxlength:"7",_key:"hex_input","aria-label":"type color in HEX format"})])]),o.el(".dhx_colorpicker-picker__buttons",[!t.config.pickerOnly&&o.el("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_link dhx_button--color_primary",onclick:[i.buttonsClick,"cancel"]},r.default.cancel),o.el("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_flat dhx_button--color_primary",onclick:[i.buttonsClick,"apply"]},r.default.select)])])},e.calculatePaletteGrip=function(t,e,i){t=(n=t.refs.picker_palette.el.getBoundingClientRect()).height;var n=n.width;e=e<0?0:t<e?t:e,i=i<0?0:n<i?n:i,n=Math.round(i/(n/100)),t=100-Math.round(e/(t/100)),this._pickerState.hsv.s=n/100,this._pickerState.hsv.v=t/100}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculatePaletteGrip=function(t,e,i){var n=t.height;return t=t.width,e=e<0?0:n<e?n:e,i=i<0?0:t<i?t:i,{s:Math.round(i/(t/100))/100,v:(100-Math.round(e/(n/100)))/100}},e.calculateRangeGrip=function(t,e){return t=t.width,e=e<0?0:t<e?t:e,{h:Math.round(e/t*360),rangeLeft:e}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(84)),n(i(203)),n(i(25))},function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(185);function s(){this._data=[],this._sizes={left:20,right:20,top:10,bottom:10}}s.prototype.add=function(t){this._data.push(t)},s.prototype.clear=function(){this._data.forEach((function(t){return t.destructor&&t.destructor()})),this._data=[]},s.prototype.getSizes=function(){return this._sizes},s.prototype.toVDOM=function(t,e){var i={left:20,right:20,top:10,bottom:10},s=this._data.filter((function(t){return!t.dataReady||t.dataReady().length}));this._data.forEach((function(t){return!t.scaleReady||t.scaleReady(i)}));var a=0,l=0;s.forEach((function(t){t.seriesShift&&(a+=t.seriesShift(),l++)}));var c=a/l;a=l?(c-a)/2:0,s.forEach((function(t){t.seriesShift&&(t.seriesShift(a),a+=c)})),this._sizes=i;var d=t-i.left-i.right,u=e-i.top-i.bottom;return u=o.sv("g",{transform:"translate("+i.left+", "+i.top+")"},n([o.sv("rect.dhx_chart-graph_area",{width:0<d?d:0,height:0<u?u:0,fill:"transparent"})],s.map((function(n){return n.paint(t-(i.left+i.right),e-(i.top+i.bottom))})))),s=o.sv("defs",[r.dropShadow(),r.shadow()]),o.sv("svg",{width:t,height:e,role:"graphics-document"},[s,u])},i=s,e.ComposeLayer=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.shadow=function(){return n.sv("filter",{id:"shadow"},[n.sv("feDiffuseLighting",{in:"SourceGraphic",result:"light","lighting-color":"white"},[n.sv("feDistantLight",{azimuth:90,elevation:25})]),n.sv("feComposite",{in:"SourceGraphic",in2:"light",operator:"arithmetic",k1:"1",k2:"0",k3:"0",k4:"0"})])},e.dropShadow=function(){return n.sv("filter",{id:"dropshadow",x:"-100%",y:"-100%",width:"300%",height:"300%"},[n.sv("feGaussianBlur",{in:"SourceAlpha",stdDeviation:2}),n.sv("feOffset",{dx:0,dy:0,result:"offsetblur"}),n.sv("feOffset",{dx:0,dy:0,result:"offsetblur"}),n.sv("feFlood",{"flood-color":"rgba(85,85,85,0.5)"}),n.sv("feComposite",{in2:"offsetblur",operator:"in"}),n.sv("feMerge",[n.sv("feMergeNode"),n.sv("feMergeNode",{in:"SourceGraphic"})])])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r={circle:function(t,e,i){return o.sv("circle",{id:n.uid(),r:5,fill:e,class:"figure "+("none"!==t?"with-stroke":""),"stroke-width":2,"fill-opacity":i,stroke:t,transform:"translate(0, -1)"})},rect:function(t,e,i){return o.sv("rect",{id:n.uid(),fill:e,"fill-opacity":i,width:10,"stroke-width":2,height:10,class:"figure "+("none"!==t?"with-stroke":""),stroke:t,transform:"translate(-5, -5)"})},line:function(t,e,i,r){var s=function(t,e,i){return o.sv("stop",{offset:e+"%","stop-color":t,class:t?"":i})},a="lg"+n.uid();return s=o.sv("linearGradient",{id:a},[s(t[1],0,"heat-negative"),s(e,r,"heat-neutral"),s(t[0],100,"heat-positive")]),t=o.sv("rect",{id:n.uid(),y:16,fill:"url(#"+a+")","fill-opacity":i,width:500,"stroke-width":2,height:16,class:"figure figure-line",stroke:t}),o.sv("g",{id:n.uid(),width:500,height:16},[s,t])}};e.legendShape=function(t,e){var i;return"string"==typeof t&&(i=r[t]),i("line"===t?[e.positiveColor,e.negativeColor]:e.color||"none",e.fill,e.alpha||1,"line"===t&&e.minValue<0?100*Math.abs(e.minValue)/(e.maxValue-e.minValue):0)},e.legendTicks=function(t,e){if("line"===t&&!isNaN(e.maxValue)&&!isNaN(e.minValue)){for(var i=e.maxValue,n=e.minValue,r=e.step,s=(t=e.tick,e.majorTick),a=e.tickTemplate,l=t||10,c=(i-n)/l,d=[],u=0;u<=Math.ceil(c/(r||1));u++){var h=(e.minValue+l*(r||1)*u).toFixed();d.push(h>e.maxValue?e.maxValue:h)}return d.map((function(t,e,i){return t=(e%(s||1)==0||e===i.length-1)&&o.sv("text",{x:e===i.length-1?499.5:500*e/c*(r||1)-.5,y:34},a?a(t):t),e=o.sv("rect",{x:e===i.length-1?499.5:500*e/c*(r||1)-.5,y:18,width:1,height:4}),o.sv("g",{transform:"translate(0, 16)",class:"legend-tick"},[t,e])}))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(188),o=i(54);i=i(190),o={radial:n.RadialScale,text:i.TextScale,numeric:o.Scale},e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(31);function a(t,e){return r.call(this,t,e,"radial")||this}i=i(54),o(a,r=i.Scale),a.prototype.paint=function(t,e){var i=this;if(this.config.hidden)return null;var n=this.config.zebra,o=this.config.value,r=this.config.showAxis?this._axis.steps:null,a=this._axis.steps.map((function(t){return i.point(t)}));return n={scales:this._data.map((function(t){return t[o]})),axis:a,realAxis:r,zebra:n,attribute:o},s.radarScale(n,t,e)},a.prototype.point=function(t){return(t-this._axis.min)/(this._axis.max-this._axis.min)},o=a,e.RadialScale=o},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var r=i(4),s=[1,2,3,5,10];function a(t,e){void 0===e&&(e={}),this._data=t;for(var i=[],o=0,r=this._data;o<r.length;o++){var s=r[o];"number"==typeof s&&i.push(s),"string"!=typeof s||isNaN(parseFloat(s))||i.push(parseFloat(s))}t={min:Math.min.apply(Math,i),max:Math.max.apply(Math,i),maxTicks:this._data.length<20?this._data.length:20},this.config=n(n({},t),e),this.config.padding&&this._addPadding()}a.prototype.getScale=function(){var t=this.config.log?this._logSteps():this._calculateSteps(this._getStep());return{min:t[0],max:t[t.length-1],steps:t}},a.prototype._getStep=function(){var t=this.config.maxTicks,e=this.config.max-this.config.min,i=Math.floor(r.log10(e/t));return i=Math.pow(10,i)||1,s[o(s,[t=e/i/t]).sort((function(t,e){return t-e})).indexOf(t)]*i},a.prototype._calculateSteps=function(t){for(var e=Math.floor(this.config.min/t),i=Math.ceil(this.config.max/t),n=[],o="radial"===this.config.type?e-1:e;o<=i;o++){var r=t*o;Math.floor(r)!==r&&(r=parseFloat(r.toFixed(8))),n.push(r)}return n},a.prototype._logSteps=function(){var t=[];if(this.config.min<0){for(var e=Math.ceil(r.log10(-this.config.min));0<e;e--)t.push(-Math.pow(10,e));t.push(0)}if(0<this.config.max){var i=Math.ceil(r.log10(this.config.max));for(e=0;e<=i;e++)t.push(Math.pow(10,e))}return t},a.prototype._addPadding=function(){this.config.min-=this.config.padding},i=a,e.AxisCreator=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(4),l=i(54),c={left:(i=i(86)).left,right:i.right,bottom:i.bottom,top:i.top},d={left:i.leftGrid,right:i.rightGrid,bottom:i.bottomGrid,top:i.topGrid};function u(){return null!==s&&s.apply(this,arguments)||this}o(u,s=l.Scale),u.prototype.scaleReady=function(t){var e=this._data.getLength()-1,i=this._data.map(this.locator);this._axis={max:e,steps:i},t[this._position]+=this.config.size},u.prototype.point=function(t){var e=this._axis.steps.indexOf(t);if(this._padding){t=.5/(i=this._axis.max+1);var i=e/i;return this._isXDirection?t+i:1-t-i}return this._isXDirection?e/this._axis.max:1-e/this._axis.max},u.prototype.paint=function(t,e){var i=this;if(this.config.hidden)return null;var n=this._axis.steps.map((function(n,o){return[i._isXDirection?i._getAxisPoint(o)*t:i.point(n)*e,n]}));return c[this._position](n,this.config,t,e)},u.prototype.scaleGrid=function(){var t=this,e=this._position,i=this.config.grid,n=this.config.dashed,o=this.config.hidden;return{paint:function(r,s){var a,l,c=t._axis.steps.indexOf(t.config.targetLine),u=(a=r,l=s,t._axis.steps.map((function(e,i){return[t._isXDirection?t._getAxisPoint(i)*a:t._getAxisPoint(i)*l,e]})));return c={targetLine:c,dashed:n,grid:i,hidden:o},d[e](u,r,s,c)}}},u.prototype._setDefaults=function(t){this.locator=a.locator(t.text),this.config=r(r({},{scalePadding:30,textPadding:12,grid:!0,targetLine:null,showText:!0}),t)},u.prototype._getAxisPoint=function(t){var e=this._axis.max;if(this._padding){var i=.5/(n=e+1),n=t/n;return this._isXDirection?i+n:1-i-n}return this._isXDirection?t/e:1-t/e},o=u,e.TextScale=o},function(t,e,i){"use strict";var n,o,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function s(){return null!==o&&o.apply(this,arguments)||this}Object.defineProperty(e,"__esModule",{value:!0}),i=i(90),r(s,o=i.default),s.prototype.addScale=function(t,e){t="top"===t||"bottom"===t?"left":"top",o.prototype.addScale.call(this,t,e)},s.prototype.paint=function(t,e,i){return o.prototype.paint.call(this,e,t,i)},s.prototype.getTooltipType=function(t,e,i){return void 0!==this.config.baseLine&&this._baseLinePosition>e?"left":"right"},s.prototype.getClosest=function(t,e){for(var i=[1/0,null,null,null],n=0,o=this._points;n<o.length;n++){var r=o[n],s=this._getClosestDist(t,e,r[1],r[0]);i[0]>s&&(i[0]=s,i[1]=r[1],i[2]=r[0],i[3]=r[2])}return i},s.prototype._getText=function(t){return t[4].toString()},s.prototype._getClosestDist=function(t,e,i,n){return this.config.stacked&&i<t?1/0:Math.abs(e-n)},s.prototype._path=function(t,e){return t[0]+=this._shift,"\nM "+e+" "+(t[0]-this.config.barWidth/2)+"\nH "+t[1]+"\nv "+this.config.barWidth+"\nH "+e},s.prototype._base=function(t){var e=this.config.baseLine;return this._baseLinePosition=void 0!==e?this.yScale.point(e)*t:0},s.prototype._text=function(t,e,i){return{x:e=(e+t[1])/2,y:t=t[0],class:"bar-text",transform:i&&!isNaN(i)?"rotate("+i+" "+e+" "+t+")":""}},r=s,e.default=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(31),c=i(4);function d(){return null!==s&&s.apply(this,arguments)||this}i=i(56),o(d,s=i.default),d.prototype.paint=function(t,e){function i(t,e,i){return void 0===i&&(i=0),{role:"graphics-symbol","aria-roledescription":"piece of donut","aria-label":(e||"")+", "+t+" ("+c.roundToTwoNumAfterPoint(i)+"%)"}}var n=this,o=this.config,s=o.stroke,d=o.strokeWidth,u=o.useLines,h=o.subType,f=!d||d<1?4:15<d?15:d,p=t<e?t/2:e/2,g=-.25,_=[],v=[],m=[];return 1<this._points.length&&s&&_.push(a.sv("circle",{cx:0,cy:0,r:p-.5,fill:s})),this._points.forEach((function(o,d){var y=[],b=o[0],x=o[1],w=o[2],E=o[3],C=o[4],S=0===b||1===b?-1e-6:0,k=(A=l.getCoordinates(g,p,p,1<n._points.length&&s?f/2:null))[0],I=A[1],O=g+b/2;g+=b+S;var P,M=(P=l.getCoordinates(g,p,p,1<n._points.length&&s?-f/2:null))[0],D=P[1],V=.5<b?1:0,T=l.getCoordinates(O,p,p),H=-.25<O&&O<.25,F=.5<O||O<0,R=O<.25?5:-5,L=(S=(A=[5,30])[0],A[1]),A=(P=[l.getCoordinates(O,p+S,p+S),l.getCoordinates(O,p+L,p+L)])[0],j=P[1];switch(n.config.subType){case"basic":var $=H?"donut-value-title start-text":"donut-value-title end-text",N=F?-20:10,z=l.getCoordinates(O,p+10,p+10),W=H?"donut-value start-text":"donut-value end-text",B={text1:{x:(u?j:z)[0],y:(u?j:z)[1]+N,width:0,height:0,class:""},text2:{x:(u?j:z)[0],y:(u?j:z)[1]+N+16,width:0,height:0,class:""},changeSector:!1,line:R,right:H,dy:N},G=a.sv("text",r(r({x:(u?j:z)[0],y:(u?j:z)[1]+N,class:$},i(x,E,b)),{tabindex:0}),[c.verticalCenteredText(E.toString())]);$=a.sv("text",{x:(u?j:z)[0],y:(u?j:z)[1]+N+16,class:W,"aria-hidden":"true"},[c.verticalCenteredText(x.toString())]),W=c.getSizesSVGText(E.toString(),{font:"normal 14px Roboto",lineHeight:14}),B.text1.width=W[0],B.text1.height=W[1],W=c.getSizesSVGText(x.toString(),{font:"normal 12px Roboto",lineHeight:12}),B.text2.width=W[0],B.text2.height=W[1];var q=u?p+L:p+10;0!==v.length&&(H?(v.forEach((function(t){c.checkPositions(B.text1,t.text1,q,q,B),c.checkPositions(B.text1,t.text2,q,q,B)})),B.text1.class&&(B.text2.class=B.text1.class)):(v.forEach((function(t){c.checkPositions(B.text2,t.text2,q,q,B),c.checkPositions(B.text2,t.text1,q,q,B)})),B.text2.class&&(B.text1.class=B.text2.class)),G.attrs.x=B.text1.x,G.attrs.y=B.text1.y,$.attrs.x=B.text2.x,$.attrs.y=B.text2.y,(B.text1.class||B.text2.class)&&(G.attrs.class=B.text1.class,$.attrs.class=B.text2.class),R=B.line,u?(j[0]=B.text1.x,j[1]=B.text1.y-N):(z[0]=B.text1.x,z[1]=B.text1.y-N)),v.push(B),z=a.sv("text",r({x:7*T[0]/9,y:7*T[1]/9,class:"pie-inner-value"},i(x,E,b)),[c.verticalCenteredText(Math.round(100*b)+"%")]),y.push(a.sv("g",{id:w+"-text",class:"chart donut"},[G,$])),y.push(z);break;case"valueOnly":var Y=a.sv("text",r(r({x:7*T[0]/9,y:7*T[1]/9,class:"pie-inner-value"},i(x,E,b)),{tabindex:0}),[c.verticalCenteredText(""+x)]);y.push(Y);break;case"percentOnly":Y=a.sv("text",r(r({x:7*T[0]/9,y:7*T[1]/9,class:"pie-inner-value"},i(x,E,b)),{tabindex:0}),[c.verticalCenteredText(Math.round(100*b)+"%")]),y.push(Y)}u&&"basic"===h&&(N=F?3:0,y.push(a.sv("path",{d:"M"+A[0]+" "+A[1]+" L"+j[0]+"\n\t\t\t\t\t\t\t"+(j[1]+N)+" h "+R,id:w+"-connector",class:"pie-value-connector chart donut"}))),S=0,P=0,A=f/(2*Math.sin(Math.PI/n._points.length)),1<n._points.length&&s&&(S=(A=l.getCoordinates(O,A,A))[0],P=A[1]),D="M "+k+" "+I+" A "+p+" "+p+" 0 "+V+" 1 "+M+" "+D+"\n\t\t\t\tL "+(0+S)+" "+(0+P),P=(S=l.getCoordinates(O,4,4))[0],S=S[1],S=a.sv("path",{d:D,_key:w,fill:C||c.getDefaultColor(d),class:"chart donut",onclick:[n._handlers.onclick,o[1],o[2]],onmouseout:[l.pieLikeHandlers.onmouseout],onmouseover:[l.pieLikeHandlers.onmouseover,P,S],role:"presentation"}),y.unshift(S),_.push(a.sv("g",{id:w},y)),1===n._points.length?m.push([t/2,e/2]):m.push([.8*T[0]+t/2,.8*T[1]+e/2])})),this._center=[t/2,e/2],this._tooltipData=m,(_=_.concat([])).push(a.sv("circle",{cx:0,cy:0,r:5*p/9,fill:"#FFFFFF",role:"presentation"})),a.sv("g",r(r({transform:"translate("+t/2+", "+e/2+")"},{"aria-label":"chart "+(this.config.text||"")}),{tabindex:0}),_)},o=d,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(31),d=i(4);function u(){return null!==s&&s.apply(this,arguments)||this}i=i(56),o(u,s=i.default),u.prototype.paint=function(t,e){var i=this,n=this.config,o=n.stroke,s=n.strokeWidth,u=n.gradient,h=n.useLines,f=n.showText,p=n.showTextTemplate,g=n.subType,_=!s||s<1?4:15<s?15:s,v=t<e?t/2:e/2,m=-.25,y=[],b=[],x=(s=[],[]),w=[];return 1<this._points.length&&o&&s.push(l.sv("circle",{cx:0,cy:0,r:v-.5,fill:o})),this._points.forEach((function(n,s){var E=[],C=n[0],S=n[1],k=n[2],I=n[3],O=0===C||1===C?-1e-6:0,P=(M=n[4])||d.getDefaultColor(s);u&&(L=u(M),H="gradient"+a.uid(),F=d.getRadialGradient(L.options,L.stops,H),P="url(#"+H+")",x.push(F)),s=(R=c.getCoordinates(m,v,v,1<i._points.length&&o?_/2:null))[0];var M=R[1],D=m+C/2,V=D<.25?5:-5,T=c.getCoordinates(D,v,v);m+=C+O;var H=(L=c.getCoordinates(m,v,v,1<i._points.length&&o?-_/2:null))[0],F=L[1],R=.5<C?1:0,L=(O=[5,30])[0],A=O[1],j=(L=(O=[c.getCoordinates(D,v+L,v+L),c.getCoordinates(D,v+A,v+A)])[0],O[1]),$=-.25<D&&D<.25,N=.5<D||D<0,z=-.25<D&&D<.25?"pie-value start-text":"pie-value end-text";switch((f||p)&&!1!==f&&(J=l.sv("text",{x:.7*T[0],y:.7*T[1],class:"pie-inner-value","aria-hidden":"true"},[p?d.verticalCenteredText(p(S.toString())):d.verticalCenteredText(S.toString())]),E.push(J)),i.config.subType){case"basic":var W=N?-20:10,B=c.getCoordinates(D,v+10,v+10),G=$?"donut-value start-text":"donut-value end-text",q={text1:{x:(h?j:B)[0],y:(h?j:B)[1]+W,width:0,height:0,class:""},text2:{x:(h?j:B)[0],y:(h?j:B)[1]+W+16,width:0,height:0,class:""},changeSector:!1,line:V,right:$,dy:W},Y=l.sv("text",r({x:(h?j:B)[0],y:(h?j:B)[1]+W,class:z},(X=C,{role:"graphics-symbol","aria-roledescription":"piece of pie","aria-label":(I||"")+", "+S+" ("+d.roundToTwoNumAfterPoint(X)+"%)"})),[d.verticalCenteredText(I.toString())]),X=l.sv("text",{x:(h?j:B)[0],y:(h?j:B)[1]+W+16,class:G,"aria-hidden":"true"},[d.verticalCenteredText(S.toString())]);G=d.getSizesSVGText(I.toString(),{font:"normal 14px Roboto",lineHeight:14}),q.text1.width=G[0],q.text1.height=G[1],G=d.getSizesSVGText(S.toString(),{font:"normal 12px Roboto",lineHeight:12}),q.text2.width=G[0],q.text2.height=G[1];var U=h?v+A:v+10;0!==y.length&&($?(y.forEach((function(t){d.checkPositions(q.text1,t.text1,U,U,q),d.checkPositions(q.text1,t.text2,U,U,q)})),q.text1.class&&(q.text2.class=q.text1.class)):(y.forEach((function(t){d.checkPositions(q.text2,t.text2,U,U,q),d.checkPositions(q.text2,t.text1,U,U,q)})),q.text2.class&&(q.text1.class=q.text2.class)),Y.attrs.x=q.text1.x,Y.attrs.y=q.text1.y,X.attrs.x=q.text2.x,X.attrs.y=q.text2.y,(q.text1.class||q.text2.class)&&(Y.attrs.class=q.text1.class,X.attrs.class=q.text2.class),V=q.line,h?(j[0]=q.text1.x,j[1]=q.text1.y-W):(B[0]=q.text1.x,B[1]=q.text1.y-W)),y.push(q),B=l.sv("text",{x:.5*T[0],y:.5*T[1],class:"pie-inner-value","aria-hidden":"true"},[d.verticalCenteredText(Math.round(100*C)+"%")]),E.push(l.sv("g",{id:k+"-text",class:"chart donut"},[Y,X])),E.push(B);break;case"valueOnly":var K=l.sv("text",{x:.5*T[0],y:.5*T[1],class:"pie-inner-value","aria-hidden":"true"},[d.verticalCenteredText(""+S)]);E.push(K);break;case"percentOnly":K=l.sv("text",{x:.5*T[0],y:.5*T[1],class:"pie-inner-value","aria-hidden":"true"},[d.verticalCenteredText(Math.round(100*C)+"%")]),E.push(K)}h&&"basic"===g&&(W=N?3:0,E.push(l.sv("path",{d:"M"+L[0]+" "+L[1]+" L"+j[0]+"\n\t\t\t\t\t\t\t"+(j[1]+W)+" h "+V,id:k+"-connector",class:"pie-value-connector chart pie"}))),O=0;var J=0;L=_/(2*Math.sin(Math.PI/i._points.length)),1<i._points.length&&o&&(O=(L=c.getCoordinates(D,L,L))[0],J=L[1]),F="M "+s+" "+M+" A "+v+" "+v+" 0 "+R+" 1 "+H+" "+F+"\n\t\t\t\tL "+(0+O)+" "+(0+J),J=(O=c.getCoordinates(D,4,4))[0],O=O[1],O=l.sv("path",{d:F,class:"chart pie",_key:k,fill:P,onclick:[i._handlers.onclick,n[1],n[2]],onmouseover:[c.pieLikeHandlers.onmouseover,J,O],onmouseout:[c.pieLikeHandlers.onmouseout],role:"presentation"}),E.unshift(O),w.push(l.sv("g",{id:k},E)),1===i._points.length?b.push([t/2,e/2]):b.push([.7*T[0]+t/2,.7*T[1]+e/2])})),this._center=[t/2,e/2],this._tooltipData=b,s.push(l.sv("defs",x)),s=(s=s.concat(w)).concat([]),l.sv("g",r(r({transform:"translate("+t/2+", "+e/2+")"},{"aria-label":"chart "+(this.config.text||"")}),{tabindex:0}),s)},o=u,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(31),c=i(4);function d(){return null!==s&&s.apply(this,arguments)||this}i=i(56),o(d,s=i.default),d.prototype.paint=function(t,e){var i=this,n=this.config,o=n.subType,s=n.useLines,d=n.showText,u=n.showTextTemplate,h=t<e?t/2:e/2,f=.5*h,p=h/5,g=[],_=-.25,v=[],m=[],y=[];return this._points.forEach((function(n,b){var x=n[0],w=n[1],E=n[2],C=n[3],S=n[4],k=0===x||1===x?-1e-6:0,I=(R=l.getCoordinates(_,h,f))[0],O=R[1],P=_+x/2,M=P<.25?5:-5,D=l.getCoordinates(P,h,f),V=0;0<P&&P<.5&&(V=p*Math.sin(2*Math.PI*P));var T=l.getCoordinates(P,h+5+V,5+f+V),H=l.getCoordinates(P,h+30+V,30+f+V),F=_+x+k,R=(L=l.getCoordinates(F,h,f))[0],L=(k=L[1],.5<x?1:0),A=-.25<P&&P<.25,j=.5<P||P<0,$=A?"pie-value start-text":"pie-value end-text";switch(i.config.subType){case"basic":var N=j?-20:10,z=A?"donut-value start-text":"donut-value end-text",W={text1:{x:(s?H:T)[0],y:(s?H:T)[1]+N,width:0,height:0,class:""},text2:{x:(s?H:T)[0],y:(s?H:T)[1]+N+16,width:0,height:0,class:""},changeSector:!1,line:M,right:A,dy:N},B=a.sv("text",r({x:(s?H:T)[0],y:(s?H:T)[1]+N,dx:s?0<M/2+M?10:-10:null,class:$},(q=x,{role:"graphics-symbol","aria-roledescription":"piece of pie","aria-label":(C||"")+", "+w+" ("+c.roundToTwoNumAfterPoint(q)+"%)"})),[c.verticalCenteredText(C.toString())]),G=a.sv("text",{x:(s?H:T)[0],y:(s?H:T)[1]+N+16,dx:s?0<M/2+M?10:-10:null,class:z,"aria-hidden":"true"},[c.verticalCenteredText(w.toString())]),q=a.sv("text",{x:.5*D[0],y:.5*D[1],class:"pie-inner-value","aria-hidden":"true"},[c.verticalCenteredText(Math.round(100*x)+"%")]);z=c.getSizesSVGText(C.toString(),{font:"normal 14px Roboto",lineHeight:14}),W.text1.width=z[0],W.text1.height=z[1],z=c.getSizesSVGText(w.toString(),{font:"normal 12px Roboto",lineHeight:12}),W.text2.width=z[0],W.text2.height=z[1];var Y=s?h+30+V:h+5+V,X=s?30+f+V:5+f+V;0!==y.length&&(A?(y.forEach((function(t){c.checkPositions(W.text1,t.text1,Y,X,W),c.checkPositions(W.text1,t.text2,Y,X,W)})),W.text1.class&&(W.text2.class=W.text1.class)):(y.forEach((function(t){c.checkPositions(W.text2,t.text2,Y,X,W),c.checkPositions(W.text2,t.text1,Y,X,W)})),W.text2.class&&(W.text1.class=W.text2.class)),B.attrs.x=W.text1.x,B.attrs.y=W.text1.y,G.attrs.x=W.text2.x,G.attrs.y=W.text2.y,(W.text1.class||W.text2.class)&&(B.attrs.class=W.text1.class,G.attrs.class=W.text2.class),M=W.line,s?(H[0]=W.text1.x,H[1]=W.text1.y-N):(T[0]=W.text1.x,T[1]=W.text1.y-N)),y.push(W),m.push(B,G,q);break;case"valueOnly":var U=a.sv("text",{x:.5*D[0],y:.5*D[1],class:"pie-inner-value","aria-hidden":"true"},[c.verticalCenteredText(w.toString())]);m.push(U);break;case"percentOnly":U=a.sv("text",{x:.5*D[0],y:.5*D[1],class:"pie-inner-value","aria-hidden":"true"},[c.verticalCenteredText(Math.round(100*x)+"%")]),m.push(U)}s&&"basic"===o&&m.push(a.sv("path",{d:"M"+T[0]+" "+T[1]+" L"+H[0]+" "+H[1]+" h "+M,class:"pie-value-connector"})),(d||u)&&!1!==d&&(K=a.sv("text",{x:.7*D[0],y:.7*D[1],class:"pie-inner-value","aria-hidden":"true"},[u?c.verticalCenteredText(u(w)):c.verticalCenteredText(w.toString())]),m.push(K));var K="";_<=0&&.5<=F?K="M "+h+" 0 v "+p+" A "+h+" "+f+" 0 1 1 "+-h+" "+p+" v "+-p:_<=0&&F<.5?K="M "+h+" 0 v "+p+" A "+h+" "+f+" 0 0 1 "+R+" "+(k+p)+" v "+-p:0<_&&_<=.5&&.5<=F?K="M "+I+" "+O+" v "+p+" A "+h+" "+f+" 0 0 1 "+-h+" "+p+" v "+-p:0<_&&F<.5&&(K="M "+I+" "+O+" v "+p+" A "+h+" "+f+" 0 0 1 "+R+" "+(k+p)+" v "+-p),K&&(K=a.sv("path",{_key:E+"__shadow__",d:K,fill:S||c.getDefaultColor(b),onclick:[i._handlers.onclick,n[1],n[2]],class:"chart pie3d addition",stroke:"none",filter:"url(#shadow)",role:"presentation"}),v.push(K)),k="M "+I+" "+O+" A "+h+" "+f+" 0 "+L+" 1 "+R+" "+k+" L 0 0",v.push(a.sv("path",{d:k,_key:E,fill:S||c.getDefaultColor(b),stroke:"none",onclick:[i._handlers.onclick,n[1],n[2]],class:"chart pie3d",role:"presentation"})),1===i._points.length?g.push([t/2,e/2]):g.push([.7*D[0]+t/2,.7*D[1]+e/2]),_=F})),this._center=[t/2,e/2],this._tooltipData=g,v=v.concat(m),a.sv("g",r(r({transform:"translate("+t/2+", "+e/2+")"},{"aria-label":"chart "+(this.config.text||"")}),{tabindex:0}),v)},o=d,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(31),c=i(4);function d(){return null!==s&&s.apply(this,arguments)||this}i=i(32),o(d,s=i.default),d.prototype.addScale=function(t,e){this._scale=e},d.prototype.scaleReady=function(t){for(var e in t)t[e]+=this.config.paddings;return t},d.prototype.dataReady=function(t){var e=this;if(!this.config.active)return this._points=[];var i=c.locator(this._scale.config.value);return this._points=this._data.map((function(n,o){var r=[r=e._locator(n),r,n.id,r,r];return t&&(r[1]+=t[o][1]),i&&r.push(i(n)),r})),this._points},d.prototype.getTooltipText=function(t){if(this.config.tooltip)return t=this._defaultLocator(this._data.getItem(t)),this.config.tooltipTemplate?this.config.tooltipTemplate(t):t},d.prototype.paint=function(t,e){var i=this;if(s.prototype.paint.call(this,t,e),this.config.active){var n=this.config;return t=[],e=this._points.map((function(t,e){return(e?"L":"M")+t[0]+" "+t[1]})).join(" ")+"Z",t.push(a.sv("path",{d:e,stroke:n.color,"stroke-width":n.strokeWidth,fill:n.fill,"fill-opacity":n.alpha,class:"chart radar"})),n.pointType&&(e=this._points.map((function(t){return i._drawPointType(t[0],t[1],c.calcPointRef(t[2],i.id))})).map((function(t){var e,n,o;return t&&t.attrs&&(t.attrs=r(r({},t.attrs),(e=t.key,n=i._points,e&&(o=n.find((function(t){return e.includes(t[2])}))),{role:"graphics-symbol","aria-roledescription":"point","aria-label":o?"point x="+o[5]+" y="+o[4]:"",tabindex:0}))),t})),t.push(a.sv("g",e))),a.sv("g",r(r({id:"seria"+n.id},{"aria-label":"chart "+(this.config.value||"")}),{tabindex:0}),t)}},d.prototype._calckFinalPoints=function(t,e){var i=this,n=t<e?t/2:e/2,o=1/this._data.getLength(),r=-.25-o;this._points.forEach((function(s,a){r+=o;var c=i._scale.point(s[0]);c=l.getCoordinates(r,c*n,c*n),s[0]=c[0]+t/2,s[1]=c[1]+e/2}))},d.prototype._defaultLocator=function(t){return this._locator(t)},d.prototype._setDefaults=function(t){this._locator=c.locator(t.value),t.scales=t.scales||["radial"],this.config=r(r({},{strokeWidth:2,active:!0,tooltip:!0,paddings:5,color:"none",fill:"none",pointType:"circle"}),t),this.config.pointType&&(t=this.config.pointColor||this.config.color,this._drawPointType=this._getPointType(this.config.pointType,t))},o=d,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(57),l=i(4);function c(){return null!==s&&s.apply(this,arguments)||this}o(c,s=a.default),c.prototype.addScale=function(t,e){"bottom"===t||"top"===t?(this.xScale=e,this._xLocator=l.locator(this.config.value)):(this.yScale=e,this._yLocator=l.locator(this.config.valueY))},c.prototype._setDefaults=function(t){this.config=r(r({},{active:!0,tooltip:!0,pointType:"rect"}),t);var e=this.config.pointType;t=this.config.pointColor||this.config.color,e&&(this._drawPointType=this._getPointType(e,t))},o=c,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(0),a=i(91);function l(){return null!==r&&r.apply(this,arguments)||this}i=i(57),o(l,r=i.default),l.prototype._getForm=function(t,e,i,n,o){var r=e.color,l=e.css;return t=a.default(t),s.sv("path",{id:"seria"+e.id,d:t,class:l,stroke:r,"stroke-width":2,fill:"none"})},o=l,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(0),a=i(91);function l(){return null!==r&&r.apply(this,arguments)||this}i=i(88),o(l,r=i.default),l.prototype._form=function(t,e,i,n){var o=(h=this.config).fill,r=h.alpha,l=h.strokeWidth,c=h.color,d=h.id,u=this.config.css,h=this._points[0],f=n?a.default([].concat(n).reverse())+" "+a.default(this._points,!0)+" Z":"M"+h[0]+" "+e+" V "+h[1]+" "+a.default(this._points)+" V"+e+" H "+h[0];return l&&(h=a.default(this._points),c=s.sv("path",{d:h,"stroke-width":l,stroke:c,fill:"none","stroke-linecap":"butt",class:u}),i.push(c)),r=s.sv("path",{id:"seria"+d,d:f,class:u,fill:o,"fill-opacity":r,stroke:"none"}),i.push(r),i},o=l,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(6),d=i(4),u=i(25);function h(){return null!==s&&s.apply(this,arguments)||this}i=i(32),o(h,s=i.default),h.prototype.scaleReady=function(t){for(var e in t)t[e]+=this.config.paddings;return t},h.prototype.toggle=function(t){var e=this.config.treeSeries.find((function(e){return e.id===t}));e&&(e.active=!e.active)},h.prototype.dataReady=function(){var t=this;if(!this.config.active)return this._points=[];var e="groupName"===this.config.legendType;return this._sum=0,this._data.forEach((function(i){var n,o=t._data.getItem(t._data.getParent(i.id));o&&o.$hidden&&1<t._maxLevel||(n=t._valueLocator(i))&&(o=t._getSerie(e?i.id:n,e),i.color=(o||i).color,i.$hidden=!!o&&!o.active,!i.$hidden&&n&&(t._sum+=parseFloat(i[t.config.value])))})),this._points=[],this._data.eachChild(this._data.getRoot(),(function(i){var n,o,r,s;i.$hidden||(n=t._valueLocator(i),o=t._textLocator(i),r=[],!n&&t._data.haveItems(i.id)&&(n=0,t._data.eachChild(i.id,(function(i){var o,s,a;i.$hidden||(o=t._valueLocator(i),s=t._textLocator(i),a=i.color||(null===(a=t._getSerie(e?i.id:o,e))||void 0===a?void 0:a.color),o&&(n+=o),r.push([0,o,i.id,s,a]))}))),i.percent=parseFloat(n)/t._sum,s=i.color||(null===(s=t._getSerie(e?i.id:n,e))||void 0===s?void 0:s.color),t._points.push([i.percent,n,i.id.toString(),o,s,{items:r}]))}),!1),this._maxLevel=this._getMaxLevel(),this._points},h.prototype.paint=function(t,e){var i=this;if(this.config.treeSeries.find((function(t){return t.active}))){var n=this.config.strokeWidth,o=[],s=[],c=[],d=1<this._maxLevel?2*n:n;t-=d,e-=d,this._layout={id:a.uid(),area:t*e,width:t,height:e,restArea:t*e,restWidth:t,restHeight:e,startX:d/2,startY:d/2,stroke:d};var u=this._layout.startX,h=this._layout.startY;return this._layout.width>=this._layout.height?this._layout.cols=[]:this._layout.rows=[],this._points.sort((function(t,e){return e[0]-t[0]})),this._points.forEach((function(t,e,r){var c,d,f,p,g,_,v,m,y=t[0],b=(t[1],t[2]),x=(t[3],t[4],t[5]);0!==y&&(c=(f=i._drawBar(t,e,r,i._layout,u,h,!(!x||null===(g=x.items)||void 0===g||!g.length)))[0],d=f[1],y=f[2],e=f[3],r=f[4],g=f[5],f=f[6],u=g[0],h=g[1],s.push(l.sv("g",{id:b},[c,d,f])),o.push(y),x&&null!==(p=x.items)&&void 0!==p&&p.length&&(p=g[2]-n,g=g[3]-n,_={id:a.uid(),parent:i._layout.id,area:p*g,width:p,height:g,restArea:p*g,restWidth:p,restHeight:g,startX:u+n/2,startY:h+n/2+("asc"!==i.config.direction&&f?n/2:0),stroke:n},v=_.startX,m=_.startY,_.width>=_.height?_.cols=[]:_.rows=[],x.items.map((function(e){return e[0]=e[1]/t[1]})),x.items.sort((function(t,e){return e[0]-t[0]})),x.items.forEach((function(t,e,n){var r=t[2],a=(c=i._drawBar(t,e,n,_,v,m,!1))[0],c=(t=c[1],e=c[2],n=c[3],c[4]);s.push(l.sv("g",{id:r},[a,t])),o.push(e),v=n,m=c}))),u=e,h=r)})),c.push(l.sv("defs",o)),c=c.concat(s),l.sv("g",r(r({id:"seria"+this.config.id},{"aria-label":"chart "+(this.config.text||"")}),{tabindex:0,transform:"asc"===this.config.direction?"rotate(180 "+(this._layout.startX+this._layout.width/2)+" "+(this._layout.startY+this._layout.height/2)+")":""}),c)}},h.prototype._drawBar=function(t,e,i,n,o,s,c){var u=this,h=t[0],f=t[1],p=t[2],g=t[3],_=t[4],v=(k=this.config).stroke,m=k.showText,y=k.showTextTemplate,b=h*n.area,x=this._getDeepParent(n),w=c&&0<h&&g,E=n.startX+n.width-x.restWidth,C=n.startY+n.height-x.restHeight;if(o=E<o?E:o,s=C<s?C:s,E=(k=this._getBar(x,b,o,s,i,e,n.area))[0],C=k[1],x=k[2],o=k[3],s=k[4],!(E[2]<0||E[3]<0)){this._recountParentArea(b,s,n);var S,k=w?l.sv("rect",{x:E[0]+n.stroke/4,y:"asc"===this.config.direction?E[1]+E[3]-this._headerHeight-n.stroke/2:E[1]+n.stroke/4,width:E[2]-n.stroke/2,height:this._headerHeight+n.stroke/4,stroke:v,"stroke-width":n.stroke/2,class:"treeMap-header",_key:p,onclick:function(){return u._toggleGroup(p)}}):null;return b=w?l.sv("text",{x:E[0]+E[2]/2,y:"asc"===this.config.direction?E[1]+E[3]-this._headerHeight/2-n.stroke/2:E[1]+this._headerHeight/2+n.stroke/2,class:"header-text","aria-hidden":"true",transform:"asc"===this.config.direction?"rotate(180 "+(E[0]+E[2]/2)+" "+(E[1]+E[3]-this._headerHeight/2-n.stroke/2)+")":""},[y?d.verticalCenteredText(y(null==g?void 0:g.toString())):d.verticalCenteredText(null==g?void 0:g.toString())]):null,s=c&&0<h&&g?l.sv("g",{},[k,b]):null,w=y?y(null==g?void 0:g.toString()):null==g?void 0:g.toString(),k=d.getSizesSVGText(w,{font:"normal 12px Roboto",lineHeight:14})[0]<E[2]-2*n.stroke,b=a.uid(),y=E[2]>2*n.stroke&&E[3]>2*n.stroke?l.sv("clipPath",{id:b,"clip-rule":"nonzero"},[l.sv("rect",{x:E[0]+n.stroke,y:E[1]+n.stroke,width:E[2]-2*n.stroke,height:E[3]-2*n.stroke,fill:"none",stroke:"black"})]):null,e=l.sv("rect",r(r({},(S=h,{role:"graphics-symbol","aria-roledescription":"piece of treeMap","aria-label":(g||"")+", "+f+" ("+d.roundToTwoNumAfterPoint(S)+"%)"})),{x:E[0],y:E[1],width:E[2],height:E[3],stroke:v,"stroke-width":n.stroke,class:"chart treeMap",_key:p,fill:_,onclick:[this._handlers.onclick,t[1],t[2]],onmousemove:1<this._maxLevel&&1===this._getDataLevel(p)?"":[this._handlers.onmousemove,i[e][2],this.id],onmouseleave:1<this._maxLevel&&1===this._getDataLevel(p)?"":[this._handlers.onmouseleave,i[e][2],this.id]})),w=m?l.sv("text",{x:k?C[0]:E[0]+n.stroke,y:C[1],class:"treeMap-inner-value "+(k?"":"start-text"),"aria-hidden":"true","clip-path":'url("#'+b+'")',transform:"asc"===this.config.direction?"rotate(180 "+C[0]+" "+C[1]+")":""},[d.verticalCenteredText(w)]):null,c&&s&&(E[1]+="asc"===this.config.direction?0:this._headerHeight,E[3]-=this._headerHeight+n.stroke/4),[e,w,y,x,o,E,s]}},h.prototype._getBar=function(t,e,i,n,o,r,s){var l,c,d,u,h=this,f=function(t,e,i,n){for(var a={area:0,width:t.width,height:t.height},l=e;l<=i;l++)a.area+=o[l][0]*s;"rows"===n?a.width=a.area/a.height:a.height=a.area/a.width;var c="rows"===n?a.width:t.area/a.height,d="rows"===n?t.area/a.width:a.height;return(c/d>h._aspectRatio||d/c>h._aspectRatio)&&.01<o[r][0]&&i!==h._points.length-1?f(t,e,i+1,n):[c,d,a]},p=i,g=n,_=t.restWidth>t.restHeight?"cols":"rows",v="cols"==_?"rows":"cols",m="cols"==_?e/t.restHeight:t.restWidth,y="cols"==_?t.restHeight:e/t.restWidth;return(y/m>this._aspectRatio||m/y>this._aspectRatio)&&0!==Math.round(e-t.restArea)&&r<o.length-2&&e<t.restArea?(l=void 0,c={id:a.uid(),area:e,width:m,height:y},d=f(c,r,r+1,v),c.width=d[0],c.height=d[1],l=d[2],m=c.width,y=c.height,(d={id:a.uid(),area:l.area,width:l.width,height:l.height,restArea:l.area,restWidth:"cols"==v?l.width-m:l.width,restHeight:"cols"==v?l.height:l.height-y})[v]=[c],l=d,c.parent=l.id,t[_]||t[v]?t[v]?(u=a.uid(),t[v].push(((d={id:u,parent:t.id,area:t.restArea,width:t.restWidth,height:t.restHeight,restArea:t.restArea,restWidth:"cols"==_?t.restWidth-l.width:t.restWidth,restHeight:"cols"==_?t.restHeight:t.restHeight-l.height})[_]=[l],d)),l.parent=u):(t[_].push(l),l.parent=t.id):(t[_]=[l],l.parent=t.id),"cols"==_?(t.restWidth-=l.width,g+=y):(t.restHeight-=l.height,p+=m)):(c={id:a.uid(),area:e,width:m,height:y},t[v]&&t.restArea.toFixed(2)>e.toFixed(2)?(u=a.uid(),t[v].push(((v={id:u,parent:t.id,area:t.restArea,width:t.restWidth,height:t.restHeight,restArea:t.restArea,restWidth:"cols"==_?t.restWidth-m:t.restWidth,restHeight:"cols"==_?t.restHeight:t.restHeight-y})[_]=[c],v)),c.parent=u):((t.cols||t.rows).push(c),c.parent=t.id,"cols"==_?t.restWidth-=m:t.restHeight-=y),"cols"==_?(p+=m,g=0===Math.round(t.restArea-e)?g+y:g):(g+=y,p=0===Math.round(t.restArea-e)?p+m:p)),[[i,n,c.width,c.height],[i+c.width/2,n+c.height/2],p,g,c.parent]},h.prototype._setDefaults=function(t){this.config=r(r({},{active:!0,stroke:"#FFFFFF",strokeWidth:2,showText:!0,tooltip:!0,paddings:5,color:"none",fill:"none",direction:"desc"}),t),this._headerHeight=25,this._aspectRatio=2.5,this._valueLocator=d.locator(t.value),this._textLocator=d.locator(t.text)},h.prototype._defaultLocator=function(t){return[this._valueLocator(t),this._textLocator(t)]},h.prototype._getSerie=function(t,e){var i=this;return this.config.treeSeries.find((function(n){if(e){var o=i._data.getParent(t);return n.id===o||n.id===t}return n.from&&n.to&&t>=n.from&&t<n.to||n.less&&t<n.less||n.greater&&t>n.greater}))},h.prototype._getDataLevel=function(t){var e=1;return this._data.eachParent(t,(function(){e++})),e},h.prototype._getMaxLevel=function(){var t=this,e=1;return this._data.forEach((function(i){i=t._getDataLevel(i.id),e=Math.max(i,e)})),e},h.prototype._getDeepParent=function(t){var e=null===(e=t.cols||t.rows)||void 0===e?void 0:e.find((function(t){return t.restArea&&0<Math.round(t.restArea)}));return e?this._getDeepParent(e):t},h.prototype._getLayoutObj=function(t,e){var i;if(void 0===e&&(e=this._layout),e.id===t)i=e;else{var n=e.cols||e.rows;if(!n||!n.length)return;for(var o=0;o<n.length&&!(i=this._getLayoutObj(t,n[o]));o++);}return i},h.prototype._recountParentArea=function(t,e,i){(e=this._getLayoutObj(e,i))&&e.id!==i.parent&&(e.restArea-=t,e.parent&&this._recountParentArea(t,e.parent,i))},h.prototype._toggleGroup=function(t){var e=this,i=0;this.config.treeSeries.forEach((function(t){t.active&&i++})),this._data.eachChild(this._data.getRoot(),(function(n){n.id!==t&&("groupName"===e.config.legendType?(1<i&&(e._getSerie(n.id,!0).active=!0),e._events.fire(u.ChartEvents.toggleSeries,[n.id])):(n.$hidden=!n.$hidden,e._events.fire(c.DataEvents.change)))}),!1)},o=h,e.default=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(1),c=i(15),d=i(0),u=i(6),h=i(4);function f(){return null!==a&&a.apply(this,arguments)||this}i=i(32),o(f,a=i.default),f.prototype.scaleReady=function(t){for(var e in t)t[e]+=this.config.paddings;return t},f.prototype.dataReady=function(){var t,e,i=this,n=[];this._years=[],this._points=[],this.config.startDate&&(t="string"==typeof this.config.startDate?c.stringToDate(this.config.startDate,this.config.dateFormat):this.config.startDate),this.config.endDate&&(e="string"==typeof this.config.endDate?c.stringToDate(this.config.endDate,this.config.dateFormat):this.config.endDate),(null==e?void 0:e.getTime())<(null==t?void 0:t.getTime())&&u.dhxError("Incorrect endDate/startDate property set, see docs: https://docs.dhtmlx.com/suite/chart/api/chart_series_config"),this._data.forEach((function(o){var r=Number(i._valueLocator(o)),s=i._dateLocator(o);"string"==typeof s&&(s=c.stringToDate(s,i.config.dateFormat));var a=null==s?void 0:s.getTime(),d=(null===(h=o.id)||void 0===h?void 0:h.toString())||l.uid();if(t||e){var u=c.DateHelper.dayStart(s).getTime(),h=(o=t&&c.DateHelper.dayStart(t).getTime()||0,e&&c.DateHelper.dayStart(e).getTime()||1/0);if(u<o||h<u)return}u=n.findIndex((function(t){var e=t[0];return t=t[1],(e=c.DateHelper.isSameDay(new Date(e),s))&&(r+=t),e})),-1<u&&(n[u]=[a,r,d]),r&&(i._minValue=!i._minValue||r<i._minValue?r:i._minValue,i._maxValue=!i._maxValue||r>i._maxValue?r:i._maxValue),u<0&&n.push([a,r,d])})),n.sort((function(t,e){return t[0]-e[0]})),this._minValue===this._maxValue&&(this._minValue-=10),this._maxValue=!isNaN(this.config.maxValue)&&this.config.maxValue||this._maxValue,this._minValue=!isNaN(this.config.minValue)&&this.config.minValue||this._minValue,this._maxValue=10*Math.ceil(this._maxValue/10),this._minValue=10*Math.floor(this._minValue/10);var o=t||new Date(n[0][0]),r=e||new Date(n[n.length-1][0]),s=o.getFullYear(),a=r.getFullYear();this.config.startDate||this.config.endDate?this.config.startDate&&!this.config.endDate?(o=new Date(o.getFullYear()+1,o.getMonth(),o.getDate()-1),r.getTime()>o.getTime()&&o.setFullYear(r.getFullYear()+1),a=(e=o).getFullYear()):!this.config.startDate&&this.config.endDate&&(t=new Date(s,0,1)):(a=r.getFullYear(),t=new Date(s,0,1),e=new Date(a,11,31));for(var d=0,h=new Date(t.getTime()),f=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);!c.DateHelper.isSameDay(h,f);){var p=n.length&&new Date(n[d][0]),g=function(){return h.setDate(h.getDate()+1)};if(n.length)if(d<n.length-1){for(;!c.DateHelper.isSameDay(h,p);)this._points.push([h.getTime(),0,l.uid()]),g();this._points.push(n[d]),d+=1}else c.DateHelper.isSameDay(h,p)?this._points.push(n[d]):this._points.push([h.getTime(),0,l.uid()]);else this._points.push([h.getTime(),0,l.uid()]);g()}for(var _=new Date,v=t.getMonth(),m=t.getDate(),y=0;y<this._points.length;y++)_.setTime(this._points[y][0]),(0===y||v===_.getMonth()&&m===_.getDate()&&y!==this._points.length-1)&&this._years.push({year:_.getFullYear(),startIndex:y});return this._points},f.prototype.paint=function(t,e){var i,n,o=this,a=(h=this.config).days,l=h.months;switch(this.config.weekStart){case"saturday":i=-1;break;case"monday":i=1;break;default:i=0}switch(this.config.weekStart){case"saturday":n=s([null==a?void 0:a[6]],a.slice(0,-1));break;case"monday":n=s(a.slice(1),[null==a?void 0:a[0]]);break;default:n=a}var u=[],h=[],f=0,p=0;return this._years.forEach((function(t,e){for(var r=t.year,s=t.startIndex,a=new Date(r,0,1),h=[],g=[],_=0,v=1,m=s;m<o._points.length&&m!==(null===(k=o._years[e+1])||void 0===k?void 0:k.startIndex);m++){var y=o._points[m],b=y[0],x=y[1],w=y[2],E=new Date;E.setTime(b);var C=E.getMonth(),S=c.DateHelper.addDay(E,-1*i).getDay();0!==S||c.DateHelper.isSameDay(a,E)||(v+=1);var k=0<=x?x/o._maxValue||0:x/o._minValue||0;0<o._maxValue*o._minValue&&(k=(x-o._minValue)/(o._maxValue-o._minValue)),y=10+v*(o._cellSize+2),b=.5+(S+1)*(o._cellSize+2)+e*(n.length*o._cellSize+o._headerHeight),6===S&&(p=b+4*o._cellSize),h.push(d.sv("rect",{x:y,y:b,fill:o.config.color,width:o._cellSize,height:o._cellSize,onclick:[o._handlers.onclick,x,w],onmousemove:[o._handlers.onmousemove,w,o.id],onmouseleave:[o._handlers.onmouseleave,w,o.id],class:o.config.color?"":"heat-neutral"},[])),S="",0<=x&&!o.config.positiveColor?S="heat-positive":x<0&&!o.config.negativeColor&&(S="heat-negative"),0!==k&&h.push(d.sv("rect",{x:y,y:b,fill:0<=x?o.config.positiveColor:o.config.negativeColor,"fill-opacity":isFinite(k)?k:0,width:o._cellSize,height:o._cellSize,onclick:[o._handlers.onclick,x,w],onmousemove:[o._handlers.onmousemove,w,o.id],onmouseleave:[o._handlers.onmouseleave,w,o.id],class:S},[])),_=y+o._cellSize,1===E.getDate()&&(y=null==l?void 0:l[C],E=10+v*(o._cellSize+2),C=o._cellSize-2+e*(n.length*o._cellSize+o._headerHeight)+n.length*(o._cellSize+2)+4.5,y=d.sv("text",{x:E,y:8+C+12.5,class:"start-text"},[y]),C=d.sv("rect",{x:E,y:C,height:8,width:1}),g.push(d.sv("g",{class:"heat-month-text"},[C,y])))}t=n.map((function(t,i){return d.sv("text",{x:20,y:.5+(i+1)*(o._cellSize+2)+o._cellSize/2+e*(n.length*o._cellSize+o._headerHeight),class:"end-text heat-day-text"},[d.sv("tspan",{dy:"0.5ex"},[t])])})),s=d.sv("text",{x:10+o._cellSize+2,y:o._cellSize-4+e*(n.length*o._cellSize+o._headerHeight),class:"start-text heat-year-text"},[r]),u.push(d.sv("g",{id:r+"_year"},[s,g,t,h])),f=_<f?f:_})),h.push(d.sv("defs",[])),h=h.concat(u),t=(t-f*(e=e/p<1?e/p:1))/2,d.sv("g",r(r({id:"seria"+this.config.id},{"aria-label":"chart "+(this.config.text||"")}),{tabindex:0,transform:"translate("+(0<t?t:0)+", 26) scale("+e+")"}),h)},f.prototype._setDefaults=function(t){this.config=r(r({},{tooltip:!0,paddings:5,weekStart:"sunday",days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),t),this._headerHeight=70,this._cellSize=16,this._valueLocator=h.locator(t.value),this._dateLocator=h.locator(t.date)},f.prototype._defaultLocator=function(t){return[this._valueLocator(t),c.getFormattedDate("%d/%m/%y",this._dateLocator(t))]},o=f,e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(13),o=i(4),r=i(89),s=i(25);function a(t){this._chart=t,this._initEvents()}a.prototype.destructor=function(){this._tooltip&&(document.body.removeChild(this._tooltip),this._tooltip=null)},a.prototype._showLineTooltip=function(t){for(var e,i,o,s,a,l="",c=this._chart.getRootView(),d=0,u=0,h=t;u<h.length;u++){var f,p,g,_=h[u];d+=_.top,this._prevLine=c&&c.refs&&c.refs["line"+Math.round(_.left)]&&c.refs["line"+Math.round(_.left)].el,this._prevLine.classList.add("grid-line__active"),!_.text||(p=(f=this._chart.getSeries(_.seriaId)).getPoints()).length&&f.config.tooltip&&(g=f.config.pointColor||(f.config.color&&"none"!==f.config.color?f.config.color:f.config.fill),g=r.getShadeHTMLHelper("empty"!==f.config.pointType&&f.config.pointType?f.config.pointType:"simpleRect",g),l+='<div class="line-point" _ref="dhx_tooltip_'+f.config.id+'_box">\n\t\t\t\t<svg class="dhx_tooltip_svg" role="graphics-document" style="width: 8px; height: 8px;">'+g(4,4,p[0][2])+'</svg>\n\t\t\t\t<span class="dhx_line-point-text" _ref="dhx_tooltip_'+f.config.id+'_text">'+_.text+"</span>\n\t\t\t</div>")}l&&(this._tooltip||this._createTooltip(),e=document.body.offsetHeight,a=document.body.offsetWidth,this._tooltip.innerHTML=l,this._tooltip.classList.add("dhx_chart_tooltip__visible"),s=d/t.length,i=this._prevLine.getBoundingClientRect(),o=this._tooltip.offsetHeight,t=this._tooltip.offsetWidth,e<(s=s-o/2+i.top+window.scrollY)+o&&(s-=s+o-e),a<(a=i.left+10)+t&&(a=i.left-t-10),(t=n.getZIndex(this._chart.getRootNode()))&&(this._tooltip.style.zIndex=t.toString()),this._tooltip.style.left=a+"px",this._tooltip.style.top=s+"px")},a.prototype._showTooltip=function(t,e){this._tooltip||this._createTooltip();var i=document.body.offsetHeight,o=document.body.offsetWidth;this._tooltip.innerHTML=t,this._tooltip.classList.add("dhx_chart_tooltip__visible");var r=this._tooltip.offsetHeight,s=this._tooltip.offsetWidth,a=e.pageY+10;t=e.pageX+10,i<a+r&&(a=e.pageY-r),o<t+s&&(t=e.pageX-s-10),(s=n.getZIndex(this._chart.getRootNode()))&&(this._tooltip.style.zIndex=s.toString()),this._tooltip.style.left=t+"px",this._tooltip.style.top=a+"px"},a.prototype._showTooltipOnClosest=function(t){this._tooltip||this._createTooltip();var e,i,o,r,s=this._chart.getSeries(t[4]);!s||(r=s.getTooltipText(t[3]))&&(e=this._chart._layers.getSizes(),i=this._chart.getRootNode().getBoundingClientRect(),this._tooltip.innerHTML=r,this._tooltip.classList.add("dhx_chart_tooltip__visible"),o=document.body.offsetHeight,s=this._tooltip.offsetHeight,o<(r=t[2]+i.top+s/2+e.top-("radar"===this._chart.config.type?10:15))+s&&(r=t[2]+i.top-s/2+e.top-("radar"===this._chart.config.type?10:15)),o<r+s&&this._tooltip.classList.remove("dhx_chart_tooltip__visible"),(s=n.getZIndex(this._chart.getRootNode()))&&(this._tooltip.style.zIndex=s.toString()),this._tooltip.style.left=i.left+t[1]+10+"px",this._tooltip.style.top=r+"px")},a.prototype._createTooltip=function(){this._tooltip=document.createElement("div"),this._tooltip.setAttribute("data-dhx-widget-id",this._chart._uid),this._tooltip.classList.add("dhx_chart_tooltip","dhx_chart_tooltip_line","dhx_chart_tooltip__hidden","tooltip-text"),document.body.appendChild(this._tooltip)},a.prototype._initEvents=function(){var t=this;this._chart.events.on(s.ChartEvents.chartMouseMove,(function(e,i){var n,o;t._prevLine&&t._prevLine.classList.remove("grid-line__active"),t._mouseOverBar||(n=[],o=[1/0,null,null,null,null],t._chart.eachSeries((function(t){var r,s=t.config.type;"line"===s||"spline"===s||"splineArea"===s||"area"===s?"number"==typeof(r={value:(r=t.getClosestVertical(e))[4],text:t.getTooltipText(r[3]),seriaId:t.config.id,left:r[1],top:r[2]}).left&&"number"==typeof r.top&&n.push(r):"pie"!==s&&"pie3D"!==s&&"donut"!==s&&"radar"!==s||(s=t.getClosest(e,i),o[0]>s[0]&&(o[0]=s[0],o[1]=s[1],o[2]=s[2],o[3]=s[3],o[4]=t.id))})),n.length?(n.sort((function(t,e){return e.value-t.value})),t._showLineTooltip(n)):t._showTooltipOnClosest(o))})),this._chart.events.on(s.ChartEvents.seriaMouseMove,(function(e,i,n){t._mouseOverBar=!0;var r=t._chart.getRootView(),s=t._chart.getSeries(i),a=s.getTooltipText(e);null!=(i=r&&r.refs&&r.refs[o.calcPointRef(e,i)].el)&&i.setAttribute("fill-opacity",.6<s.config.alpha?s.config.alpha-.4:1),a?t._showTooltip(a,n):t._tooltip&&t._tooltip.classList.remove("dhx_chart_tooltip__visible")})),this._chart.events.on(s.ChartEvents.seriaMouseLeave,(function(e,i){t._mouseOverBar=!1;var n=t._chart.getRootView(),r=t._chart.getSeries(i);"area"===r.config.type||"treeMap"===r.config.type||"calendarHeatMap"===r.config.type||null!=(i=n&&n.refs&&n.refs[o.calcPointRef(e,i)].el)&&i.setAttribute("fill-opacity",r.config.alpha),t._tooltip&&t._tooltip.classList.remove("dhx_chart_tooltip__visible")})),this._chart.events.on(s.ChartEvents.chartMouseLeave,(function(){t._tooltip&&t._tooltip.classList.remove("dhx_chart_tooltip__visible"),t._prevLine&&t._prevLine.classList.remove("grid-line__active")}))},i=a,e.Tooltip=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2);function o(t,e){this._name=t,this._view=e,this._version="8.0.3"}o.prototype.pdf=function(t){this._rawExport(t,"pdf",this._view)},o.prototype.png=function(t){this._rawExport(t,"png",this._view)},o.prototype._rawExport=function(t,e,i){var o=i.config.exportStyles||(null==t?void 0:t.exportStyles);(t=t||{}).url=t.url||"https://export.dhtmlx.com/"+this._name+"/"+e+"/"+this._version,e="",!0===o?e=n.getPageLinksCss()+"<style>"+n.getPageInlineCss()+"</style>":null!=o&&o.length&&(e=""+n.getPageLinksCss(o)),i="\n\t\t\t\t"+e+"\n\t\t\t\t"+i.getRootView().node.el.parentNode.innerHTML+"\n\t\t\t";var r=document.createElement("form");r.setAttribute("method","POST"),r.setAttribute("action",t.url),r.innerHTML='<input type="hidden" name="raw"><input type="hidden" name="config">',r.childNodes[0].value=i,r.childNodes[1].value=JSON.stringify(t),document.body.appendChild(r),r.submit(),setTimeout((function(){var t;null!==(t=r.parentNode)&&void 0!==t&&t.removeChild(r)}),100)},i=o,e.Exporter=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(92),l=i(87),c=i(1),d=i(4),u=i(85);function h(t,e){return void 0===e&&(e={}),s.call(this,t,e)||this}i=i(84),o(h,s=i.Chart),h.prototype.setConfig=function(t){var e,i=this;if(this.config=t,this._layers.clear(),this._series={},this._scales={},t.scales)for(var n in t.scales){var o=r({},t.scales[n]);void 0!==t.scales[n].min&&(e=t.scales[n].min),o.type=o.type||this._detectScaleType(o,n),t.scales.radial&&"radial"!==n&&(o.hidden=!0),this._setScale(o,n)}var s,h,f,p,g,_,v,m,y,b=new a.default;this._layers.add(b),null!==(g=t.series)&&void 0!==g&&g.forEach((function(n,o){var s;void 0!==n.baseLine&&n.baseLine<e&&(n.baseLine=void 0);var a=r({},n);switch(a.type=a.type||t.type,a.type){case"bar":case"xbar":case"area":case"splineArea":a.color||(a.color=a.fill||d.getDefaultColor(o)),a.fill||(a.fill=a.color||d.getDefaultColor(o));break;case"treeMap":a.legendType=(null===(s=t.legend)||void 0===s?void 0:s.type)||"groupName",null!==(s=null===(s=t.legend)||void 0===s?void 0:s.treeSeries)&&void 0!==s&&s.map((function(t,e){var i;t.active=null===(i=t.active)||void 0===i||i,t.id=null!==(i=t.id)&&void 0!==i?i:c.uid(),t.color||(t.color=d.getDefaultColor(e,"range"===a.legendType))})),a.treeSeries=null===(s=t.legend)||void 0===s?void 0:s.treeSeries;break;case"calendarHeatMap":a.dateFormat||(a.dateFormat="%d/%m/%y");break;case"scatter":a.pointColor||(a.pointColor=a.color||d.getDefaultColor(o))}n=l.default[a.type],(a.barWidth||i.config.barWidth)&&(a.barWidth=a.barWidth||i.config.barWidth);var u=new n(i.data,a,i.events);(1<(n=d.getScales(t.scales)).length&&"radial"!==n[0]||"radial"===n[0]?n:["bottom","left"]).forEach((function(t){var e=i._scales[t];e&&(u.addScale(t,e),a.stacked?e.add(b):e.add(u))})),i._series[u.id]=u,(a.stacked?b:i._layers).add(u)})),t.legend&&((y=r({},t.legend)).series&&(y.$seriesInfo=y.series.map((function(t){return i._series[t]}))),"calendarHeatMap"===this.config.type&&(s=(v=null===(m=null===(_=this.config)||void 0===_?void 0:_.series)||void 0===m?void 0:m[0]).value,h=v.positiveColor,f=v.negativeColor,p=v.color,g=v.minValue,_=v.maxValue,y.type="scale",y.form="line",y.values?(v=(m=null===(v=null===(m=this.config)||void 0===m?void 0:m.series)||void 0===v?void 0:v[0]).color,m=m.value,y.values=r(r({},y.values),{color:v,positiveColor:h,negativeColor:f,value:m,minValue:g,maxValue:_})):y.values={positiveColor:h,negativeColor:f,color:p,text:"",value:s,minValue:g,maxValue:_}),y=new u.Legend(this.data,y,this.events),this._layers.add(y)),this.paint()},o=h,e.ProChart=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(93)),n(i(207)),n(i(94))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(206);e.getEditor=function(t,e){return new n.InputEditor(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(94);function r(t,e){var i=this;this._dataView=e,this._config=e.config,this._item=t,this._dataView.events.on(o.DataViewEvents.focusChange,(function(t,e){i._mode&&e!==i._item.id&&i.endEdit()})),this._initHandlers()}r.prototype.endEdit=function(){var t;this._input&&(t=this._input.value,this._dataView.events.fire(o.DataViewEvents.beforeEditEnd,[t,this._item.id])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._input.removeEventListener("keydown",this._handlers.onKeyDown),this._handlers={},this._mode=!1,this._dataView.events.fire(o.DataViewEvents.afterEditEnd,[t,this._item.id])):this._input.focus())},r.prototype.toHTML=function(t){this._mode=!0;var e=(o=this._config).itemsInRow,i=o.gap,o=function(t){return parseFloat(t)};return n.el(".dhx_input__wrapper",{style:{width:"calc("+100/e+"% - "+o(i)+" * "+(e-1)/e+"px)",maxWidth:"calc("+100/e+"% - "+o(i)+" * "+(e-1)/e+"px)",marginRight:t?"":i},role:"presentation"},[n.el("div.dhx_input__container",{style:{height:"100%"},role:"presentation"},[n.el("input.dhx_input",{class:(this._item.css?" "+this._item.css:"")+(t?" dhx_dataview-item--last-item-in-row":""),style:{padding:"8px, 12px",width:"100%",height:"100%"},_hooks:{didInsert:this._handlers.didInsert},_key:this._item.id,"data-dhx-id":this._item.id})])])},r.prototype._initHandlers=function(){var t=this;this._handlers={onBlur:function(){t.endEdit()},onChange:function(){t.endEdit()},onKeyDown:function(e){"Enter"===e.key&&t._item.value===t._input.value&&t.endEdit(),"Escape"===e.key&&(t._input.value=t._item.value,t.endEdit())},didInsert:function(e){e=e.el,(t._input=e).focus(),e.value=t._item.value,e.setSelectionRange(0,e.value.length),e.addEventListener("change",t._handlers.onChange),e.addEventListener("blur",t._handlers.onBlur),e.addEventListener("keydown",t._handlers.onKeyDown)}}},i=r,e.InputEditor=i},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(20),l=i(93),c=i(0);function d(t,e){void 0===e&&(e={});var i=s.call(this,t,e)||this;return i.scrollView=new a.ScrollView((function(){return i.getRootView()})),i.paint(),i}o(d,s=l.DataView),d.prototype.destructor=function(){s.prototype.destructor.call(this),this.scrollView=null},d.prototype.showItem=function(t){var e,i,n,o=this.getRootView();o&&o.node&&o.node.el&&void 0!==t&&(e=this.getRootNode().getElementsByClassName("scroll-view")[0])&&(i=this.config.virtual,n=this.data.getIndex(t),o=Math.floor(n/this.config.itemsInRow),t=Math.floor(o/e.children.length)||0,t=e.children[o-e.children.length*t],(i||t)&&(t=t.children[n%this.config.itemsInRow],n=parseInt(this.config.gap.toString().replace("px",""),null),t.offsetTop>=e.clientHeight+e.scrollTop-t.clientHeight?e.scrollTop=t.offsetTop-e.clientHeight+t.clientHeight+n:t.offsetTop<e.scrollTop-n&&(e.scrollTop=t.offsetTop-n)))},d.prototype._renderList=function(){var t=this,e=this.data.getRawData(0,-1),i=(l=this.config).itemsInRow,n=l.css,o=l.gap,s=0,a=e.reduce((function(e,n,o){return 0===s&&e.push([]),e[e.length-1].push(t._renderItem(n,o)),s=(s+1)%i,e}),[]),l=a.map((function(t,e){return c.el(".dhx_dataview-row",{style:{margin:o},"aria-label":"Row "+(e+1)},t)}));return e=this.scrollView&&this.scrollView.config.enable,n=(n||"")+" dhx_widget dhx_dataview"+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":"")+(e?" dhx_dataview--scroll-view":""),c.el("",r(r(r({},this._handlers),{"data-dhx-widget-id":this._uid,class:n,style:{height:this.config.height}}),this.getDataViewAriaAttrs(this.config,this.data.getLength(),a.length,i)),e?[this.scrollView.render(l)]:l)},o=d,e.ProDataView=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(95)),n(i(223)),n(i(5)),i=i(5),e.FormEvents=i.FormEvents},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(34),l=i(15),c=i(3),d=i(0),u=i(1),h=i(16),f=i(11),p=i(5),g=i(9),_=i(12);function v(t,e){var i=s.call(this,null,e)||this;return i.events=new c.EventSystem,i._isValid=!0,i._popupIsFocus=!1,i._propsItem=["required","validation","valueFormat","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],i._propsCalendar=["mode","mark","disabledDates","weekStart","weekNumbers","timePicker","dateFormat","timeFormat","thisMonthOnly"],i._props=r(g.baseProps,i._propsItem,i._propsCalendar),i._keyManager=new _.KeyManager((function(){var t,e=document.activeElement;return(null===(t=null===(t=null===(t=i.getRootView())||void 0===t?void 0:t.refs)||void 0===t?void 0:t.input)||void 0===t?void 0:t.el)===e||i._popup.isVisible()})),i._initView(e),i._initHandlers(),i._initHotkeys(),i.mount(t,d.create({render:function(){return i._draw()}})),i}o(v,s=h.Label),v.prototype.destructor=function(){this.events&&this.events.clear(),this.calendar&&this.calendar.destructor(),this._popup&&this._popup.destructor(),this.events=this._uid=this._propsCalendar=this._propsItem=this._props=this._isValid=null,s.prototype._destructor.call(this),this.unmount()},v.prototype.setProperties=function(t){if(t&&!u.isEmptyObj(t)&&this.events.fire(p.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e],this._propsCalendar.includes(e)&&(this.calendar.config[e]=t[e]));this.events.fire(p.ItemEvent.afterChangeProperties,[this.getProperties()]),this.calendar.paint(),this.paint()}},v.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},v.prototype.show=function(){var t=this.config,e=t.value;t.hidden&&this.events.fire(p.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(p.ItemEvent.afterShow,[e]))},v.prototype.hide=function(t){var e=this.config,i=e.value;e.hidden&&!t||!this.events.fire(p.ItemEvent.beforeHide,[i,t])||(this.config.hidden=!0,this.events.fire(p.ItemEvent.afterHide,[i,t]))},v.prototype.isVisible=function(){return!this.config.hidden},v.prototype.disable=function(){this.config.disabled=!0,this.paint()},v.prototype.enable=function(){this.config.disabled=!1,this.paint()},v.prototype.isDisabled=function(){return!!this.config.disabled},v.prototype.validate=function(t,e){void 0===t&&(t=!1);var i=void 0===e?this.getValue():e;if(e="date"===(null===(e=this.config.valueFormat)||void 0===e?void 0:e.toLowerCase())?i instanceof Date:l.stringToDate(i,this.calendar.config.dateFormat,!0),t||this.events.fire(p.ItemEvent.beforeValidate,[i]))return this._isValid=this.config.validation?this.config.validation(i):!!e,t||this.events.fire(p.ItemEvent.afterValidate,[i,this._isValid]),this._isValid},v.prototype.clearValidate=function(){this.config.$validationStatus=p.ValidationStatus.pre,this.paint()},v.prototype.setValue=function(t){void 0!==t&&t!==this.config.value&&this.calendar.setValue(t)},v.prototype.getValue=function(t){var e;return this.calendar.getValue("date"===(null===(e=this.config.valueFormat)||void 0===e?void 0:e.toLowerCase())||t)||""},v.prototype.focus=function(){var t=this;d.awaitRedraw().then((function(){t.getRootView().refs.input.el.focus()}))},v.prototype.blur=function(){var t=this;d.awaitRedraw().then((function(){t._popup.hide(),t.getRootView().refs.input.el.blur()}))},v.prototype.clear=function(){""!==this.config.value&&this.calendar.clear()},v.prototype.getWidget=function(){return this.calendar},v.prototype._initView=function(t){var e,i=this;if(u.isEmptyObj(t))throw new Error("Check the configuration is correct");for(e in this.calendar&&this.calendar.destructor(),this._popup&&this._popup.destructor(),this.config={type:t.type,id:t.id,name:t.name,disabled:!1,editable:!1,hidden:!1,value:"",mode:"calendar",weekStart:"sunday",weekNumbers:!1,timePicker:!1,dateFormat:"%d/%m/%y",timeFormat:24,thisMonthOnly:!1,valueFormat:"string",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);this._popup=new f.Popup,this.calendar=new a.Calendar(null,g.widgetConfig(t)),this._popup.attach(this.calendar),this.config.hidden&&d.awaitRedraw().then((function(){i.hide(!0)}))},v.prototype._initHandlers=function(){var t=this;this.calendar.events.on(a.CalendarEvents.beforeChange,(function(e){var i;return""!==e&&"date"!==(null===(i=t.config.valueFormat)||void 0===i?void 0:i.toLowerCase())&&(e=l.getFormattedDate(t.calendar.config.dateFormat,e)),t.events.fire(p.ItemEvent.beforeChange,[e])})),this.calendar.events.on(a.CalendarEvents.change,(function(){var e;t.config.value=t.calendar.getValue("date"===(null===(e=t.config.valueFormat)||void 0===e?void 0:e.toLowerCase())),t.events.fire(p.ItemEvent.change,[t.config.value]),g.isVerify(t.config)&&t.validate(),t._popup.hide(),t.paint()})),this.events.on(p.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?p.ValidationStatus.success:p.ValidationStatus.error,t.paint()})),this.events.on(p.ItemEvent.blur,(function(){t._popupIsFocus=!1,t.paint()})),this._popup.events.on(f.PopupEvents.afterHide,(function(){document.activeElement!==t.getRootView().refs.input.el&&t.events.fire(p.ItemEvent.blur,[t.getValue()]),t.paint()})),document.addEventListener("keydown",(function(e){var i,n=document.activeElement;(null===(i=null===(i=null===(i=t.getRootView())||void 0===i?void 0:i.refs)||void 0===i?void 0:i.input)||void 0===i?void 0:i.el)!==n&&!t._popup.isVisible()||t.events.fire(p.ItemEvent.keydown,[e])})),document.addEventListener("mousedown",(function(){t._popup.getContainer()!==document.activeElement&&(t._popupIsFocus=!1)}))},v.prototype._getHandlers=function(){var t=this;return{onblur:function(){t._popup.isVisible()||t.events.fire(p.ItemEvent.blur,[t.getValue()]),t.paint()},onfocus:function(){var e;t._popup.isVisible()||(e=t.getRootView().refs.input.el,t._popup.show(e,{theme:e}),t.events.fire(p.ItemEvent.focus,[t.getValue()]),t.paint())},oninput:function(e){e=e.target.value,t.events.fire(p.ItemEvent.input,[e])},onchange:function(e){e=e.target.value,t.config.editable&&l.stringToDate(e,t.calendar.config.dateFormat,!0)?t.setValue(e):""===e&&t.clear()}}},v.prototype._initHotkeys=function(){var t,e=this,i={"shift+tab":function(){e._applyTab()},tab:function(){e._applyTab()},escape:function(){e._popup.isVisible()&&e.getRootView().refs.input.el.focus(),e._popup.hide()},enter:function(t){t.preventDefault(),e._popup.isVisible()||(t=e.getRootView().refs.input.el,e._popup.show(t,{theme:t}))},arrowRight:function(t){var i=e._popup.getContainer();e._popup.isVisible()&&!e._popupIsFocus&&(t.preventDefault(),i.focus(),e._popupIsFocus=!0)}};for(t in i)this._keyManager.addHotKey(t,i[t])},v.prototype._draw=function(){var t=(c=this.config).icon,e=c.required,i=c.disabled,n=c.placeholder,o=c.name,r=c.id,s=c.editable,a=c.label,l=c.helpMessage,c=this.calendar.getValue(),u=this._popup.isVisible()||(null===(u=null===(u=null===(u=this.getRootView())||void 0===u?void 0:u.refs)||void 0===u?void 0:u.input)||void 0===u?void 0:u.el)===document.activeElement;return d.el("div.dhx_form-group",{class:g.getFormItemCss(this.config,g.isVerify(this.config),u)},[this._drawLabel(),d.el(".dhx_input__wrapper",[d.el("div.dhx_input__container",{},[d.el(".dhx_input__icon",{class:t||"dxi dxi-calendar-today"}),d.el("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":o||r,_key:this._uid,_ref:"input",value:c,type:"text",required:e,disabled:i,class:u&&"dhx_input--focus",placeholder:n||"",name:o||"",id:r||this._uid,onfocus:this._handlers.onfocus,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onblur:this._handlers.onblur,autocomplete:"off",readOnly:!s,"aria-label":a||(s?"type or":"")+" select date","aria-describedby":l?"dhx_label__help_"+(r||this._uid):null})]),g.getValidationMessage(this.config)&&d.el("span.dhx_input__caption",{},g.getValidationMessage(this.config))])])},v.prototype._applyTab=function(){var t;document.activeElement===(null===(t=null===(t=null===(t=this._popup.getRootView())||void 0===t?void 0:t.refs)||void 0===t?void 0:t.content)||void 0===t?void 0:t.el)||this._popupIsFocus||this._popup.hide()},o=v,e.DatePicker=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(0),c=i(7),d=i(5),u=i(3),h=i(1),f=i(9);function p(t,e){var i=a.call(this,t,r({disabled:!1,hidden:!1,submit:!1,full:!1,circle:!1,loading:!1,view:"flat",size:"medium",color:"primary",width:"content",height:"content",url:"",text:"",icon:""},e))||this;return i._propsItem=["submit","url","text","icon","view","size","color","full","circle","loading"],i._props=s(f.baseProps,i._propsItem),i.config.text=i.config.text||i.config.value||"",i.events=new u.EventSystem,i._handlers={onclick:function(t){return i.events.fire(d.ItemEvent.click,[t])},onblur:function(){return i.events.fire(d.ItemEvent.blur,[i.config.text])},onfocus:function(){return i.events.fire(d.ItemEvent.focus,[i.config.text])},onkeydown:function(t){return i.events.fire(d.ItemEvent.keydown,[t])}},i.config.hidden&&l.awaitRedraw().then((function(){i.hide(!0)})),i.mount(t,l.create({render:function(){return i._draw()}})),i}o(p,a=c.View),p.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this._propsItem=this._props=this.events=this._handlers=this._uid=null,this.unmount()},p.prototype.setProperties=function(t){if(t&&!h.isEmptyObj(t)&&this.events.fire(d.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e]);this.config.text=this.config.text||this.config.value,this.events.fire(d.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},p.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},p.prototype.show=function(){var t=this.config,e=void 0===(e=t.text)?"":e;t.hidden&&this.events.fire(d.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(d.ItemEvent.afterShow,[e]))},p.prototype.hide=function(t){void 0===t&&(t=!1);var e=this.config,i=void 0===(i=e.text)?"":i;e.hidden&&!t||!this.events.fire(d.ItemEvent.beforeHide,[i,t])||(this.config.hidden=!0,this.events.fire(d.ItemEvent.afterHide,[i,t]))},p.prototype.isVisible=function(){return!this.config.hidden},p.prototype.disable=function(){this.config.disabled=!0,this.paint()},p.prototype.enable=function(){this.config.disabled=!1,this.paint()},p.prototype.isDisabled=function(){return!!this.config.disabled},p.prototype.focus=function(){var t=this;l.awaitRedraw().then((function(){t.getRootView().refs.button.el.focus()}))},p.prototype.blur=function(){var t=this;l.awaitRedraw().then((function(){t.getRootView().refs.button.el.blur()}))},p.prototype._draw=function(){var t=(p=this.config).color,e=p.size,i=p.view,n=p.full,o=p.loading,r=p.circle,s=p.icon,a=p.text,c=p.disabled,d=p.submit,u=p.id,h=p.name,f={danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[t]||" dhx_button--color_primary",p={small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[e]||" dhx_button--size_medium";return t={flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[i]||" dhx_button--view_flat",e=n?" dhx_button--width_full":"",i=r?" dhx_button--circle":"",n=o?" dhx_button--loading":"",r=s&&!a?" dhx_button--icon":"",l.el("button",{disabled:c,id:u,"data-dhx-id":h||u,onclick:this._handlers.onclick,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,type:d?"submit":"button",class:"dhx_button"+f+p+t+e+i+n+r,_ref:"button"},[s&&l.el("span.dhx_button__icon",{class:s}),a&&l.el("span.dhx_button__text",a),o&&l.el("span.dhx_button__loading",[l.el("span.dhx_button__loading-icon.dxi.dxi-loading")])])},o=p,e.Button=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(0),c=i(10),d=i(3),u=i(96),h=i(16),f=i(5),p=i(1),g=i(9),_=i(11);function v(t,e){var i=a.call(this,null,e)||this;return i.events=new d.EventSystem,i._buttons=[],i._isValid=!0,i._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","options"],i._props=s(g.baseProps,i._propsItem),i._initView(e),i._initHandlers(),i.mount(t,l.create({render:function(){return i._draw()}})),i}o(v,a=h.Label),v.prototype.destructor=function(){this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.events=this._uid=this._propsItem=this._props=this._isValid=this._buttons=null,a.prototype._destructor.call(this),this.unmount()},v.prototype.setProperties=function(t,e){if(void 0!==t&&this.events.fire(f.ItemEvent.beforeChangeProperties,[this.getProperties()])){if("object"==typeof t&&!p.isEmptyObj(t)){for(var i in t)this._props.includes(i)&&(this.config[i]=t[i]);t.hasOwnProperty("options")&&(this._initView(this.config),this._initHandlers())}var n;"string"!=typeof t||!e||p.isEmptyObj(e)||(n=this._buttons.find((function(e){return e.config.id===t})))&&n.setProperties(e,!0),this.events.fire(f.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},v.prototype.getProperties=function(t){if(void 0!==t)return this._buttons.find((function(e){return e.config.id===t})).getProperties();var e,i={};for(e in this.config)this._props.includes(e)&&(i[e]=this.config[e]);return i},v.prototype.getValue=function(t){if(void 0===t){var e={};return this._buttons.forEach((function(t){e[t.config.id]=t.getValue()})),e}var i=this._buttons.find((function(e){return e.config.id===t}));if(t&&i)return i.getValue()},v.prototype.setValue=function(t){if(void 0!==t&&!p.isEmptyObj(t)){for(var e=this.getValue(),i=this,n=0,o=Object.entries(t);n<o.length;n++){var r=o[n];!function(t,n){var o=i._buttons.find((function(e){return e.config.id===t}));o&&(o=o.config.value,e[t]="string"==typeof o?n&&o||"":!!n)}(r[0],r[1])}if(this.events.fire(f.ItemEvent.beforeChange,[e])){for(var s=this,a=0,l=Object.entries(t);a<l.length;a++){var c=l[a];!function(t,e){var i=s._buttons.find((function(e){return e.config.id===t}));i&&i.setValue(!!e,!0)}(c[0],c[1])}this.events.fire(f.ItemEvent.change,[this.getValue()]),g.isVerify(this.config)&&this.validate()}}},v.prototype.isChecked=function(t){if(void 0===t){var e={};return this._buttons.forEach((function(t){e[t.config.id]=t.isChecked()})),e}var i=this._buttons.find((function(e){return e.config.id===t}));if(t&&i)return i.isChecked()},v.prototype.focus=function(t){var e=this;l.awaitRedraw().then((function(){if(e._buttons.length){if(!t)return e._buttons[0].focus();var i=e._buttons.find((function(e){return e.config.id===t}));i&&i.focus()}}))},v.prototype.blur=function(){var t=this;l.awaitRedraw().then((function(){t._buttons.length&&t._buttons.forEach((function(t){t.blur()}))}))},v.prototype.show=function(t){var e,i=t&&this._buttons.find((function(e){return e.config.id===t}));p.isDefined(t)&&!i||(!i&&(this.config.hidden||this._buttons.some((function(t){return t.config.hidden})))||(null===(e=null==i?void 0:i.config)||void 0===e?void 0:e.hidden))&&this.events.fire(f.ItemEvent.beforeShow,[this.getValue(),t])&&(i?null!=i&&i.show():this._buttons.forEach((function(t){return t.show()})),this.config.hidden=!1,this.events.fire(f.ItemEvent.afterShow,[this.getValue(),t]))},v.prototype.hide=function(t,e){var i,n=t&&this._buttons.find((function(e){return e.config.id===t}));p.isDefined(t)&&!n||(!n&&this.config.hidden||(null===(i=null==n?void 0:n.config)||void 0===i?void 0:i.hidden))&&!e||!this.events.fire(f.ItemEvent.beforeHide,[this.getValue(),t,e])||(n?(null!=n&&n.hide(),this.config.hidden=this._buttons.every((function(t){return t.config.hidden}))):(this._buttons.forEach((function(t){return t.hide()})),this.config.hidden=!0),this.events.fire(f.ItemEvent.afterHide,[this.getValue(),t,e]))},v.prototype.isVisible=function(t){var e,i=this._buttons.find((function(e){return e.config.id===t}));return!(this.config.hidden||p.isDefined(t)&&null!==(e=null==i?void 0:i.config)&&void 0!==e&&e.hidden)},v.prototype.enable=function(t){var e,i=t&&this._buttons.find((function(e){return e.config.id===t}));p.isDefined(t)&&!i||(!i&&(this.config.disabled||this._buttons.some((function(t){return t.config.disabled})))||(null===(e=null==i?void 0:i.config)||void 0===e?void 0:e.disabled))&&(i?null!=i&&i.enable():this._buttons.forEach((function(t){return t.enable()})),this.config.disabled=!1,this.paint())},v.prototype.disable=function(t,e){var i,n=t&&this._buttons.find((function(e){return e.config.id===t}));p.isDefined(t)&&!n||(!n&&this.config.disabled||(null===(i=null==n?void 0:n.config)||void 0===i?void 0:i.disabled))&&!e||(n?(null!=n&&n.disable(),this.config.disabled=this._buttons.every((function(t){return t.config.disabled}))):(this._buttons.forEach((function(t){return t.disable()})),this.config.disabled=!0),this.paint())},v.prototype.isDisabled=function(t){var e=this._buttons.find((function(e){return e.config.id===t}));return Boolean(this.config.disabled||p.isDefined(t)&&(null===(e=null==e?void 0:e.config)||void 0===e?void 0:e.disabled))},v.prototype.clear=function(){var t;this._buttons.some((function(t){return t.isChecked()}))&&(t={},this._buttons.forEach((function(e){t[e.config.id]="string"==typeof e.config.value&&""})),this.events.fire(f.ItemEvent.beforeChange,[t])&&(this._buttons.forEach((function(t){t.clear(!0)})),this.events.fire(f.ItemEvent.change,[t]),g.isVerify(this.config)&&this.validate()))},v.prototype.validate=function(t){var e=this;if(void 0===t&&(t=!1),t||this.events.fire(f.ItemEvent.beforeValidate,[this.getValue()]))return this.config.required&&(this._isValid=this._buttons.some((function(t){return t.config.$required&&!!t.config.checked}))),t||(this._buttons.forEach((function(t){t.config.$validationStatus=e._isValid?f.ValidationStatus.success:f.ValidationStatus.error})),this.config.$validationStatus=this._isValid?f.ValidationStatus.success:f.ValidationStatus.error,this.events.fire(f.ItemEvent.afterValidate,[this.getValue(),this._isValid])),this._isValid},v.prototype.clearValidate=function(){this.config.$validationStatus=f.ValidationStatus.pre,this._buttons.forEach((function(t){t.clearValidate()})),this.paint()},v.prototype._initView=function(t){var e,i=this;if(p.isEmptyObj(t)||!t.options||p.isEmptyObj(t.options))throw new Error("Check the configuration is correct");for(e in this.layout&&this.layout.destructor(),this._buttons.length&&(this._buttons.forEach((function(t){t.destructor()})),this._buttons=[]),this.config={type:t.type,id:t.id,name:t.name,disabled:!1,hidden:!1,options:{},required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);this.config.helpMessage&&(this._helper=new _.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage));var n=this.config.options.rows||this.config.options.cols;null!=n&&n.forEach((function(t){t.id=t.id||p.uid(),t.$group=!0})),this.layout=new c.Layout(null,this.config.options),null!=n&&n.forEach((function(e){var n=new u.Checkbox(null,r(r({},e),{disabled:t.disabled||e.disabled,name:t.name,$required:t.required}));i._buttons.push(n),i.layout.getCell(e.id).attach(n),n.events.on(f.ItemEvent.beforeChange,(function(t){var e=r(r({},i.getValue()),((e={})[n.config.id]=t,e));return i.events.fire(f.ItemEvent.beforeChange,[e])})),n.events.on(f.ItemEvent.change,(function(){i.events.fire(f.ItemEvent.change,[i.getValue()]),g.isVerify(i.config)&&i.validate()})),n.events.on(f.ItemEvent.focus,(function(t,e){i.events.fire(f.ItemEvent.focus,[i.getValue(),e])})),n.events.on(f.ItemEvent.blur,(function(t,e){i.events.fire(f.ItemEvent.blur,[i.getValue(),e])})),n.events.on(f.ItemEvent.keydown,(function(t,e){i.events.fire(f.ItemEvent.keydown,[t,e])})),n.events.on(f.ItemEvent.afterHide,(function(){l.awaitRedraw().then((function(){var t;null!==(t=i.layout.getCell(n.config.id))&&void 0!==t&&t.hide()}))})),n.events.on(f.ItemEvent.afterShow,(function(){var t;null!==(t=i.layout.getCell(n.config.id))&&void 0!==t&&t.show()}))})),this.config.value&&this.setValue(this.config.value),this.clearValidate(),!this.config.disabled&&this._buttons.length&&this._buttons.every((function(t){return t.config.disabled}))&&(this.config.disabled=!0),this.config.hidden&&l.awaitRedraw().then((function(){return i.hide(void 0,!0)}))},v.prototype._initHandlers=function(){var t=this;this.events.on(f.ItemEvent.change,(function(){t.config.value=t.getValue(),t.paint()})),this.events.on(f.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?f.ValidationStatus.success:f.ValidationStatus.error,t.paint()}))},v.prototype._draw=function(){var t=this.config.hidden?" dhx_form-group--hidden":"",e=(s=this.config).label,i=s.labelWidth,n=s.helpMessage,o=s.required,r=s.name,s=s.id;return l.el("fieldset.dhx_form-group-fieldset",{},[l.el("div.dhx_form-group.dhx_form-group--checkbox-group",{class:g.getFormItemCss(this.config,g.isVerify(this.config))+t,"data-dhx-id":r||s,role:"radiogroup"},[e||i||n||o?this._drawLabel():null,l.el("div.dhx_checkbox-group--container",{},[this.layout&&l.inject(this.layout.getRootView()),o&&g.getValidationMessage(this.config)&&l.el("span.dhx_input__caption",g.getValidationMessage(this.config))])])])},o=v,e.CheckboxGroup=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(0),c=i(1),d=i(10),u=i(11),h=i(3),f=i(213),p=i(9),g=i(16),_=i(5);function v(t,e){var i=a.call(this,null,e)||this;return i.events=new h.EventSystem,i._buttons=[],i._isValid=!0,i._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","options"],i._props=s(p.baseProps,i._propsItem),i._initView(e),i._initHandlers(),i.config.value&&i._setValue(i.config.value),i.clearValidate(),i.config.helpMessage&&(i._helper=new u.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),i._helper.attachHTML(i.config.helpMessage)),i.mount(t,l.create({render:function(){return i._draw()}})),i}o(v,a=g.Label),v.prototype.destructor=function(){this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.events=this._uid=this._propsItem=this._props=this._isValid=this._buttons=null,a.prototype._destructor.call(this),this.unmount()},v.prototype.setProperties=function(t,e){if(void 0!==t&&this.events.fire(_.ItemEvent.beforeChangeProperties,[this.getProperties()])){if("object"==typeof t&&!c.isEmptyObj(t)){for(var i in t)this._props.includes(i)&&(this.config[i]=t[i]);t.hasOwnProperty("options")&&(this._initView(this.config),this._initHandlers())}var n;"string"!=typeof t||!e||c.isEmptyObj(e)||(n=this._buttons.find((function(e){return e.config.id===t})))&&n.setProperties(e),this.events.fire(_.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},v.prototype.getProperties=function(t){if(void 0!==t)return this._buttons.find((function(e){return e.config.id===t})).getProperties();var e,i={};for(e in this.config)this._props.includes(e)&&(i[e]=this.config[e]);return i},v.prototype.getValue=function(){var t=this;return this._buttons.forEach((function(e){e.getValue()&&(t.config.value=e.getValue()||"")})),this.config.value||""},v.prototype.setValue=function(t){t!==this.config.value&&(this._setValue(t),this.events.fire(_.ItemEvent.change,[t]),p.isVerify(this.config)&&this.validate())},v.prototype.focus=function(t){var e=this;l.awaitRedraw().then((function(){if(e._buttons.length){if(!t)return e._buttons[0].focus();var i=e._buttons.find((function(e){return e.config.id===t}));return i?i.focus():void 0}}))},v.prototype.blur=function(){var t=this;l.awaitRedraw().then((function(){t._buttons.length&&t._buttons.forEach((function(t){return t.blur()}))}))},v.prototype.show=function(t){var e,i=t&&this._buttons.find((function(e){return e.config.id===t}));c.isDefined(t)&&!i||(!i&&(this.config.hidden||this._buttons.some((function(t){return t.config.hidden})))||(null===(e=null==i?void 0:i.config)||void 0===e?void 0:e.hidden))&&this.events.fire(_.ItemEvent.beforeShow,[this.getValue(),t])&&(i?null!=i&&i.show():this._buttons.forEach((function(t){return t.show()})),this.config.hidden=!1,this.events.fire(_.ItemEvent.afterShow,[this.getValue(),t]))},v.prototype.hide=function(t,e){var i,n=t&&this._buttons.find((function(e){return e.config.id===t}));c.isDefined(t)&&!n||(!n&&this.config.hidden||(null===(i=null==n?void 0:n.config)||void 0===i?void 0:i.hidden))&&!e||!this.events.fire(_.ItemEvent.beforeHide,[this.getValue(),t,e])||(n?(null!=n&&n.hide(),this.config.hidden=this._buttons.every((function(t){return t.config.hidden}))):(this._buttons.forEach((function(t){return t.hide()})),this.config.hidden=!0),this.events.fire(_.ItemEvent.afterHide,[this.getValue(),t,e]))},v.prototype.isVisible=function(t){var e,i=this._buttons.find((function(e){return e.config.id===t}));return!(this.config.hidden||c.isDefined(t)&&null!==(e=null==i?void 0:i.config)&&void 0!==e&&e.hidden)},v.prototype.enable=function(t){var e,i=t&&this._buttons.find((function(e){return e.config.id===t}));c.isDefined(t)&&!i||(!i&&(this.config.disabled||this._buttons.some((function(t){return t.config.disabled})))||(null===(e=null==i?void 0:i.config)||void 0===e?void 0:e.disabled))&&(i?null!=i&&i.enable():this._buttons.forEach((function(t){return t.enable()})),this.config.disabled=!1,this.paint())},v.prototype.disable=function(t,e){var i,n=t&&this._buttons.find((function(e){return e.config.id===t}));c.isDefined(t)&&!n||(!n&&this.config.disabled||(null===(i=null==n?void 0:n.config)||void 0===i?void 0:i.disabled))&&!e||(n?(null!=n&&n.disable(),this.config.disabled=this._buttons.every((function(t){return t.config.disabled}))):(this._buttons.forEach((function(t){return t.disable()})),this.config.disabled=!0),this.paint())},v.prototype.isDisabled=function(t){var e=this._buttons.find((function(e){return e.config.id===t}));return Boolean(this.config.disabled||c.isDefined(t)&&(null===(e=null==e?void 0:e.config)||void 0===e?void 0:e.disabled))},v.prototype.clear=function(){""!==this.config.value&&(this._buttons.forEach((function(t){t.clear()})),this.config.value="",this.events.fire(_.ItemEvent.change,[this.config.value]))},v.prototype.validate=function(t){var e=this;if(void 0===t&&(t=!1),t||this.events.fire(_.ItemEvent.beforeValidate,[this.getValue()]))return this.config.required&&(this._isValid=this._buttons.some((function(t){return e.config.required&&!!t.config.checked}))),t||(this._buttons.forEach((function(t){t.config.$validationStatus=e._isValid?_.ValidationStatus.success:_.ValidationStatus.error})),this.config.$validationStatus=this._isValid?_.ValidationStatus.success:_.ValidationStatus.error,this.events.fire(_.ItemEvent.afterValidate,[this.getValue(),this._isValid])),this._isValid},v.prototype.clearValidate=function(){this.config.$validationStatus=_.ValidationStatus.pre,this._buttons.map((function(t){t.clearValidate()})),this.paint()},v.prototype._initView=function(t){var e,i=this;if(c.isEmptyObj(t)||!t.options||c.isEmptyObj(t.options))throw new Error("Check the configuration is correct");for(e in this.layout&&this.layout.destructor(),this._buttons.length&&(this._buttons.forEach((function(t){t.destructor()})),this._buttons=[]),this.config={type:t.type,id:t.id,name:t.name,disabled:!1,hidden:!1,options:{},required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);this.config.hidden&&l.awaitRedraw().then((function(){return i.hide(void 0,!0)}));var n=this.config.options.rows||this.config.options.cols;null!=n&&n.forEach((function(t){t.id=t.id||c.uid()})),this.layout=new d.Layout(null,this.config.options),null!=n&&n.forEach((function(e){var n=new f.RadioButton(null,r(r({},e),{disabled:t.disabled||e.disabled,$name:t.name,$required:t.required}));i._buttons.push(n),i.layout.getCell(e.id).attach(n),n.events.on(f.RadioButtonEvents.beforeChange,(function(){return i.events.fire(_.ItemEvent.beforeChange,[n.config.value||""])})),n.events.on(f.RadioButtonEvents.change,(function(){i._buttons.map((function(t){t.config.id!==n.config.id&&t.setValue(!1)})),i.events.fire(_.ItemEvent.change,[i.getValue()]),p.isVerify(i.config)&&i.validate()})),n.events.on(f.RadioButtonEvents.focus,(function(t,e){i.events.fire(_.ItemEvent.focus,[t,e])})),n.events.on(f.RadioButtonEvents.blur,(function(t,e){i.events.fire(_.ItemEvent.blur,[t,e])})),n.events.on(f.RadioButtonEvents.keydown,(function(t,e){i.events.fire(_.ItemEvent.keydown,[t,e])})),n.events.on(_.ItemEvent.afterHide,(function(){l.awaitRedraw().then((function(){i.layout.getCell(n.config.id).hide()}))})),n.events.on(_.ItemEvent.afterShow,(function(){i.layout.getCell(n.config.id).show()}))})),!this.config.disabled&&this._buttons.length&&this._buttons.every((function(t){return t.config.disabled}))&&(this.config.disabled=!0)},v.prototype._initHandlers=function(){var t=this;this.events.on(_.ItemEvent.beforeChange,(function(){return t.paint()})),this.events.on(_.ItemEvent.change,(function(){t.config.value=t.getValue(),t.paint()})),this.events.on(_.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?_.ValidationStatus.success:_.ValidationStatus.error,t.paint()}))},v.prototype._draw=function(){var t=(s=this.config).label,e=s.labelWidth,i=s.helpMessage,n=s.required,o=s.hidden,r=s.name,s=s.id;return o=o?" dhx_form-group--hidden":"",l.el("fieldset.dhx_form-group-fieldset",{},[l.el("div.dhx_form-group.dhx_form-group--radio-group",{class:p.getFormItemCss(this.config,p.isVerify(this.config))+o,"data-dhx-id":r||s},[t||e||i||n?[this._drawLabel()]:null,l.el("div.dhx_radio-group--container",{},[this.layout&&l.inject(this.layout.getRootView()),n&&p.getValidationMessage(this.config)&&l.el("span.dhx_input__caption",p.getValidationMessage(this.config))])])])},v.prototype._setValue=function(t){void 0!==t&&-1!==this._buttons.findIndex((function(e){return e.config.value===t}))&&this._buttons.forEach((function(e){t===e.config.value?e.setValue(!0):e.setValue(!1)}))},o=v,e.RadioGroup=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l,c=i(1),d=i(0),u=i(3),h=i(7),f=i(9),p=i(5);function g(t,e){void 0===e&&(e={});var i=l.call(this,t,r({text:"",width:"content",height:"content"},e))||this;return i._propsItem=["text"],i._props=s(f.baseProps,i._propsItem),i._handlers={onchange:function(t){t=t.target.checked,i.events.fire(a.beforeChange,[t])&&(i.config.checked=t,i.events.fire(a.change,[t]))},onfocus:function(){return i.events.fire(a.focus,[i.getValue()||"",i.config.id])},onblur:function(){var t;return null===(t=i.events)||void 0===t?void 0:t.fire(a.blur,[i.getValue()||"",i.config.id])},onkeydown:function(t){i.events.fire(a.keydown,[t,i.config.id])}},i.events=new u.EventSystem,i.mount(t,d.create({render:function(){return i._draw()}})),i}(i=a=e.RadioButtonEvents||(e.RadioButtonEvents={})).beforeChange="beforeChange",i.change="change",i.focus="focus",i.blur="blur",i.keydown="keydown",i.beforeHide="beforeHide",i.afterHide="afterHide",i.beforeShow="beforeShow",i.afterShow="afterShow",o(g,l=h.View),g.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this._handlers=this._uid=this._props=this._propsItem=null,this.unmount()},g.prototype.setProperties=function(t){if(t&&!c.isEmptyObj(t)){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e]);this.paint()}},g.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},g.prototype.getValue=function(){if(this.config.checked)return this.config.value},g.prototype.setValue=function(t){this.config.checked=t,this.paint()},g.prototype.show=function(){this.config.hidden&&this.events.fire(a.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(a.afterShow,[]))},g.prototype.hide=function(){!this.config.hidden&&this.events.fire(a.beforeHide,[])&&(this.config.hidden=!0,this.events.fire(a.afterHide,[]))},g.prototype.isVisible=function(){return!this.config.hidden},g.prototype.focus=function(){var t=this;d.awaitRedraw().then((function(){t.getRootView().refs.input.el.focus()}))},g.prototype.blur=function(){var t=this;d.awaitRedraw().then((function(){t.getRootView().refs.input.el.blur()}))},g.prototype.disable=function(){this.config.disabled=!0,this.paint()},g.prototype.enable=function(){this.config.disabled=!1,this.paint()},g.prototype.isDisabled=function(){return!!this.config.disabled},g.prototype.clear=function(){this.config.checked=!1,this.paint()},g.prototype.validate=function(){var t=!1;return this.config.checked&&(t=!0),this.config.$validationStatus=t?p.ValidationStatus.success:p.ValidationStatus.error,this.paint(),t},g.prototype.clearValidate=function(){this.config.$validationStatus=p.ValidationStatus.pre,this.paint()},g.prototype._draw=function(){var t=(s=this.config).id,e=s.value,i=s.checked,n=s.disabled,o=s.$name,r=s.$required,s=s.text;return d.el("label.dhx_radiobutton.dhx_form-group",{class:f.getFormItemCss(this.config,!!r)},[d.el("input.dhx_radiobutton__input",{type:"radio",id:t,value:e||"",name:o||"",disabled:n,checked:i,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:r,_ref:"input"}),d.el("span.dhx_radiobutton__visual-input"),d.el("span.dhx_text",[s])])},o=g,e.RadioButton=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(0),c=i(1),d=i(16),u=i(9),h=i(3),f=i(5);function p(t,e){var i=a.call(this,null,e)||this;return i.events=new h.EventSystem,i._isValid=!0,i._propsItem=["required","validation","icon","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],i._props=s(u.baseProps,i._propsItem),i._initView(e),i._initHandlers(),i}o(p,a=d.Label),p.prototype.destructor=function(){this.events&&this.events.clear(),this.events=this._uid=this._propsItem=this._props=this._isValid=null,a.prototype._destructor.call(this),this.unmount()},p.prototype.setProperties=function(t){if(t&&!c.isEmptyObj(t)&&this.events.fire(f.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e]);this.events.fire(f.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},p.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},p.prototype.show=function(){this.config.hidden&&this.events.fire(f.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(f.ItemEvent.afterShow,[this.getValue()]))},p.prototype.hide=function(t){this.config.hidden&&!t||!this.events.fire(f.ItemEvent.beforeHide,[this.getValue(),!!t])||(this.config.hidden=!0,this.events.fire(f.ItemEvent.afterHide,[this.getValue(),!!t]))},p.prototype.isVisible=function(){return!this.config.hidden},p.prototype.disable=function(t){var e=c.isDefined(t)&&this.config.options.find((function(e){return e.value===t}));c.isDefined(t)&&!e||!e&&this.config.disabled||(null==e?void 0:e.disabled)||(e?(e.disabled=!0,this.config.disabled=this.config.options.every((function(t){return t.disabled}))):(this.config.options=this.config.options.map((function(t){return r(r({},t),{disabled:!0})})),this.config.disabled=!0),this.paint())},p.prototype.enable=function(t){var e=c.isDefined(t)&&this.config.options.find((function(e){return e.value===t}));c.isDefined(t)&&!e||(!e&&(this.config.disabled||this.config.options.some((function(t){return t.disabled})))||(null==e?void 0:e.disabled))&&(e?e.disabled=!1:this.config.options=this.config.options.map((function(t){return r(r({},t),{disabled:!1})})),this.config.disabled=!1,this.paint())},p.prototype.isDisabled=function(t){var e=this.config.options.find((function(e){return e.value===t}));return Boolean(this.config.disabled||c.isDefined(t)&&(null==e?void 0:e.disabled))},p.prototype.validate=function(t){void 0===t&&(t=!1);var e=(i=this.config).value,i=i.validation;if(t||this.events.fire(f.ItemEvent.beforeValidate,[e]))return this._isValid=i?this.config.validation(e):void 0!==e&&!!String(e).length,t||this.events.fire(f.ItemEvent.afterValidate,[e,this._isValid]),this._isValid},p.prototype.clearValidate=function(){this.config.$validationStatus=f.ValidationStatus.pre,this.paint()},p.prototype.clear=function(){var t=null===(t=null===(t=this.config)||void 0===t?void 0:t.options[0])||void 0===t?void 0:t.value;this.config.value!==t&&this.events.fire(f.ItemEvent.beforeChange,[t])&&(this.config.value=t,this.events.fire(f.ItemEvent.change,[t]),u.isVerify(this.config)&&this.validate(),this.paint())},p.prototype.setValue=function(t){void 0!==t&&t!==this.config.value&&-1!==this.config.options.findIndex((function(e){return e.value===t}))&&this.events.fire(f.ItemEvent.beforeChange,[t])&&(this.config.value=t,this.events.fire(f.ItemEvent.change,[t]),u.isVerify(this.config)&&this.validate(),this.paint())},p.prototype.focus=function(){var t=this;l.awaitRedraw().then((function(){t.getRootView().refs.select.el.focus()}))},p.prototype.blur=function(){var t=this;l.awaitRedraw().then((function(){t.getRootView().refs.select.el.blur()}))},p.prototype.getValue=function(){return this.config.value},p.prototype.setOptions=function(t){if(!t||!t.length)throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect");this.events.fire(f.ItemEvent.beforeChangeOptions,[s(t)])&&(this._checkOptions(t),this.config.options=s(t),this.events.fire(f.ItemEvent.changeOptions,[s(t)]),this.setValue(this.config.options[0].value),this.paint())},p.prototype.getOptions=function(){return this.config.options},p.prototype._initView=function(t){var e,i=this;if(c.isEmptyObj(t))throw new Error("Check the configuration is correct");for(e in this._checkOptions(t.options),this.config={type:t.type,id:t.id,name:t.name,disabled:!1,hidden:!1,required:!1,icon:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content",options:t.options,value:t.options[0].value},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);!this.config.disabled&&this.config.options.length&&this.config.options.every((function(t){return t.disabled}))&&(this.config.disabled=!0),this.config.hidden&&l.awaitRedraw().then((function(){return i.hide(!0)})),this.paint()},p.prototype._initHandlers=function(){var t=this;this.events.on(f.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?f.ValidationStatus.success:f.ValidationStatus.error,t.paint()}))},p.prototype._getHandlers=function(){var t=this;return{onchange:function(e){var i=t.config.options.map((function(t){return t.value})).find((function(t){return t==e.target.value}));t.events.fire(f.ItemEvent.beforeChange,[i])&&(t.config.value=i,t.events.fire(f.ItemEvent.change,[i]),u.isVerify(t.config)&&t.validate(),t.paint())},onblur:function(){t._uid&&(t.events.fire(f.ItemEvent.blur,[t.getValue()]),t.paint())},onfocus:function(){t.events.fire(f.ItemEvent.focus,[t.getValue()]),t.paint()}}},p.prototype._draw=function(){var t=(d=this.config).id,e=d.options,i=d.icon,n=d.value,o=d.label,r=d.labelWidth,s=d.helpMessage,a=d.required,c=d.name,d=(null===(d=null===(d=null===(d=this.getRootView())||void 0===d?void 0:d.refs)||void 0===d?void 0:d.select)||void 0===d?void 0:d.el)===document.activeElement;return l.el(".dhx_form-group",{class:u.getFormItemCss(this.config,u.isVerify(this.config),d)},[(o||r||s)&&this._drawLabel(),l.el(".dhx_input__wrapper",{},[l.el("div.dhx_input__container",{},[l.el(".dhx_input__icon",{class:i||"dxi dxi-menu-down"}),l.el("select.dhx_select.dhx_input",{id:t,"data-dhx-id":c||t,tabindex:0,class:d&&"dhx_input--focus",onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,_ref:"select",required:a},e.length&&e.map((function(t){return l.el("option",{value:t.value,disabled:t.disabled,selected:n===t.value},t.content)})))]),u.getValidationMessage(this.config)&&l.el("span.dhx_input__caption",u.getValidationMessage(this.config))])])},p.prototype._checkOptions=function(t){if(0===t.length)throw new Error("Property options* cannot be empty, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect");t.forEach((function(t){if(!t.hasOwnProperty("value")||!t.hasOwnProperty("content"))throw new Error("The object must contain two required properties value and content, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect")}))},o=p,e.Select=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(9),c=i(58),d=i(5),u=i(1);function h(){var t=null!==s&&s.apply(this,arguments)||this;return t._propsItem=["required","validation","placeholder","readOnly","maxlength","minlength","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],t._props=r(l.baseProps,t._propsItem),t}o(h,s=c.Input),h.prototype.getValue=function(){var t;return String(null!==(t=this.config.value)&&void 0!==t?t:"")},h.prototype.focus=function(){var t=this;a.awaitRedraw().then((function(){t.getRootView().refs.textarea.el.focus()}))},h.prototype.blur=function(){var t=this;a.awaitRedraw().then((function(){t.getRootView().refs.textarea.el.blur()}))},h.prototype.setProperties=function(t){if(t&&!u.isEmptyObj(t)&&this.events.fire(d.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e]);this.events.fire(d.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},h.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},h.prototype._initView=function(t){var e,i=this;if(u.isEmptyObj(t))throw new Error("Check the configuration is correct");for(e in this.config={type:t.type,id:t.id,name:t.name,disabled:!1,hidden:!1,required:!1,validation:void 0,placeholder:"",readOnly:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);this.config.hidden&&a.awaitRedraw().then((function(){i.hide(!0)})),this.paint()},h.prototype._draw=function(){var t=(_=this.config).id,e=_.value,i=_.disabled,n=_.name,o=_.placeholder,r=_.required,s=_.resizable,c=_.readOnly,d=_.maxlength,h=_.minlength,f=_.label,p=_.helpMessage,g=_.height,_=(null===(_=null===(_=null===(_=this.getRootView())||void 0===_?void 0:_.refs)||void 0===_?void 0:_.textarea)||void 0===_?void 0:_.el)===document.activeElement;return a.el("div.dhx_form-group.dhx_form-group--textarea",{class:l.getFormItemCss(this.config,l.isVerify(this.config),_)},[this._drawLabel(),a.el(".dhx_input__wrapper",[a.el("textarea.dhx_input.dhx_input--textarea",{type:"text",id:t,"data-dhx-id":n||t,placeholder:o||"",value:u.isDefined(e)?e:"",name:n||"",disabled:i,required:r,readOnly:c,maxlength:d,minlength:h,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onkeydown:this._handlers.onkeydown,_hooks:{didInsert:function(t){"content"===g&&((t=t.el).style.height=t.scrollHeight+"px")}},style:{resize:s?"both":"none"},_ref:"textarea","aria-label":f||(c?e:"")+" type text","aria-describedby":p?"dhx_label__help_"+(t||this._uid):null}),l.getValidationMessage(this.config)&&a.el("span.dhx_input__caption",{},l.getValidationMessage(this.config))])])},o=h,e.Textarea=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(1),c=i(9),d=i(58),u=i(5);function h(){var t=null!==s&&s.apply(this,arguments)||this;return t._propsItem=["inputType","label","labelWidth","labelPosition","hiddenLabel","helpMessage"],t._props=r(c.baseProps,t._propsItem),t}o(h,s=d.Input),h.prototype.setProperties=function(t){if(t&&!l.isEmptyObj(t)&&this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e]);this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},h.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},h.prototype._initView=function(t){var e,i=this;if(l.isEmptyObj(t))throw new Error("Check the configuration is correct");for(e in this.config={type:t.type,id:t.id,name:t.name,disabled:!1,hidden:!1,value:"",inputType:"text",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",width:"content",height:"content"},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);this.config.hidden&&a.awaitRedraw().then((function(){i.hide(!0)})),this.paint()},h.prototype._draw=function(){var t=(r=this.config).id,e=r.value,i=r.name,n=r.inputType,o=r.label,r=(null!=e?e:"").toString().length;return a.el("div.dhx_form-group.dhx_form-group--textinput",{class:c.getFormItemCss(this.config)},[this._drawLabel(),a.el(".dhx_input__wrapper",[a.el("input.dhx_input.dhx_input--textinput",{type:["text","number","password"].includes(n)?n:"text",readOnly:!0,id:t,"data-dhx-id":i||t,value:null!=e?e:"",name:i,_ref:"input",tabindex:-1,role:"presentation","aria-label":o||e,size:20<r?r:20,onkeydown:this._handlers.onkeydown})])])},o=h,e.Text=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(1),c=i(9),d=i(28),u=i(3),h=i(16),f=i(5);function p(t,e){var i=s.call(this,null,e)||this;return i.events=new u.EventSystem,i._isValid=!0,i._propsItem=["required","validation","placeholder","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","readonly","readOnly"],i._propsCombo=["template","filter","multiselection","selectAllButton","itemsCount","itemHeight","virtual","listHeight"],i._props=r(c.baseProps,i._propsItem,i._propsCombo),i._initView(e),i._initHandlers(),i}o(p,s=h.Label),p.prototype.destructor=function(){this.events&&this.events.clear(),this.combobox&&this.combobox.destructor(),this.events=this._uid=this._propsCombo=this._propsItem=this._props=this._isValid=null,s.prototype._destructor.call(this),this.unmount()},p.prototype.setProperties=function(t){var e=this;a.awaitRedraw().then((function(){if(t&&!l.isEmptyObj(t)&&e.events.fire(f.ItemEvent.beforeChangeProperties,[e.getProperties()])){for(var i in t)e._props.includes(i)&&(e.config[i]=t[i]);var n=[];e.getWidget().data.forEach((function(t){return n.push(t)})),e.config.data=n,e._initView(e.config),e._initHandlers(),e.events.fire(f.ItemEvent.afterChangeProperties,[e.getProperties()]),e.combobox.paint(),e.paint()}}))},p.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},p.prototype.show=function(){var t=this.config,e=t.value;t.hidden&&this.events.fire(f.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(f.ItemEvent.afterShow,[e]))},p.prototype.hide=function(t){var e=this.config,i=e.value;e.hidden&&!t||!this.events.fire(f.ItemEvent.beforeHide,[i,t])||(this.config.hidden=!0,this.events.fire(f.ItemEvent.afterHide,[i,t]))},p.prototype.isVisible=function(){return!this.config.hidden},p.prototype.disable=function(){this.config.disabled=!0,this.combobox.disable(),this.paint()},p.prototype.enable=function(){this.config.disabled=!1,this.combobox.enable(),this.paint()},p.prototype.isDisabled=function(){return!!this.config.disabled},p.prototype.clear=function(){this.config.value&&(this.config.value="",this.combobox.clear())},p.prototype.getValue=function(){return this.config.multiselection?this.combobox.getValue(!0)||[]:this.combobox.getValue()||""},p.prototype.setValue=function(t){void 0!==t&&t!==this.config.value&&this.combobox.setValue(t)},p.prototype.validate=function(t,e){var i=this;void 0===t&&(t=!1);var n=void 0===e?this.getValue():e;return!(!t&&!this.events.fire(f.ItemEvent.beforeValidate,[n]))&&(e=Array.isArray(n)?n.map((function(t){return i._getItemText(t)})):this._getItemText(n)||"",this._isValid=this.config.validation?this.config.validation(n,e):this._exsistData(n),t||(this.config.$validationStatus=this._isValid?f.ValidationStatus.success:f.ValidationStatus.error,this.config.required&&this._validationStatus(),this.events.fire(f.ItemEvent.afterValidate,[n,this._isValid])),this._isValid)},p.prototype.clearValidate=function(){this.config.$validationStatus=f.ValidationStatus.pre,this._validationStatus(),this.paint()},p.prototype.getWidget=function(){return this.combobox},p.prototype.focus=function(){var t=this;a.awaitRedraw().then((function(){t.combobox.focus()}))},p.prototype.blur=function(){var t=this;a.awaitRedraw().then((function(){t.combobox.blur()}))},p.prototype._initView=function(t){var e=this;if(l.isEmptyObj(t))throw new Error("Check the configuration is correct");this.combobox&&this.combobox.destructor(),this.config={type:t.type,id:t.id,name:t.name,disabled:!1,hidden:!1,value:"",readOnly:!1,multiselection:!1,selectAllButton:!1,itemHeight:32,virtual:!1,listHeight:224,required:!1,placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"};var i,n={};for(i in t)"id"!==i&&"type"!==i&&"name"!==i&&(this.config[i]=t[i],"validation"!==i&&(n[i]=t[i]));this.combobox=new d.Combobox(null,n),this.config.hidden&&a.awaitRedraw().then((function(){e.hide(!0)})),this.paint()},p.prototype._initHandlers=function(){var t=this;this.combobox.events.on(d.ComboboxEvents.beforeChange,(function(e){return t.events.fire(f.ItemEvent.beforeChange,[e])})),this.combobox.events.on(d.ComboboxEvents.change,(function(){var e=t.config.value=t.getValue();t.events.fire(f.ItemEvent.change,[e]),c.isVerify(t.config)&&t.validate(),t.paint()})),this.combobox.events.on(d.ComboboxEvents.focus,(function(){t.events.fire(f.ItemEvent.focus,[t.getValue()]),t.paint()})),this.combobox.events.on(d.ComboboxEvents.blur,(function(){t.events.fire(f.ItemEvent.blur,[t.getValue()]),t.paint()})),this.combobox.events.on(d.ComboboxEvents.keydown,(function(e,i){"Enter"===e.code&&e.preventDefault(),t.events.fire(f.ItemEvent.keydown,[e,i])})),this.events.on(f.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?f.ValidationStatus.success:f.ValidationStatus.error,t.paint()}))},p.prototype._validationStatus=function(){var t;if(!this.combobox.popup.isVisible()&&(null===(t=null===(t=null===(t=this.combobox.getRootView())||void 0===t?void 0:t.refs)||void 0===t?void 0:t.input)||void 0===t?void 0:t.el)!==document.activeElement)switch(this.config.$validationStatus){case f.ValidationStatus.success:return this.combobox.config.css=(this.config.css||"")+"dhx_form-group--state_success";case f.ValidationStatus.error:return this.combobox.config.css=(this.config.css||"")+"dhx_form-group--state_error";case f.ValidationStatus.pre:default:return this.combobox.config.css=this.config.css||""}return this.combobox.config.css=this.config.css||""},p.prototype._getRootView=function(){return this.combobox.getRootView()},p.prototype._draw=function(){var t=(n=this.config).labelWidth,e=n.labelPosition,i=n.name,n=n.id;return a.el(".dhx_form-group",{"data-dhx-id":i||n},[a.inject(this._getRootView()),a.el("div",{style:{"margin-left":t&&"left"===e?"calc("+t+" + 16px)":""},class:this._validationStatus()},[a.el("span.dhx_input__caption",c.getValidationMessage(this.config))])])},p.prototype._exsistData=function(t){var e=this;return!!l.isDefined(t)&&(t instanceof Array?!!t.length&&t.every((function(t){return e.combobox.data.exists(t)})):this.combobox.data.exists(t))},p.prototype._getItemText=function(t){return null===(t=this.combobox.data.getItem(t))||void 0===t?void 0:t.value},o=p,e.Combo=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(0),c=i(1),d=i(45),u=i(3),h=i(16),f=i(5),p=i(9);function g(t,e){var i=a.call(this,null,e)||this;return i.events=new u.EventSystem,i._propsItem=["label","labelWidth","labelPosition","hiddenLabel","helpMessage"],i._propsSlider=["min","max","step","mode","range","inverse","tooltip","tick","tickTemplate","majorTick"],i._props=s(p.baseProps,i._propsItem,i._propsSlider),i._initView(e),i._initHandlers(),i.mount(t,l.create({render:function(){return i._drawSlider()}})),i}o(g,a=h.Label),g.prototype.destructor=function(){this.events&&this.events.clear(),this.slider&&this.slider.destructor(),this.events=this._uid=this._propsSlider=this._propsItem=this._props=null,a.prototype._destructor.call(this),this.unmount()},g.prototype.setProperties=function(t){if(t&&!c.isEmptyObj(t)&&this.events.fire(f.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e]);this._initView(this.config),this._initHandlers(),this.events.fire(f.ItemEvent.afterChangeProperties,[this.getProperties()]),this.slider.paint(),this.paint()}},g.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},g.prototype.show=function(){var t=this.config,e=t.value;t.hidden&&this.events.fire(f.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(f.ItemEvent.afterShow,[e]))},g.prototype.hide=function(t){var e=this.config,i=e.value;e.hidden&&!t||!this.events.fire(f.ItemEvent.beforeHide,[i,t])||(this.config.hidden=!0,this.events.fire(f.ItemEvent.afterHide,[i,t]))},g.prototype.isVisible=function(){return!this.config.hidden},g.prototype.disable=function(){this.config.disabled=!0,this.slider.disable(),this.paint()},g.prototype.enable=function(){this.config.disabled=!1,this.slider.enable(),this.paint()},g.prototype.isDisabled=function(){return!!this.config.disabled},g.prototype.clear=function(){var t=(e=this.config).value,e=e.min;t[0]!==e&&this.slider.setValue(e)},g.prototype.getValue=function(){return this.slider.getValue()},g.prototype.setValue=function(t){void 0!==t&&t!==this.config.value&&this.slider.setValue(t)},g.prototype.getWidget=function(){return this.slider},g.prototype.focus=function(t){var e=this;l.awaitRedraw().then((function(){e.slider.focus(t)}))},g.prototype.blur=function(){var t=this;l.awaitRedraw().then((function(){t.slider.blur()}))},g.prototype._initView=function(t){var e=this;if(c.isEmptyObj(t))throw new Error("Check the configuration is correct");this.slider&&this.slider.destructor();var i,n={type:t.type,id:t.id,name:t.name,mode:"horizontal",min:0,max:100,step:1,range:!1,inverse:!1,tooltip:!0,disabled:!1,hidden:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",width:"content",height:"content"};for(i in t)"id"!==i&&"type"!==i&&"name"!==i&&(n[i]=t[i]);this.config=r({type:this.config.type},n),this.slider=new d.Slider(null,n),this.config.disabled&&this.slider.disable(),this.config.value=this.slider.getValue(),this.config.hidden&&l.awaitRedraw().then((function(){e.hide(!0)}))},g.prototype._initHandlers=function(){var t=this;this.slider.events.on(d.SliderEvents.beforeChange,(function(e,i,n){var o,r,s=[e];return t.config.range&&(o=(r=t.getValue())[0],r=r[1],s=n?[o,e]:[e,r]),t.events.fire(f.ItemEvent.beforeChange,[s])})),this.slider.events.on(d.SliderEvents.change,(function(){var e;t._uid&&(e=t.config.value=t.slider.getValue(),t.events.fire(f.ItemEvent.change,[e]),t.paint())})),this.slider.events.on(d.SliderEvents.focus,(function(){t.events.fire(f.ItemEvent.focus,[t.getValue()])})),this.slider.events.on(d.SliderEvents.blur,(function(){t.events.fire(f.ItemEvent.blur,[t.getValue()])})),this.slider.events.on(d.SliderEvents.keydown,(function(e){t.events.fire(f.ItemEvent.keydown,[e])}))},g.prototype._drawSlider=function(){var t=(e=this.config).name,e=e.id;return l.el("div.dhx_form-group",{"data-dhx-id":t||e},[l.inject(this.slider.getRootView())])},o=g,e.SliderForm=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(0),c=i(3),d=i(2),u=i(7),h=i(1),f=i(6),p=i(59),g=i(11),_=i(9),v=i(97),m=i(5);function y(t,e){var i=a.call(this,t,e)||this;return i._isValid=!0,i._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],i._propsSimpleVault=["target","singleRequest","fieldName","params"],i._props=s(_.baseProps,i._propsItem,i._propsSimpleVault),i.events=new c.EventSystem(i),i.data=new f.DataCollection,i._uploader=new p.Uploader(r(r({},e),{autosend:!1,fieldName:e.fieldName||e.name||e.id}),i.data,i.data.events),i._initView(e),i._initHandlers(),i._handlers={add:function(t){i.config.disabled||(t.preventDefault(),i._uploader.selectFile())},remove:function(t){i.config.disabled||(t=d.locate(t))&&i.data.remove(t)},ondragover:function(t){for(var e=0,n=t.dataTransfer.types;e<n.length;e++){var o=n[e];if("Files"!==o&&"application/x-moz-file"!==o)return}i._dragoverTimeout?clearTimeout(i._dragoverTimeout):i.paint(),i._dragover=!0,i._dragoverTimeout=setTimeout((function(){i._dragover=!1,i._dragoverTimeout=null,i.paint()}),150)},showHelper:function(t){t.stopPropagation(),t.preventDefault(),i._helper.show(t.target,{mode:"left"===i.config.labelPosition?"bottom":"right",theme:t.target})},hideHelper:function(t){t.preventDefault(),t.stopPropagation(),i._helper.hide()}},i.mount(t,l.create({render:function(){return i._draw()}})),i}o(y,a=u.View),y.prototype.destructor=function(){this.events&&this.events.clear(),this._helper&&this._helper.destructor(),this.config=this.events=this._uid=this._helper=this._handlers=this._uploader=this.data=null,this._propsItem=this._propsSimpleVault=this._props=this._isValid=this._dragover=this._dragoverTimeout=null,this.unmount()},y.prototype.setProperties=function(t){if(t&&!h.isEmptyObj(t)&&this.events.fire(m.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e],this._propsSimpleVault.includes(e)&&(this._uploader.config[e]=t[e]));this.events.fire(m.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},y.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},y.prototype.show=function(){var t=this.config,e=t.value;t.hidden&&this.events.fire(m.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(m.ItemEvent.afterShow,[e]))},y.prototype.hide=function(t){var e=this.config,i=e.value;e.hidden&&!t||!this.events.fire(m.ItemEvent.beforeHide,[i,t])||(this.config.hidden=!0,this.events.fire(m.ItemEvent.afterHide,[i,t]))},y.prototype.isVisible=function(){return!this.config.hidden},y.prototype.disable=function(){this.config.disabled=!0,this.paint()},y.prototype.enable=function(){this.config.disabled=!1,this.paint()},y.prototype.isDisabled=function(){return this.config.disabled},y.prototype.validate=function(t){void 0===t&&(t=!1);var e=(i=this.config).required,i=i.value;if(t||this.events.fire(m.ItemEvent.beforeValidate,[i]))return this._isValid=!e||0<this.data.getLength(),t||this.events.fire(m.ItemEvent.afterValidate,[i,this._isValid]),this._isValid},y.prototype.clearValidate=function(){this.config.$validationStatus=m.ValidationStatus.pre,this.paint()},y.prototype.clear=function(){0!==this.getValue().length&&(this.data.removeAll(),this.paint())},y.prototype.getValue=function(){return this.data.serialize()},y.prototype.selectFile=function(){this._uploader.selectFile()},y.prototype.send=function(t){_.isVerify(this.config)&&!this.validate(!0)||this._uploader.send(t)},y.prototype.setValue=function(t){t.length&&(this.data.parse(t),_.isVerify(this.config)&&this.validate())},y.prototype._initView=function(t){var e,i=this;if(h.isEmptyObj(t))throw new Error("Check the configuration is correct");for(e in this.config={type:t.type,id:t.id,name:t.name,fieldName:t.fieldName||t.name||t.id,disabled:!1,hidden:!1,singleRequest:!1,target:"",value:[],label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);this.config.hidden&&l.awaitRedraw().then((function(){i.hide(!0)})),this.config.value.length&&this.setValue(this.config.value),this.paint()},y.prototype._initHandlers=function(){var t=this;this.data.events.on(m.ItemEvent.change,(function(e,i){var n=t.config.value=t.getValue();t.events.fire(m.ItemEvent.change,[n]),i&&_.isVerify(t.config)&&t.validate(),t.paint()})),this.events.on(m.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?m.ValidationStatus.success:m.ValidationStatus.error,t.paint()})),this._uploader.events.on("beforeUploadFile",(function(e){return t.events.fire(m.ItemEvent.beforeUploadFile,[e,t.config.value])})),this._uploader.events.on("uploadBegin",(function(e){t.events.fire(m.ItemEvent.uploadBegin,[e,t.config.value])})),this._uploader.events.on("uploadComplete",(function(e){t.events.fire(m.ItemEvent.uploadComplete,[e,t.config.value])})),this._uploader.events.on("uploadFail",(function(e){t.events.fire(m.ItemEvent.uploadFail,[e,t.config.value])})),this._uploader.events.on("uploadFile",(function(e,i){t.events.fire(m.ItemEvent.uploadFile,[e,t.config.value,i])})),this._uploader.events.on("uploadProgress",(function(e){t.events.fire(m.ItemEvent.uploadProgress,[e,t.config.value])}))},y.prototype._draw=function(){var t=this;this.config.helpMessage&&(this._helper||(this._helper=new g.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"})),this._helper.attachHTML(this.config.helpMessage));var e=this.data.getLength()?l.el("ul.dhx_simplevault__files.dhx_simplevault-files",{class:this.config.$vaultHeight?"":"dhx_simplevault-files__fixed"},this.data.map((function(e){return l.el("li.dhx_simplevault-files__item",[l.el("span.dhx_simplevault-files__item-name",e.file&&e.file.name||e.name),l.el(".dhx_button.dhx_simplevault-files__delete.dhx_button--icon.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"data-dhx-id":e.id,onclick:t._handlers.remove},[l.el("span.dxi.dxi-delete-forever")])])}))):null,i=(a=this.config).id,n=a.helpMessage,o=a.disabled,r=a.required,s=a.label,a=d.getLabelStyle(this.config);return l.el(".dhx_form-group.dhx_form-group--simplevault",{class:_.getFormItemCss(this.config,_.isVerify(this.config))},[a&&l.el("legend.dhx_label",{class:n?"dhx_label--with-help":"",style:a.style,onclick:this._handlers.add,"aria-label":s||"select files"},n?[(a.label||r)&&l.el("span.dhx_label__holder",a.label),l.el("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,onfocus:this._handlers.showHelper,onblur:this._handlers.hideHelper})]:a.label),l.el(".dhx_input__wrapper",{id:this._uid},[l.el("div",{_hooks:{didInsert:function(e){t._uploader.linkDropArea(e.el)}},ondragover:this._handlers.ondragover,class:"dhx_simplevault"+(this._dragover?" dhx_simplevault--on-drag":"")},[l.el("div.dhx_simplevault-loader",[l.el("span.dhx_simplevault__icon.dxi.dxi-vault")]),l.el(".dhx_simplevault__drop-area",[l.el("input.dhx_simplevault__input",{type:"file",id:i,disabled:o}),l.el("span.dhx_simplevault__icon.dxi.dxi-vault"),l.el("span.dhx_simplevault__title",[l.el("span",v.default.simpleVaultText),l.el("br"),l.el("label.dhx_simplevault__label",{onclick:this._handlers.add,for:i}," "+v.default.simpleVaultLabel)])]),e]),_.getValidationMessage(this.config)&&l.el("span.dhx_input__caption",{},_.getValidationMessage(this.config))])])},o=y,e.SimpleVault=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(42),l=i(0),c=i(1),d=i(16),u=i(11),h=i(3),f=i(5),p=i(9),g=i(12);function _(t,e){var i=s.call(this,null,e)||this;return i.events=new h.EventSystem,i._isValid=!0,i._popupIsFocus=!1,i._propsItem=["required","validation","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],i._propsTimepicker=["timeFormat","controls","valueFormat"],i._props=r(p.baseProps,i._propsItem,i._propsTimepicker),i._keyManager=new g.KeyManager((function(){var t,e=document.activeElement;return(null===(t=null===(t=null===(t=i.getRootView())||void 0===t?void 0:t.refs)||void 0===t?void 0:t.input)||void 0===t?void 0:t.el)===e||i._popup.isVisible()})),i._initView(e),i._initHandlers(),i._initHotkeys(),i.mount(t,l.create({render:function(){return i._draw()}})),i}o(_,s=d.Label),_.prototype.destructor=function(){this.events&&this.events.clear(),this.timepicker&&this.timepicker.destructor(),this._popup&&this._popup.destructor(),this.events=this._uid=this._propsItem=this._propsTimepicker=this._props=this._isValid=null,s.prototype._destructor.call(this),this.unmount()},_.prototype.setProperties=function(t){var e=this;l.awaitRedraw().then((function(){if(t&&!c.isEmptyObj(t)&&e.events.fire(f.ItemEvent.beforeChangeProperties,[e.getProperties()])){for(var i in t)e._props.includes(i)&&(e.config[i]=t[i]);e._initView(e.config),e._initHandlers(),e.events.fire(f.ItemEvent.afterChangeProperties,[e.getProperties()]),e.paint()}}))},_.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},_.prototype.show=function(){this.config.hidden&&this.events.fire(f.ItemEvent.beforeShow,[this.getValue("timeObject"===this.config.valueFormat)])&&(this.config.hidden=!1,this.events.fire(f.ItemEvent.afterShow,[this.getValue("timeObject"===this.config.valueFormat)]))},_.prototype.hide=function(t){this.config.hidden&&!t||!this.events.fire(f.ItemEvent.beforeHide,[this.getValue("timeObject"===this.config.valueFormat),t])||(this.config.hidden=!0,this.events.fire(f.ItemEvent.afterHide,[this.getValue("timeObject"===this.config.valueFormat),t]))},_.prototype.isVisible=function(){return!this.config.hidden},_.prototype.disable=function(){this.config.disabled=!0,this.paint()},_.prototype.enable=function(){this.config.disabled=!1,this.paint()},_.prototype.isDisabled=function(){return!!this.config.disabled},_.prototype.validate=function(t,e){if(void 0===t&&(t=!1),e=void 0===e?this.getValue("timeObject"===this.config.valueFormat):e,t||this.events.fire(f.ItemEvent.beforeValidate,[e]))return this._isValid=this.config.validation?this.config.validation(e):p.isTimeFormat(this.getValue(),this.config.timeFormat),t||this.events.fire(f.ItemEvent.afterValidate,[e,this._isValid]),this._isValid},_.prototype.clearValidate=function(){this.config.$validationStatus=f.ValidationStatus.pre,this.paint()},_.prototype.setValue=function(t){if(void 0!==t&&t!==this.config.value){if(this.timepicker.setValue(t),this.config.controls){if(t=this.getValue(this._isTimeObject()),!this.events.fire(f.ItemEvent.beforeChange,[t]))return;this.config.value=this.timepicker.getValue(),this.events.fire(f.ItemEvent.change,[t])}p.isVerify(this.config)&&this.validate(),this.paint()}},_.prototype.getValue=function(t){return t?this.timepicker.getValue(t):this.config.value||""},_.prototype.focus=function(){var t=this;l.awaitRedraw().then((function(){t.getRootView().refs.input.el.focus()}))},_.prototype.blur=function(){var t=this;l.awaitRedraw().then((function(){t._popup.hide(),t.getRootView().refs.input.el.blur()}))},_.prototype.clear=function(){""!==this.config.value&&this._clear()},_.prototype.getWidget=function(){return this.timepicker},_.prototype._initView=function(t){var e,i=this;if(c.isEmptyObj(t))throw new Error("Check the configuration is correct");for(e in this.timepicker&&this.timepicker.destructor(),this._popup&&this._popup.destructor(),this.config={type:t.type,id:t.id,name:t.name,disabled:!1,editable:!1,hidden:!1,timeFormat:24,controls:!1,valueFormat:"string",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);this._popup=new u.Popup,this.timepicker=new a.Timepicker(null,p.widgetConfig(t)),this._popup.attach(this.timepicker),this.config.hasOwnProperty("value")&&(this.config.value=this.timepicker.getValue()),this.config.hidden&&l.awaitRedraw().then((function(){i.hide(!0)}))},_.prototype._initHandlers=function(){var t=this;this.events.on(f.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?f.ValidationStatus.success:f.ValidationStatus.error,t.paint()})),this.config.controls?(this.timepicker.events.on(a.TimepickerEvents.afterClose,(function(){t._popup.hide()})),this.timepicker.events.on(a.TimepickerEvents.afterApply,(function(){t._afterApply(!0)})),this._popup.events.on(u.PopupEvents.afterHide,(function(){t.config.value&&t.config.value!==t.timepicker.getValue()?t.timepicker.setValue(t.config.value):""!==t.config.value&&void 0!==t.config.value||t._clear(!0)}))):(this.timepicker.events.on(a.TimepickerEvents.beforeChange,(function(e){var i=12===t.config.timeFormat?"12:00AM":"00:00",n=t.timepicker.getValue();if((""!==t.config.value||i!==n)&&t.config.value!==n)return t.events.fire(f.ItemEvent.beforeChange,[e])})),this.timepicker.events.on(a.TimepickerEvents.change,(function(e){var i=12===t.config.timeFormat?"12:00AM":"00:00",n=t.timepicker.getValue();""===t.config.value&&i===n||t.config.value===n||(t.config.value=t.timepicker.getValue(),t.events.fire(f.ItemEvent.change,[e]),p.isVerify(t.config)&&t.validate(),t.paint())}))),this._popup.events.on(u.PopupEvents.afterHide,(function(){document.activeElement!==t.getRootView().refs.input.el&&t.events.fire(f.ItemEvent.blur,[t.getValue()]),t.paint()})),this.events.on(f.ItemEvent.input,(function(e){var i=12===t.config.timeFormat?7:5;e.length>=i&&p.isTimeFormat(e,t.config.timeFormat)?t.timepicker.setValue(e):""!==e||t.config.controls||t._clear()})),this.events.on(f.ItemEvent.afterChangeProperties,(function(){t.config.value=t.timepicker.getValue(),t.paint()})),this.events.on(f.ItemEvent.blur,(function(){t._popupIsFocus=!1,t.paint()})),document.addEventListener("keydown",(function(e){var i,n=document.activeElement;(null===(i=null===(i=null===(i=t.getRootView())||void 0===i?void 0:i.refs)||void 0===i?void 0:i.input)||void 0===i?void 0:i.el)!==n&&!t._popup.isVisible()||t.events.fire(f.ItemEvent.keydown,[e])})),document.addEventListener("mousedown",(function(){t._popup.getContainer()!==document.activeElement&&(t._popupIsFocus=!1)}))},_.prototype._getHandlers=function(){var t=this;return{onfocus:function(){var e;t._popup.isVisible()||(e=t.getRootView().refs.input.el,t._popup.show(e,{theme:e}),t.events.fire(f.ItemEvent.focus,[t.getValue()]),t.paint())},onblur:function(){t._popup.isVisible()||t.events.fire(f.ItemEvent.blur,[t.getValue()]),t.paint()},oninput:function(e){e=e.target.value,t.events.fire(f.ItemEvent.input,[e])}}},_.prototype._initHotkeys=function(){var t,e=this,i={"shift+tab":function(){e._applyTab()},tab:function(){e._applyTab()},escape:function(){e._popup.isVisible()&&e.getRootView().refs.input.el.focus(),e._popup.hide()},enter:function(t){t.preventDefault(),t=e.getRootView().refs.input.el,e._popup.isVisible()||e._popup.show(t,{theme:t}),!e._popupIsFocus&&e.config.controls?e._afterApply():(e._popup.hide(),e.paint())},arrowRight:function(t){var i=e._popup.getContainer();e._popup.isVisible()&&!e._popupIsFocus&&(t.preventDefault(),i.focus(),e._popupIsFocus=!0)}};for(t in i)this._keyManager.addHotKey(t,i[t])},_.prototype._draw=function(){var t=(c=this.config).value,e=c.required,i=c.disabled,n=c.placeholder,o=c.name,r=c.id,s=c.editable,a=c.label,c=c.helpMessage,d=this._popup.isVisible()||(null===(d=null===(d=null===(d=this.getRootView())||void 0===d?void 0:d.refs)||void 0===d?void 0:d.input)||void 0===d?void 0:d.el)===document.activeElement;return l.el("div.dhx_form-group",{class:p.getFormItemCss(this.config,p.isVerify(this.config),d)},[this._drawLabel(),l.el(".dhx_input__wrapper",[l.el("div.dhx_input__container",{},[l.el(".dhx_input__icon.dxi.dxi-clock-outline"),l.el("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":o||r,_key:this._uid,_ref:"input",value:t,type:"text",required:e,disabled:i,class:d&&"dhx_input--focus",placeholder:n||"",name:o||"",id:r||this._uid,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,oninput:this._handlers.oninput,autocomplete:"off",readOnly:!s,"aria-label":a||(s?"type or":"")+" select date","aria-describedby":c?"dhx_label__help_"+(r||this._uid):null})]),p.getValidationMessage(this.config)&&l.el("span.dhx_input__caption",{},p.getValidationMessage(this.config))])])},_.prototype._clear=function(t){(t||this.events.fire(f.ItemEvent.beforeChange,[""]))&&(this.config.value="",this.timepicker.clear(),t||(this.events.fire(f.ItemEvent.change,[""]),p.isVerify(this.config)&&this.validate()),this.paint())},_.prototype._afterApply=function(t){if(void 0===t&&(t=!1),""!==this.getRootView().refs.input.el.value||t){if(t=this.timepicker.getValue(this._isTimeObject()),!this.events.fire(f.ItemEvent.beforeChange,[t]))return;this.config.value=this.timepicker.getValue(),this.events.fire(f.ItemEvent.change,[t]),p.isVerify(this.config)&&this.validate()}else this.clear();this._popup.hide(),this.paint()},_.prototype._applyTab=function(){var t;document.activeElement===(null===(t=null===(t=null===(t=this._popup.getRootView())||void 0===t?void 0:t.refs)||void 0===t?void 0:t.content)||void 0===t?void 0:t.el)||this._popupIsFocus||this._popup.hide()},_.prototype._isTimeObject=function(){var t;return"timeobject"===(null===(t=this.config.valueFormat)||void 0===t?void 0:t.toLowerCase())},o=_,e.TimePicker=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(51),l=i(3),c=i(0),d=i(1),u=i(16),h=i(11),f=i(5),p=i(9),g=i(12);function _(t,e){var i=s.call(this,null,e)||this;return i.events=new l.EventSystem,i._isValid=!0,i._popupIsFocus=!1,i._propsItem=["required","validation","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],i._propsColorpicker=["mode","grayShades","customColors","palette"],i._props=r(p.baseProps,i._propsItem,i._propsColorpicker),i._keyManager=new g.KeyManager((function(){var t,e=document.activeElement;return(null===(t=null===(t=null===(t=i.getRootView())||void 0===t?void 0:t.refs)||void 0===t?void 0:t.input)||void 0===t?void 0:t.el)===e||i._popup.isVisible()})),i._initView(e),i._initHandlers(),i._initHotkeys(),i.mount(t,c.create({render:function(){return i._draw()}})),i}o(_,s=u.Label),_.prototype.destructor=function(){this.events&&this.events.clear(),this._popup&&this._popup.destructor(),this.colorpicker&&this.colorpicker.destructor(),this.events=this._uid=this._propsColorpicker=this._propsItem=this._props=this._isValid=null,s.prototype._destructor.call(this),this.unmount()},_.prototype.setProperties=function(t){if(t&&!d.isEmptyObj(t)&&this.events.fire(f.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)this._props.includes(e)&&(this.config[e]=t[e],this._propsColorpicker.includes(e)&&(this.colorpicker.config[e]=t[e]));this.events.fire(f.ItemEvent.afterChangeProperties,[this.getProperties()]),this.colorpicker.paint(),this.paint()}},_.prototype.getProperties=function(){for(var t={},e=0,i=this._props;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},_.prototype.show=function(){var t=this.config,e=t.value;t.hidden&&this.events.fire(f.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(f.ItemEvent.afterShow,[e]))},_.prototype.hide=function(t){var e=this.config,i=e.value;e.hidden&&!t||!this.events.fire(f.ItemEvent.beforeHide,[i,t])||(this.config.hidden=!0,this.events.fire(f.ItemEvent.afterHide,[i,t]))},_.prototype.isVisible=function(){return!this.config.hidden},_.prototype.disable=function(){this.config.disabled=!0,this.paint()},_.prototype.enable=function(){this.config.disabled=!1,this.paint()},_.prototype.isDisabled=function(){return!!this.config.disabled},_.prototype.validate=function(t,e){if(void 0===t&&(t=!1),e=void 0===e?this.getValue():e,t||this.events.fire(f.ItemEvent.beforeValidate,[e]))return this._isValid=this.config.validation?this.config.validation(e):a.isHex(e),t||this.events.fire(f.ItemEvent.afterValidate,[e,this._isValid]),this._isValid},_.prototype.clearValidate=function(){this.config.$validationStatus=f.ValidationStatus.pre,this.paint()},_.prototype.setValue=function(t){void 0!==t&&t!==this.config.value&&this.colorpicker.setValue(t)},_.prototype.getValue=function(){return this.colorpicker.getValue()},_.prototype.clear=function(){""!==this.config.value&&this.colorpicker.clear()},_.prototype.getWidget=function(){return this.colorpicker},_.prototype.focus=function(){var t=this;c.awaitRedraw().then((function(){t.getRootView().refs.input.el.focus()}))},_.prototype.blur=function(){var t=this;c.awaitRedraw().then((function(){t._popup.hide(),t.getRootView().refs.input.el.blur()}))},_.prototype._initView=function(t){var e,i=this;if(d.isEmptyObj(t))throw new Error("Check the configuration is correct");for(e in this.colorpicker&&this.colorpicker.destructor(),this._popup&&this._popup.destructor(),this.config={type:t.type,id:t.id,name:t.name,disabled:!1,editable:!1,hidden:!1,value:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:a.palette,mode:"palette",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)"id"!==e&&"type"!==e&&"name"!==e&&(this.config[e]=t[e]);this._popup=new h.Popup,this.colorpicker=new a.Colorpicker(null,p.widgetConfig(t)),this._popup.attach(this.colorpicker),this.config.hidden&&c.awaitRedraw().then((function(){i.hide(!0)}))},_.prototype._initHandlers=function(){var t=this;this.colorpicker.events.on(a.ColorpickerEvents.beforeChange,(function(e){return t.events.fire(f.ItemEvent.beforeChange,[e])})),this.colorpicker.events.on(a.ColorpickerEvents.change,(function(){t.config.value=t.colorpicker.getValue(),t.events.fire(f.ItemEvent.change,[t.config.value]),p.isVerify(t.config)&&t.validate(),t._popup.hide(),t.paint()})),this.events.on(f.ItemEvent.afterValidate,(function(){t.config.$validationStatus=t._isValid?f.ValidationStatus.success:f.ValidationStatus.error,t.paint()})),this._popup.events.on(h.PopupEvents.afterHide,(function(){document.activeElement!==t.getRootView().refs.input.el&&t.events.fire(f.ItemEvent.blur,[t.getValue()]),t.paint()})),this.events.on(f.ItemEvent.blur,(function(){t._popupIsFocus=!1,t.paint()})),document.addEventListener("keydown",(function(e){var i,n=document.activeElement;(null===(i=null===(i=null===(i=t.getRootView())||void 0===i?void 0:i.refs)||void 0===i?void 0:i.input)||void 0===i?void 0:i.el)!==n&&!t._popup.isVisible()||t.events.fire(f.ItemEvent.keydown,[e])})),document.addEventListener("mousedown",(function(){t._popup.getContainer()!==document.activeElement&&(t._popupIsFocus=!1)}))},_.prototype._getHandlers=function(){var t=this;return{onblur:function(){t._popup.isVisible()||t.events.fire(f.ItemEvent.blur,[t.getValue()]),t.paint()},onfocus:function(){var e;t._popup.isVisible()||(e=t.getRootView().refs.input.el,t._popup.show(e,{theme:e}),t.events.fire(f.ItemEvent.focus,[t.getValue()]),t.paint())},oninput:function(e){e=e.target.value,t.events.fire(f.ItemEvent.input,[e])},onchange:function(e){e=e.target.value,t.config.editable&&a.isHex(e)?t.setValue(e):""===e&&t.clear()}}},_.prototype._initHotkeys=function(){var t,e=this,i={"shift+tab":function(){e._applyTab()},tab:function(){e._applyTab()},escape:function(){e._popup.isVisible()&&e.getRootView().refs.input.el.focus(),e._popup.hide()},enter:function(t){t.preventDefault(),e._popup.isVisible()||(t=e.getRootView().refs.input.el,e._popup.show(t,{theme:t}))},arrowRight:function(t){var i=e._popup.getContainer();e._popup.isVisible()&&!e._popupIsFocus&&(t.preventDefault(),i.focus(),e._popupIsFocus=!0)}};for(t in i)this._keyManager.addHotKey(t,i[t])},_.prototype._draw=function(){var t=(d=this.config).required,e=d.value,i=d.icon,n=d.disabled,o=d.placeholder,r=d.name,s=d.id,a=d.editable,l=d.label,d=d.helpMessage,u=this._popup.isVisible()||(null===(u=null===(u=null===(u=this.getRootView())||void 0===u?void 0:u.refs)||void 0===u?void 0:u.input)||void 0===u?void 0:u.el)===document.activeElement;return c.el("div.dhx_form-group",{class:p.getFormItemCss(this.config,p.isVerify(this.config),u)},[this._drawLabel(),c.el(".dhx_input__wrapper",[c.el("div.dhx_input__container",{},[c.el(".dhx_input__icon",{class:i||"dxi dxi-eyedropper-variant"+(e?" dhx_input__icon--color-selected":""),style:{"background-color":e||"transparent"}}),c.el("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":r||s,_key:this._uid,_ref:"input",value:e,type:"text",required:t,disabled:n,class:u&&"dhx_input--focus",placeholder:o||"",name:r||"",id:s||this._uid,onfocus:this._handlers.onfocus,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onblur:this._handlers.onblur,autocomplete:"off",readOnly:!a,"aria-label":l||(a?"type or":"")+" select color","aria-describedby":d?"dhx_label__help_"+(s||this._uid):null})]),p.getValidationMessage(this.config)&&c.el("span.dhx_input__caption",{},p.getValidationMessage(this.config))])])},_.prototype._applyTab=function(){var t;document.activeElement===(null===(t=null===(t=null===(t=this._popup.getRootView())||void 0===t?void 0:t.refs)||void 0===t?void 0:t.content)||void 0===t?void 0:t.el)||this._popupIsFocus||this._popup.hide()},o=_,e.ColorPicker=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(7),c=i(5),d=i(3),u=i(1),h=i(9);function f(t,e){var i=s.call(this,t,r({disabled:!1,hidden:!1,width:"content",height:"content"},e))||this;return i.events=new d.EventSystem,i.config.hidden&&a.awaitRedraw().then((function(){i.hide(!0)})),i.mount(t,a.create({render:function(){return i._draw()}})),i}o(f,s=l.View),f.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=null,this.unmount()},f.prototype.setProperties=function(t){if(t&&!u.isEmptyObj(t)&&this.events.fire(c.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)h.baseProps.includes(e)&&(this.config[e]=t[e]);this.events.fire(c.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},f.prototype.getProperties=function(){for(var t={},e=0,i=h.baseProps;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},f.prototype.show=function(){this.config.hidden&&this.events.fire(c.ItemEvent.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(c.ItemEvent.afterShow,[]))},f.prototype.hide=function(t){this.config.hidden&&!t||!this.events.fire(c.ItemEvent.beforeHide,[!!t])||(this.config.hidden=!0,this.events.fire(c.ItemEvent.afterHide,[!!t]))},f.prototype.isVisible=function(){return!this.config.hidden},f.prototype._draw=function(){return a.el("div")},o=f,e.Spacer=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(95),a=i(5),l=i(10),c=i(224);function d(t,e){return r.call(this,t,e)||this}o(d,r=s.Form),d.prototype._initItemHandlers=function(t,e){var i=this;r.prototype._initItemHandlers.call(this,t,e),"container"===t.type&&((t=this._attachments[e]=new c.Container(null,t)).events.on(a.ItemEvent.beforeChangeProperties,(function(t){return i.events.fire(a.FormEvents.beforeChangeProperties,[e,t])})),t.events.on(a.ItemEvent.afterChangeProperties,(function(t){i._changeProps(e,t),i.events.fire(a.FormEvents.afterChangeProperties,[e,t]),i.layout.paint()})),t.events.on(a.ItemEvent.beforeHide,(function(t){if(!t)return i.events.fire(a.FormEvents.beforeHide,[e])})),t.events.on(a.ItemEvent.beforeShow,(function(){return i.events.fire(a.FormEvents.beforeShow,[e])})),t.events.on(a.ItemEvent.afterHide,(function(t){i.layout.getCell(e).hide(),t||i.events.fire(a.FormEvents.afterHide,[e])})),t.events.on(a.ItemEvent.afterShow,(function(){i.layout.getCell(e).show(),i.events.fire(a.FormEvents.afterShow,[e])})))},d.prototype._initUI=function(t){var e,i=this._attachments={},n={padding:"8px"};this.config.css+=" dhx_form",this._createLayoutConfig(this.config,n);var o,r=this.layout=new l.ProLayout(t,n);for(o in i)null!==(e=r.getCell(o))&&void 0!==e&&e.attach(i[o])},o=d,e.ProForm=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(0),l=i(7),c=i(5),d=i(3),u=i(1),h=i(10),f=i(9);function p(t,e){var i=s.call(this,t,r({disabled:!1,hidden:!1,width:"content",height:"content"},e))||this;if(i.events=new d.EventSystem,u.isEmptyObj(e))throw new Error("Check the configuration is correct");i.container&&i.container.destructor();var n,o={};for(n in e)"id"!==n&&"type"!==n&&"name"!==n&&"width"!==n&&"height"!==n&&(i.config[n]=e[n],"validation"!==n&&(o[n]=e[n]));return i.container=new h.Layout(null,{rows:[o]}),o.html&&i.container.attachHTML(o.html),i.config.hidden&&a.awaitRedraw().then((function(){i.hide(!0)})),i.paint(),i.mount(t,a.create({render:function(){return i._draw()}})),i}o(p,s=l.View),p.prototype.attach=function(t){this.container.attach(t)},p.prototype.attachHTML=function(t){this.container.attachHTML(t)},p.prototype.show=function(){this.config.hidden&&this.events.fire(c.ItemEvent.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(c.ItemEvent.afterShow,[]))},p.prototype.hide=function(t){void 0===t&&(t=!1),this.config.hidden&&!t||!this.events.fire(c.ItemEvent.beforeHide,[t])||(this.config.hidden=!0,this.events.fire(c.ItemEvent.afterHide,[t]))},p.prototype.isVisible=function(){return!this.config.hidden},p.prototype.disable=function(){this.config.disabled=!0,this.paint()},p.prototype.enable=function(){this.config.disabled=!1,this.paint()},p.prototype.isDisabled=function(){return!!this.config.disabled},p.prototype.setProperties=function(t){if(t&&!u.isEmptyObj(t)&&this.events.fire(c.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in t)f.baseProps.includes(e)&&(this.config[e]=t[e]);this.events.fire(c.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},p.prototype.getProperties=function(){for(var t={},e=0,i=f.baseProps;e<i.length;e++){var n=i[e];t[n]=this.config[n]}return t},p.prototype._getRootView=function(){return this.container.getRootView()},p.prototype._draw=function(){var t=(i=this.config).name,e=i.id,i=i.disabled?" dhx_form-group--disabled":"";return a.el(".dhx_form-group.dhx_form-group--container",{class:i,"data-dhx-id":t||e},[a.inject(this._getRootView())])},o=p,e.Container=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(226)),n(i(227))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(1),a=i(2),l=i(13),c=i(21);function d(t,e){return(e=r.call(this,t,s.extend({$name:"context-menu"},e))||this)._isContextMenu=!0,e}o(d,r=c.Navbar),d.prototype.showAt=function(t,e){void 0===e&&(e="bottom"),t instanceof MouseEvent?(this._close(t),this._changeActivePosition({left:window.pageXOffset+t.x+1,right:window.pageXOffset+t.x+1,top:window.pageYOffset+t.y,bottom:window.pageYOffset+t.y,zIndex:l.getZIndex(t.currentTarget)},e)):window.TouchEvent&&t instanceof TouchEvent?(this._close(t),this._changeActivePosition({left:window.pageXOffset+t.touches[0].clientX,right:window.pageXOffset+t.touches[0].clientX,top:window.pageYOffset+t.touches[0].clientY,bottom:window.pageYOffset+t.touches[0].clientY,zIndex:l.getZIndex(t.currentTarget)},e)):(t instanceof HTMLElement||"string"==typeof t)&&(t=a.toNode(t),this._changeActivePosition(a.getRealPosition(t),e))},d.prototype._getFactory=function(){return c.createFactory({widget:this,defaultType:"menuItem",allowedTypes:["menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"context-menu"})},d.prototype._close=function(t){var e=this;this.events.on(c.NavigationBarEvents.afterHide,(function(){e._activeMenu=null,e._changeActivePosition(null,null)})),r.prototype._close.call(this,t)},d.prototype._getMode=function(t,e,i){return i?this._mode:"right"},d.prototype._changeActivePosition=function(t,e){this._activePosition=t,this._mode=e,this._listenOuterClick(),this.paint()},o=d,e.ContextMenu=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(1),a=i(0),l=i(21);function c(t,e){var i=r.call(this,t,s.extend({$name:"menu"},e))||this;return i.mount(t,a.create({render:function(){return i._draw()}})),i}o(c,r=l.Navbar),c.prototype._getFactory=function(){return l.createFactory({widget:this,defaultType:"menuItem",allowedTypes:["navItem","menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"menu-nav"})},c.prototype._draw=function(){return a.el("ul.dhx_widget",{"data-dhx-widget-id":this._uid,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,class:"dhx_menu-nav "+(this.config.css||"")},this._drawMenuItems(this.data.getRoot(),!1))},o=c,e.Menu=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(98)),n(i(229))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(98),a=i(20),l=i(0),c=i(2),d=i(13);function u(t,e){var i=r.call(this,t,e)||this;return i.scrollView=new a.ScrollView((function(){return i.getRootView()})),i}o(u,r=s.Ribbon),u.prototype._draw=function(){var t=this;this._heightCalculate();var e=[l.el("ul.dhx_ribbon-content.dhx_ribbon-content--full-width",{style:{height:Math.max.apply(Math,this._widgetHeight)}},this.data.map((function(e){return"block"===e.type?t._drawBlock(e,!0):t._factory(e)}),this.data.getRoot(),!1))],i=Math.max.apply(Math,this._widgetHeight);return l.el("ul.dhx_ribbon.dhx_widget",{"data-dhx-widget-id":this._uid,class:this.config.css||"",tabindex:0,onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._listeners.input,onmouseover:this._listeners.tooltip,_hooks:{didInsert:function(e){e.el.addEventListener("keyup",(function(e){var i;9!==e.which||(i=c.locateNode(document.activeElement))&&(e=i.getAttribute("data-dhx-id"),(e=t.data.getItem(e)).tooltip&&d.tooltip(e.tooltip,{node:i,position:d.Position.bottom,force:!0}))}),!0)}}},[l.el("li",{class:"dhx_ribbon-block dhx_ribbon-block--root",style:{height:this._haveTitle?i+24:i}},this.scrollView&&this.scrollView.config.enable?[].concat(this.scrollView.render(e)):e)])},o=u,e.ProRibbon=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(99)),n(i(231)),n(i(100))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(0),a=i(2),l=i(20),c=i(99),d=i(13);function u(t,e){var i=r.call(this,t,e)||this;return i.scrollView=new l.ScrollView((function(){return i.getRootView()})),i}o(u,r=c.Sidebar),u.prototype._draw=function(){var t=this,e=(i=this.config).width,i=i.minWidth;return i=this.config.collapsed?i:e,e=[s.el("ul.dhx_navbar.dhx_navbar--vertical",{"data-dhx-widget-id":this._uid,tabindex:0,onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,_hooks:{didInsert:function(e){e.el.addEventListener("keyup",(function(e){var i;9!==e.which||(i=a.locateNode(document.activeElement))&&(e=i.getAttribute("data-dhx-id"),((e=t.data.getItem(e)).tooltip||t.config.collapsed&&e.value)&&d.tooltip(e.tooltip||e.value,{node:i,position:d.Position.right,force:!0}))}),!0)}}},this.data.map((function(e){return t._factory(e)}),this.data.getRoot(),!1))],s.el("nav.dhx_widget.dhx_sidebar",{class:(this.config.css||"")+(this.config.collapsed?" dhx_sidebar--minimized":""),style:{width:i+"px"}},this.scrollView&&this.scrollView.config.enable?[].concat(this.scrollView.render(e)):e)},o=u,e.ProSidebar=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(233)),n(i(101))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var a,l=i(1),c=i(0),d=i(3),u=i(2),h=i(12),f=i(18),p=i(10),g=i(101);function _(t,e){var i,n=a.call(this,t,l.extend({mode:"top"},e))||this;return n._tabFontSize=14,n._keyManager=new h.KeyManager((function(){return u.locate(document.activeElement,"tabs_id")===n._uid})),n._initHotkeys(),n.config.disabled&&(e=n.config.disabled,i=n._cells.map((function(t){return t.id})),Array.isArray(e)?e.forEach((function(t){i.includes(t)&&!n._disabled.includes(t)&&n._disabled.push(t)})):i.includes(e)&&!n._disabled.includes(e)&&n._disabled.push(e),n.paint()),n.events=new d.EventSystem(n),f.focusManager.setFocusId(n._uid),n}o(_,a=p.Layout),_.prototype.toVDOM=function(){var t=this;this._getTabContainer();var e,i=null;return this.config.noContent||(i=this.getCell(this.config.activeView))&&(e=this._disabled.includes(this.config.activeView)?" dhx_tabbar-content--disabled":"",i.config.css?-1!==i.config.css.indexOf("dhx_tabbar-content--disabled")?i.config.css=i.config.css.replace("dhx_tabbar-content--disabled",""):i.config.css=i.config.css+e:i.config.css=e),c.awaitRedraw().then((function(){t._tabsContainer||t.paint()})),this._tabsContainer&&(this._tabFontSize=parseFloat(getComputedStyle(this._tabsContainer).getPropertyValue("font-size"))),c.el("div",{class:"dhx_widget dhx_tabbar"+(this.config.mode?" dhx_tabbar--"+this.config.mode:"")+(this.config.css?" "+this.config.css:"")},this._tabsContainer?s(this._drawTabs(),[i?i.toVDOM():null]):[])},_.prototype.destructor=function(){this.events&&this.events.clear(),this._keyManager&&this._keyManager.destructor(),a.prototype.destructor.call(this),this.unmount(),this._tabsContainer=this._beforeScrollSize=this._afterScrollSize=this._keyManager=null,this.config=this.events=this._cells=this._handlers=null},_.prototype.getWidget=function(){var t=this;return this._cells.filter((function(e){return t.getActive()===e.id}))[0].getWidget()},_.prototype.setActive=function(t){var e;this._cells.map((function(t){return t.id})).includes(t)&&!this._disabled.includes(t)&&(e=this.config.activeView,this.events.fire(g.TabbarEvents.beforeChange,[t,e])&&(this.config.activeView=t,this.getCell(t).show(),this._focusTab(t),this.events.fire(g.TabbarEvents.change,[t,e])))},_.prototype.getActive=function(){return this.config?this.config.activeView:null},_.prototype.addTab=function(t,e){this.addCell(t,e),1!==this._cells.length||t.disabled||this.setActive(this._cells[0].id)},_.prototype.removeTab=function(t){var e=this;if(this.events.fire(g.TabbarEvents.beforeClose,[t])){if(t===this.config.activeView){var i=this._getEnableTabs().length,n=l.findIndex(this._getEnableTabs(),(function(t){return t.id===e.config.activeView}));if(n<0)return;n===i-1&&--n,a.prototype.removeCell.call(this,t),1===i?this.config.activeView=null:this.setActive(this._getEnableTabs()[n].id)}else a.prototype.removeCell.call(this,t);this.events.fire(g.TabbarEvents.afterClose,[t]),this.events.fire(g.TabbarEvents.close,[t])}},_.prototype.disableTab=function(t){return!(!this._cells.map((function(t){return t.id})).includes(t)||this._disabled.includes(t)||(this._disabled.push(t),this.paint(),0))},_.prototype.enableTab=function(t){var e;this._disabled.includes(t)&&(e=this._disabled.filter((function(e){return e!==t})),this._disabled=s(e),this.paint())},_.prototype.isDisabled=function(t){return this._disabled.includes(t||this.config.activeView)},_.prototype.removeCell=function(t){this.removeTab(t)},_.prototype._initHandlers=function(){var t=this;a.prototype._initHandlers.call(this),this._handlers=r(r({},this._handlers),{onTabClick:function(e){c.awaitRedraw().then((function(){var i=u.locate(e,"dhx_tabid");if(i&&!t._disabled.includes(i)){var n=t.config.activeView;if(e.target.classList.contains("dhx_tabbar-tab__close"))t.removeTab(i);else{if(!t.events.fire(g.TabbarEvents.beforeChange,[i,n]))return;n!==(t.config.activeView=i)&&t.events.fire(g.TabbarEvents.change,[t.config.activeView,n])}t.paint()}}))},onScrollClick:function(e){var i,n,o,r,s,a,l=u.locate(e,"mode");if(!l)switch(e.key){case"ArrowRight":l="right";break;case"ArrowLeft":l="left";break;case"ArrowUp":l="up";break;case"ArrowDown":l="down"}e={behavior:"smooth"},t._isHorizontalMode()?(i=t._normalizeSize({width:t._getSizes(t._cells[0].config).width}).width,n=t._normalizeSize({width:t._getSizes(t._cells[t._cells.length-1].config).width}).width,t._tabsContainer&&(o=t._tabsContainer.scrollWidth,t._cells.reduce((function(e,r,s){if(e>=t._tabsContainer.scrollLeft&&0!==s&&"left"===l)i=Math.abs(t._normalizeSize({width:t._getSizes(t._cells[s-1].config).width}).width-(e-t._tabsContainer.scrollLeft));else{if(!(e>o+t._tabsContainer.scrollLeft&&"right"===l))return e+t._normalizeSize({width:t._getSizes(r.config).width}).width;n=Math.abs(o+t._tabsContainer.scrollLeft-e)}}),0)),e.left="left"===l?t._tabsContainer.scrollLeft-i:t._tabsContainer.scrollLeft+n):(r=t._normalizeSize({height:t._getSizes(t._cells[0].config).height}).height,s=t._normalizeSize({height:t._getSizes(t._cells[t._cells.length-1].config).height}).height,t._tabsContainer&&(a=t._tabsContainer.clientHeight,t._cells.reduce((function(e,i,n){if(e>=t._tabsContainer.scrollTop&&0!==n&&"up"===l)r=Math.abs(t._normalizeSize({height:t._getSizes(t._cells[n-1].config).height}).height-(e-t._tabsContainer.scrollTop));else{if(!(e>a+t._tabsContainer.scrollTop&&"down"===l))return e+t._normalizeSize({height:t._getSizes(i.config).height}).height;s=Math.abs(a+t._tabsContainer.scrollTop-e)}}),0)),e.top="up"===l?t._tabsContainer.scrollTop-r:t._tabsContainer.scrollTop+s),u.isIE()?(t._tabsContainer.scrollLeft=e.left,t._tabsContainer.scrollTop=e.top):t._tabsContainer.scrollTo(e)},onHeaderScroll:l.debounce((function(){t.paint()}),10)})},_.prototype._isHorizontalMode=function(){return"bottom"===this.config.mode||"top"===this.config.mode},_.prototype._focusTab=function(t,e){var i=this;c.awaitRedraw().then((function(){i.getRootView().refs[t].el.focus(),e&&i._handlers.onScrollClick(e)}))},_.prototype._getEnableTabs=function(){var t=this;return this._cells.filter((function(e){return!t._disabled.includes(e.config.id)}))},_.prototype._getIndicatorPosition=function(){var t=this,e=l.findIndex(this._cells,(function(e){return e.id===t.config.activeView}));-1===e&&(e=0);var i=this.getCell(this.config.activeView);if(this._isHorizontalMode()){var n=(o=this._normalizeSize({width:this._getSizes(i.config).width})).width,o=o.unit,r=this._tabsContainer.clientWidth;return{left:0,transform:"translateX("+this._cells.reduce((function(i,n,o){return"%"===(n=t._normalizeSize({width:t._getSizes(n.config).width})).unit&&(n.width=r/100*n.width),o<e?i+n.width:i}),0)+"px)",transition:"all 0.1s ease",width:n+o,height:"2px"}}i=(n=this._normalizeSize({height:this._getSizes(i.config).height})).height,o=n.unit;var s=this._tabsContainer.clientHeight;return{top:0,transform:"translateY("+this._cells.reduce((function(i,n,o){return"%"===(n=t._normalizeSize({height:t._getSizes(n.config).height})).unit&&(n.height=s/100*n.height),o<e?i+n.height:i}),0)+"px)",transition:"all 0.1s ease",height:i+o,width:"2px"}},_.prototype._drawTabs=function(){var t=this;if(!this._cells.length)return[];this._beforeScrollSize=0,this._afterScrollSize=0;var e=this._isHorizontalMode(),i=e?(n=this._tabsContainer.clientWidth,i=Math.round(this._cells.reduce((function(e,i){return t._normalizeSize({width:t._getSizes(i.config).width}).width+e}),0)),this._tabsContainer&&n<=i?(this._beforeScrollSize=this._tabsContainer.scrollLeft,this._afterScrollSize=i-(n+this._beforeScrollSize)):n<=i&&(this._afterScrollSize=i-n),{height:this.config.tabHeight||"45px",top:"top"===this.config.mode?0:""}):(n=this._tabsContainer.clientHeight,i=Math.round(this._cells.reduce((function(e,i){return t._normalizeSize({height:t._getSizes(i.config).height}).height+e}),0)),this._tabsContainer&&n<=i?(this._beforeScrollSize=this._tabsContainer.scrollTop,this._afterScrollSize=i-(n+this._beforeScrollSize)):this._afterScrollSize=i-n,{width:this.config.tabWidth||"200px",left:"left"===this.config.mode?0:""}),n=this._getIndicatorPosition();return[c.el(".dhx_tabbar-header__wrapper",{onscroll:this._handlers.onHeaderScroll,class:this.config.tabAlign&&this._beforeScrollSize<=0&&this._afterScrollSize<=0?"dhx_tabbar-header__wrapper-"+this.config.tabAlign:""},[c.el("ul."+this.config.mode,{tabs_id:this._uid,class:"dhx_tabbar-header ",onclick:this._handlers.onTabClick},s(this._cells.map((function(e){var i=(r=t.config).closable,n=r.closeButtons,o=r.activeView,r=t._disabled.includes(e.config.id);return c.el("li",{class:"dhx_tabbar-tab"+(e.config.tabCss?" "+e.config.tabCss:""),dhx_tabid:e.id,role:"presentation",style:t._getSizes(e.config)},[c.el("button.dhx_button.dhx_tabbar-tab-button"+(o===e.id?".dhx_tabbar-tab-button--active":"")+(r?".dhx_tabbar-tab-button--disabled":""),{tabindex:"0","aria-controls":e.id,id:"tab-content-"+e.id,"aria-selected":""+(o===e.id),_ref:e.id.toString(),type:"button",disabled:r},[c.el("span.dhx_button__text",e.config.tab)]),Array.isArray(i)&&i.includes(e.config.id)&&!r||i&&"boolean"==typeof i&&!r||n&&"boolean"==typeof n&&!r?c.el("div.dhx_tabbar-tab__close.dxi--small.dxi.dxi-close",{tabindex:0,role:"button","aria-pressed":"false"}):null])})),[c.el(".dhx_tabbar-header-active",{style:n})]))]),0<this._beforeScrollSize&&c.el(".dhx_tabbar_scroll",{class:"dxi dxi-chevron-"+(e?"left":"up")+" arrow-"+(e?"left":"up"),_key:"startArrow",onclick:this._handlers.onScrollClick,mode:e?"left":"up",style:i}),0<this._afterScrollSize&&c.el(".dhx_tabbar_scroll",{class:"dxi dxi-chevron-"+(e?"right":"down")+" arrow-"+(e?"right":"down"),_key:"endArrow",onclick:this._handlers.onScrollClick,mode:e?"right":"down",style:i})]},_.prototype._getSizes=function(t){"number"==typeof t.tabWidth&&(t.tabWidth=t.tabWidth+"px"),"number"==typeof t.tabHeight&&(t.tabHeight=t.tabHeight+"px"),"number"==typeof this.config.tabWidth&&(this.config.tabWidth=this.config.tabWidth+"px"),"number"==typeof this.config.tabHeight&&(this.config.tabHeight=this.config.tabHeight+"px");var e=this.config.tabWidth||(this._isHorizontalMode()?l.getStringWidth(t.tab.toUpperCase(),{font:"500 "+this._tabFontSize+".4px Arial"})+50+"px":"200px"),i=this.config.tabHeight||"45px";return this._isHorizontalMode()?void 0!==t.tabWidth&&(e=t.tabWidth):void 0!==t.tabHeight&&(i=t.tabHeight),(this.config.tabAutoWidth&&!1!==t.tabAutoWidth||t.tabAutoWidth)&&void 0===this.config.tabWidth&&void 0===t.tabWidth&&(e=this._getTabAutoWidth()),(this.config.tabAutoHeight&&!1!==t.tabAutoHeight||t.tabAutoHeight)&&void 0===this.config.tabHeight&&void 0===t.tabHeight&&(i=this._getTabAutoHeight()),{width:e,height:i}},_.prototype._normalizeSize=function(t){var e={};if(1<=Object.keys(t).length)for(var i in t)"number"==typeof t[i]?e.unit="px":(t[i].includes("%")?(e[i]=t[i].slice(0,-1),e.unit="%"):t[i].includes("px")&&(e[i]=t[i].slice(0,-2),e.unit="px"),e[i]=parseFloat(e[i]));return e},_.prototype._getTabAutoWidth=function(){var t=this,e=this._tabsContainer.clientWidth,i=0,n=0;return this._cells.forEach((function(e){e.config.tabAutoWidth||t.config.tabAutoWidth&&!1!==e.config.tabAutoWidth?e.config.tabWidth?i+=t._normalizeSize({width:e.config.tabWidth}).width:n++:i+=t._normalizeSize({width:t._getSizes(e.config).width}).width})),(e-i)/n+"px"},_.prototype._getTabAutoHeight=function(){var t=this,e=this._tabsContainer.clientHeight,i=0,n=0;return this._cells.forEach((function(e){e.config.tabAutoHeight||t.config.tabAutoHeight&&!1!==e.config.tabAutoHeight?e.config.tabHeight?i+=t._normalizeSize({height:e.config.tabHeight}).height:n++:i+=t._normalizeSize({height:t._getSizes(e.config).height}).height})),(e-i)/n+"px"},_.prototype._getTabContainer=function(){var t,e=this;this._tabsContainer?this.getRootNode()?(t=this.getRootNode()&&this.getRootNode().getElementsByClassName("dhx_tabbar-header__wrapper")[0])&&this._tabsContainer!==t&&(this._tabsContainer=t,this.paint()):c.awaitRedraw().then((function(){return e.paint()})):(this._tabsContainer=this.getRootNode(),this.paint())},_.prototype._initHotkeys=function(){function t(t){t.preventDefault();var e=n._getEnableTabs(),i=l.findIndex(e,(function(t){return t.id===n.config.activeView})),o=n.config.activeView;-1!==i&&(i=(i===e.length-1?e[0]:e[i+1]).id,n.events.fire(g.TabbarEvents.beforeChange,[i,o])&&(n.config.activeView=i,n.events.fire(g.TabbarEvents.change,[n.config.activeView,o]),n._focusTab(n.config.activeView,t),n.paint()))}function e(t){t.preventDefault();var e=n._getEnableTabs(),i=l.findIndex(e,(function(t){return t.id===n.config.activeView})),o=n.config.activeView;-1!==i&&(i=(0===i?e[e.length-1]:e[i-1]).id,n.events.fire(g.TabbarEvents.beforeChange,[i,o])&&(n.config.activeView=i,n.events.fire(g.TabbarEvents.change,[n.config.activeView,o]),n._focusTab(n.config.activeView,t),n.paint()))}var i,n=this,o="right"===this.config.mode||"left"===this.config.mode,r={arrowRight:t,arrowUp:o?e:t,arrowLeft:e,arrowDown:o?t:e};for(i in r)this._keyManager.addHotKey(i,r[i])},o=_,e.Tabbar=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(235)),n(i(102)),n(i(103))},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(1),l=i(0),c=i(3),d=i(2),u=i(29),h=i(7),f=i(6),p=i(102),g=i(12),_=i(18),v=i(103);function m(t,e){return t?e?"openFolder":"folder":"file"}function y(t,e){void 0===e&&(e={});var i=s.call(this,t,e)||this;return i._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null},i._scroll={elem:null,step:1,delay:10},i.config=a.extend({dropBehaviour:"child",icon:{file:"dxi dxi-file-outline",folder:"dxi dxi-folder",openFolder:"dxi dxi-folder-open"},keyNavigation:!0,editable:!1,selection:!0,rootId:"string"==typeof t&&t||i._uid},e),i.config.editable=i.config.editable||i.config.editing,e=function(t){return t.$mark=v.SelectStatus.unselected,t.checkbox=i.config.checkbox,t.$autoload=Boolean(t.items&&"string"==typeof i.config.autoload),t.$editor=!1,t},Array.isArray(i.config.data)?(i.events=new c.EventSystem(i),i.data=new f.TreeCollection({autoload:i.config.autoload,init:e,rootId:i.config.rootId||t},i.events),i.data.parse(i.config.data)):i.config.data&&i.config.data.events?(i.data=i.config.data,i.data.config.init=e,i.events=i.data.events,i.events.context=i):(i.events=new c.EventSystem(i),i.data=new f.TreeCollection({autoload:i.config.autoload,init:e,rootId:i.config.rootId||t},i.events)),i._isSelectionActive=!0,i.selection=new f.Selection({disabled:!i.config.selection},i.data,i.events),i.config.keyNavigation&&(i._keyManager=new g.KeyManager((function(t,e){return e===i._uid})),i._initHotkeys()),i._editor=new p.Editor,i._initEvents(),i._initHandlers(),i.config.dragMode&&f.dragManager.setItem(i._uid,i),i._root=i.data.getRoot(),i.mount(t,l.create({render:function(){return i._draw()}})),_.focusManager.setFocusId(i._uid),i}o(y,s=h.View),y.prototype.focusItem=function(t){var e=this;this._focusId=t,this.data.eachParent(t,(function(t){t.opened||e.expand(t.id)})),this.events.fire(v.TreeEvents.focusChange,[this.data.getIndex(t),t]),this.paint()},y.prototype.destructor=function(){this.events&&this.events.clear(),this._keyManager&&this._keyManager.destructor(),this.config=this.events=this.selection=null,this._editor=this._handlers=this._root=this._focusId=this._right=this._keyManager=this._touch=this._isDraget=null,this.unmount()},y.prototype.editItem=function(t,e){var i;this._editor.isEditable()||(i=this.data.getItem(t),this.events.fire(v.TreeEvents.beforeEditStart,[i.value,t])&&(this.data.update(t,{$edit:!0,$editConfig:e},!0),this.events.fire(v.TreeEvents.afterEditStart,[i.value,t])))},y.prototype.getState=function(){var t={};return this.data.eachChild(this._root,(function(e){t[e.id]={open:e.opened,selected:e.$mark}}),!0),t},y.prototype.setState=function(t){this.data.eachChild(this._root,(function(e){e.id in t&&(e.opened=t[e.id].open,e.$mark=t[e.id].selected)}),!0),this.paint()},y.prototype.toggle=function(t){var e=this.data.getItem(t);e.$autoload?this.events.fire(v.TreeEvents.beforeExpand,[t])&&(this.data.loadItems(t),this.data.update(t,{$autoload:!1,opened:!0}),this.events.fire(v.TreeEvents.afterExpand,[t])):e.opened?this.collapse(t):this.expand(t)},y.prototype.getChecked=function(){var t=[];return this.data.eachChild(this._root,(function(e){e.$mark===v.SelectStatus.selected&&t.push(e.id)})),t},y.prototype.checkItem=function(t){t&&this.data.getItem(t)&&(this._updateItemCheck(t,v.SelectStatus.selected),this.paint())},y.prototype.collapse=function(t){this.data.haveItems(t)&&this.events.fire(v.TreeEvents.beforeCollapse,[t])&&(this.data.update(t,{opened:!1}),this.events.fire(v.TreeEvents.afterCollapse,[t]))},y.prototype.collapseAll=function(){var t=this;this.data.eachChild(this._root,(function(e){return e=e.id,t.collapse(e)}),!0)},y.prototype.expand=function(t){this.data.haveItems(t)&&this.events.fire(v.TreeEvents.beforeExpand,[t])&&(this.data.update(t,{opened:!0}),this.events.fire(v.TreeEvents.afterExpand,[t]))},y.prototype.expandAll=function(){var t=this;this.data.eachChild(this._root,(function(e){return e=e.id,t.expand(e)}),!0)},y.prototype.uncheckItem=function(t){t&&this.data.getItem(t)&&(this._updateItemCheck(t,v.SelectStatus.unselected),this.paint())},y.prototype.close=function(t){this.collapse(t)},y.prototype.closeAll=function(){this.collapseAll()},y.prototype.open=function(t){this.expand(t)},y.prototype.openAll=function(){this.expandAll()},y.prototype.unCheckItem=function(t){this.uncheckItem(t)},y.prototype._draw=function(){this._getRightPos();var t=this._drawItems(this.data.getRoot());return l.el("ul",r({class:"dhx_widget dhx_tree"+(this._isSelectionActive?"":" dhx_tree--no-selection ")+(this.config.css?" "+this.config.css:""),"data-dhx-widget-id":this._uid,tabindex:0,"data-dhx-root-id":this.config.rootId},this._handlers),t)},y.prototype._initEvents=function(){var t=this;this.data.events.on(f.DataEvents.change,(function(e,i,n){"remove"===i&&t._updateParents(n.parent,!0),"add"===i&&t._updateParents(e),t.paint()})),this.data.events.on(f.DataEvents.beforeRemove,(function(e){var i,n,o=e.id,r=e.parent;o==t._focusId&&(i=t.data.findAll((function(t){return t.parent===r})),n=r,1<i.length&&(e=i.findIndex((function(t){return t.id===o})),n=i[e===i.length-1?i.length-2:e+1].id),t.selection.remove(o),t.selection.add(n),t.focusItem(n))})),this._editor.events.on(p.EditorEvents.begin,(function(e){e===t._uid&&(t.config.$editable=!0)})),this._editor.events.on(p.EditorEvents.end,(function(e,i,n){return!!t.events.fire(v.TreeEvents.beforeEditEnd,[n,i])&&(t._uid===e&&t.data.update(i,{$edit:!1,value:n}),t.config.$editable=!1,void t.events.fire(v.TreeEvents.afterEditEnd,[n,i]))})),this.events.on(f.DragEvents.beforeDrag,(function(e,i,n){var o=e.start;e=t.data.getItem(o),o=m(t.config.isFolder?t.config.isFolder(e):t.data.haveItems(e.id),e.opened),o=(e.icon||t.config.icon)[o]||t.config.icon[o],n.innerHTML='<div class="dhx_tree-list-item__icon '+o+'"></div><span class="dhx_tree-list-item__text">'+(e.text||e.value)+"</span>"})),this.events.on(f.DragEvents.canDrop,(function(e){var i=e.target;e=e.dropPosition,e="complex"===t.config.dropBehaviour?"top"===e?"dhx_tree-drop--top":"bottom"===e?"dhx_tree-drop--bottom":"dhx_tree-drop--in-folder":"child"===t.config.dropBehaviour?"dhx_tree-drop--in-folder":"dhx_tree-drop--bottom",t.data.exists(i)&&t.data.update(i,{$drophere:e},!0),t.paint()})),this.events.on(f.DragEvents.cancelDrop,(function(e){e=e.target,t.data.exists(e)&&t.data.update(e,{$drophere:null},!0)})),this.events.on(f.DragEvents.afterDrop,(function(e){var i=e.target;e=e.dropPosition,("child"===t.config.dropBehaviour||"complex"===t.config.dropBehaviour&&"in"===e)&&t.expand(i)})),this.events.on(f.DragEvents.dragStart,(function(e,i){t._scroll.elem=d.locateNode(i,"data-dhx-root-id"),t._autoScroll(t._scroll),t._isSelectionActive=!1,t.paint()})),this.events.on(f.DragEvents.afterDrag,(function(e){t._isSelectionActive=!0,t._isDraget=!0,t.data.exists(e.start)&&t.selection.add(e.start),t.paint()})),this.events.on(v.TreeEvents.itemClick,(function(e){t._focusId=e,t.paint()})),this.events.on(u.SelectionEvents.afterSelect,(function(){return t.paint()})),this.events.on(u.SelectionEvents.afterUnSelect,(function(){return t.paint()}))},y.prototype._autoScroll=function(t){var e,i,n,o,s,a,l=t.elem;l&&(n=l.getBoundingClientRect(),e=n.top,i=n.bottom,n=n.height,l=l.scrollHeight,o=null,s=function(t){var e=t.elem,i=t.step,n=t.delay,o=t.direction;return setInterval((function(){e.scrollBy(0,o===v.Direction.up?-i:i)}),n)},a=function(n){n=n.clientY,i<n?o=o||s(r(r({},t),{direction:v.Direction.down})):n<e?o=o||s(r(r({},t),{direction:v.Direction.up})):o&&(clearInterval(o),o=null)},n<l&&(document.addEventListener("pointermove",a),document.addEventListener("pointerup",(function(){document.removeEventListener("pointermove",a),clearInterval(o),o=null}),{once:!0})))},y.prototype._initHandlers=function(){var t=this;this._handlers={onmouseleave:function(t){f.dragManager.cancelCanDrop(t)},onclick:function(e){if(t._isDraget)t._isDraget=!1;else{var i=d.locate(e);if(i)if(e.target.classList.contains("dhx_tree-toggle-button"))t.toggle(i);else{if(e.target.classList.contains("dhx_tree-checkbox")){if(!t.events.fire(v.TreeEvents.beforeCheck,[t.data.getIndex(i),i]))return;var n=t.data.getItem(i);return n.$mark===v.SelectStatus.unselected?t.checkItem(i):t.uncheckItem(i),void t.events.fire(v.TreeEvents.afterCheck,[t.data.getIndex(i),i,!!n.$mark])}t.events.fire(v.TreeEvents.itemClick,[i,e]),t.data.exists(i)&&t.selection.add(i)}}},ondblclick:function(e){t._dblClick(e)},ondragstart:function(t){t.preventDefault()},onmousedown:function(e){t._dragStart(e)},ontouchstart:function(e){t._touch.timer=setTimeout((function(){t._dragStart(e)}),t._touch.duration),t._touch.timeStamp?(t._touch.dblDuration>=t._touch.timeStamp-+e.timeStamp.toFixed()&&t._dblClick(e),t._touch.timeStamp=null):t._touch.timeStamp=+e.timeStamp.toFixed(),setTimeout((function(){t._touch.timeStamp=null}),t._touch.dblDuration)},ontouchmove:function(e){t._touch.start&&e.preventDefault(),t._clearTouchTimer()},ontouchend:function(){t._touch.start=!1,t._clearTouchTimer()},oncontextmenu:function(e){var i=d.locate(e);i&&(t.events.fire(v.TreeEvents.itemRightClick,[i,e]),t.events.fire(v.TreeEvents.itemContextMenu,[i,e]))}};var e=this.config.eventHandlers;if(e)for(var i=0,n=Object.entries(e);i<n.length;i++){var o=(s=n[i])[0],s=s[1];this._handlers[o]=d.eventHandler((function(e){var i=r({},t.data.getItem(d.locate(e)));return Object.keys(i).forEach((function(t){t.startsWith("$")&&delete i[t]})),i}),s,this._handlers[o])}},y.prototype._dblClick=function(t){var e=d.locate(t);e&&(this.events.fire(v.TreeEvents.itemDblClick,[e,t]),this.config.editable&&this.editItem(e))},y.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},y.prototype._dragStart=function(t){this.config.dragMode&&"target"!==this.config.dragMode&&(this._editor.isEditable()||(this._touch.start=!0,f.dragManager.onMouseDown(t)))},y.prototype._getRightPos=function(t,e){if(void 0===e&&(e=0),!t)for(var i=this.data.getRoot(),n=0,o=this.data.findAll((function(t){return t.parent===i}));n<o.length;n++){var r=o[n];return this._getRightPos(r.id,e)}if((t=this.data.getItem(t))&&(this._right=e,this.data.haveItems(t.id)&&t.opened&&t.items))for(var s=0,a=t.items;s<a.length;s++){var l=a[s];this._getRightPos(l.id,e+1)}},y.prototype._drawItems=function(t,e){var i=this;return void 0===e&&(e=0),this.data.getRawData(0,-1,null,0,t).map((function(t){if(t){var n,o,s,a=!!i.config.isFolder&&i.config.isFolder(t);(t.$autoload||i.data.haveItems(t.id))&&(a=!0,n=l.el("div",{class:"dxi dxi-menu-right dhx_tree-toggle-button"},""),t.opened&&(n=l.el("div",{class:"dxi dxi-menu-down dhx_tree-toggle-button dhx_tree-toggle-button--open"},""),o=i._drawItems(t.id,e+1))),t.checkbox&&(d=t.$mark===v.SelectStatus.indeterminate?"dxi-minus-box":t.$mark===v.SelectStatus.selected?"dxi-checkbox-marked":"dxi-checkbox-blank-outline",s=l.el("div",{class:"dhx_tree-checkbox dxi "+d}));var c=m(a,t.opened),d=(t.icon||i.config.icon)[c]||i.config.icon[c];c=t.$edit?i._editor.edit(i._uid,r({item:t},t.$editConfig)):l.el("span",{class:"dhx_tree-list-item__text"},t.text||t.value),i.config.template&&(c="string"!=typeof(u=i.config.template(t,a))||(!t.hasOwnProperty("value")||t.$edit)&&t.hasOwnProperty("value")?c:l.el("div.dhx_tree-template__wrapper",{".innerHTML":u}));var u=i.config.itemHeight||null;return a?l.el("li",{class:"dhx_tree-list-item dhx_tree-list-item--parent"+(t.css?" "+t.css:""),"data-dhx-id":t.id,_key:t.id},[l.el("div.dhx_tree-folder",{class:(t.id==i._focusId?" dhx_tree-folder--focused":"")+(t.$selected?" dhx_tree-folder--selected":"")+(t.$drophere?" "+t.$drophere:""),style:{left:-20*e+"px",right:0,"margin-left":20*e+"px",minHeight:u}},[n,l.el("div.dhx_tree-list-item__content",[s,l.el("div",{class:"dhx_tree-list-item__icon "+d}),c])]),o&&l.el("ul.dhx_tree-list",o)]):l.el("li",{class:"dhx_tree-list__item dhx_tree-list-item"+(t.id==i._focusId?" dhx_tree-list-item--focused":"")+(t.$selected?" dhx_tree-list-item--selected":"")+(t.$drophere?" "+t.$drophere:"")+(a?"dhx_tree-list-item--folder":"")+(t.css?" "+t.css:""),style:{left:-20*e+"px",right:0,"margin-left":20*e+"px",minHeight:u},"data-dhx-id":t.id,level:e},[n,l.el("div",{class:"dhx_tree-list-item__content"},[s,l.el("div",{class:"dhx_tree-list-item__icon "+d}),c])])}}))},y.prototype._updateItemCheck=function(t,e){this.data.update(t,{$mark:e},!0),this.data.eachChild(t,(function(t){return t.$mark=e})),this._updateParents(t)},y.prototype._updateParents=function(t,e){var i=this;void 0===e&&(e=!1),t!==this._root&&this.data.eachParent(t,(function(t){var e=0,n=0;i.data.eachChild(t.id,(function(t){if(t.checkbox)switch(t.$mark){case v.SelectStatus.unselected:n++;break;case v.SelectStatus.selected:e++}}),!0),t.$mark=0!==e&&0!==n?v.SelectStatus.indeterminate:0===e&&0!==n?v.SelectStatus.unselected:v.SelectStatus.selected}),e)},y.prototype._initHotkeys=function(){function t(){var t=i._focusId;return t||(t=i.data.getRoot(),i.data.getItems(t)[0].id)}var e,i=this,n=function(t,e){void 0===e&&(e=!1);var o=i.data.getItem(t);if(i.data.haveItems(t)&&o.opened&&!e)return i.data.getItems(t)[0].id;var r=i.data.getParent(t);return o=i.data.getItems(r),(e=a.findIndex(o,(function(e){return e.id===t})))+1<o.length?o[e+1].id:r===i.data.getRoot()?null:n(r,!0)},o={arrowLeft:function(e){e.preventDefault();var n=t();e=i.data.getParent(n),i.data.getRoot()!==e?i.data.getItem(n).opened?n!==i.data.getRoot()&&i.collapse(n):i.focusItem(e):i.collapse(n)},arrowRight:function(e){if(e.preventDefault(),e=t(),i.data.getItem(e).$autoload)return i.events.fire(v.TreeEvents.beforeExpand,[e])?(i.data.loadItems(e),i.data.update(e,{$autoload:!1,opened:!0}),void i.events.fire(v.TreeEvents.afterExpand,[e])):void 0;i.data.haveItems(e)&&i.expand(e)},arrowUp:function(e){e.preventDefault(),e=function(t){var e=i.data.getIndex(t);if(t=i.data.getParent(t),0<e){var n=i.data.getItems(t)[e-1];if(!i.data.haveItems(n.id)||!n.opened)return n.id;for(;i.data.haveItems(n.id)&&n.opened;){var o=i.data.getItems(n.id);n=o[o.length-1]}return n.id}return t===i.data.getRoot()?null:t}(t()),e&&i.focusItem(e)},arrowDown:function(e){e.preventDefault(),e=t(),(e=n(e))&&i.focusItem(e)},enter:function(){var e=t();e&&i.selection.add(e)}};for(e in o)this._keyManager.addHotKey(e,o[e])},o=y,e.Tree=o},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(104)),n(i(239))},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.detectDrag=function(e){return new t((function(t){var i=function(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),t(!1)},n=setTimeout((function(){i()}),1e3),o=function(r){(4<Math.abs(r.pageX-e.pageX)||4<Math.abs(r.pageY-e.pageY))&&(document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),clearTimeout(n),t({x:e.pageX,y:e.pageY}))};document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)}))}}).call(this,i(17))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={popups:{},lastActive:null,freeCount:0,add:function(t,e){this.lastActive&&this.popups[this.lastActive].classList.remove("dhx_popup--window_active"),this.lastActive=t,e.classList.add("dhx_popup--window_active"),this.popups[t]=e},setActive:function(t){var e;t===this.lastActive||(e=this.popups[t])&&(this.lastActive&&this.popups[this.lastActive].classList.remove("dhx_popup--window_active"),this.lastActive=t,e.classList.add("dhx_popup--window_active"))},openFreeWindow:function(t){0===this.freeCount&&t.classList.add("dhx_window--no-scroll"),this.freeCount++},closeFreeWindow:function(t){this.freeCount--,0===this.freeCount&&t.classList.remove("dhx_window--no-scroll")}}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(104),a=i(37),l=i(10),c=i(21),d=i(105);function u(t){return r.call(this,t)||this}o(u,r=s.Window),u.prototype._startResize=function(t){var e,i,n=this,o=100|this.config.minWidth,r=100|this.config.minHeight,s=this._popup.offsetLeft,a=this._popup.offsetTop,l=this._popup.offsetWidth,c=this._popup.offsetHeight,u=this.getRootView().refs;switch(!0){case t.bottom&&t.left:i="dhx_window-body-pointer--bottom_left",e=u.bottomLeft;break;case t.bottom&&t.right:i="dhx_window-body-pointer--bottom_right",e=u.bottomLeft;break;case t.top&&t.left:i="dhx_window-body-pointer--top_left",e=u.bottomLeft;break;case t.top&&t.right:i="dhx_window-body-pointer--top-right",e=u.right;break;case t.top:i="dhx_window-body-pointer--top",e=u.bottomLeft;break;case t.bottom:i="dhx_window-body-pointer--bottom",e=u.bottomLeft;break;case t.left:i="dhx_window-body-pointer--left",e=u.bottomLeft;break;case t.right:i="dhx_window-body-pointer--right",e=u.right}function h(e){var i=(f=n._getContainerParams()).containerInnerWidth,u=f.containerInnerHeight,h=f.containerXOffset,f=f.containerYOffset;e={width:n._notInNode()?e.pageX-s:e.pageX-n.config.node.offsetLeft-s,height:n._notInNode()?e.pageY-a:e.pageY-n.config.node.offsetTop-a,left:n._notInNode()?e.pageX:e.pageX-n.config.node.offsetLeft,top:n._notInNode()?e.pageY:e.pageY-n.config.node.offsetTop},t.right&&(e.width<o?e.width=o:e.width>h+i-s&&(e.width=h+i-s),n._popup.style.width=e.width+"px"),t.bottom&&(e.height<r?e.height=r:e.height>f+u-a&&(e.height=f+u-a),n._popup.style.height=e.height+"px"),t.left&&(s+l-e.left<o&&(e.left=s+l-o),e.width=s+l-e.left,n.config.left=e.left,n._popup.style.left=e.left+"px",n._popup.style.width=e.width+"px"),t.top&&(e.top<f?e.top=f:a+c-e.top<r&&(e.top=a+c-r),e.height=a+c-e.top,n.config.top=e.top,n._popup.style.top=e.top+"px",n._popup.style.height=e.height+"px"),n.config.width=n._popup.offsetWidth,n.config.height=n._popup.offsetHeight,n.events.fire(d.WindowEvents.resize,[e,{left:s,top:a,height:c,width:l},t]),n.scrollView&&n.scrollView.update()}e.el.classList.add("dhx_window-resizer--active"),this.config.node.classList.add("dhx_window--stop_selection"),this.config.node.classList.add(i);var f=function(){document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",h),n.config.node.classList.remove("dhx_window--stop_selection"),n.config.node.classList.remove(i),e.el.classList.remove("dhx_window-resizer--active")};document.addEventListener("mouseup",f),document.addEventListener("mousemove",h)},u.prototype._initUI=function(){var t=this,e=[],i=(this.config.header||this.config.title||this.config.closable||this.config.movable)&&!1!==this.config.header;i&&e.push({id:"header",height:"content",css:"dhx_window-header "+(this.config.movable?"dhx_window-header--movable":""),on:{mousedown:this.config.movable&&this._handlers.move,dblclick:this._handlers.headerDblClick}}),e.push({id:"content",css:i?"dhx_window-content":"dhx_window-content-without-header"}),this.config.footer&&e.push({id:"footer",height:"content",css:"dhx_window-footer"}),this.config.resizable&&e.push({id:"resizers",height:"content",css:"resizers"});var n,o=this._layout=new l.ProLayout(this._popup,{css:"dhx_window"+(this.config.modal?" dhx_window--modal":""),rows:e,on:{mousedown:this._handlers.setActive},id:this._uid});(e=this._layout.getCell("content"))&&e.scrollView&&(this.scrollView=e.scrollView),i&&(n=this.header=new a.Toolbar,this.config.title&&(this.header.data.add({type:"title",value:this.config.title,id:"title",css:"title_max"}),this._popup.setAttribute("aria-label",this.config.title)),this.config.closable&&(this.header.data.add({type:"spacer"}),this.header.data.add({id:"close",type:"button",view:"link",size:"medium",color:"secondary",circle:!0,icon:"dxi dxi-close"}),n.events.on(c.NavigationBarEvents.click,(function(e,i){"close"===e&&t._hide(i)}))),o.getCell("header").attach(n)),this.config.footer&&(n=this.footer=new a.Toolbar,o.getCell("footer").attach(n)),this.config.resizable&&o.getCell("resizers").attach((function(){return t._drawResizers()}))},o=u,e.ProWindow=o}],t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="/codebase/",t(t.s=106);function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e,i})),window.dhx_legacy){if(window.dhx)for(var key in dhx)dhx_legacy[key]=dhx[key];window.dhx=dhx_legacy,delete window.dhx_legacy}